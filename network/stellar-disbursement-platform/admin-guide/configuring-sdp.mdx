---
id: configuring-sdp
title: Configuring the SDP
description: Understand the configuration options available for the Stellar Disbursement Platform (SDP)
keywords: [SDP, configuration]
sidebar_position: 45
---

Stellar Disbursement Platform services can be configured using a set of configuration options that are passed to the command line or set as environment variables.
Depending on how you're using and deploying the SDP, these configurations can be set in a ConfigMap in Kubernetes, as environment variables in a Docker container, passed in as command line arguments, etc.

In this section we will discuss the different configuration options available for the SDP. For each service in the SDP, we will list the configuration options available and provide a brief description of each.

## SDP Core Service

### Operational Configuration
Operational Configuration allows controlling metrics, logging, and other operational aspects of the SDP Core Service.
* `PORT` - The port on which the SDP Core Service will listen for incoming HTTP requests. Default: 8000.
* `LOG_LEVEL` - Determines the verbosity level of logs. Options: "TRACE", "DEBUG", "INFO", "WARN", "ERROR", "FATAL", or "PANIC". Default: "TRACE".
* `METRICS_PORT` - The port on which the SDP Core Service will expose Prometheus metrics. Default: 8002.
* `METRICS_TYPE` - The type of metrics to expose. Options: "PROMETHEUS". Default: "PROMETHEUS".
* `CRASH_TRACKER_TYPE` - The crash tracker type to use. Options: "SENTRY", "DRY_RUN". Default: "DRY_RUN".
* `SENTRY_DSN` - *{sensitive}* The DSN (client key) of the Sentry project. If not provided, Sentry will not be used.
* `ENVIRONMENT` - The environment where the application is running. Example: "development", "staging", "production". Default: "development".
* `DATABASE_URL` - *{sensitive}* The connection string for the PostgreSQL database. Format is `postgres://username:password@host:port/database?sslmode=disable`. Default: "postgres://localhost:5432/sdp?sslmode=disable".
> behaviour of `base_url` and `sdp_ui_base_url` will change after https://stellarorg.atlassian.net/browse/SDP-1148 is done.
* `BASE_URL` - The SDP backend server's base URL. Default: "http://localhost:8000".
* `SDP_UI_BASE_URL` - The SDP UI/dashboard Base URL used to send the invitation link when a new user is created.

### Messaging Configuration
Messaging Configuration allows configuring the messaging service used to send messages to recipients and sdp dashboard users.
* `EMAIL_SENDER_TYPE`: The messenger type used to send invitations to new dashboard users. Options: "DRY_RUN", "AWS_EMAIL". Default: "DRY_RUN".
* `SMS_SENDER_TYPE`: The messenger type used to send SMS messages to recipients. Options: "DRY_RUN", "TWILIO_SMS", "AWS_SMS". Default: "DRY_RUN".

AWS Configuration:
The following configurations are required when using AWS SES or SNS to send emails or SMS messages.
* `AWS_ACCESS_KEY_ID` - *{sensitive}* The AWS access key ID.
* `AWS_REGION` - The AWS region where the SES service is available.
* `AWS_SECRET_ACCESS_KEY` - *{sensitive}* The AWS secret access key.
* `AWS_SES_SENDER_ID` - The email that AWS SES will use as the sender when sending emails. Required when `EMAIL_SENDER_TYPE` is set to "AWS_EMAIL".
* `AWS_SNS_SENDER_ID` - The sender ID to use when sending SMS messages using AWS SNS. Required when `SMS_SENDER_TYPE` is set to "AWS_SMS".

Twilio Configuration:
The following configurations are required when `SMS_SENDER_TYPE` is set to "TWILIO_SMS".
* `TWILIO_ACCOUNT_SID` - *{sensitive}* The Twilio account SID.
* `TWILIO_AUTH_TOKEN` - *{sensitive}* The Twilio auth token.
* `TWILIO_SERVICE_SID` - The Twilio service SID.

### Stellar Accounts Configuration
Stellar Accounts Configuration allows configuring the Stellar accounts used by the SDP Core Service.

* `NETWORK_PASSPHRASE` - The Stellar network passphrase. Default "Test SDF Network ; September 2015".
* `HORIZON_URL` - The URL of the Horizon server to use for submitting transactions. Default "https://horizon-testnet.stellar.org/".
* `SEP10_SIGNING_PUBLIC_KEY` - The public key of the Stellar account that signs the SEP-10 transactions. It's also used to sign URLs.
* `SEP10_SIGNING_PRIVATE_KEY` - *{sensitive}* The private key of the Stellar account that signs the SEP-10 transactions. It's also used to sign URLs.

The remaining configurations related to distribution accounts are detailed in the `Stellar accounts configuration` section of [Stellar Account Configuration](single-tenant-to-multi-tenant-migration#environment-variables).

### Security Configuration
Security Configuration allows configuring the security aspects of the SDP Core Service.

* `CORS_ALLOWED_ORIGINS` - Specifies the domains allowed to make cross-origin requests. "*" means all domains are allowed. Domains can contain wildcards, e.g., "https://*.example.com".
* `SEP24_JWT_SECRET` - *{sensitive}* The secret used to sign the JWT token for SEP-24 transactions. This secret is used during the receiver wallet registration flow.

Authentication Configuration:
The following configurations are related to dashboard user authentication and authorization.
* `RESET_TOKEN_EXPIRATION_HOURS` - The expiration time in hours of the Reset Password Token
* `EC256_PUBLIC_KEY` - The EC256 Public Key used to validate the token signature. This EC key needs to be at least as strong as prime256v1 (P-256).
* `EC256_PRIVATE_KEY` - *{sensitive}* The EC256 Private Key used to sign the authentication token. This EC key needs to be at least as strong as prime256v1 (P-256).
* `DISABLE_MFA` - Disables Multi-Factor Authentication (MFA) for the SDP dashboard users.
* `DISABLE_RECAPTCHA` - Disables Google reCAPTCHA v2 for the SDP dashboard users. This flag doesn't affect the reCAPTCHA used during the SEP-24 flow.

Recaptcha Configuration:
The following configurations are required when using Google reCAPTCHA v2 to protect the SDP Core Service from bots. ReCaptcha is used both for dashboard users and receivers of funds during the SEP-24 flow.

* `RECAPTCHA_SITE_KEY` - The Google reCAPTCHA v2 - I'm not a robot site key.
* `RECAPTCHA_SITE_SECRET_KEY` - *{sensitive}* The reCAPTCHA site secret key used to validate reCAPTCHA responses.

### Anchor Platform Configuration
Anchor Platform Configuration allows configuring the anchor platform used by the SDP Core Service.

* `ANCHOR_PLATFORM_BASE_PLATFORM_URL` - The base URL of the anchor platform.
* `ANCHOR_PLATFORM_BASE_SEP_URL` - The base URL of the anchor platform's SEP-24 implementation.
* `ANCHOR_PLATFORM_OUTGOING_JWT_SECRET` - *{sensitive}* The JWT secret used to create a JWT token used to send requests to the anchor platform.

### Event Broker and Scheduled Jobs Configuration
For asynchronous processing, the SDP Core Service gives user the choice to use either the Event Broker or Scheduled Jobs.

The configurations for this section are detailed in [Event Broker and Scheduler Configurations](single-tenant-to-multi-tenant-migration#environment-variables).

### Multi-tenancy Configuration

The configurations for this section are detailed in [General Environment Variables](single-tenant-to-multi-tenant-migration#environment-variables).