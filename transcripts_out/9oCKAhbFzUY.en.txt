protocol 23 we are introducing um the
protocol 23 we are introducing um the
hot archive bucket list where we will
hot archive bucket list where we will
hot archive bucket list where we will
actually
actually
actually
store um archived entries in a separate
store um archived entries in a separate
store um archived entries in a separate
database and what this allows us to do
database and what this allows us to do
database and what this allows us to do
is to store all live sorb on state um in
is to store all live sorb on state um in
is to store all live sorb on state um in
memory uh as well as uh store andan
memory uh as well as uh store andan
memory uh as well as uh store andan
module caches in memory and we can do
module caches in memory and we can do
module caches in memory and we can do
this safely because the rent system is
this safely because the rent system is
this safely because the rent system is
St archival so um what we were talking
St archival so um what we were talking
St archival so um what we were talking
about today is an update that we made
about today is an update that we made
about today is an update that we made
since the last time we talked
since the last time we talked
since the last time we talked
particularly about
particularly about
particularly about
the way that we calculate the um what
the way that we calculate the um what
the way that we calculate the um what
today is called the target bucket list
today is called the target bucket list
today is called the target bucket list
size and so in protocol 22 whenever you
size and so in protocol 22 whenever you
size and so in protocol 22 whenever you
pay rent or write an entry to The Ledger
pay rent or write an entry to The Ledger
pay rent or write an entry to The Ledger
uh this fee is variable based on um the
uh this fee is variable based on um the
uh this fee is variable based on um the
current size of the bucket list which is
current size of the bucket list which is
current size of the bucket list which is
just the size of the uh you know
just the size of the uh you know
just the size of the uh you know
Network's database on disk and
Network's database on disk and
Network's database on disk and
essentially we have a Target size um and
essentially we have a Target size um and
essentially we have a Target size um and
if this uh Target size is exceeded then
if this uh Target size is exceeded then
if this uh Target size is exceeded then
the cost of right and R bums uh increase
the cost of right and R bums uh increase
the cost of right and R bums uh increase
very rapidly and essentially this allows
very rapidly and essentially this allows
very rapidly and essentially this allows
us to have a soft cap on the current
us to have a soft cap on the current
us to have a soft cap on the current
size of the bucket list or the the um
size of the bucket list or the the um
size of the bucket list or the the um
Network database um from a fee
Network database um from a fee
Network database um from a fee
perspective so you can technically still
perspective so you can technically still
perspective so you can technically still
write but'll just be very expensive to
write but'll just be very expensive to
write but'll just be very expensive to
do so so people will stop writing and
do so so people will stop writing and
do so so people will stop writing and
then um eviction and styal will do a
then um eviction and styal will do a
then um eviction and styal will do a
back pressure to overtime reduce the
back pressure to overtime reduce the
back pressure to overtime reduce the
size of the bucket list now the thing is
size of the bucket list now the thing is
size of the bucket list now the thing is
um previous
um previous
um previous
uh to protocol 23 this was all measured
uh to protocol 23 this was all measured
uh to protocol 23 this was all measured
in database size now there were two
in database size now there were two
in database size now there were two
issues with this uh the first one being
issues with this uh the first one being
issues with this uh the first one being
that this is a sorond based fee and most
that this is a sorond based fee and most
that this is a sorond based fee and most
of the sorond state um or most of the uh
of the sorond state um or most of the uh
of the sorond state um or most of the uh
core database wasn't soron state classic
core database wasn't soron state classic
core database wasn't soron state classic
State significantly dominated the size
State significantly dominated the size
State significantly dominated the size
and so we had this weird system where
and so we had this weird system where
and so we had this weird system where
even though sorban took up very little
even though sorban took up very little
even though sorban took up very little
space in the bucket list um it was being
space in the bucket list um it was being
space in the bucket list um it was being
charged fees whenever classic entries
charged fees whenever classic entries
charged fees whenever classic entries
would make changes um so that's kind of
would make changes um so that's kind of
would make changes um so that's kind of
issue number one uh that you have
issue number one uh that you have
issue number one uh that you have
classic influencing the cost of sore
classic influencing the cost of sore
classic influencing the cost of sore
Bond State now the second issue is that
Bond State now the second issue is that
Bond State now the second issue is that
with protocol 23 we now have a bunch of
with protocol 23 we now have a bunch of
with protocol 23 we now have a bunch of
storage or all the sore Bond state that
storage or all the sore Bond state that
storage or all the sore Bond state that
we actually store in memory instead of
we actually store in memory instead of
we actually store in memory instead of
on disk and so it would our kind of goal
on disk and so it would our kind of goal
on disk and so it would our kind of goal
with this uh setting is to make sure
with this uh setting is to make sure
with this uh setting is to make sure
that the protocol can cap the maximum
that the protocol can cap the maximum
that the protocol can cap the maximum
amount of memory um that Val to use it
amount of memory um that Val to use it
amount of memory um that Val to use it
at a given time and if we were to
at a given time and if we were to
at a given time and if we were to
continue to use just the disk based
continue to use just the disk based
continue to use just the disk based
metric um this uh is no longer uh able
metric um this uh is no longer uh able
metric um this uh is no longer uh able
to actually cap the amount of memory
to actually cap the amount of memory
to actually cap the amount of memory
that you need to store now that we cach
that you need to store now that we cach
that you need to store now that we cach
everything in memory and so the update
everything in memory and so the update
everything in memory and so the update
to cap 66 is that we change the
to cap 66 is that we change the
to cap 66 is that we change the
bucketless target size byes to soron LIF
bucketless target size byes to soron LIF
bucketless target size byes to soron LIF
State Target size byes and so what this
State Target size byes and so what this
State Target size byes and so what this
means is that instead of using the
means is that instead of using the
means is that instead of using the
entire size of the database to calculate
entire size of the database to calculate
entire size of the database to calculate
rent fees and write fees we only use the
rent fees and write fees we only use the
rent fees and write fees we only use the
size of the live sorbon state that we
size of the live sorbon state that we
size of the live sorbon state that we
actually have to uh store in memory um
actually have to uh store in memory um
actually have to uh store in memory um
now there's a couple of details here uh
now there's a couple of details here uh
now there's a couple of details here uh
particularly uh I want to talk about
particularly uh I want to talk about
particularly uh I want to talk about
contract code and so when um storing So
contract code and so when um storing So
contract code and so when um storing So
the plan is to store all contract data
the plan is to store all contract data
the plan is to store all contract data
and all TTL entries in memory and then
and all TTL entries in memory and then
and all TTL entries in memory and then
to store instantiated contract code in
to store instantiated contract code in
to store instantiated contract code in
memory now contract data and contract
memory now contract data and contract
memory now contract data and contract
TTL uh the thing that we store is the
TTL uh the thing that we store is the
TTL uh the thing that we store is the
same size as the entry on disk so for
same size as the entry on disk so for
same size as the entry on disk so for
instance like if you have a contract
instance like if you have a contract
instance like if you have a contract
data on diss that's uh The Ledger entry
data on diss that's uh The Ledger entry
data on diss that's uh The Ledger entry
is you know 64 bytes then we store 64
is you know 64 bytes then we store 64
is you know 64 bytes then we store 64
bytes in memory so there's a one to one
bytes in memory so there's a one to one
bytes in memory so there's a one to one
ratio for data and TTL for contract code
ratio for data and TTL for contract code
ratio for data and TTL for contract code
this is not the case because of the
this is not the case because of the
this is not the case because of the
module instantiation cach changes or the
module instantiation cach changes or the
module instantiation cach changes or the
instantiated module cache we are not
instantiated module cache we are not
instantiated module cache we are not
actually storing just the contract code
actually storing just the contract code
actually storing just the contract code
bytes in memory but we're storing an
bytes in memory but we're storing an
bytes in memory but we're storing an
instantiated model and this model can be
instantiated model and this model can be
instantiated model and this model can be
up to 40 times the size of the on disk
up to 40 times the size of the on disk
up to 40 times the size of the on disk
wasm bites in the worst case and so what
wasm bites in the worst case and so what
wasm bites in the worst case and so what
we're doing instead is that uh for
we're doing instead is that uh for
we're doing instead is that uh for
contract code in particular instead of
contract code in particular instead of
contract code in particular instead of
using the size of the contract code
using the size of the contract code
using the size of the contract code
entry um for uh fees which is what we'
entry um for uh fees which is what we'
entry um for uh fees which is what we'
been doing up to this point you're going
been doing up to this point you're going
been doing up to this point you're going
to instead use the size of the memory uh
to instead use the size of the memory uh
to instead use the size of the memory uh
given um by the instantiated contract
given um by the instantiated contract
given um by the instantiated contract
code module and so in the worst case
code module and so in the worst case
code module and so in the worst case
this is a 40 times increase but in the
this is a 40 times increase but in the
this is a 40 times increase but in the
average case this is only a 10 to 15 15
average case this is only a 10 to 15 15
average case this is only a 10 to 15 15
um times increase over the size of the
um times increase over the size of the
um times increase over the size of the
contract code as it's calculated today
contract code as it's calculated today
contract code as it's calculated today
and so that's change number one is that
and so that's change number one is that
and so that's change number one is that
essentially because we need to account
essentially because we need to account
essentially because we need to account
for the in memory uh size of state now
for the in memory uh size of state now
for the in memory uh size of state now
instead of the on disk size we need to
instead of the on disk size we need to
instead of the on disk size we need to
make this adjustment in the contract
make this adjustment in the contract
make this adjustment in the contract
code um size calculation now the other
code um size calculation now the other
code um size calculation now the other
adjustment we're making is with r fees
adjustment we're making is with r fees
adjustment we're making is with r fees
so for rent fees essentially you are
so for rent fees essentially you are
so for rent fees essentially you are
renting um under you know protocol 23
renting um under you know protocol 23
renting um under you know protocol 23
you are renting space in the uh in
you are renting space in the uh in
you are renting space in the uh in
memory cach of the network that's
memory cach of the network that's
memory cach of the network that's
essentially what rent is doing now and
essentially what rent is doing now and
essentially what rent is doing now and
so we uh the rent fee will remain
so we uh the rent fee will remain
so we uh the rent fee will remain
unchange how we still have like this
unchange how we still have like this
unchange how we still have like this
target um live State size and then the
target um live State size and then the
target um live State size and then the
rent fee uh will you know increase very
rent fee uh will you know increase very
rent fee uh will you know increase very
rapidly if the of Life State increases
rapidly if the of Life State increases
rapidly if the of Life State increases
this for right
this for right
this for right
fees doesn't really make sense to have
fees doesn't really make sense to have
fees doesn't really make sense to have
the right fee um
the right fee um
the right fee um
a function of the current amount of Life
a function of the current amount of Life
a function of the current amount of Life
State because
State because
State because
we're to um using memory based bounds
we're to um using memory based bounds
we're to um using memory based bounds
instead of dis based bounds in the Life
instead of dis based bounds in the Life
instead of dis based bounds in the Life
State um we a dynamic wrry doesn't make
State um we a dynamic wrry doesn't make
State um we a dynamic wrry doesn't make
sense and so what we're proposing is
sense and so what we're proposing is
sense and so what we're proposing is
that we still need to have a right fee
that we still need to have a right fee
that we still need to have a right fee
um but you are not uh it doesn't need to
um but you are not uh it doesn't need to
um but you are not uh it doesn't need to
be based on the current size of the
be based on the current size of the
be based on the current size of the
bucket list rather it just needs to be
bucket list rather it just needs to be
bucket list rather it just needs to be
based on the computational cost of doing
based on the computational cost of doing
based on the computational cost of doing
a right while you're applying the
a right while you're applying the
a right while you're applying the
transaction and so um we're making a
transaction and so um we're making a
transaction and so um we're making a
change that right fees are now a flat
change that right fees are now a flat
change that right fees are now a flat
fee uh per BTE or per kilobyte rather
fee uh per BTE or per kilobyte rather
fee uh per BTE or per kilobyte rather
and so instead of having like this curve
and so instead of having like this curve
and so instead of having like this curve
um the rent fees will still have that
um the rent fees will still have that
um the rent fees will still have that
curve but the right fees there'll be a
curve but the right fees there'll be a
curve but the right fees there'll be a
network config setting which is uh fee
network config setting which is uh fee
network config setting which is uh fee
per 1 kilobyte R and then uh this will
per 1 kilobyte R and then uh this will
per 1 kilobyte R and then uh this will
be um applied based on the size of the
be um applied based on the size of the
be um applied based on the size of the
entry you're writing and this will be
entry you're writing and this will be
entry you're writing and this will be
applied to both sorbon entries you write
applied to both sorbon entries you write
applied to both sorbon entries you write
as well as classic entries you write um
as well as classic entries you write um
as well as classic entries you write um
so that's that's the primary changes
so that's that's the primary changes
so that's that's the primary changes
essentially we are changing the way we
essentially we are changing the way we
essentially we are changing the way we
calculate contract wasm size uh respect
calculate contract wasm size uh respect
calculate contract wasm size uh respect
to fees rent fee is still variable based
to fees rent fee is still variable based
to fees rent fee is still variable based
on the amount of Life state right fees
on the amount of Life state right fees
on the amount of Life state right fees
are now
are now
are now
flapped uh any questions or or concerns
Morgan's question about the the cheap
Morgan's question about the the cheap
storage um uh we don't it's not so much
storage um uh we don't it's not so much
storage um uh we don't it's not so much
that the storage is cheap and then non-e
that the storage is cheap and then non-e
that the storage is cheap and then non-e
it's that um before you hit the target
it's that um before you hit the target
it's that um before you hit the target
the storage is reasonable reasonably
the storage is reasonable reasonably
the storage is reasonable reasonably
priced and then past the target uh the
priced and then past the target uh the
priced and then past the target uh the
storage is like very very ridiculously
storage is like very very ridiculously
storage is like very very ridiculously
priced uh so the idea is that you know
priced uh so the idea is that you know
priced uh so the idea is that you know
we still even before you hit the target
we still even before you hit the target
we still even before you hit the target
we still charge fees and the intention
we still charge fees and the intention
we still charge fees and the intention
of this fees is to uh dissuade people
of this fees is to uh dissuade people
of this fees is to uh dissuade people
who aren't using um like who aren't
who aren't using um like who aren't
who aren't using um like who aren't
legitimate apps using the space um but
legitimate apps using the space um but
legitimate apps using the space um but
essentially the reason that we have this
essentially the reason that we have this
essentially the reason that we have this
target is that we don't want a Dos angle
target is that we don't want a Dos angle
target is that we don't want a Dos angle
where an attacker could just write you
where an attacker could just write you
where an attacker could just write you
know gigabytes and gigabytes of state
know gigabytes and gigabytes of state
know gigabytes and gigabytes of state
that we all out store memory and then
that we all out store memory and then
that we all out store memory and then
oom kill them nodes and so I don't think
oom kill them nodes and so I don't think
oom kill them nodes and so I don't think
the distinction is cheap versus non-
the distinction is cheap versus non-
the distinction is cheap versus non-
cheap it's you know reasonable versus
cheap it's you know reasonable versus
cheap it's you know reasonable versus
like ridiculous pricing that we only you
like ridiculous pricing that we only you
like ridiculous pricing that we only you
know resort to in kind of the to protect
know resort to in kind of the to protect
know resort to in kind of the to protect
ourselves from malicious attack
uh see any numbers for the threshold um
uh see any numbers for the threshold um
I think exact numbers are TBD uh for
I think exact numbers are TBD uh for
I think exact numbers are TBD uh for
reference um we're are so currently um
reference um we're are so currently um
reference um we're are so currently um
the we use bucket list total size and so
the we use bucket list total size and so
the we use bucket list total size and so
I think it's like 12 and a half gigs or
I think it's like 12 and a half gigs or
I think it's like 12 and a half gigs or
something like that the target something
something like that the target something
something like that the target something
in that range but because we're
in that range but because we're
in that range but because we're
switching to only uh meter the life
switching to only uh meter the life
switching to only uh meter the life
sorbon State it'll probably be something
sorbon State it'll probably be something
sorbon State it'll probably be something
on the scale of hundreds of megabytes
on the scale of hundreds of megabytes
on the scale of hundreds of megabytes
just because today the total sore on
just because today the total sore on
just because today the total sore on
state size is like 40 or 50 megabytes um
state size is like 40 or 50 megabytes um
state size is like 40 or 50 megabytes um
so that still gives us you know lots of
so that still gives us you know lots of
so that still gives us you know lots of
growing room um but is a very small you
growing room um but is a very small you
growing room um but is a very small you
know value requirement as far as memory
know value requirement as far as memory
know value requirement as far as memory
but again you know we we still need to
but again you know we we still need to
but again you know we we still need to
think about these numbers a bit more as
think about these numbers a bit more as
think about these numbers a bit more as
it's kind of you know uh on the range of
it's kind of you know uh on the range of
it's kind of you know uh on the range of
what we're looking
at yeah to add to that since vasm kind
at yeah to add to that since vasm kind
of takes more space now than it used to
of takes more space now than it used to
of takes more space now than it used to
take in the database um yes we need to
take in the database um yes we need to
take in the database um yes we need to
re-evaluate this in memory State size
re-evaluate this in memory State size
re-evaluate this in memory State size
including the module cache and uh I
including the module cache and uh I
including the module cache and uh I
don't think they have done this yet so
don't think they have done this yet so
don't think they have done this yet so
but the it is I don't think it will be
but the it is I don't think it will be
but the it is I don't think it will be
uh significantly bigger
uh significantly bigger
uh significantly bigger
than tens or hundreds of megabytes and
than tens or hundreds of megabytes and
than tens or hundreds of megabytes and
uh threshold to be set I think quite
uh threshold to be set I think quite
uh threshold to be set I think quite
High compared to that probably it can
High compared to that probably it can
High compared to that probably it can
easily be a few times higher um that you
easily be a few times higher um that you
easily be a few times higher um that you
know uh we didn't get that much dat in a
know uh we didn't get that much dat in a
know uh we didn't get that much dat in a
year I don't think um like if you said
year I don't think um like if you said
year I don't think um like if you said
it to 2x 3x of the current state um I
it to 2x 3x of the current state um I
it to 2x 3x of the current state um I
don't think we'll run out of space
don't think we'll run out of space
don't think we'll run out of space
anytime
anytime
anytime
soon yeah and uh to just to make it
soon yeah and uh to just to make it
soon yeah and uh to just to make it
clear uh for for Morgan's question like
clear uh for for Morgan's question like
clear uh for for Morgan's question like
we like the purpose of these limits is
we like the purpose of these limits is
we like the purpose of these limits is
not to you know limit good users um so
not to you know limit good users um so
not to you know limit good users um so
you know if we see a Dap that has 100K
you know if we see a Dap that has 100K
you know if we see a Dap that has 100K
daily activ users I mean that's not
daily activ users I mean that's not
daily activ users I mean that's not
going to happen overnight there's going
going to happen overnight there's going
going to happen overnight there's going
to be a ramp up but we would definitely
to be a ramp up but we would definitely
to be a ramp up but we would definitely
probably you know um introduce the slip
probably you know um introduce the slip
probably you know um introduce the slip
SL SLP to raise those limit so the
SL SLP to raise those limit so the
SL SLP to raise those limit so the
intention is not to you know reduce
intention is not to you know reduce
intention is not to you know reduce
actual um good good usage of network
yeah and I guess um Nico pointed out a
yeah and I guess um Nico pointed out a
good point that I forgot to mention is
good point that I forgot to mention is
good point that I forgot to mention is
that because we are switching from on
that because we are switching from on
that because we are switching from on
disk metering of contract code to in
disk metering of contract code to in
disk metering of contract code to in
memory metering uh the size uh of the
memory metering uh the size uh of the
memory metering uh the size uh of the
current instantiation model is protocol
current instantiation model is protocol
current instantiation model is protocol
dependent uh and so for instance if in
dependent uh and so for instance if in
dependent uh and so for instance if in
the future we change to a um like a g uh
the future we change to a um like a g uh
the future we change to a um like a g uh
instead of interpreter then the size of
instead of interpreter then the size of
instead of interpreter then the size of
the instantiated model will increase um
the instantiated model will increase um
the instantiated model will increase um
and so I didn't mention this but well uh
and so I didn't mention this but well uh
and so I didn't mention this but well uh
for fees uh we are for the rent fee uh
for fees uh we are for the rent fee uh
for fees uh we are for the rent fee uh
in particular we are using the uh
in particular we are using the uh
in particular we are using the uh
inmemory size um of the contract code uh
inmemory size um of the contract code uh
inmemory size um of the contract code uh
but for limits and for the right fee we
but for limits and for the right fee we
but for limits and for the right fee we
using the on disk size um and we have to
using the on disk size um and we have to
using the on disk size um and we have to
do this because for instance like we
do this because for instance like we
do this because for instance like we
have like a a maximum contract size um
have like a a maximum contract size um
have like a a maximum contract size um
config setting and if you can assume
config setting and if you can assume
config setting and if you can assume
that you know a contract today uh has
that you know a contract today uh has
that you know a contract today uh has
the maximum size we wouldn't want want
the maximum size we wouldn't want want
the maximum size we wouldn't want want
to break that contract in a future
to break that contract in a future
to break that contract in a future
protocol upgrade if the inmemory size
protocol upgrade if the inmemory size
protocol upgrade if the inmemory size
just happen to change and so yeah I
just happen to change and so yeah I
just happen to change and so yeah I
think that's that's a good point I
think that's that's a good point I
think that's that's a good point I
forgot to to mention is that um only the
forgot to to mention is that um only the
forgot to to mention is that um only the
rent fee is dependent on the uh contract
rent fee is dependent on the uh contract
rent fee is dependent on the uh contract
in memory size um and that means that
in memory size um and that means that
in memory size um and that means that
like a and that's and the target sorond
like a and that's and the target sorond
like a and that's and the target sorond
life State size is also calculated using
life State size is also calculated using
life State size is also calculated using
the inmemory size of contract code um
the inmemory size of contract code um
the inmemory size of contract code um
but as far as write fees and uh
but as far as write fees and uh
but as far as write fees and uh
transaction WR limits and contract code
transaction WR limits and contract code
transaction WR limits and contract code
size limits those are still determined
size limits those are still determined
size limits those are still determined
by the wasum and we have to do that
by the wasum and we have to do that
by the wasum and we have to do that
because only the actual on disk you know
because only the actual on disk you know
because only the actual on disk you know
wasm size is consistent protocol to
protocol actually so my comment was
protocol actually so my comment was
actually a little bit different like uh
actually a little bit different like uh
actually a little bit different like uh
because I had a chat with grer about
because I had a chat with grer about
because I had a chat with grer about
this and it sounds like the current uh P
this and it sounds like the current uh P
this and it sounds like the current uh P
request we have
request we have
request we have
for cap 65 is actually caching per host
for cap 65 is actually caching per host
for cap 65 is actually caching per host
basically so um like if you have like
basically so um like if you have like
basically so um like if you have like
two host uh like core can be configured
two host uh like core can be configured
two host uh like core can be configured
right with multiple uh host to support
right with multiple uh host to support
right with multiple uh host to support
multiple protocol versions and right now
multiple protocol versions and right now
multiple protocol versions and right now
um we keep in
um we keep in
um we keep in
memory um the version of the WM
memory um the version of the WM
memory um the version of the WM
basically like the the the the
basically like the the the the
basically like the the the the
pre-processed version uh per host so it
pre-processed version uh per host so it
pre-processed version uh per host so it
it gets basically like if you have like
it gets basically like if you have like
it gets basically like if you have like
two H in memory is going to have two
two H in memory is going to have two
two H in memory is going to have two
versions of the wesm cache per
versions of the wesm cache per
versions of the wesm cache per
contract um and that's kind of a to make
contract um and that's kind of a to make
contract um and that's kind of a to make
it easier
it easier
it easier
to to to reason about but at the same
to to to reason about but at the same
to to to reason about but at the same
time that means that the overhead in
time that means that the overhead in
time that means that the overhead in
memory is actually dependent on how core
memory is actually dependent on how core
memory is actually dependent on how core
is is
compiled yeah I think this is I agree
compiled yeah I think this is I agree
there something to look out for but I
there something to look out for but I
there something to look out for but I
think this is primarily an
think this is primarily an
think this is primarily an
implementation detail at this point
implementation detail at this point
implementation detail at this point
because I think in the
because I think in the
because I think in the
yeah no it's totally is it's just like
yeah no it's totally is it's just like
yeah no it's totally is it's just like
that's why I said there needs to be an
that's why I said there needs to be an
that's why I said there needs to be an
SLP to to kind of discuss that because
SLP to to kind of discuss that because
SLP to to kind of discuss that because
the your memory limit
the your memory limit
the your memory limit
basically um that you you pick is has to
basically um that you you pick is has to
basically um that you you pick is has to
take into account the fact that you have
take into account the fact that you have
take into account the fact that you have
basically a overhead of two or
basically a overhead of two or
basically a overhead of two or
3x uh for you know for the resident
3x uh for you know for the resident
3x uh for you know for the resident
wiom uh that maybe is not as trivial as
wiom uh that maybe is not as trivial as
wiom uh that maybe is not as trivial as
you know if you look at calibration
you know if you look at calibration
you know if you look at calibration
while like if you're asking one host how
while like if you're asking one host how
while like if you're asking one host how
much memory you know are you using right
much memory you know are you using right
much memory you know are you using right
now that's actually not the truth you
now that's actually not the truth you
now that's actually not the truth you
you need to uh to basically uh lie
you need to uh to basically uh lie
you need to uh to basically uh lie
through the through the network settings
through the through the network settings
through the through the network settings
that you know you actually are are going
that you know you actually are are going
that you know you actually are are going
to count um was them in memory let's say
to count um was them in memory let's say
to count um was them in memory let's say
with a 3X you know a multiplier on top
with a 3X you know a multiplier on top
with a 3X you know a multiplier on top
of what's actually using per per
of what's actually using per per
of what's actually using per per
host does that make sense it's basically
host does that make sense it's basically
host does that make sense it's basically
the yeah the calibration uh
the yeah the calibration uh
the yeah the calibration uh
settings yeah yeah I think I think
settings yeah yeah I think I think
settings yeah yeah I think I think
longterm like a like so longterm when we
longterm like a like so longterm when we
longterm like a like so longterm when we
actually have like large amounts of
actually have like large amounts of
actually have like large amounts of
States say like in the gigabytes then I
States say like in the gigabytes then I
States say like in the gigabytes then I
think we can probably avoid this issue
think we can probably avoid this issue
think we can probably avoid this issue
by doing something clever like you know
by doing something clever like you know
by doing something clever like you know
like if we are armed for an upgrade then
like if we are armed for an upgrade then
like if we are armed for an upgrade then
we can like um you know like do the
we can like um you know like do the
we can like um you know like do the
compiling for the new the new protocol
compiling for the new the new protocol
compiling for the new the new protocol
version in the background laely and then
version in the background laely and then
version in the background laely and then
serialize it such that we don't have
serialize it such that we don't have
serialize it such that we don't have
like the double memory overhead but but
like the double memory overhead but but
like the double memory overhead but but
I agree as like as far as like
I agree as like as far as like
I agree as like as far as like
short-term and medium-term plan goes I
short-term and medium-term plan goes I
short-term and medium-term plan goes I
mean I think like the state size is
mean I think like the state size is
mean I think like the state size is
still small enough that like we can set
still small enough that like we can set
still small enough that like we can set
limits like with these assumptions it'
limits like with these assumptions it'
limits like with these assumptions it'
be
be
be
fine but yeah I agree that we should we
fine but yeah I agree that we should we
fine but yeah I agree that we should we
should have these uh these uh this like
should have these uh these uh this like
should have these uh these uh this like
3x factor in
mind cool I guess if we don't have any
mind cool I guess if we don't have any
other questions or comments about this
other questions or comments about this
other questions or comments about this
we can uh I'll hand it off to the next
we can uh I'll hand it off to the next
we can uh I'll hand it off to the next
cap right thanks Garen for presenting
cap right thanks Garen for presenting
cap right thanks Garen for presenting
this and um yes the next thing we have
this and um yes the next thing we have
this and um yes the next thing we have
on our agenda today is uh cap 6 to7 and
on our agenda today is uh cap 6 to7 and
on our agenda today is uh cap 6 to7 and
specifically the issues um that concern
specifically the issues um that concern
specifically the issues um that concern
uh handling of transaction memers and
uh handling of transaction memers and
uh handling of transaction memers and
maxed uh accounts in the uh event um not
maxed uh accounts in the uh event um not
maxed uh accounts in the uh event um not
sure if cap is even an appropriate link
sure if cap is even an appropriate link
sure if cap is even an appropriate link
to share right now because most of
to share right now because most of
to share right now because most of
the uh revant stuff is uh captured uh in
the uh revant stuff is uh captured uh in
the uh revant stuff is uh captured uh in
the
the
the
discussions to the cap um and um I think
discussions to the cap um and um I think
discussions to the cap um and um I think
the the point of contention during the
the the point of contention during the
the the point of contention during the
previous meeting was how exactly can we
previous meeting was how exactly can we
previous meeting was how exactly can we
enable maxed accounts in soran and after
enable maxed accounts in soran and after
enable maxed accounts in soran and after
spiking a few
spiking a few
spiking a few
options considering the fact that it is
options considering the fact that it is
options considering the fact that it is
likely for pretty much any custom token
likely for pretty much any custom token
likely for pretty much any custom token
to be interested in being listed in
to be interested in being listed in
to be interested in being listed in
centralized exchanges and as being
centralized exchanges and as being
centralized exchanges and as being
compatible with custo Vols that uh
compatible with custo Vols that uh
compatible with custo Vols that uh
centralized exchange may use for
centralized exchange may use for
centralized exchange may use for
multiplexing
multiplexing
multiplexing
um it seems like this is something that
um it seems like this is something that
um it seems like this is something that
most of the tokens will want will want
most of the tokens will want will want
most of the tokens will want will want
and I think this is one of the key
and I think this is one of the key
and I think this is one of the key
requirements that kind of made um the
requirements that kind of made um the
requirements that kind of made um the
whole discussion pretty uh hard to
whole discussion pretty uh hard to
whole discussion pretty uh hard to
converge on um but since um kind of came
converge on um but since um kind of came
converge on um but since um kind of came
to an agreement that this is probably a
to an agreement that this is probably a
to an agreement that this is probably a
reasonable feature to have and um
reasonable feature to have and um
reasonable feature to have and um
contracts will need to deal with Max
contracts will need to deal with Max
contracts will need to deal with Max
addresses
addresses
addresses
anyways um the current preference is to
anyways um the current preference is to
anyways um the current preference is to
go with an option of add in uh simulus
go with an option of add in uh simulus
go with an option of add in uh simulus
support of Max addresses to the SDK and
support of Max addresses to the SDK and
support of Max addresses to the SDK and
to the environment and what uh tokens
to the environment and what uh tokens
to the environment and what uh tokens
extend well not extend but update the uh
extend well not extend but update the uh
extend well not extend but update the uh
transfer function interface to be able
transfer function interface to be able
transfer function interface to be able
to accept Mark addresses um I don't know
to accept Mark addresses um I don't know
to accept Mark addresses um I don't know
you do want to add something we di into
you do want to add something we di into
you do want to add something we di into
details you asked to
details you asked to
details you asked to
speak yeah I think uh maybe it's just
speak yeah I think uh maybe it's just
speak yeah I think uh maybe it's just
worth calling out for people who
worth calling out for people who
worth calling out for people who
listening of the conversation last week
listening of the conversation last week
listening of the conversation last week
I think an assumption we were making to
I think an assumption we were making to
I think an assumption we were making to
be really clear it was an assumption uh
be really clear it was an assumption uh
be really clear it was an assumption uh
that this needed to be an
that this needed to be an
that this needed to be an
extension um and I think you know to has
extension um and I think you know to has
extension um and I think you know to has
sort of pointed out that it's safe to
sort of pointed out that it's safe to
sort of pointed out that it's safe to
assume that pretty much every token
assume that pretty much every token
assume that pretty much every token
would be interested in being listed in
would be interested in being listed in
would be interested in being listed in
an exchange you know if if that was if
an exchange you know if if that was if
an exchange you know if if that was if
that was to happen um and so there's
that was to happen um and so there's
that was to happen um and so there's
little reason to make this an extension
little reason to make this an extension
little reason to make this an extension
where it's sort of targeting a very
where it's sort of targeting a very
where it's sort of targeting a very
small number of tokens um like really
small number of tokens um like really
small number of tokens um like really
just sort of all tokens should should be
just sort of all tokens should should be
just sort of all tokens should should be
able to handle the case where they're
able to handle the case where they're
able to handle the case where they're
given a Max address or a
given a Max address or a
given a Max address or a
memo um and so much of the complexity I
memo um and so much of the complexity I
memo um and so much of the complexity I
think in some of the spikes sort of
think in some of the spikes sort of
think in some of the spikes sort of
disappears once we don't try to make
disappears once we don't try to make
disappears once we don't try to make
this an
extension right so um to summarize like
extension right so um to summarize like
what we are currently going to do with a
what we are currently going to do with a
what we are currently going to do with a
protocol is that uh we will add a new
protocol is that uh we will add a new
protocol is that uh we will add a new
object type to soran um specifically for
object type to soran um specifically for
object type to soran um specifically for
handling maxed addresses
handling maxed addresses
handling maxed addresses
um max accounts currently Max accounts
um max accounts currently Max accounts
um max accounts currently Max accounts
currently but I'm actually not sure if
currently but I'm actually not sure if
currently but I'm actually not sure if
you want to do contracts or not but we
you want to do contracts or not but we
you want to do contracts or not but we
could we wanted to and the interesting
could we wanted to and the interesting
could we wanted to and the interesting
thing about it is that since it's in the
thing about it is that since it's in the
thing about it is that since it's in the
protocol um well the primary reason for
protocol um well the primary reason for
protocol um well the primary reason for
why we are doing this work is uh for the
why we are doing this work is uh for the
why we are doing this work is uh for the
tokens to be able to support this um
tokens to be able to support this um
tokens to be able to support this um
basically any
basically any
basically any
protocol uh will be able to use them if
protocol uh will be able to use them if
protocol uh will be able to use them if
they want to so if um custodial
they want to so if um custodial
they want to so if um custodial
Solutions are necessary some other
Solutions are necessary some other
Solutions are necessary some other
protocols basically the solutions for
protocols basically the solutions for
protocols basically the solutions for
single address um that can have multiple
single address um that can have multiple
single address um that can have multiple
sub virtual sub accounts um they will be
sub virtual sub accounts um they will be
sub virtual sub accounts um they will be
able to implement this and I think this
able to implement this and I think this
able to implement this and I think this
is one of the benefits of this it hasn't
is one of the benefits of this it hasn't
is one of the benefits of this it hasn't
been discussed um before um even though
been discussed um before um even though
been discussed um before um even though
like we don't have limited obvious use
like we don't have limited obvious use
like we don't have limited obvious use
case uh but know folks may come up with
case uh but know folks may come up with
case uh but know folks may come up with
something I definitely recall having uh
something I definitely recall having uh
something I definitely recall having uh
recall seen some discussions here on
recall seen some discussions here on
recall seen some discussions here on
Discord um regarding um virtual accounts
Discord um regarding um virtual accounts
Discord um regarding um virtual accounts
for multiplexing support
for multiplexing support
for multiplexing support
so yeah we we had this new new object
so yeah we we had this new new object
so yeah we we had this new new object
type and also at the SDK level we make
type and also at the SDK level we make
type and also at the SDK level we make
it so um the regular address type and
it so um the regular address type and
it so um the regular address type and
this new Multiplex address type are
this new Multiplex address type are
this new Multiplex address type are
wrapped in the same SDK type which means
wrapped in the same SDK type which means
wrapped in the same SDK type which means
that um for example if uh contract uh
that um for example if uh contract uh
that um for example if uh contract uh
just operates on the addresses and it
just operates on the addresses and it
just operates on the addresses and it
doesn't know exit your token started
doesn't know exit your token started
doesn't know exit your token started
except in multiplexed addresses for the
except in multiplexed addresses for the
except in multiplexed addresses for the
transfer um as will break um so for
transfer um as will break um so for
transfer um as will break um so for
example if contract a calls a token
example if contract a calls a token
example if contract a calls a token
contract uh and passes a regular address
contract uh and passes a regular address
contract uh and passes a regular address
non Max address to it um things will
non Max address to it um things will
non Max address to it um things will
keep working even the token contract
keep working even the token contract
keep working even the token contract
updates to this new proposed uh feature
updates to this new proposed uh feature
updates to this new proposed uh feature
um which is to allow uh transfers to
um which is to allow uh transfers to
um which is to allow uh transfers to
have multiplexed destinations and
have multiplexed destinations and
have multiplexed destinations and
sources um and this is what what has
sources um and this is what what has
sources um and this is what what has
been spiked and uh this seems to kind of
been spiked and uh this seems to kind of
been spiked and uh this seems to kind of
work and in terms of complexity on the
work and in terms of complexity on the
work and in terms of complexity on the
token side it doesn't seem like there is
token side it doesn't seem like there is
token side it doesn't seem like there is
too much it's um few additional lines of
too much it's um few additional lines of
too much it's um few additional lines of
code to convert from multiple addresses
code to convert from multiple addresses
code to convert from multiple addresses
back to uh normal addresses that can do
back to uh normal addresses that can do
back to uh normal addresses that can do
all the interesting things that
all the interesting things that
all the interesting things that
addresses can
addresses can
addresses can
do um that's kind of a hell level thing
do um that's kind of a hell level thing
do um that's kind of a hell level thing
um I am not sure if uh they need to go
um I am not sure if uh they need to go
um I am not sure if uh they need to go
too deep into details right now I guess
too deep into details right now I guess
too deep into details right now I guess
the conclusion from the discussions for
the conclusion from the discussions for
the conclusion from the discussions for
is really that um seems like we have a
is really that um seems like we have a
is really that um seems like we have a
way of making this work in a non
way of making this work in a non
way of making this work in a non
disruption non-disruptive fashion
disruption non-disruptive fashion
disruption non-disruptive fashion
meaning that um the existing contracts
meaning that um the existing contracts
meaning that um the existing contracts
will not be
will not be
will not be
broken and it is also possible for the
broken and it is also possible for the
broken and it is also possible for the
clients to discover if a contract
clients to discover if a contract
clients to discover if a contract
reports multiplexed addresses at all or
reports multiplexed addresses at all or
reports multiplexed addresses at all or
not um which may be relevant in some
not um which may be relevant in some
not um which may be relevant in some
context right so I think this part is
context right so I think this part is
context right so I think this part is
more or less clear uh part is still
more or less clear uh part is still
more or less clear uh part is still
unclear and I wanted to talk about a bit
unclear and I wanted to talk about a bit
unclear and I wanted to talk about a bit
more is um how exactly are we going to
more is um how exactly are we going to
more is um how exactly are we going to
represent the multiplex destinations and
represent the multiplex destinations and
represent the multiplex destinations and
the events and the option of just
the events and the option of just
the events and the option of just
putting them into topic is problematic
putting them into topic is problematic
putting them into topic is problematic
because it would break uh index if they
because it would break uh index if they
because it would break uh index if they
don't do anything special this Multiplex
don't do anything special this Multiplex
don't do anything special this Multiplex
addresses break in a sense that they
addresses break in a sense that they
addresses break in a sense that they
will have too many virtual destinations
will have too many virtual destinations
will have too many virtual destinations
that they really shouldn't be caring
that they really shouldn't be caring
that they really shouldn't be caring
about um so in the link I posted
about um so in the link I posted
about um so in the link I posted
uh yeah thanks Le for posting other
uh yeah thanks Le for posting other
uh yeah thanks Le for posting other
discussions um yeah in the discussion
discussions um yeah in the discussion
discussions um yeah in the discussion
the da post ly has listed different
the da post ly has listed different
the da post ly has listed different
approaches um
approaches um
approaches um
to actually how to handle the events
to actually how to handle the events
to actually how to handle the events
with mlex
with mlex
with mlex
destinations and
destinations and
destinations and
uh I think we haven't reached the full
uh I think we haven't reached the full
uh I think we haven't reached the full
agreement on this but again it seems
agreement on this but again it seems
agreement on this but again it seems
like from my own preference and I see
like from my own preference and I see
like from my own preference and I see
Alex has commented on
Alex has commented on
Alex has commented on
this
this
this
um seems like what we could do is um you
um seems like what we could do is um you
um seems like what we could do is um you
could just
could just
could just
converge uh yeah I say want to talk but
converge uh yeah I say want to talk but
converge uh yeah I say want to talk but
I guess the current preference is to
I guess the current preference is to
I guess the current preference is to
converge all the possible memo that we
converge all the possible memo that we
converge all the possible memo that we
currently have um support in the
currently have um support in the
currently have um support in the
transaction converge everything into the
transaction converge everything into the
transaction converge everything into the
single Multiplex address uh data
single Multiplex address uh data
single Multiplex address uh data
structure uh so that for the classic
structure uh so that for the classic
structure uh so that for the classic
transactions you will be able to
transactions you will be able to
transactions you will be able to
generate Multiplex destination based on
generate Multiplex destination based on
generate Multiplex destination based on
the transaction memo even of this
the transaction memo even of this
the transaction memo even of this
transaction mem is non ID and for s b
transaction mem is non ID and for s b
transaction mem is non ID and for s b
use cases um you only support ID MERS to
use cases um you only support ID MERS to
use cases um you only support ID MERS to
kind of ruce the potential amount of
kind of ruce the potential amount of
kind of ruce the potential amount of
confusion I know Alex if you want
confusion I know Alex if you want
confusion I know Alex if you want
to okay Alex doesn't want to talk uh I
to okay Alex doesn't want to talk uh I
to okay Alex doesn't want to talk uh I
don't know if you want
to yeah no I I just you know my comment
to yeah no I I just you know my comment
was basically uh my preference uh just
was basically uh my preference uh just
was basically uh my preference uh just
as one point of view on like which one
as one point of view on like which one
as one point of view on like which one
we should use uh I guess I do have a
we should use uh I guess I do have a
we should use uh I guess I do have a
question now thinking about it like
question now thinking about it like
question now thinking about it like
would this cause any breakage to how
would this cause any breakage to how
would this cause any breakage to how
people parse M addresses if we were to
people parse M addresses if we were to
people parse M addresses if we were to
expand M addresses to actually cover all
expand M addresses to actually cover all
expand M addresses to actually cover all
types of
memos well it depends on where exactly
memos well it depends on where exactly
we put it uh in the sketch I've posted
we put it uh in the sketch I've posted
we put it uh in the sketch I've posted
above the above in the same discussion
above the above in the same discussion
above the above in the same discussion
um I'm actually only extending SC
um I'm actually only extending SC
um I'm actually only extending SC
address
address
address
type uh which means that classic Max
type uh which means that classic Max
type uh which means that classic Max
account data structure will stay as is
account data structure will stay as is
account data structure will stay as is
and the reason to keep it as is is that
and the reason to keep it as is is that
and the reason to keep it as is is that
it's kind of over the place in the
it's kind of over the place in the
it's kind of over the place in the
protocol like a lot of transactions have
protocol like a lot of transactions have
protocol like a lot of transactions have
maxed accounts as uh sources or
maxed accounts as uh sources or
maxed accounts as uh sources or
destinations and um yes there is really
destinations and um yes there is really
destinations and um yes there is really
no good reason to kind of uh
no good reason to kind of uh
no good reason to kind of uh
retroactively Plum all this memos uh
retroactively Plum all this memos uh
retroactively Plum all this memos uh
into the classic Max account type and
into the classic Max account type and
into the classic Max account type and
yeah this m will just remain in address
yeah this m will just remain in address
yeah this m will just remain in address
and it will be just yet another special
and it will be just yet another special
and it will be just yet another special
SC address uh as the remainder of with
SC address uh as the remainder of with
SC address uh as the remainder of with
cap 67 we introduced like chable balance
cap 67 we introduced like chable balance
cap 67 we introduced like chable balance
address and liquidity po C address and
address and liquidity po C address and
address and liquidity po C address and
both can only appear in the context of
both can only appear in the context of
both can only appear in the context of
this uh unified events sources of or
this uh unified events sources of or
this uh unified events sources of or
destinations of payments and this is
destinations of payments and this is
destinations of payments and this is
basically the Third special address kind
basically the Third special address kind
basically the Third special address kind
that only appears in unified events
that only appears in unified events
that only appears in unified events
coming from classic um I cannot say this
coming from classic um I cannot say this
coming from classic um I cannot say this
will definitely not cause any breakage
will definitely not cause any breakage
will definitely not cause any breakage
because well we are kind of in order to
because well we are kind of in order to
because well we are kind of in order to
achieve this we need to uh not well kind
achieve this we need to uh not well kind
achieve this we need to uh not well kind
of break right the token events uh by
of break right the token events uh by
of break right the token events uh by
converting the data field from a single
converting the data field from a single
converting the data field from a single
integer to a map there is definitely
integer to a map there is definitely
integer to a map there is definitely
this breakage and you know if someone
this breakage and you know if someone
this breakage and you know if someone
there something to address um they may
there something to address um they may
there something to address um they may
or may not be broken so PR definitely
or may not be broken so PR definitely
or may not be broken so PR definitely
some cost to it but it's not really
some cost to it but it's not really
some cost to it but it's not really
specific to this proposal of uh adding
specific to this proposal of uh adding
specific to this proposal of uh adding
this uh
this uh
this uh
maxed address with memo whatever new
maxed address with memo whatever new
maxed address with memo whatever new
type because we kind of already have
type because we kind of already have
type because we kind of already have
have this issue
have this issue
have this issue
um so yeah uh I hope the breaker scope
um so yeah uh I hope the breaker scope
um so yeah uh I hope the breaker scope
is really minimal especially if like we
is really minimal especially if like we
is really minimal especially if like we
support this iny libraries and whoever
support this iny libraries and whoever
support this iny libraries and whoever
is using string key library to just
is using string key library to just
is using string key library to just
convert to and from a c address they
convert to and from a c address they
convert to and from a c address they
will just need to update the version and
will just need to update the version and
will just need to update the version and
hopefully everything just works
hopefully everything just works
hopefully everything just works
um yeah George you turn stage yeah yeah
um yeah George you turn stage yeah yeah
um yeah George you turn stage yeah yeah
I just wanted to add that um yeah I 100%
I just wanted to add that um yeah I 100%
I just wanted to add that um yeah I 100%
agree that we should minimize or we
agree that we should minimize or we
agree that we should minimize or we
should try not to make any changes to
should try not to make any changes to
should try not to make any changes to
the actual mxed account xdr address or
the actual mxed account xdr address or
the actual mxed account xdr address or
like the M string key format because
like the M string key format because
like the M string key format because
there's deep assumptions in a lot of
there's deep assumptions in a lot of
there's deep assumptions in a lot of
places um Downstream both in platform
places um Downstream both in platform
places um Downstream both in platform
products and Beyond in the ecosystem
products and Beyond in the ecosystem
products and Beyond in the ecosystem
about the M string key specifically
about the M string key specifically
about the M string key specifically
having the integer as the ID so uh yeah
having the integer as the ID so uh yeah
having the integer as the ID so uh yeah
if we can isolate that to SC address
if we can isolate that to SC address
if we can isolate that to SC address
that sounds that sounds
great right that is option four right or
great right that is option four right or
option yeah four right
option yeah four right
option yeah four right
yeah or it's it's more like it's not
yeah or it's it's more like it's not
yeah or it's it's more like it's not
option three I think option three is the
option three I think option three is the
option three I think option three is the
only one that modifies the um string
only one that modifies the um string
only one that modifies the um string
key yeah I think option two is the
key yeah I think option two is the
key yeah I think option two is the
closest yeah like using M wherever
closest yeah like using M wherever
closest yeah like using M wherever
possible but not trying to shoehorn text
possible but not trying to shoehorn text
possible but not trying to shoehorn text
and hash into an M address as long as
and hash into an M address as long as
and hash into an M address as long as
we're talking about the stry
we're talking about the stry
we're talking about the stry
representation not some other
representation not some other
representation not some other
representation
yes yeah I think that's right um yeah I
yes yeah I think that's right um yeah I
understand that concern I I I I
understand that concern I I I I
understand that concern I I I I
personally when I look at these four
personally when I look at these four
personally when I look at these four
options and I think there's more than
options and I think there's more than
options and I think there's more than
these four options so I think you know
these four options so I think you know
these four options so I think you know
if people have other ideas like please
if people have other ideas like please
if people have other ideas like please
post them to this thread um these are
post them to this thread um these are
post them to this thread um these are
just the first four that came to Wine um
just the first four that came to Wine um
just the first four that came to Wine um
the attractive thing about the first
the attractive thing about the first
the attractive thing about the first
option and the third option is
option and the third option is
option and the third option is
that it's very consistent with what you
that it's very consistent with what you
that it's very consistent with what you
see going into a
see going into a
see going into a
transaction um for I think for
transaction um for I think for
transaction um for I think for
exchangers at least or for legacy users
exchangers at least or for legacy users
exchangers at least or for legacy users
so if somebody puts in a memo that's a
so if somebody puts in a memo that's a
so if somebody puts in a memo that's a
string it comes out as being labeled
string it comes out as being labeled
string it comes out as being labeled
this is the here's the string in in
this is the here's the string in in
this is the here's the string in in
exact like it looks exactly the same so
exact like it looks exactly the same so
exact like it looks exactly the same so
if somebody's using developer tooling
if somebody's using developer tooling
if somebody's using developer tooling
they see they decode a transaction they
they see they decode a transaction they
they see they decode a transaction they
see this transaction had a particular
see this transaction had a particular
see this transaction had a particular
memo they decode the event they can see
memo they decode the event they can see
memo they decode the event they can see
the memo right there like they look
the memo right there like they look
the memo right there like they look
exactly the same um and then the same
exactly the same um and then the same
exactly the same um and then the same
thing if you know if the mammo is an
thing if you know if the mammo is an
thing if you know if the mammo is an
integer it looks exactly the same um and
integer it looks exactly the same um and
integer it looks exactly the same um and
because we need to decode the M into a g
because we need to decode the M into a g
because we need to decode the M into a g
for the topics I don't think it's such a
for the topics I don't think it's such a
for the topics I don't think it's such a
stretch for option one to to like break
stretch for option one to to like break
stretch for option one to to like break
it apart and for even in the MX case the
it apart and for even in the MX case the
it apart and for even in the MX case the
integer to come out at least there's
integer to come out at least there's
integer to come out at least there's
some consistency there um the concern I
some consistency there um the concern I
some consistency there um the concern I
have with the two case um is that
have with the two case um is that
have with the two case um is that
because uh it's sort of a little bit
because uh it's sort of a little bit
because uh it's sort of a little bit
less consistent
less consistent
less consistent
you can create a transaction with a Max
you can create a transaction with a Max
you can create a transaction with a Max
address and you get an m on the other
address and you get an m on the other
address and you get an m on the other
side which makes a lot of sense um but
side which makes a lot of sense um but
side which makes a lot of sense um but
then you create a transaction with a g
then you create a transaction with a g
then you create a transaction with a g
in a memo and some memos result in an m
in a memo and some memos result in an m
in a memo and some memos result in an m
and some memos don't result in an
and some memos don't result in an
and some memos don't result in an
m so yeah this might just
m so yeah this might just
m so yeah this might just
be maybe this is an edge case we
be maybe this is an edge case we
be maybe this is an edge case we
shouldn't worry too much about but just
shouldn't worry too much about but just
shouldn't worry too much about but just
that inconsistency seems surprising to
that inconsistency seems surprising to
that inconsistency seems surprising to
me I think it will be surprising to
me I think it will be surprising to
me I think it will be surprising to
somebody
uh just to clarify real quick isn't it
uh just to clarify real quick isn't it
normally the case that when people use
normally the case that when people use
normally the case that when people use
the ID for um
the ID for um
the ID for um
differentiation on uh like Omni bus or
differentiation on uh like Omni bus or
differentiation on uh like Omni bus or
custodial accounts that they would use
custodial accounts that they would use
custodial accounts that they would use
the ID form like text and hash don't
the ID form like text and hash don't
the ID form like text and hash don't
seem like they would apply necessarily
seem like they would apply necessarily
seem like they would apply necessarily
there so it might be like an edge case
there so it might be like an edge case
there so it might be like an edge case
that um you know they're attaching it as
that um you know they're attaching it as
that um you know they're attaching it as
a piece of text that is supposed to like
a piece of text that is supposed to like
a piece of text that is supposed to like
display something so putting that into a
display something so putting that into a
display something so putting that into a
memo would be um it's not intended to
memo would be um it's not intended to
memo would be um it's not intended to
differentiate yeah we should I mean we
differentiate yeah we should I mean we
differentiate yeah we should I mean we
should use we should use the big query
should use we should use the big query
should use we should use the big query
data set just to validate um just to
data set just to validate um just to
data set just to validate um just to
make sure we got these numbers exactly
make sure we got these numbers exactly
make sure we got these numbers exactly
right but when I've looked at this in
right but when I've looked at this in
right but when I've looked at this in
the past I have seen plenty of text
the past I have seen plenty of text
the past I have seen plenty of text
usage actually um but a lot of the text
usage actually um but a lot of the text
usage actually um but a lot of the text
usages exchanges um placing numbers into
usages exchanges um placing numbers into
usages exchanges um placing numbers into
text form and then using the text the
text form and then using the text the
text form and then using the text the
memo text
memo text
memo text
I see so kind of a misuse of the text
I see so kind of a misuse of the text
I see so kind of a misuse of the text
form yeah I think Jake has just
form yeah I think Jake has just
form yeah I think Jake has just
commented on that I think just our
commented on that I think just our
commented on that I think just our
comments about what most exchanges are
comments about what most exchanges are
comments about what most exchanges are
doing we just need to validate that
doing we just need to validate that
doing we just need to validate that
because I know like one exchange that
because I know like one exchange that
because I know like one exchange that
actually does use MOX counts uh well
actually does use MOX counts uh well
actually does use MOX counts uh well
they support both moxed and non-med for
they support both moxed and non-med for
they support both moxed and non-med for
the non-med they use text and then for
the non-med they use text and then for
the non-med they use text and then for
the moxed they're obviously using the ID
the moxed they're obviously using the ID
the moxed they're obviously using the ID
um which is interesting
I think one of the advantages of option
I think one of the advantages of option
three which
three which
three which
modifies the M string key format so that
modifies the M string key format so that
modifies the M string key format so that
it can contain more
it can contain more
it can contain more
information
information
information
um is that it sort of
um is that it sort of
um is that it sort of
pushes everything towards that MOX
pushes everything towards that MOX
pushes everything towards that MOX
address format um I I don't know if that
address format um I I don't know if that
address format um I I don't know if that
would really change adoption of it
would really change adoption of it
would really change adoption of it
probably
probably
probably
not um but it does create like a single
not um but it does create like a single
not um but it does create like a single
unified View and the data that comes out
unified View and the data that comes out
unified View and the data that comes out
the other end I'd be interested in Simon
the other end I'd be interested in Simon
the other end I'd be interested in Simon
if he's here on like you know what the
if he's here on like you know what the
if he's here on like you know what the
perspective is from like a data consumer
perspective is from like a data consumer
perspective is from like a data consumer
perspective like a future data consumer
perspective like a future data consumer
perspective like a future data consumer
perspective assuming that the network
perspective assuming that the network
perspective assuming that the network
will always have more users tomorrow
will always have more users tomorrow
will always have more users tomorrow
than it does today um yeah like which of
than it does today um yeah like which of
than it does today um yeah like which of
these approaches makes the most sense
these approaches makes the most sense
these approaches makes the most sense
for future users and future
consumers hello um I would actually say
consumers hello um I would actually say
for I guess from like a big data or like
for I guess from like a big data or like
for I guess from like a big data or like
olab perspective I don't think any of
olab perspective I don't think any of
olab perspective I don't think any of
these would cause a problem for
these would cause a problem for
these would cause a problem for
scalability um
yeah I'm not sure if that's helpful or
yeah I'm not sure if that's helpful or
not but I think um the amount of users
not but I think um the amount of users
not but I think um the amount of users
that uh unless it gets into I guess like
that uh unless it gets into I guess like
that uh unless it gets into I guess like
the billions of something range which
the billions of something range which
the billions of something range which
um I guess is the like possible won't be
um I guess is the like possible won't be
um I guess is the like possible won't be
an issue for like the next decade or so
an issue for like the next decade or so
an issue for like the next decade or so
um I don't think this would be a problem
um I don't think this would be a problem
um I don't think this would be a problem
from like an olap perspective
what about from the perspective of your
what about from the perspective of your
a data engineer trying to represent this
a data engineer trying to represent this
a data engineer trying to represent this
data and so you're looking at a lot of
data and so you're looking at a lot of
data and so you're looking at a lot of
the data and a lot of the data has just
the data and a lot of the data has just
the data and a lot of the data has just
a single value for this destination and
a single value for this destination and
a single value for this destination and
then in some cases oh this value is
then in some cases oh this value is
then in some cases oh this value is
actually a combination of multiple
actually a combination of multiple
actually a combination of multiple
fields or or something like that does
fields or or something like that does
fields or or something like that does
that um make it more or less difficult
that um make it more or less difficult
that um make it more or less difficult
when integrating into other systems or
when integrating into other systems or
when integrating into other systems or
would that be like a concern or
would that be like a concern or
would that be like a concern or
something that could be like a foot
something that could be like a foot
something that could be like a foot
gun um like something that'd be easy to
gun um like something that'd be easy to
gun um like something that'd be easy to
make a mistake
make a mistake
make a mistake
with I think for our use case um I don't
with I think for our use case um I don't
with I think for our use case um I don't
really have a concern with that I think
really have a concern with that I think
really have a concern with that I think
the concern would be more for whoever is
the concern would be more for whoever is
the concern would be more for whoever is
ingesting from like RPC or creating like
ingesting from like RPC or creating like
ingesting from like RPC or creating like
some Horizon like end
point so I don't know if I'm the best to
point so I don't know if I'm the best to
speak on that
yeah from from Horizon so from Horizon's
yeah from from Horizon so from Horizon's
perspective because we already support M
perspective because we already support M
perspective because we already support M
addresses in their current
addresses in their current
addresses in their current
form um it would be like the format
form um it would be like the format
form um it would be like the format
itself would break right because you
itself would break right because you
itself would break right because you
would need a way to distinguish what
would need a way to distinguish what
would need a way to distinguish what
kind of memo it is now and so anybody
kind of memo it is now and so anybody
kind of memo it is now and so anybody
who's relying on the current string key
who's relying on the current string key
who's relying on the current string key
format would know longer be open be able
format would know longer be open be able
format would know longer be open be able
to use the same string key format right
to use the same string key format right
to use the same string key format right
any existing you know queries or um
any existing you know queries or um
any existing you know queries or um
lookups or parsing routines uh anyone
lookups or parsing routines uh anyone
lookups or parsing routines uh anyone
who's trying to find stuff in Hubble
who's trying to find stuff in Hubble
who's trying to find stuff in Hubble
right they would have to reformulate
right they would have to reformulate
right they would have to reformulate
their M address as far as I understand
their M address as far as I understand
their M address as far as I understand
it I mean it depends on how it gets
it I mean it depends on how it gets
it I mean it depends on how it gets
formatted in the xdr I guess or how the
formatted in the xdr I guess or how the
formatted in the xdr I guess or how the
shinky definition defines it but uh yeah
shinky definition defines it but uh yeah
shinky definition defines it but uh yeah
it seems like this would uh cause a lot
it seems like this would uh cause a lot
it seems like this would uh cause a lot
of pain for Downstream if we extended it
of pain for Downstream if we extended it
of pain for Downstream if we extended it
to be more than just strictly integer
to be more than just strictly integer
to be more than just strictly integer
IDs I think it can when I had to look at
IDs I think it can when I had to look at
IDs I think it can when I had to look at
I I did a quick Spike having a look at
I I did a quick Spike having a look at
I I did a quick Spike having a look at
what would need a change about the M
what would need a change about the M
what would need a change about the M
string key and it's 100% extendable
string key and it's 100% extendable
string key and it's 100% extendable
without breaking existing string keys so
without breaking existing string keys so
without breaking existing string keys so
without confusion so like existing
without confusion so like existing
without confusion so like existing
string Keys
string Keys
string Keys
would um continue to decode to the exact
would um continue to decode to the exact
would um continue to decode to the exact
same value and for any existing
same value and for any existing
same value and for any existing
decoder um that follows the back any new
decoder um that follows the back any new
decoder um that follows the back any new
string key wouldn't overlap with any
string key wouldn't overlap with any
string key wouldn't overlap with any
existing string key so that every new
existing string key so that every new
existing string key so that every new
string key that didn't follow a
string key that didn't follow a
string key that didn't follow a
different format would definitely fail
different format would definitely fail
different format would definitely fail
um like say like when I say new I mean
um like say like when I say new I mean
um like say like when I say new I mean
like the text the return and the hash
like the text the return and the hash
like the text the return and the hash
typ of MOT types so I think we
typ of MOT types so I think we
typ of MOT types so I think we
definitely could do that but um without
definitely could do that but um without
definitely could do that but um without
breaking existing systems
breaking existing systems
breaking existing systems
but you know whether that's the right
but you know whether that's the right
but you know whether that's the right
way still to do that is another question
way still to do that is another question
way still to do that is another question
you know based
you know based
you know based
on
on
on
um there will be systems that probably
um there will be systems that probably
um there will be systems that probably
won't upgrade to the new format and they
won't upgrade to the new format and they
won't upgrade to the new format and they
might assume that there's nothing to
might assume that there's nothing to
might assume that there's nothing to
change and then they become broken yeah
change and then they become broken yeah
change and then they become broken yeah
I don't know I'm interested to hear like
I don't know I'm interested to hear like
I don't know I'm interested to hear like
Nico you were just talking about
Nico you were just talking about
Nico you were just talking about
exchangers will crack open the M address
exchangers will crack open the M address
exchangers will crack open the M address
for case three so that's strictly worse
for case three so that's strictly worse
for case three so that's strictly worse
um as a use case um could you unpack
um as a use case um could you unpack
um as a use case um could you unpack
that a little bit yeah I mean it's
that a little bit yeah I mean it's
that a little bit yeah I mean it's
basically like you know in in the in
basically like you know in in the in
basically like you know in in the in
their inje system what they are looking
their inje system what they are looking
their inje system what they are looking
at is deposits to their hot
at is deposits to their hot
at is deposits to their hot
wallet and then they and then the memo
wallet and then they and then the memo
wallet and then they and then the memo
that's how they you know ingest the
that's how they you know ingest the
that's how they you know ingest the
data um like I don't
data um like I don't
data um like I don't
see like why they would want to
see like why they would want to
see like why they would want to
basically track like M addresses as the
basically track like M addresses as the
basically track like M addresses as the
kind of the the deposit key
kind of the the deposit key
kind of the the deposit key
for for you know separate from the hot
for for you know separate from the hot
for for you know separate from the hot
wet
wet
wet
basically um yeah that's a good point
basically um yeah that's a good point
basically um yeah that's a good point
also for for exchanges that use Define
also for for exchanges that use Define
also for for exchanges that use Define
those identifiers like per customer too
those identifiers like per customer too
those identifiers like per customer too
um like you're you are really interested
um like you're you are really interested
um like you're you are really interested
in that identifier whether it be an ID
in that identifier whether it be an ID
in that identifier whether it be an ID
or a string um I I
or a string um I I
or a string um I I
think I think what I hear you saying is
think I think what I hear you saying is
think I think what I hear you saying is
exchangers actually don't really care
exchangers actually don't really care
exchangers actually don't really care
about the M address after that import
about the M address after that import
about the M address after that import
other than using it as an input so that
other than using it as an input so that
other than using it as an input so that
users can just enter that one value when
users can just enter that one value when
users can just enter that one value when
they're ingesting syst doesn't really
they're ingesting syst doesn't really
they're ingesting syst doesn't really
am I guess you can still argue that um
am I guess you can still argue that um
am I guess you can still argue that um
as a someone who's we're basically
as a someone who's we're basically
as a someone who's we're basically
deciding what is going to be P published
deciding what is going to be P published
deciding what is going to be P published
as an event but you can always uh go
as an event but you can always uh go
as an event but you can always uh go
back and forth between the M or the
back and forth between the M or the
back and forth between the M or the
address plus memo right and you can
address plus memo right and you can
address plus memo right and you can
abtract that away in the SDK or even
abtract that away in the SDK or even
abtract that away in the SDK or even
like as an indexer was actually
like as an indexer was actually
like as an indexer was actually
ingesting this data and converting and
ingesting this data and converting and
ingesting this data and converting and
serving at however you want right so
serving at however you want right so
serving at however you want right so
does it really matter I I think the
does it really matter I I think the
does it really matter I I think the
point about breakage though is very
point about breakage though is very
point about breakage though is very
important right CU I feel like you first
important right CU I feel like you first
important right CU I feel like you first
said it wouldn't cause any breakage but
said it wouldn't cause any breakage but
said it wouldn't cause any breakage but
for anyone uh who is parsing currently M
for anyone uh who is parsing currently M
for anyone uh who is parsing currently M
current M addresses and they don't
current M addresses and they don't
current M addresses and they don't
upgrade their implementation to the new
upgrade their implementation to the new
upgrade their implementation to the new
thing if they see an address that uh
thing if they see an address that uh
thing if they see an address that uh
is using the extended version they would
is using the extended version they would
is using the extended version they would
probably break
probably break
probably break
right yeah in that in that case they're
right yeah in that in that case they're
right yeah in that in that case they're
not going to be able to decode it
not going to be able to decode it
not going to be able to decode it
because it's it'll be a different
because it's it'll be a different
because it's it'll be a different
format yeah I I think it's really some
format yeah I I think it's really some
format yeah I I think it's really some
confusion because I think we might be
confusion because I think we might be
confusion because I think we might be
reading this proposals
reading this proposals
reading this proposals
differently I do not think any proposal
differently I do not think any proposal
differently I do not think any proposal
assumes didn't shink keiss anywhere in
assumes didn't shink keiss anywhere in
assumes didn't shink keiss anywhere in
the
events yeah that's actually exactly what
events yeah that's actually exactly what
I was about to ask like what when we say
I was about to ask like what when we say
I was about to ask like what when we say
from M and to M right in the in the
from M and to M right in the in the
from M and to M right in the in the
transfer topic from G and 2G is an
transfer topic from G and 2G is an
transfer topic from G and 2G is an
address yes basically basically in my
address yes basically basically in my
address yes basically basically in my
mind from G2 g means that from SC
mind from G2 g means that from SC
mind from G2 g means that from SC
address account
address account
address account
ed25 whatever to C address account and
ed25 whatever to C address account and
ed25 whatever to C address account and
from M to m means address maxed account
from M to m means address maxed account
from M to m means address maxed account
which I have introduced in my Spike rate
which I have introduced in my Spike rate
which I have introduced in my Spike rate
and address Max account variant has the
and address Max account variant has the
and address Max account variant has the
max account XD payload U which is
max account XD payload U which is
max account XD payload U which is
existing Max account which it doesn't
existing Max account which it doesn't
existing Max account which it doesn't
even have to to be frankly it could be
even have to to be frankly it could be
even have to to be frankly it could be
just you know Ed plus ID uh there is no
just you know Ed plus ID uh there is no
just you know Ed plus ID uh there is no
additional level of neration
additional level of neration
additional level of neration
um and the same goes for this new uh
um and the same goes for this new uh
um and the same goes for this new uh
memo account uh from z x j point it can
memo account uh from z x j point it can
memo account uh from z x j point it can
be just uh a variant of a c address that
be just uh a variant of a c address that
be just uh a variant of a c address that
contains um G uh well
contains um G uh well
contains um G uh well
ed25 uh key and uh
ed25 uh key and uh
ed25 uh key and uh
memo um which is just the transaction
memo um which is just the transaction
memo um which is just the transaction
memo tapee for example um so this key
memo tapee for example um so this key
memo tapee for example um so this key
discussion is rather like how how do we
discussion is rather like how how do we
discussion is rather like how how do we
like like if we want to convert to
like like if we want to convert to
like like if we want to convert to
string key or not but you know the event
string key or not but you know the event
string key or not but you know the event
structure does not change I think I
structure does not change I think I
structure does not change I think I
think well I think there is an impact
think well I think there is an impact
think well I think there is an impact
here so yes string keys are not part of
here so yes string keys are not part of
here so yes string keys are not part of
the protocol and they're not part of the
the protocol and they're not part of the
the protocol and they're not part of the
xdr but they are part of the developer
xdr but they are part of the developer
xdr but they are part of the developer
experience and um how we structure this
experience and um how we structure this
experience and um how we structure this
will impact it to a degree so um you
will impact it to a degree so um you
will impact it to a degree so um you
know we you I agree that you know we can
know we you I agree that you know we can
know we you I agree that you know we can
bundle these two pieces of information
bundle these two pieces of information
bundle these two pieces of information
the address the actual address and the
the address the actual address and the
the address the actual address and the
the memo separately or together in
the memo separately or together in
the memo separately or together in
different structures the same structures
different structures the same structures
different structures the same structures
um but we do need to make a decision in
um but we do need to make a decision in
um but we do need to make a decision in
the event if it's a top like if it's if
the event if it's a top like if it's if
the event if it's a top like if it's if
if this event the data section is going
if this event the data section is going
if this event the data section is going
to become a map um is one of these
to become a map um is one of these
to become a map um is one of these
fields going to be something that we
fields going to be something that we
fields going to be something that we
expect to be a single unit or we going
expect to be a single unit or we going
expect to be a single unit or we going
to expect them to be separate units and
to expect them to be separate units and
to expect them to be separate units and
so and that affects how it's going to
so and that affects how it's going to
so and that affects how it's going to
render in things like the developer
render in things like the developer
render in things like the developer
Tooling in the RPC Json API um because
Tooling in the RPC Json API um because
Tooling in the RPC Json API um because
that's yeah like that's where we
that's yeah like that's where we
that's yeah like that's where we
actually do map things to string keys
actually do map things to string keys
actually do map things to string keys
and they either map or they don't map
and they either map or they don't map
and they either map or they don't map
well if if we make them like separate
well if if we make them like separate
well if if we make them like separate
fields in the data nothing that we built
fields in the data nothing that we built
fields in the data nothing that we built
today for developer tooling is going to
today for developer tooling is going to
today for developer tooling is going to
be able to map those things to a string
be able to map those things to a string
be able to map those things to a string
key we want them to be a string key if
key we want them to be a string key if
key we want them to be a string key if
we put them in a single field then we
we put them in a single field then we
we put them in a single field then we
have that option um but that may or may
have that option um but that may or may
have that option um but that may or may
not be a good idea and we're also
not be a good idea and we're also
not be a good idea and we're also
talking about redundant data too so does
talking about redundant data too so does
talking about redundant data too so does
it you know if the G is in the topic
it you know if the G is in the topic
it you know if the G is in the topic
does it really make sense to spend
does it really make sense to spend
does it really make sense to spend
another 32 bytes and actually keep that
another 32 bytes and actually keep that
another 32 bytes and actually keep that
g in the data as well that's unclear to
me right yeah yeah I just want to point
me right yeah yeah I just want to point
out that like basically for the
out that like basically for the
out that like basically for the
exchanges I don't think any option is
exchanges I don't think any option is
exchanges I don't think any option is
specifically like bad or inefficient
specifically like bad or inefficient
specifically like bad or inefficient
because like still have a
because like still have a
because like still have a
somewhere in the event um so they you
somewhere in the event um so they you
somewhere in the event um so they you
never need to like par this out of
never need to like par this out of
never need to like par this out of
strink key um as for the overhead yeah I
strink key um as for the overhead yeah I
strink key um as for the overhead yeah I
think it's a
think it's a
think it's a
valid concern
valid concern
valid concern
um yeah I think I think like number one
um yeah I think I think like number one
um yeah I think I think like number one
I think niik sort of pointed out that
I think niik sort of pointed out that
I think niik sort of pointed out that
that was an option that was is like low
that was an option that was is like low
that was an option that was is like low
risk of doing the wrong thing with um
risk of doing the wrong thing with um
risk of doing the wrong thing with um
like option one is so simple you know
like option one is so simple you know
like option one is so simple you know
that everything's pulled apart you've
that everything's pulled apart you've
that everything's pulled apart you've
got everything in the event the really
got everything in the event the really
got everything in the event the really
only downside of option one where
only downside of option one where
only downside of option one where
everything's broken apart is the
everything's broken apart is the
everything's broken apart is the
developer experience isn't quite the
developer experience isn't quite the
developer experience isn't quite the
same so when you're looking at a human
same so when you're looking at a human
same so when you're looking at a human
readable version of an event you're
readable version of an event you're
readable version of an event you're
going to see this memo and a g address
going to see this memo and a g address
going to see this memo and a g address
you're not going to see that M that was
you're not going to see that M that was
you're not going to see that M that was
in the original um but this already
in the original um but this already
in the original um but this already
happens everywhere you know when you go
happens everywhere you know when you go
happens everywhere you know when you go
to uh stella. expert or other explorers
to uh stella. expert or other explorers
to uh stella. expert or other explorers
and you drop in an M address it
and you drop in an M address it
and you drop in an M address it
immediately drops you into a page about
immediately drops you into a page about
immediately drops you into a page about
the G address so I I don't actually
the G address so I I don't actually
the G address so I I don't actually
think we need to have complete
think we need to have complete
think we need to have complete
consistency with madress goes in madress
consistency with madress goes in madress
consistency with madress goes in madress
comes out
comes out
comes out
um yeah yeah I guess I just generally
um yeah yeah I guess I just generally
um yeah yeah I guess I just generally
say I'm generally for option one I think
say I'm generally for option one I think
say I'm generally for option one I think
it's simple the messages
it's simple the messages
it's simple the messages
smaller
smaller
smaller
um yeah
um yeah
um yeah
I yeah I think this may be fine and also
I yeah I think this may be fine and also
I yeah I think this may be fine and also
like for the consistency part like at
like for the consistency part like at
like for the consistency part like at
least like if you can have M addresses
least like if you can have M addresses
least like if you can have M addresses
in the contract invocations um things
in the contract invocations um things
in the contract invocations um things
are immediately much less confusion
are immediately much less confusion
are immediately much less confusion
because you know if you wanted to check
because you know if you wanted to check
because you know if you wanted to check
your
your
your
transaction uh like there is a very good
transaction uh like there is a very good
transaction uh like there is a very good
chance that block Explorer will
chance that block Explorer will
chance that block Explorer will
correctly say that you actually have
correctly say that you actually have
correctly say that you actually have
performed the transfer to an M address
performed the transfer to an M address
performed the transfer to an M address
and you know not some pair which was my
and you know not some pair which was my
and you know not some pair which was my
concern for for the input but for the
concern for for the input but for the
concern for for the input but for the
events I agree it may be not as
events I agree it may be not as
events I agree it may be not as
important and events are generally much
important and events are generally much
important and events are generally much
less human reable so maybe yeah it's not
less human reable so maybe yeah it's not
less human reable so maybe yeah it's not
worth to optimize for exactly the same
worth to optimize for exactly the same
worth to optimize for exactly the same
range
range
range
as rendering as we would have expected
as rendering as we would have expected
as rendering as we would have expected
from the signature of the function
from the signature of the function
from the signature of the function
um
um
um
so
fine okay so it sounds like we're
fine okay so it sounds like we're
leaning towards option one
leaning towards option one
leaning towards option one
no one's opposed to
no one's opposed to
no one's opposed to
that if so we can we can move on to uh
that if so we can we can move on to uh
that if so we can we can move on to uh
the next
topic yeah I'm good all right um the
topic yeah I'm good all right um the
next uh thing I think we should discuss
next uh thing I think we should discuss
next uh thing I think we should discuss
is what to do about the TX memo if we
is what to do about the TX memo if we
is what to do about the TX memo if we
should admit that as a separate event uh
should admit that as a separate event uh
should admit that as a separate event uh
because you know for example if you're
because you know for example if you're
because you know for example if you're
replaying if if an exchange is replaying
replaying if if an exchange is replaying
replaying if if an exchange is replaying
using Classic Events and someone sent a
using Classic Events and someone sent a
using Classic Events and someone sent a
you know a payment to
you know a payment to
you know a payment to
coinbase with TX memo and the M uh and a
coinbase with TX memo and the M uh and a
coinbase with TX memo and the M uh and a
m account we don't have space in the in
m account we don't have space in the in
m account we don't have space in the in
the current events as there as they
the current events as there as they
the current events as there as they
defined uh to include both like both the
defined uh to include both like both the
defined uh to include both like both the
txl and the MX information so an option
txl and the MX information so an option
txl and the MX information so an option
that Dio mentioned is we could just emit
that Dio mentioned is we could just emit
that Dio mentioned is we could just emit
a system event similar to how we cap 67
a system event similar to how we cap 67
a system event similar to how we cap 67
emits a fee event and that event will
emits a fee event and that event will
emits a fee event and that event will
just contain the uh the the TX memo if
just contain the uh the the TX memo if
just contain the uh the the TX memo if
one existed
that I mean I you're saying sorry sorry
that I mean I you're saying sorry sorry
like so you're saying like you would not
like so you're saying like you would not
like so you're saying like you would not
evit emit a m or whatever like know this
evit emit a m or whatever like know this
evit emit a m or whatever like know this
um destination
um destination
um destination
memo event if you have a transaction
memo event if you have a transaction
memo event if you have a transaction
memo no so when I'm saying is uh like on
memo no so when I'm saying is uh like on
memo no so when I'm saying is uh like on
a payment if you use a MOX account you
a payment if you use a MOX account you
a payment if you use a MOX account you
will have a des station memo in the
will have a des station memo in the
will have a des station memo in the
transfer event right
transfer event right
transfer event right
but if that transaction also had a TX
but if that transaction also had a TX
but if that transaction also had a TX
memo set what do you do yeah but but
memo set what do you do yeah but but
memo set what do you do yeah but but
first of all like I'd like to understand
first of all like I'd like to understand
first of all like I'd like to understand
what happens if you only have a
what happens if you only have a
what happens if you only have a
transaction memo and not a Max
transaction memo and not a Max
transaction memo and not a Max
destination yeah so the cap currently
destination yeah so the cap currently
destination yeah so the cap currently
that says that you there's like an order
that says that you there's like an order
that says that you there's like an order
of Precedence so you would pull the TX
of Precedence so you would pull the TX
of Precedence so you would pull the TX
memo and put it into the event but if
memo and put it into the event but if
memo and put it into the event but if
you emitted the TX
you emitted the TX
you emitted the TX
memo uh separately it would probably
memo uh separately it would probably
memo uh separately it would probably
make sense to ignore ignore that order
make sense to ignore ignore that order
make sense to ignore ignore that order
of Precedence and have the consumer pull
of Precedence and have the consumer pull
of Precedence and have the consumer pull
the information that they want right no
the information that they want right no
the information that they want right no
that's mistake yeah because we saw with
that's mistake yeah because we saw with
that's mistake yeah because we saw with
Horizon right like the this model where
Horizon right like the this model where
Horizon right like the this model where
you let clients kind of
you let clients kind of
you let clients kind of
decide um we I think this is the
decide um we I think this is the
decide um we I think this is the
opportunity to
opportunity to
opportunity to
actually fully specify this precedence
actually fully specify this precedence
actually fully specify this precedence
order so that you don't have
order so that you don't have
order so that you don't have
ambiguity right because uh I'm pretty
ambiguity right because uh I'm pretty
ambiguity right because uh I'm pretty
sure I mean I don't know I don't want to
sure I mean I don't know I don't want to
sure I mean I don't know I don't want to
put you know exchanges in in you know in
put you know exchanges in in you know in
put you know exchanges in in you know in
trouble but I I imagine that the
trouble but I I imagine that the
trouble but I I imagine that the
uh um This president's order is not
uh um This president's order is not
uh um This president's order is not
actually respected because it's actually
actually respected because it's actually
actually respected because it's actually
fairly complicated no what well let's
fairly complicated no what well let's
fairly complicated no what well let's
let's I step back for a second is is the
let's I step back for a second is is the
let's I step back for a second is is the
ability to re for an exchange to replay
ability to re for an exchange to replay
ability to re for an exchange to replay
from Genesis using events a requirement
from Genesis using events a requirement
from Genesis using events a requirement
because if it is then you you can't make
because if it is then you you can't make
because if it is then you you can't make
assumptions about if they care like you
assumptions about if they care like you
assumptions about if they care like you
know certain exchanges May care about
know certain exchanges May care about
know certain exchanges May care about
the TX Momo and some may care about the
the TX Momo and some may care about the
the TX Momo and some may care about the
M information
M information
M information
right I think this is a new event stream
right I think this is a new event stream
right I think this is a new event stream
so we get to do what makes sense if uh I
so we get to do what makes sense if uh I
so we get to do what makes sense if uh I
I think yes you don't want to lose the
I think yes you don't want to lose the
I think yes you don't want to lose the
information that there was a TX memo
information that there was a TX memo
information that there was a TX memo
yeah at the same time I do think that
yeah at the same time I do think that
yeah at the same time I do think that
the transfer events should contain the
the transfer events should contain the
the transfer events should contain the
uh you know what we think is the uh I
uh you know what we think is the uh I
uh you know what we think is the uh I
mean as as per specific as per the
mean as as per specific as per the
mean as as per specific as per the
specification of transfer
specification of transfer
specification of transfer
events what we believe is the uh the
events what we believe is the uh the
events what we believe is the uh the
right um you know destination memo in
right um you know destination memo in
right um you know destination memo in
this case
yeah and I think on that point it
yeah and I think on that point it
doesn't I'm not actually sure if reap
doesn't I'm not actually sure if reap
doesn't I'm not actually sure if reap
like we can't we change this this is a
like we can't we change this this is a
like we can't we change this this is a
new event Stream So the replay can use
new event Stream So the replay can use
new event Stream So the replay can use
the new
the new
the new
semantics while the previous versions of
semantics while the previous versions of
semantics while the previous versions of
meta and the transactions still describe
meta and the transactions still describe
meta and the transactions still describe
the old
semantics yeah the the events can uh you
semantics yeah the the events can uh you
know do whatever we can be specified
know do whatever we can be specified
know do whatever we can be specified
however we want them to be maybe I
however we want them to be maybe I
however we want them to be maybe I
wasn't clear like like what I was
wasn't clear like like what I was
wasn't clear like like what I was
initially saying is that the the TX memo
initially saying is that the the TX memo
initially saying is that the the TX memo
would be in this new event and the
would be in this new event and the
would be in this new event and the
transfer event would only have any it
transfer event would only have any it
transfer event would only have any it
only have MOX account information and
only have MOX account information and
only have MOX account information and
and I think ni you're saying that in
and I think ni you're saying that in
and I think ni you're saying that in
some some cases we should uh push the TX
some some cases we should uh push the TX
some some cases we should uh push the TX
memo into the into the transfer event as
memo into the into the transfer event as
memo into the into the transfer event as
well I think for yeah like if we
well I think for yeah like if we
well I think for yeah like if we
are going forward like it's more like
are going forward like it's more like
are going forward like it's more like
yeah what do we want the those events to
yeah what do we want the those events to
yeah what do we want the those events to
look like for Classic Events I think we
look like for Classic Events I think we
look like for Classic Events I think we
want them to properly represent the
want them to properly represent the
want them to properly represent the
destination and uh therefore you need to
destination and uh therefore you need to
destination and uh therefore you need to
see the transfer event with the proper
see the transfer event with the proper
see the transfer event with the proper
destination plus memo like you know like
destination plus memo like you know like
destination plus memo like you know like
option one let's say
option one let's say
option one let's say
right even if the memo is actually at
right even if the memo is actually at
right even if the memo is actually at
the trans has been specified at the
the trans has been specified at the
the trans has been specified at the
transac only at the transaction
transac only at the transaction
transac only at the transaction
layer okay so if the if the account
layer okay so if the if the account
layer okay so if the if the account
wasn't moxed then for the uh the memo
wasn't moxed then for the uh the memo
wasn't moxed then for the uh the memo
into the transfer uh event and
into the transfer uh event and
into the transfer uh event and
the M basically
the M basically
the M basically
indistinguishable if you have like only
indistinguishable if you have like only
indistinguishable if you have like only
the transaction level memo only the
the transaction level memo only the
the transaction level memo only the
destination uh you know um M account on
destination uh you know um M account on
destination uh you know um M account on
either transaction or operation right
either transaction or operation right
either transaction or operation right
those three cases should all end up with
those three cases should all end up with
those three cases should all end up with
the right U you know transfer event with
the right U you know transfer event with
the right U you know transfer event with
the added memo information as far as
the added memo information as far as
the added memo information as far as
like the you know do we need a an event
like the you know do we need a an event
like the you know do we need a an event
for the memo I don't know what the use
for the memo I don't know what the use
for the memo I don't know what the use
cases for that are so
cases for that are so
cases for that are so
yeah like like
yeah like like
yeah like like
people you can already get that by um by
people you can already get that by um by
people you can already get that by um by
pulling the transaction itself and you
pulling the transaction itself and you
pulling the transaction itself and you
know cracking it open basically if you
know cracking it open basically if you
know cracking it open basically if you
want if you really
that but uh I agree that that you can do
that but uh I agree that that you can do
that
that
that
but like didn't didn't we want uh
but like didn't didn't we want uh
but like didn't didn't we want uh
consumers to not have to do
consumers to not have to do
consumers to not have to do
that I guess I guess it depends on if
that I guess I guess it depends on if
that I guess I guess it depends on if
that's a requirement or not we care
that's a requirement or not we care
that's a requirement or not we care
about in the context of if I think the
about in the context of if I think the
about in the context of if I think the
context of the cap was
context of the cap was
context of the cap was
transfers in the context of transfers
transfers in the context of transfers
transfers in the context of transfers
this sound seems to be out of
sorry I'm I'm not totally tracking with
sorry I'm I'm not totally tracking with
with what we've just
said so uh Nico is saying that the that
said so uh Nico is saying that the that
that the emitting an event purely for
that the emitting an event purely for
that the emitting an event purely for
the TX memo like a separate event is out
the TX memo like a separate event is out
the TX memo like a separate event is out
of scope in in terms in in the context
of scope in in terms in in the context
of scope in in terms in in the context
of transfers I'm not sure about this spe
of transfers I'm not sure about this spe
of transfers I'm not sure about this spe
I'm specifically thinking about the the
I'm specifically thinking about the the
I'm specifically thinking about the the
replay case uh for exchanges
replay case uh for exchanges
replay case uh for exchanges
uh cuz I you know if you what what what
uh cuz I you know if you what what what
uh cuz I you know if you what what what
is what happens if you have a
is what happens if you have a
is what happens if you have a
transaction of the TX memo and MX MX
transaction of the TX memo and MX MX
transaction of the TX memo and MX MX
destination account uh because without
destination account uh because without
destination account uh because without
the TX memo event you can only show one
the TX memo event you can only show one
the TX memo event you can only show one
right but in that case the thing is that
right but in that case the thing is that
right but in that case the thing is that
if people have like complex logic they
if people have like complex logic they
if people have like complex logic they
will have to actually derive it from the
will have to actually derive it from the
will have to actually derive it from the
transaction they have to know exactly
transaction they have to know exactly
transaction they have to know exactly
okay did we which combination of things
okay did we which combination of things
okay did we which combination of things
right uh where they into I think that's
right uh where they into I think that's
right uh where they into I think that's
why I'm saying like the the transaction
why I'm saying like the the transaction
why I'm saying like the the transaction
memo is not sufficient if you if you're
memo is not sufficient if you if you're
memo is not sufficient if you if you're
get if you're starting to pull that
get if you're starting to pull that
get if you're starting to pull that
thread like you have to do transaction
thread like you have to do transaction
thread like you have to do transaction
memo two second on the transac I mean
memo two second on the transac I mean
memo two second on the transac I mean
destination oh actually no this one I
destination oh actually no this one I
destination oh actually no this one I
guess the override can only happen on
guess the override can only happen on
guess the override can only happen on
the two so it there's only one place but
the two so it there's only one place but
the two so it there's only one place but
if it's the
if it's the
if it's the
source uh that's where you have like the
source uh that's where you have like the
source uh that's where you have like the
transaction Source or the operation
transaction Source or the operation
transaction Source or the operation
Source right that are on yeah yeah the
Source right that are on yeah yeah the
Source right that are on yeah yeah the
source does make this more
source does make this more
source does make this more
complicated this is well I'm actually
complicated this is well I'm actually
complicated this is well I'm actually
not sure if the source makes it though
not sure if the source makes it though
not sure if the source makes it though
much more complicated does it isn't
much more complicated does it isn't
much more complicated does it isn't
isn't the complexity that an exchange
isn't the complexity that an exchange
isn't the complexity that an exchange
might be reading the TX memo today and
might be reading the TX memo today and
might be reading the TX memo today and
actually ignoring the M the MOX address
actually ignoring the M the MOX address
actually ignoring the M the MOX address
and just using the G part of the max
and just using the G part of the max
and just using the G part of the max
address isn't that the complex part yeah
address isn't that the complex part yeah
address isn't that the complex part yeah
well so that's the that's scenario that
well so that's the that's scenario that
well so that's the that's scenario that
I like this event might help you solve
I like this event might help you solve
I like this event might help you solve
maybe right because I'm sure that I'm
maybe right because I'm sure that I'm
maybe right because I'm sure that I'm
guessing that happens today like if I
guessing that happens today like if I
guessing that happens today like if I
send a uh an a payment to coinbase with
send a uh an a payment to coinbase with
send a uh an a payment to coinbase with
the MOX account set and a TX memo like
the MOX account set and a TX memo like
the MOX account set and a TX memo like
they if they they probably just I'm
they if they they probably just I'm
they if they they probably just I'm
guessing they treat it as if the account
guessing they treat it as if the account
guessing they treat it as if the account
wasn't mxed
right no that's why we don't know
right no that's why we don't know
because it's uh yeah under
specified okay I guess for this we'll uh
specified okay I guess for this we'll uh
like to me that yeah like the we this
like to me that yeah like the we this
like to me that yeah like the we this
discussion is more like I I see the
discussion is more like I I see the
discussion is more like I I see the
historical stuff as more like as a best
historical stuff as more like as a best
historical stuff as more like as a best
effort because really like exchanges in
effort because really like exchanges in
effort because really like exchanges in
particular are they really I mean do you
particular are they really I mean do you
particular are they really I mean do you
really want people to to be reinges uh
really want people to to be reinges uh
really want people to to be reinges uh
you know from Genesis or something like
you know from Genesis or something like
you know from Genesis or something like
uh they already ingested already
uh they already ingested already
uh they already ingested already
reconcile all these data in their back
reconcile all these data in their back
reconcile all these data in their back
end yeah that's a good
end yeah that's a good
end yeah that's a good
point
okay there's also the additional um
okay there's also the additional um
ambiguity of if someone's sending to a m
ambiguity of if someone's sending to a m
ambiguity of if someone's sending to a m
address and has a memo at the
address and has a memo at the
address and has a memo at the
transaction level you shouldn't
transaction level you shouldn't
transaction level you shouldn't
necessarily assume that that transaction
necessarily assume that that transaction
necessarily assume that that transaction
memo is a specification of a user on the
memo is a specification of a user on the
memo is a specification of a user on the
destination side right it could just be
destination side right it could just be
destination side right it could just be
some free text just for the purposes of
some free text just for the purposes of
some free text just for the purposes of
describing the
transaction yeah the point of this event
transaction yeah the point of this event
was just to you know show all the
was just to you know show all the
was just to you know show all the
information and have the consumers deal
information and have the consumers deal
information and have the consumers deal
with it um but it sounds like we we we
with it um but it sounds like we we we
with it um but it sounds like we we we
don't need to deal with this right now
don't need to deal with this right now
don't need to deal with this right now
um also we're out of time the last thing
um also we're out of time the last thing
um also we're out of time the last thing
we were going to discuss we we can maybe
we were going to discuss we we can maybe
we were going to discuss we we can maybe
do this offline is that we don't we no
do this offline is that we don't we no
do this offline is that we don't we no
longer need cap 64
longer need cap 64
longer need cap 64
um but uh I don't know Deo if you want
um but uh I don't know Deo if you want
um but uh I don't know Deo if you want
to say anything about that yeah I guess
to say anything about that yeah I guess
to say anything about that yeah I guess
the consensus of the discussions has
the consensus of the discussions has
the consensus of the discussions has
been that yeah cap 64 is not needed and
been that yeah cap 64 is not needed and
been that yeah cap 64 is not needed and
yeah this is just an official
yeah this is just an official
yeah this is just an official
announcement that we Are CL on it
announcement that we Are CL on it
announcement that we Are CL on it
because MOS will be implemented
because MOS will be implemented
because MOS will be implemented
differently um yeah that's
it all right then uh we're out of time
it all right then uh we're out of time
for today uh thank thank you for joining
for today uh thank thank you for joining
for today uh thank thank you for joining
and thanks everyone for participating
