Hello everyone and welcome to this
Hello everyone and welcome to this
week's style developer meeting.
week's style developer meeting.
week's style developer meeting.
today I have quite a few guests
today I have quite a few guests
today I have quite a few guests
joining the call from NMIX. So please
joining the call from NMIX. So please
joining the call from NMIX. So please
please introduce yourself.
 Good morning everyone. My name is
 Good morning everyone. My name is
Chaved. the CEO and co-founder of
Chaved. the CEO and co-founder of
Chaved. the CEO and co-founder of
Onomics where we are building
Onomics where we are building
Onomics where we are building
financial institution infrastructure on
financial institution infrastructure on
financial institution infrastructure on
chain on Stellar. we use the diamond
chain on Stellar. we use the diamond
chain on Stellar. we use the diamond
proxy standard which we will be talking
proxy standard which we will be talking
proxy standard which we will be talking
to you about very shortly. and our
to you about very shortly. and our
to you about very shortly. and our
entire objective is to allow a seamless
entire objective is to allow a seamless
entire objective is to allow a seamless
transition of for asset managers to
transition of for asset managers to
transition of for asset managers to
seamlessly transition onchain without
seamlessly transition onchain without
seamlessly transition onchain without
ever realizing that it's actually
ever realizing that it's actually
ever realizing that it's actually
blockchain that's running the show in
blockchain that's running the show in
blockchain that's running the show in
the background. I pass over to Thomas
the background. I pass over to Thomas
the background. I pass over to Thomas
and Sebastian.
Yeah, my name is Thomas Brown. I'm here
Yeah, my name is Thomas Brown. I'm here
at Nomix. been working on Sora,
at Nomix. been working on Sora,
at Nomix. been working on Sora,
a project that caught my eye as a native
a project that caught my eye as a native
a project that caught my eye as a native
Rust developer. I've been doing it now
Rust developer. I've been doing it now
Rust developer. I've been doing it now
for about 10 years, that is to say Rust.
for about 10 years, that is to say Rust.
for about 10 years, that is to say Rust.
and so far my experience working
and so far my experience working
and so far my experience working
Stellar has been incredible. I had
Stellar has been incredible. I had
Stellar has been incredible. I had
experience working on other blockchains
experience working on other blockchains
experience working on other blockchains
and being a Rust developer and being
and being a Rust developer and being
and being a Rust developer and being
familiar with the benefits the language
familiar with the benefits the language
familiar with the benefits the language
I feel like Stellar's system makes it
I feel like Stellar's system makes it
I feel like Stellar's system makes it
really intuitive for a seasoned
really intuitive for a seasoned
really intuitive for a seasoned
developer and even those with lesser
developer and even those with lesser
developer and even those with lesser
experience to just jump on board. So
experience to just jump on board. So
experience to just jump on board. So
this has been a really fun and
this has been a really fun and
this has been a really fun and
interesting experience for me so far.
interesting experience for me so far.
interesting experience for me so far.
Hi everybody. My name is Sebastian
Hi everybody. My name is Sebastian
Hi everybody. My name is Sebastian
Shepus. I'm the CTO here at Nomix and
Shepus. I'm the CTO here at Nomix and
Shepus. I'm the CTO here at Nomix and
I'm excited to be here. we've been
I'm excited to be here. we've been
I'm excited to be here. we've been
working on this technology for a while
working on this technology for a while
working on this technology for a while
and we Thomas is one of the best
and we Thomas is one of the best
and we Thomas is one of the best
Rust developers we know and we've had
Rust developers we know and we've had
Rust developers we know and we've had
a really good time building this
a really good time building this
a really good time building this
infrastructure. So we hope that you
infrastructure. So we hope that you
infrastructure. So we hope that you
enjoy what you see
enjoy what you see
enjoy what you see
and find it useful.
Excellent.
Excellent.
Mason, you want to introduce yourself?
Mason, you want to introduce yourself?
Mason, you want to introduce yourself?
 Let me just wish my comments.
 Let me just wish my comments.
 Let me just wish my comments.
 Hello everyone.
 Hello everyone.
 Hello everyone.
Good morning, good evening,
Good morning, good evening,
Good morning, good evening,
good afternoon from wherever you're
good afternoon from wherever you're
good afternoon from wherever you're
joining. I'm M Heather. I'm the head of
joining. I'm M Heather. I'm the head of
joining. I'm M Heather. I'm the head of
engineering at Nomix. it's been quite
engineering at Nomix. it's been quite
engineering at Nomix. it's been quite
a journey at Nomix and now we see Nomix
a journey at Nomix and now we see Nomix
a journey at Nomix and now we see Nomix
also working with solar pan and seller
also working with solar pan and seller
also working with solar pan and seller
and my part here is to integrate that
and my part here is to integrate that
and my part here is to integrate that
into our overall auto deployer
into our overall auto deployer
into our overall auto deployer
solution where we onboard customers
solution where we onboard customers
solution where we onboard customers
within a 20 to 30 minute time frame and
within a 20 to 30 minute time frame and
within a 20 to 30 minute time frame and
deploy them onto their target chain and
deploy them onto their target chain and
deploy them onto their target chain and
we're quickly on wrapping them
we're quickly on wrapping them
we're quickly on wrapping them
onboarding them onto
onboarding them onto
onboarding them onto
chains as well.
chains as well.
chains as well.
 Great. Thank you for the introductions.
 Great. Thank you for the introductions.
 Great. Thank you for the introductions.
 Yeah,
 Yeah,
 Yeah,
 I really love tooling tooling and
 I really love tooling tooling and
 I really love tooling tooling and
and yeah, what what can make your
and yeah, what what can make your
and yeah, what what can make your
work as a developer and and and
work as a developer and and and
work as a developer and and and
deploying your your smart contracts
deploying your your smart contracts
deploying your your smart contracts
easier. That's something that's really
easier. That's something that's really
easier. That's something that's really
interesting to me. I have not had a
interesting to me. I have not had a
interesting to me. I have not had a
chance to to play around with your
chance to to play around with your
chance to to play around with your
solution. So I'm I'm super excited to
solution. So I'm I'm super excited to
solution. So I'm I'm super excited to
see see your presentation and your demo.
see see your presentation and your demo.
see see your presentation and your demo.
 Sounds great. So to start off I believe
 Sounds great. So to start off I believe
 Sounds great. So to start off I believe
we would like to share a little bit
we would like to share a little bit
we would like to share a little bit
about the motivation for why we were
about the motivation for why we were
about the motivation for why we were
developing the Soraban version of the
developing the Soraban version of the
developing the Soraban version of the
diamond proxy standard. So like I
diamond proxy standard. So like I
diamond proxy standard. So like I
mentioned earlier our mission at Nomix
mentioned earlier our mission at Nomix
mentioned earlier our mission at Nomix
is to allow traditional asset managers
is to allow traditional asset managers
is to allow traditional asset managers
and traditional finance projects to
and traditional finance projects to
and traditional finance projects to
transition onchain in a manner which
transition onchain in a manner which
transition onchain in a manner which
completely abstracts away the complexity
completely abstracts away the complexity
completely abstracts away the complexity
of blockchain technology where they
of blockchain technology where they
of blockchain technology where they
don't even realize that it's blockchain
don't even realize that it's blockchain
don't even realize that it's blockchain
running the show in the background. We
running the show in the background. We
running the show in the background. We
don't say the B word, we don't say the C
don't say the B word, we don't say the C
don't say the B word, we don't say the C
word. There's no blockchain, no crypto.
word. There's no blockchain, no crypto.
word. There's no blockchain, no crypto.
it just happens to run on blockchain
it just happens to run on blockchain
it just happens to run on blockchain
based infrastructure. So one of the key
based infrastructure. So one of the key
based infrastructure. So one of the key
challenges that we saw when we were
challenges that we saw when we were
challenges that we saw when we were
going out there and refining our product
going out there and refining our product
going out there and refining our product
market fit was convincing these asset
market fit was convincing these asset
market fit was convincing these asset
managers to transition onchain because
managers to transition onchain because
managers to transition onchain because
everyone has their preconceived biases
everyone has their preconceived biases
everyone has their preconceived biases
about blockchain technology which is hey
about blockchain technology which is hey
about blockchain technology which is hey
it's immutable and once something is
it's immutable and once something is
it's immutable and once something is
deployed on chain that can never ever be
deployed on chain that can never ever be
deployed on chain that can never ever be
changed ever again which is great when
changed ever again which is great when
changed ever again which is great when
you're operating in the DeFi land where
you're operating in the DeFi land where
you're operating in the DeFi land where
you know you've got pictures of monkeys
you know you've got pictures of monkeys
you know you've got pictures of monkeys
on NFDS or I don't know you, you don't
on NFDS or I don't know you, you don't
on NFDS or I don't know you, you don't
know me, and you're issuing a a random
know me, and you're issuing a a random
know me, and you're issuing a a random
token that I want to audit the code for
token that I want to audit the code for
token that I want to audit the code for
to make sure I'm not going to get rugged
to make sure I'm not going to get rugged
to make sure I'm not going to get rugged
or I'm not going to get my token stolen
or I'm not going to get my token stolen
or I'm not going to get my token stolen
or you're not going to dilute me just by
or you're not going to dilute me just by
or you're not going to dilute me just by
issuing new tokens. But that
issuing new tokens. But that
issuing new tokens. But that
immutability is a double-edged sword.
immutability is a double-edged sword.
immutability is a double-edged sword.
That immutability turns into a massive
That immutability turns into a massive
That immutability turns into a massive
liability for financial institutions
liability for financial institutions
liability for financial institutions
that expect to update these smart
that expect to update these smart
that expect to update these smart
contracts at a regular cadence when
contracts at a regular cadence when
contracts at a regular cadence when
either a zero day bug is discovered or
either a zero day bug is discovered or
either a zero day bug is discovered or
whether regulations change. As you all
whether regulations change. As you all
whether regulations change. As you all
know, we're in the very nent stages of
know, we're in the very nent stages of
know, we're in the very nent stages of
tokenization as a industry, as a market
tokenization as a industry, as a market
tokenization as a industry, as a market
segment. maybe only three to five
segment. maybe only three to five
segment. maybe only three to five
years tops. and because of this
years tops. and because of this
years tops. and because of this
immutability, these asset managers were
immutability, these asset managers were
immutability, these asset managers were
very hesitant to adopt because when you
very hesitant to adopt because when you
very hesitant to adopt because when you
do smart contract upgrades in the
do smart contract upgrades in the
do smart contract upgrades in the
traditional sense, which is you're
traditional sense, which is you're
traditional sense, which is you're
deprecating the old contract and
deprecating the old contract and
deprecating the old contract and
transitioning everyone to a new
transitioning everyone to a new
transitioning everyone to a new
contract, it's a massive pain for the
contract, it's a massive pain for the
contract, it's a massive pain for the
asset issuer. It's a huge poor It's a
asset issuer. It's a huge poor It's a
asset issuer. It's a huge poor It's a
very poor user experience for the end
very poor user experience for the end
very poor user experience for the end
user as well. So what we're deploying
user as well. So what we're deploying
user as well. So what we're deploying
out there into the world looks, feels,
out there into the world looks, feels,
out there into the world looks, feels,
and smells like a traditional brokerage
and smells like a traditional brokerage
and smells like a traditional brokerage
account that's built on these diamond
account that's built on these diamond
account that's built on these diamond
proxy standard. One of the key reasons
proxy standard. One of the key reasons
proxy standard. One of the key reasons
that all of the tokenization initiatives
that all of the tokenization initiatives
that all of the tokenization initiatives
to date, apart from a few very diff very
to date, apart from a few very diff very
to date, apart from a few very diff very
few exceptions, have happened behind
few exceptions, have happened behind
few exceptions, have happened behind
walled gardens is because of this
walled gardens is because of this
walled gardens is because of this
feature because they want to carefully
feature because they want to carefully
feature because they want to carefully
control the entire blockchain that
control the entire blockchain that
control the entire blockchain that
they're operating on. So if they need to
they're operating on. So if they need to
they're operating on. So if they need to
roll something back or if they need to
roll something back or if they need to
roll something back or if they need to
upgrade things, they have the complete
upgrade things, they have the complete
upgrade things, they have the complete
cart launch to do so. But we all know
cart launch to do so. But we all know
cart launch to do so. But we all know
that there's inherent liquidity on
that there's inherent liquidity on
that there's inherent liquidity on
public ledgers. And if you want to
public ledgers. And if you want to
public ledgers. And if you want to
democratize access to various financial
democratize access to various financial
democratize access to various financial
instruments and increase your
instruments and increase your
instruments and increase your
investor base, you need to be able to
investor base, you need to be able to
investor base, you need to be able to
tackle these public blockchains. This
tackle these public blockchains. This
tackle these public blockchains. This
entire concept, this entire challenge is
entire concept, this entire challenge is
entire concept, this entire challenge is
why we decided to build the diamond
why we decided to build the diamond
why we decided to build the diamond
proxy standard on Sora.
proxy standard on Sora.
proxy standard on Sora.
I'll pause here very quickly for any
I'll pause here very quickly for any
I'll pause here very quickly for any
comments from you, Carson.
comments from you, Carson.
comments from you, Carson.
 Yeah, I just want to say that if anyone
 Yeah, I just want to say that if anyone
 Yeah, I just want to say that if anyone
watching here has any questions,
watching here has any questions,
watching here has any questions,
please feel free to post them in the
please feel free to post them in the
please feel free to post them in the
chat and we will we will try to take
chat and we will we will try to take
chat and we will we will try to take
them as as they come in. but but
them as as they come in. but but
them as as they come in. but but
yeah, I yeah, I think that that was a
yeah, I yeah, I think that that was a
yeah, I yeah, I think that that was a
that was a great intro. maybe maybe just
that was a great intro. maybe maybe just
that was a great intro. maybe maybe just
very briefly describe what the
very briefly describe what the
very briefly describe what the
diamond pattern what what that is
diamond pattern what what that is
diamond pattern what what that is
for those who are less familiar with it.
for those who are less familiar with it.
for those who are less familiar with it.
 Of course. So the diamond proxy standard
 Of course. So the diamond proxy standard
 Of course. So the diamond proxy standard
is functions similarly to how proxies
is functions similarly to how proxies
is functions similarly to how proxies
work in the traditional web 2.0 world
work in the traditional web 2.0 world
work in the traditional web 2.0 world
if you're familiar with them. So instead
if you're familiar with them. So instead
if you're familiar with them. So instead
of having a monolithic smart contract
of having a monolithic smart contract
of having a monolithic smart contract
structure, you actually have something
structure, you actually have something
structure, you actually have something
called the diamond
called the diamond
called the diamond
smart contract which basically if you
smart contract which basically if you
smart contract which basically if you
think about it all typically all of the
think about it all typically all of the
think about it all typically all of the
smart contracts have their independent
smart contracts have their independent
smart contracts have their independent
stoages and they're all hardcoded to
stoages and they're all hardcoded to
stoages and they're all hardcoded to
each other to work with each other. If
each other to work with each other. If
each other to work with each other. If
you've got a marketplace smart contract,
you've got a marketplace smart contract,
you've got a marketplace smart contract,
if you've got a token issuance smart
if you've got a token issuance smart
if you've got a token issuance smart
contract, if you've got a fee
contract, if you've got a fee
contract, if you've got a fee
distribution smart contract, all of them
distribution smart contract, all of them
distribution smart contract, all of them
are kind of linked together in a in a
are kind of linked together in a in a
are kind of linked together in a in a
hard-coded manner, for the lack of a
hard-coded manner, for the lack of a
hard-coded manner, for the lack of a
better word. What the diamond proxy
better word. What the diamond proxy
better word. What the diamond proxy
allows you to do is have a common
allows you to do is have a common
allows you to do is have a common
storage for all of these smart
storage for all of these smart
storage for all of these smart
contracts. And there's multiple facets
contracts. And there's multiple facets
contracts. And there's multiple facets
on that smart contract. And each one of
on that smart contract. And each one of
on that smart contract. And each one of
these facets are responsible for a
these facets are responsible for a
these facets are responsible for a
specific kind of functionality. Now, at
specific kind of functionality. Now, at
specific kind of functionality. Now, at
a 10,000 feet overview, and Thomas can
a 10,000 feet overview, and Thomas can
a 10,000 feet overview, and Thomas can
get into that a little bit deeper, at a
get into that a little bit deeper, at a
get into that a little bit deeper, at a
10,000 feet overview, when you need to
10,000 feet overview, when you need to
10,000 feet overview, when you need to
change anything at all in a diamond
change anything at all in a diamond
change anything at all in a diamond
proxy, you're simply able to shave away
proxy, you're simply able to shave away
proxy, you're simply able to shave away
a facet and replace it with a newer
a facet and replace it with a newer
a facet and replace it with a newer
facet without impacting the rest of the
facet without impacting the rest of the
facet without impacting the rest of the
functionality of the contract or without
functionality of the contract or without
functionality of the contract or without
having to do costly reissuances and
having to do costly reissuances and
having to do costly reissuances and
migrations of those tokens.
migrations of those tokens.
migrations of those tokens.
 Great. Okay. So, I'll pause for any
 Great. Okay. So, I'll pause for any
 Great. Okay. So, I'll pause for any
highle questions and then I'll let
highle questions and then I'll let
highle questions and then I'll let
Thomas take it away and get down into
Thomas take it away and get down into
Thomas take it away and get down into
the nitty-gritty.
the nitty-gritty.
the nitty-gritty.
 Sounds good.
 Here's there was one question from
 Here's there was one question from
the audience asking for a link to the
the audience asking for a link to the
the audience asking for a link to the
standard. Now, , did you want it in
standard. Now, , did you want it in
standard. Now, , did you want it in
just like a GitHub repo link of our SCP
just like a GitHub repo link of our SCP
just like a GitHub repo link of our SCP
filing because that's what we're going
filing because that's what we're going
filing because that's what we're going
to go over next.
to go over next.
to go over next.
 Yeah, I can I can post that one.
 Yeah, I can I can post that one.
 Yeah, I can I can post that one.
 Yeah.
Yeah, there you go. So, yeah, we are
Yeah, there you go. So, yeah, we are
proposing a set. We filed this up a
proposing a set. We filed this up a
proposing a set. We filed this up a
couple of months ago and now we're ready
couple of months ago and now we're ready
couple of months ago and now we're ready
to drive additional eyeballs on it from
to drive additional eyeballs on it from
to drive additional eyeballs on it from
the community and have it start to be
the community and have it start to be
the community and have it start to be
adopted throughout the Sorban community
adopted throughout the Sorban community
adopted throughout the Sorban community
as well. We'll also be going through Sor
as well. We'll also be going through Sor
as well. We'll also be going through Sor
OpenZeppelin audits of the smart
OpenZeppelin audits of the smart
OpenZeppelin audits of the smart
contract in very short order over the
contract in very short order over the
contract in very short order over the
next month or two. So, yeah, Thomas,
next month or two. So, yeah, Thomas,
next month or two. So, yeah, Thomas,
take it away if you want to share your
take it away if you want to share your
take it away if you want to share your
screen.
screen.
screen.
 Great. and just get this set up.
All right, the diamond proxy standard.
All right, the diamond proxy standard.
So before I get into discussing
So before I get into discussing
So before I get into discussing
the jargon that's used here because
the jargon that's used here because
the jargon that's used here because
somebody looking at this for the first
somebody looking at this for the first
somebody looking at this for the first
time will be inundated with all these
time will be inundated with all these
time will be inundated with all these
new keywords. I think as a developer
new keywords. I think as a developer
new keywords. I think as a developer
speaking to other developers, it makes
speaking to other developers, it makes
speaking to other developers, it makes
the most sense to approach this from a
the most sense to approach this from a
the most sense to approach this from a
common perspective. ,
common perspective. ,
common perspective. ,
typically when we're developing a smart
typically when we're developing a smart
typically when we're developing a smart
contract, we can think of a smart
contract, we can think of a smart
contract, we can think of a smart
contract as like a class of sorts.
contract as like a class of sorts.
contract as like a class of sorts.
It's something that runs and it's
It's something that runs and it's
It's something that runs and it's
structured. You can add functions to it.
structured. You can add functions to it.
structured. You can add functions to it.
You can add data fields to it. You can
You can add data fields to it. You can
You can add data fields to it. You can
control how those data fields are
control how those data fields are
control how those data fields are
accessed through different view
accessed through different view
accessed through different view
modifiers.
modifiers.
modifiers.
And in web 3.0 or in blockchain space
And in web 3.0 or in blockchain space
And in web 3.0 or in blockchain space
instead of having a class just running
instead of having a class just running
instead of having a class just running
on your local machine which is the case
on your local machine which is the case
on your local machine which is the case
for normal object-oriented programming
for normal object-oriented programming
for normal object-oriented programming
when you're talking about
when you're talking about
when you're talking about
paradigms like Stellar or Ethereum
paradigms like Stellar or Ethereum
paradigms like Stellar or Ethereum
anything like that we have a distributed
anything like that we have a distributed
anything like that we have a distributed
class so that class file that code is
class so that class file that code is
class so that class file that code is
being executed across many machines at
being executed across many machines at
being executed across many machines at
once and so there's a beauty and
once and so there's a beauty and
once and so there's a beauty and
elegance to the notion of smart
elegance to the notion of smart
elegance to the notion of smart
contracts. Now, in order to achieve
contracts. Now, in order to achieve
contracts. Now, in order to achieve
that, you have to have consensus and
that, you have to have consensus and
that, you have to have consensus and
there has to be
there has to be
there has to be
pin to the location of where that
pin to the location of where that
pin to the location of where that
smart contract exists.
smart contract exists.
smart contract exists.
And that's
And that's
And that's
that's one of the reasons why we have to
that's one of the reasons why we have to
that's one of the reasons why we have to
have the diamond proxy because
have the diamond proxy because
have the diamond proxy because
it's great. You can go ahead deploy
it's great. You can go ahead deploy
it's great. You can go ahead deploy
smart contract, but we quickly run into
smart contract, but we quickly run into
smart contract, but we quickly run into
the problem in the web 3 space where say
the problem in the web 3 space where say
the problem in the web 3 space where say
you have some business logic and you
you have some business logic and you
you have some business logic and you
deploy it. A month down the road manager
deploy it. A month down the road manager
deploy it. A month down the road manager
approaches you and says, "Hey, I would
approaches you and says, "Hey, I would
approaches you and says, "Hey, I would
like this functionality changed."
like this functionality changed."
like this functionality changed."
Well, in order to do that, you're going
Well, in order to do that, you're going
Well, in order to do that, you're going
to have to a redeploy
to have to a redeploy
to have to a redeploy
and b change the pointer of the smart
and b change the pointer of the smart
and b change the pointer of the smart
contract on chain and tell anybody who's
contract on chain and tell anybody who's
contract on chain and tell anybody who's
using your system, okay, don't target
using your system, okay, don't target
using your system, okay, don't target
this contract address anymore. Target
this contract address anymore. Target
this contract address anymore. Target
this one. And so you could have, let's
this one. And so you could have, let's
this one. And so you could have, let's
say, some kind of layer that
say, some kind of layer that
say, some kind of layer that
automatically reroutes all that for you.
automatically reroutes all that for you.
automatically reroutes all that for you.
And people were doing that for some
And people were doing that for some
And people were doing that for some
time. But
time. But
time. But
what if there was a way to
what if there was a way to
what if there was a way to
proxy and reroute calls
proxy and reroute calls
proxy and reroute calls
on the blockchain itself? So how can we
on the blockchain itself? So how can we
on the blockchain itself? So how can we
go from something that is intrinsically
go from something that is intrinsically
go from something that is intrinsically
immutable
immutable
immutable
to something that is actually mutable?
to something that is actually mutable?
to something that is actually mutable?
And so it seems like a little bit like
And so it seems like a little bit like
And so it seems like a little bit like
magic, but it really isn't. And
magic, but it really isn't. And
magic, but it really isn't. And
therein lies the beauty of the diamond
therein lies the beauty of the diamond
therein lies the beauty of the diamond
proxy is that it is simple yet seems
proxy is that it is simple yet seems
proxy is that it is simple yet seems
like magic. With the diamond proxy, what
like magic. With the diamond proxy, what
like magic. With the diamond proxy, what
you have is you have several stable
you have is you have several stable
you have is you have several stable
points
points
points
in me in in the decentralized memory.
in me in in the decentralized memory.
in me in in the decentralized memory.
Those stable points are your proxy and
Those stable points are your proxy and
Those stable points are your proxy and
your shared storage layer.
your shared storage layer.
your shared storage layer.
As far as a user is concerned,
As far as a user is concerned,
As far as a user is concerned,
their interactions are going to target
their interactions are going to target
their interactions are going to target
the diamond proxy. So let's assume a
the diamond proxy. So let's assume a
the diamond proxy. So let's assume a
very simple case. I want to deploy a
very simple case. I want to deploy a
very simple case. I want to deploy a
smart contract. What I do is I make sure
smart contract. What I do is I make sure
smart contract. What I do is I make sure
the diamond proxy is deployed
the diamond proxy is deployed
the diamond proxy is deployed
and then I deploy the smart contract not
and then I deploy the smart contract not
and then I deploy the smart contract not
directly but through a proxy. So the
directly but through a proxy. So the
directly but through a proxy. So the
diamond proxy through a function called
diamond proxy through a function called
diamond proxy through a function called
diamond cut deploys the smart contract
diamond cut deploys the smart contract
diamond cut deploys the smart contract
which we call facet
which we call facet
which we call facet
and initializes it.
and initializes it.
and initializes it.
when it initializes the facet. In
when it initializes the facet. In
when it initializes the facet. In
Stellar, we have a macro within our
Stellar, we have a macro within our
Stellar, we have a macro within our
source code that allows you to
source code that allows you to
source code that allows you to
seamlessly integrate with this diamond
seamlessly integrate with this diamond
seamlessly integrate with this diamond
proxy standard on Stellar such that it
proxy standard on Stellar such that it
proxy standard on Stellar such that it
injects another stable point in memory,
injects another stable point in memory,
injects another stable point in memory,
the contract address for the shared
the contract address for the shared
the contract address for the shared
storage layer. So whenever a facet is
storage layer. So whenever a facet is
storage layer. So whenever a facet is
deployed through the proxy, it gets a
deployed through the proxy, it gets a
deployed through the proxy, it gets a
pointer to that shared storage.
pointer to that shared storage.
pointer to that shared storage.
What does this mean? This means that
What does this mean? This means that
What does this mean? This means that
let's say you deploy a facet and then
let's say you deploy a facet and then
let's say you deploy a facet and then
you update the logic again.
you update the logic again.
you update the logic again.
Because you have a shared storage layer,
Because you have a shared storage layer,
Because you have a shared storage layer,
it doesn't matter that you have two
it doesn't matter that you have two
it doesn't matter that you have two
separate smart contracts.
separate smart contracts.
separate smart contracts.
Now facet A and facet B can still access
Now facet A and facet B can still access
Now facet A and facet B can still access
the data that you had mutated within the
the data that you had mutated within the
the data that you had mutated within the
ledger. That that's that's just great.
ledger. That that's that's just great.
ledger. That that's that's just great.
We really want to give people the
We really want to give people the
We really want to give people the
opportunity to
opportunity to
opportunity to
have the freedom to change data without
have the freedom to change data without
have the freedom to change data without
having to go through the hassle of
having to go through the hassle of
having to go through the hassle of
having to deal with the issues that
having to deal with the issues that
having to deal with the issues that
exist with the immutability.
exist with the immutability.
exist with the immutability.
And in reality, this sort of
And in reality, this sort of
And in reality, this sort of
functionality is really what you want
functionality is really what you want
functionality is really what you want
anyways because as any developer knows,
anyways because as any developer knows,
anyways because as any developer knows,
you're never actually truly done with a
you're never actually truly done with a
you're never actually truly done with a
program. You can get 95% the way there
program. You can get 95% the way there
program. You can get 95% the way there
or 99, but there's always part of you
or 99, but there's always part of you
or 99, but there's always part of you
that feels like you can always improve
that feels like you can always improve
that feels like you can always improve
it somehow. You can always do something
it somehow. You can always do something
it somehow. You can always do something
else. And indeed in the world of
else. And indeed in the world of
else. And indeed in the world of
business, when you have business logic
business, when you have business logic
business, when you have business logic
and changing business requirements,
and changing business requirements,
and changing business requirements,
you can't have that immutability when
you can't have that immutability when
you can't have that immutability when
you're talking about the business logic.
you're talking about the business logic.
you're talking about the business logic.
You have to have breathing room for it
You have to have breathing room for it
You have to have breathing room for it
to be able to change.
to be able to change.
to be able to change.
And so the diamond proxy standard gives
And so the diamond proxy standard gives
And so the diamond proxy standard gives
us the ability to go from a complex
us the ability to go from a complex
us the ability to go from a complex
immutable setup to a very
immutable setup to a very
immutable setup to a very
straightforward
straightforward
straightforward
approach to
approach to
approach to
maintaining code bases that can be
maintaining code bases that can be
maintaining code bases that can be
arbitrarily complex.
arbitrarily complex.
arbitrarily complex.
So
So
So
let us consider a facet. We have facet
let us consider a facet. We have facet
let us consider a facet. We have facet
here and we want to be able to execute a
here and we want to be able to execute a
here and we want to be able to execute a
function.
function.
function.
Typically you would just you know using
Typically you would just you know using
Typically you would just you know using
Sorabon you would invoke a function
Sorabon you would invoke a function
Sorabon you would invoke a function
directly on this smart contract which in
directly on this smart contract which in
directly on this smart contract which in
this case we're calling facet A.
this case we're calling facet A.
this case we're calling facet A.
But when you're using the diamond proxy
But when you're using the diamond proxy
But when you're using the diamond proxy
standard you don't call the function
standard you don't call the function
standard you don't call the function
here directly.
here directly.
here directly.
Instead what you do is you call the
Instead what you do is you call the
Instead what you do is you call the
function through the diamond proxy
function through the diamond proxy
function through the diamond proxy
and that function which within the
and that function which within the
and that function which within the
framework of this the jargon we use is
framework of this the jargon we use is
framework of this the jargon we use is
selector function equals selector for
selector function equals selector for
selector function equals selector for
all intents and purposes. So you may
all intents and purposes. So you may
all intents and purposes. So you may
hear that interchangeably when studying
hear that interchangeably when studying
hear that interchangeably when studying
the diamond proxy pattern.
the diamond proxy pattern.
the diamond proxy pattern.
You run the function through here and
You run the function through here and
You run the function through here and
the proxy internally
the proxy internally
the proxy internally
looks at a set of selectors and those
looks at a set of selectors and those
looks at a set of selectors and those
selectors are associated with a contract
selectors are associated with a contract
selectors are associated with a contract
address.
address.
address.
And because it knows where that contract
And because it knows where that contract
And because it knows where that contract
exists, it then proxies the call to the
exists, it then proxies the call to the
exists, it then proxies the call to the
associated facet, whether that be facet
associated facet, whether that be facet
associated facet, whether that be facet
A or facet B.
A or facet B.
A or facet B.
Let's say facet A has two functions
Let's say facet A has two functions
Let's say facet A has two functions
alpha and beta
alpha and beta
alpha and beta
and then you want to update function
and then you want to update function
and then you want to update function
alpha. What you could do is instead of
alpha. What you could do is instead of
alpha. What you could do is instead of
redeploying a version of facet A that
redeploying a version of facet A that
redeploying a version of facet A that
just has alpha changed, you could just
just has alpha changed, you could just
just has alpha changed, you could just
have a very targeted approach and deploy
have a very targeted approach and deploy
have a very targeted approach and deploy
facet B. And facet B is much leaner
facet B. And facet B is much leaner
facet B. And facet B is much leaner
because it has just function alpha.
because it has just function alpha.
because it has just function alpha.
So the gas costs associated with
So the gas costs associated with
So the gas costs associated with
deployment are going to be cheaper. And
deployment are going to be cheaper. And
deployment are going to be cheaper. And
when you call this,
when you call this,
when you call this,
it's going to get the most recent
it's going to get the most recent
it's going to get the most recent
version
version
version
in the
in the
in the
storage of these selectors. So
storage of these selectors. So
storage of these selectors. So
before when you're calling function
before when you're calling function
before when you're calling function
alpha,
alpha,
alpha,
it's hitting facet A. But once you
it's hitting facet A. But once you
it's hitting facet A. But once you
upgrade, you call function alpha, it's
upgrade, you call function alpha, it's
upgrade, you call function alpha, it's
going to be routed to facet B.
going to be routed to facet B.
going to be routed to facet B.
Now what about function beta? Well,
Now what about function beta? Well,
Now what about function beta? Well,
function beta doesn't exist here. We
function beta doesn't exist here. We
function beta doesn't exist here. We
deployed only function alpha within
deployed only function alpha within
deployed only function alpha within
here. Function beta still exists here.
here. Function beta still exists here.
here. Function beta still exists here.
So the diamond proxy will continue to
So the diamond proxy will continue to
So the diamond proxy will continue to
route it.
route it.
route it.
And so as you could see there is a lot
And so as you could see there is a lot
And so as you could see there is a lot
of room for flexibility here. Now if the
of room for flexibility here. Now if the
of room for flexibility here. Now if the
developer wants to they could still
developer wants to they could still
developer wants to they could still
deploy a version of facet A that has
deploy a version of facet A that has
deploy a version of facet A that has
alpha and beta functions and beta
alpha and beta functions and beta
alpha and beta functions and beta
doesn't change but alpha does. And that
doesn't change but alpha does. And that
doesn't change but alpha does. And that
just means that when we call the
just means that when we call the
just means that when we call the
function to the diamond proxy, it's
function to the diamond proxy, it's
function to the diamond proxy, it's
almost as if facet just doesn't exist.
almost as if facet just doesn't exist.
almost as if facet just doesn't exist.
It's functions are not being called. But
It's functions are not being called. But
It's functions are not being called. But
that's not to say that if any calls you
that's not to say that if any calls you
that's not to say that if any calls you
made to facet A in any way mutated the
made to facet A in any way mutated the
made to facet A in any way mutated the
information
information
information
that you can't access that mutated
that you can't access that mutated
that you can't access that mutated
information anymore from facet B. No,
information anymore from facet B. No,
information anymore from facet B. No,
you actually still can access that
you actually still can access that
you actually still can access that
mutated information. So you can imagine
mutated information. So you can imagine
mutated information. So you can imagine
a scenario where as time goes on you get
a scenario where as time goes on you get
a scenario where as time goes on you get
more and more facets over here to the
more and more facets over here to the
more and more facets over here to the
right and
right and
right and
you could have a very complex program if
you could have a very complex program if
you could have a very complex program if
you wanted to. And going back to the
you wanted to. And going back to the
you wanted to. And going back to the
analogy of
analogy of
analogy of
object-oriented programming in a class,
object-oriented programming in a class,
object-oriented programming in a class,
you could
you could
you could
even from like a non-upgrading
even from like a non-upgrading
even from like a non-upgrading
perspective, you could just deploy
perspective, you could just deploy
perspective, you could just deploy
different facets like different modules
different facets like different modules
different facets like different modules
of or name spaces within your
of or name spaces within your
of or name spaces within your
application to have a strict separation
application to have a strict separation
application to have a strict separation
of concerns.
of concerns.
of concerns.
So, not only does this allow you to have
So, not only does this allow you to have
So, not only does this allow you to have
that upgradability, it also allows you
that upgradability, it also allows you
that upgradability, it also allows you
to have that clear differentiation
to have that clear differentiation
to have that clear differentiation
between different pieces of logic that
between different pieces of logic that
between different pieces of logic that
represents your program. So, from a
represents your program. So, from a
represents your program. So, from a
bird's eye view, this helps consolidate
bird's eye view, this helps consolidate
bird's eye view, this helps consolidate
your software's architecture.
your software's architecture.
your software's architecture.
And not only does it do that, as we just
And not only does it do that, as we just
And not only does it do that, as we just
discussed, it helps you
discussed, it helps you
discussed, it helps you
upgrade something that would otherwise
upgrade something that would otherwise
upgrade something that would otherwise
be challenging to upgrade.
There's a second part to this that ought
There's a second part to this that ought
to be discussed and that is the diamond
to be discussed and that is the diamond
to be discussed and that is the diamond
factory. Now the diamond facto's job is
factory. Now the diamond facto's job is
factory. Now the diamond facto's job is
just to create a diamond proxy.
just to create a diamond proxy.
just to create a diamond proxy.
So
So
So
why would we do that? Why not just
why would we do that? Why not just
why would we do that? Why not just
deploy a diamond proxy directly? Well,
deploy a diamond proxy directly? Well,
deploy a diamond proxy directly? Well,
you could, but there's a little bit of a
you could, but there's a little bit of a
you could, but there's a little bit of a
setup phase just like how there's a
setup phase just like how there's a
setup phase just like how there's a
setup phase with facets. With facets,
setup phase with facets. With facets,
setup phase with facets. With facets,
you have an init function which receives
you have an init function which receives
you have an init function which receives
a pointer to the shared storage.
a pointer to the shared storage.
a pointer to the shared storage.
And similar here with the factory when
And similar here with the factory when
And similar here with the factory when
it deploys a diamond proxy,
it deploys a diamond proxy,
it deploys a diamond proxy,
it ensures that the diamond proxy
it ensures that the diamond proxy
it ensures that the diamond proxy
has everything it needs to initialize
has everything it needs to initialize
has everything it needs to initialize
itself. And so internally, it's going to
itself. And so internally, it's going to
itself. And so internally, it's going to
set up that stable pointer to the shared
set up that stable pointer to the shared
set up that stable pointer to the shared
storage
storage
storage
smart contract. And that there
smart contract. And that there
smart contract. And that there
abstracts away any setup you really have
abstracts away any setup you really have
abstracts away any setup you really have
to do. So as a user, you're going to
to do. So as a user, you're going to
to do. So as a user, you're going to
yes, you're going to use the diamond
yes, you're going to use the diamond
yes, you're going to use the diamond
proxy, but you're going to first start
proxy, but you're going to first start
proxy, but you're going to first start
off with the factory. You use the
off with the factory. You use the
off with the factory. You use the
factory, deploy the diamond proxy, and
factory, deploy the diamond proxy, and
factory, deploy the diamond proxy, and
then once you're at that layer, you
then once you're at that layer, you
then once you're at that layer, you
could just go ahead and treat this as
could just go ahead and treat this as
could just go ahead and treat this as
normal. You don't have to touch the
normal. You don't have to touch the
normal. You don't have to touch the
factory ever again if you wanted to. Or
factory ever again if you wanted to. Or
factory ever again if you wanted to. Or
you could use the factory to create
you could use the factory to create
you could use the factory to create
another diamond proxy and
another diamond proxy and
another diamond proxy and
that diamond proxy in turn will have its
that diamond proxy in turn will have its
that diamond proxy in turn will have its
own shared storage address
own shared storage address
own shared storage address
and so on and so forth. You can use the
and so on and so forth. You can use the
and so on and so forth. You can use the
factory over and over again.
As it relates to Sora, there is another
As it relates to Sora, there is another
feature of this SEP filing and that's
feature of this SEP filing and that's
feature of this SEP filing and that's
the storage helper. So typically when
the storage helper. So typically when
the storage helper. So typically when
we're developing in Sora, we have access
we're developing in Sora, we have access
we're developing in Sora, we have access
to three different types of storage. We
to three different types of storage. We
to three different types of storage. We
have the persistent storage, we have
have the persistent storage, we have
have the persistent storage, we have
the instant storage, and finally we have
the instant storage, and finally we have
the instant storage, and finally we have
the temporary storage.
the temporary storage.
the temporary storage.
And so you would do something like
And so you would do something like
And so you would do something like
storage instance.get
storage instance.get
storage instance.get
or something like that. And the same
or something like that. And the same
or something like that. And the same
thing for temporary.
thing for temporary.
thing for temporary.
Well, I wanted in this to have a very
Well, I wanted in this to have a very
Well, I wanted in this to have a very
similar paradigm. So if you wanted to go
similar paradigm. So if you wanted to go
similar paradigm. So if you wanted to go
from instance storage to shared instance
from instance storage to shared instance
from instance storage to shared instance
storage, you would do storage.shared
storage, you would do storage.shared
storage, you would do storage.shared
shared instance or storage
shared instance or storage
shared instance or storage
shared temporary and so on.
shared temporary and so on.
shared temporary and so on.
So it creates a very familiar pattern
So it creates a very familiar pattern
So it creates a very familiar pattern
for the developer.
for the developer.
for the developer.
There's only a slight difference and
There's only a slight difference and
There's only a slight difference and
that's that whatever you're putting in
that's that whatever you're putting in
that's that whatever you're putting in
whether it be a key or a value because
whether it be a key or a value because
whether it be a key or a value because
it has to exist within the storage of a
it has to exist within the storage of a
it has to exist within the storage of a
diamond proxy to know where the
diamond proxy to know where the
diamond proxy to know where the
selectors are and where all the metadata
selectors are and where all the metadata
selectors are and where all the metadata
is.
is.
is.
It has to be serialized to XDR format
It has to be serialized to XDR format
It has to be serialized to XDR format
which as storebound developers know is
which as storebound developers know is
which as storebound developers know is
the encoding format we use for
the encoding format we use for
the encoding format we use for
networking transmission.
There's another component to the diamond
There's another component to the diamond
proxy and this is more of a a meta
proxy and this is more of a a meta
proxy and this is more of a a meta
feature and that's the
feature and that's the
feature and that's the
loop facet. Now in EVM land they call it
loop facet. Now in EVM land they call it
loop facet. Now in EVM land they call it
a loop facet. It's like a smart contract
a loop facet. It's like a smart contract
a loop facet. It's like a smart contract
but here it's different. We have it
but here it's different. We have it
but here it's different. We have it
leveraging Sora's
leveraging Sora's
leveraging Sora's
inherent capabilities
inherent capabilities
inherent capabilities
and we have it sitting with the diamond
and we have it sitting with the diamond
and we have it sitting with the diamond
proxy contract itself. So
proxy contract itself. So
proxy contract itself. So
if you want to know the address for
if you want to know the address for
if you want to know the address for
selector alpha,
selector alpha,
selector alpha,
it will return to you the address of
it will return to you the address of
it will return to you the address of
facet A or if you get upgraded then it
facet A or if you get upgraded then it
facet A or if you get upgraded then it
would return you the address of facet B.
would return you the address of facet B.
would return you the address of facet B.
And so the loop storage allows us to
And so the loop storage allows us to
And so the loop storage allows us to
just introspect upon the diamond and it
just introspect upon the diamond and it
just introspect upon the diamond and it
also stores the state of the diamond
also stores the state of the diamond
also stores the state of the diamond
itself.
itself.
itself.
whenever
whenever
whenever
one performs diamond cut which as we
one performs diamond cut which as we
one performs diamond cut which as we
recall allows us to deploy a facet or
recall allows us to deploy a facet or
recall allows us to deploy a facet or
smart contract
smart contract
smart contract
that will get recorded within the loop
that will get recorded within the loop
that will get recorded within the loop
storage.
storage.
storage.
Now, did anyone have any questions?
 Yeah, there were some questions. If we
 Yeah, there were some questions. If we
go back a little bit, ,
go back a little bit, ,
go back a little bit, ,
let me see.
I think there was a question about when
I think there was a question about when
data is being stored.
Oh yeah, say silence asked it sounded
Oh yeah, say silence asked it sounded
like storage isn't written to until
like storage isn't written to until
like storage isn't written to until
ledger closes
ledger closes
ledger closes
in this setup
in this setup
in this setup
if that makes sense.
if that makes sense.
if that makes sense.
 correct. Yeah.
 correct. Yeah.
 correct. Yeah.
 Yeah.
 Yeah.
 Yeah.
Let's see what else.
Yeah, I think that was what I think
Yeah, I think that was what I think
Matias had a question too.
Matias had a question too.
Matias had a question too.

I I think I think we can continue.
I I think I think we can continue.
 Okay. Yeah. Uber, I don't know if you
 Okay. Yeah. Uber, I don't know if you
 Okay. Yeah. Uber, I don't know if you
wanted anything to add to this.
wanted anything to add to this.
wanted anything to add to this.
but if not, then I'll just move on to
but if not, then I'll just move on to
but if not, then I'll just move on to
deployment flows.
deployment flows.
deployment flows.
 Yeah, let's just
 Yeah, let's just
 Yeah, let's just
No, no, that that was great. Thank you,
No, no, that that was great. Thank you,
No, no, that that was great. Thank you,
Thomas.
Thomas.
Thomas.
Okay. All right.
Okay. All right.
Okay. All right.
So, we've already discussed this a bit,
So, we've already discussed this a bit,
So, we've already discussed this a bit,
but just to visualize what's going on,
but just to visualize what's going on,
but just to visualize what's going on,
you start off, you're the user, you want
you start off, you're the user, you want
you start off, you're the user, you want
to ensure that you have your diamond
to ensure that you have your diamond
to ensure that you have your diamond
factory.
factory.
factory.
 Oh, , sorry to interrupt you, but
 Oh, , sorry to interrupt you, but
 Oh, , sorry to interrupt you, but
Silence had a question. we had a
Silence had a question. we had a
Silence had a question. we had a
question that said that
question that said that
question that said that
you would access access storage as
you would access access storage as
you would access access storage as
storage shared.
storage shared.
storage shared.
 yeah, you would
 yeah, you would
 yeah, you would
I look want to see Oh, here we go.
I look want to see Oh, here we go.
I look want to see Oh, here we go.
So we have a pattern here that's pretty
So we have a pattern here that's pretty
So we have a pattern here that's pretty
much just like before. So you do env
much just like before. So you do env
much just like before. So you do env
shared storage.persistent and I believe
shared storage.persistent and I believe
shared storage.persistent and I believe
I worded it incorrectly earlier but
I worded it incorrectly earlier but
I worded it incorrectly earlier but
the idea is that you have just a drop in
the idea is that you have just a drop in
the idea is that you have just a drop in
replacement. So instead of env
replacement. So instead of env
replacement. So instead of env
storage which is what we typically do we
storage which is what we typically do we
storage which is what we typically do we
do env.shared storage and then you call
do env.shared storage and then you call
do env.shared storage and then you call
persistent
persistent
persistent
or instance or temporary on that handle.
 Okay.
 Okay.
Yep. And other important thing to
Yep. And other important thing to
Yep. And other important thing to
consider is that
consider is that
consider is that
when you have access to that persistent
when you have access to that persistent
when you have access to that persistent
shared storage handle,
shared storage handle,
shared storage handle,
you need to make sure that whatever
you need to make sure that whatever
you need to make sure that whatever
you're putting in has to be serializable
you're putting in has to be serializable
you're putting in has to be serializable
to XDR.
 Yeah. And then Silus also mentioned that
 Yeah. And then Silus also mentioned that
that this would require
that this would require
that this would require
the end shared storage would require a
the end shared storage would require a
the end shared storage would require a
cap.
cap.
cap.
So so but this is a a cap proposal as
So so but this is a a cap proposal as
So so but this is a a cap proposal as
well, right?
well, right?
well, right?
so
so
so
if required we could make one and we've
if required we could make one and we've
if required we could make one and we've
been told so far that what we have here
been told so far that what we have here
been told so far that what we have here
is a starting point
is a starting point
is a starting point
that shared storage layer yes we're
that shared storage layer yes we're
that shared storage layer yes we're
going to need to have it ingrained
going to need to have it ingrained
going to need to have it ingrained
within the ecosystem and an
within the ecosystem and an
within the ecosystem and an
incrementalist approach does make the
incrementalist approach does make the
incrementalist approach does make the
most sense.
most sense.
most sense.
but yes it will require changes to
but yes it will require changes to
but yes it will require changes to
multiple parts of Sorabon.
multiple parts of Sorabon.
multiple parts of Sorabon.
 Okay great.
 Okay great.
 Okay great.
 Yeah. So you have diamond factory and
 Yeah. So you have diamond factory and
 Yeah. So you have diamond factory and
the factory just creates diamond
the factory just creates diamond
the factory just creates diamond
proxies. The user calls deploy diamond.
proxies. The user calls deploy diamond.
proxies. The user calls deploy diamond.
The factory deploys diamond proxy and
The factory deploys diamond proxy and
The factory deploys diamond proxy and
then the proxy goes ahead and it deploys
then the proxy goes ahead and it deploys
then the proxy goes ahead and it deploys
the shared storage layer.
the shared storage layer.
the shared storage layer.
So now you have a diamond with no
So now you have a diamond with no
So now you have a diamond with no
facets.
facets.
facets.
Now you want to add a facet. You want to
Now you want to add a facet. You want to
Now you want to add a facet. You want to
start
start
start
adding architecture to your software. So
adding architecture to your software. So
adding architecture to your software. So
you go ahead, you call diamond cut.
you go ahead, you call diamond cut.
you go ahead, you call diamond cut.
Diamond cut will deploy the facet
Diamond cut will deploy the facet
Diamond cut will deploy the facet
and then it will call the init the init
and then it will call the init the init
and then it will call the init the init
function on that facet.
function on that facet.
function on that facet.
And keep in mind this init function,
And keep in mind this init function,
And keep in mind this init function,
it's a macro within Rust. So you just
it's a macro within Rust. So you just
it's a macro within Rust. So you just
add it right on top of the contract
add it right on top of the contract
add it right on top of the contract
imple macro and it will inject the init
imple macro and it will inject the init
imple macro and it will inject the init
function for you. That way when diamond
function for you. That way when diamond
function for you. That way when diamond
cut is called, it's passing a pointer to
cut is called, it's passing a pointer to
cut is called, it's passing a pointer to
this shared storage layer.
The next step is after the facets's
The next step is after the facets's
initialized, we update the selector or
initialized, we update the selector or
initialized, we update the selector or
function mapping. That way, whenever
function mapping. That way, whenever
function mapping. That way, whenever
somebody attempts to invoke a function,
somebody attempts to invoke a function,
somebody attempts to invoke a function,
as we see here next, it will perform a
as we see here next, it will perform a
as we see here next, it will perform a
lookup within that selector mapping.
lookup within that selector mapping.
lookup within that selector mapping.
So, we invoke the contract. After we
So, we invoke the contract. After we
So, we invoke the contract. After we
call the function through the proxy, we
call the function through the proxy, we
call the function through the proxy, we
might set some storage or get some
might set some storage or get some
might set some storage or get some
storage update or delete and then we
storage update or delete and then we
storage update or delete and then we
return the result and the result
return the result and the result
return the result and the result
has to be XDR encoded
has to be XDR encoded
has to be XDR encoded
and that's is the additional requirement
and that's is the additional requirement
and that's is the additional requirement
which is typical anyways.
which is typical anyways.
which is typical anyways.
So you're just adding an additional
So you're just adding an additional
So you're just adding an additional
layer and that's why again it's
layer and that's why again it's
layer and that's why again it's
considered a proxy.
Are there any questions about this
Are there any questions about this
deployment process and the life cycle of
deployment process and the life cycle of
deployment process and the life cycle of
working with diamonds?
working with diamonds?
working with diamonds?
 So so I think Neil Neil Nish had a
 So so I think Neil Neil Nish had a
 So so I think Neil Neil Nish had a
question earlier about how would you
question earlier about how would you
question earlier about how would you
design an upgradeable contract while
design an upgradeable contract while
design an upgradeable contract while
managing storage efficiently. So, Milage
managing storage efficiently. So, Milage
managing storage efficiently. So, Milage
I think we address that later on down in
I think we address that later on down in
I think we address that later on down in
the presentation, right Thomas?
the presentation, right Thomas?
the presentation, right Thomas?
 Yeah, we do. Yeah.
 Yeah, we do. Yeah.
 Yeah, we do. Yeah.
 And apart from that,
how would you design? Usually you have
how would you design? Usually you have
to migrate the storage. Similar concern
to migrate the storage. Similar concern
to migrate the storage. Similar concern
to traditional web two development. Yes.
to traditional web two development. Yes.
to traditional web two development. Yes.
So again, the same question came up
So again, the same question came up
So again, the same question came up
again that you know how would you
again that you know how would you
again that you know how would you
handle storage? excellent question
handle storage? excellent question
handle storage? excellent question
guys and and the the entire intent of
guys and and the the entire intent of
guys and and the the entire intent of
the diamond proxy standard is that you
the diamond proxy standard is that you
the diamond proxy standard is that you
don't have to manage smart contract
don't have to manage smart contract
don't have to manage smart contract
storage migration.
storage migration.
storage migration.
 Yeah.
 Yeah.
 Yeah.
 Yeah. That's that was also my takeaway.
 Great.
 Great.
 All right.
So I go down and I'm just going to
So I go down and I'm just going to
compare
compare
compare
what we have here, the diamond proxy, to
what we have here, the diamond proxy, to
what we have here, the diamond proxy, to
what already exists in Sorabon. And in
what already exists in Sorabon. And in
what already exists in Sorabon. And in
general, there are pros and there are
general, there are pros and there are
general, there are pros and there are
cons. And what one chooses depends on
cons. And what one chooses depends on
cons. And what one chooses depends on
what one has as requirements,
what one has as requirements,
what one has as requirements,
any preferences. So I'll start off with
any preferences. So I'll start off with
any preferences. So I'll start off with
the first one which I think we've
the first one which I think we've
the first one which I think we've
already discussed which is the notion of
already discussed which is the notion of
already discussed which is the notion of
granularity
granularity
granularity
the ability for us to be able to
the ability for us to be able to
the ability for us to be able to
define
define
define
in very compartmentalized terms or even
in very compartmentalized terms or even
in very compartmentalized terms or even
very uncompartmentalized terms
very uncompartmentalized terms
very uncompartmentalized terms
the design of our software
the design of our software
the design of our software
In
In
In
Sorabon, if you want to update the smart
Sorabon, if you want to update the smart
Sorabon, if you want to update the smart
contract, what you have to do is you
contract, what you have to do is you
contract, what you have to do is you
have to call a function and that
have to call a function and that
have to call a function and that
replaces the entire smart contract.
replaces the entire smart contract.
replaces the entire smart contract.
, and for some people that's all
, and for some people that's all
, and for some people that's all
that's needed. But if you have more
that's needed. But if you have more
that's needed. But if you have more
complex requirements,
complex requirements,
complex requirements,
you don't want to deal with the
you don't want to deal with the
you don't want to deal with the
headaches of let's say migration, which
headaches of let's say migration, which
headaches of let's say migration, which
is the next comparison here, then
is the next comparison here, then
is the next comparison here, then
you're definitely going to want to use
you're definitely going to want to use
you're definitely going to want to use
the diamond proxy pattern.
the diamond proxy pattern.
the diamond proxy pattern.
And as discussed, we have that shared
And as discussed, we have that shared
And as discussed, we have that shared
storage layer. That shared storage layer
storage layer. That shared storage layer
storage layer. That shared storage layer
means that doesn't matter how many times
means that doesn't matter how many times
means that doesn't matter how many times
you upgrade your facets,
you upgrade your facets,
you upgrade your facets,
it's going to always have a pointer to
it's going to always have a pointer to
it's going to always have a pointer to
that shared storage layer.
that shared storage layer.
that shared storage layer.
And
And
And
with Soraon, you replace a contract,
with Soraon, you replace a contract,
with Soraon, you replace a contract,
you're going to have to manually manage
you're going to have to manually manage
you're going to have to manually manage
how you access that data and where
how you access that data and where
how you access that data and where
that data is going to exist. Those are
that data is going to exist. Those are
that data is going to exist. Those are
things you have to consider. But with
things you have to consider. But with
things you have to consider. But with
the diamond proxy pattern, in Stellar
the diamond proxy pattern, in Stellar
the diamond proxy pattern, in Stellar
terms, you don't have to worry about
terms, you don't have to worry about
terms, you don't have to worry about
that. You can just act like the database
that. You can just act like the database
that. You can just act like the database
is always there. it's abstracted away.
is always there. it's abstracted away.
is always there. it's abstracted away.



the code size limits. Now this typically
the code size limits. Now this typically
the code size limits. Now this typically
in my opinion
in my opinion
in my opinion
the benefits to the diamond proxy here
the benefits to the diamond proxy here
the benefits to the diamond proxy here
in terms of code size limits is that you
in terms of code size limits is that you
in terms of code size limits is that you
can have a very
can have a very
can have a very
small set of code and you could just do
small set of code and you could just do
small set of code and you could just do
incremental changes. So you deploy a
incremental changes. So you deploy a
incremental changes. So you deploy a
facet and then you deploy another facet
facet and then you deploy another facet
facet and then you deploy another facet
and you keep things exactly as needed.
and you keep things exactly as needed.
and you keep things exactly as needed.
You could do a monolith. A monolith is
You could do a monolith. A monolith is
You could do a monolith. A monolith is
completely acceptable. The diamond proxy
completely acceptable. The diamond proxy
completely acceptable. The diamond proxy
can certainly handle that.
In Sorabon you're limited by the maximum
In Sorabon you're limited by the maximum
size of the contract code which is
size of the contract code which is
size of the contract code which is
fairly large.
fairly large.
fairly large.
but with the diamond proxy pattern
but with the diamond proxy pattern
but with the diamond proxy pattern
let's say the limit on sorbond is n well
let's say the limit on sorbond is n well
let's say the limit on sorbond is n well
then
then
then
your program let's say is 2n what you do
your program let's say is 2n what you do
your program let's say is 2n what you do
is you have several facets then the
is you have several facets then the
is you have several facets then the
first facet is of length n in size and
first facet is of length n in size and
first facet is of length n in size and
bite code and then the second facet is
bite code and then the second facet is
bite code and then the second facet is
also in size of length and of bite code
also in size of length and of bite code
also in size of length and of bite code
and you have different functions for
and you have different functions for
and you have different functions for
both and when you call the diamond proxy
both and when you call the diamond proxy
both and when you call the diamond proxy
it's going to proxy it to the right
it's going to proxy it to the right
it's going to proxy it to the right
smart contract address. So you
smart contract address. So you
smart contract address. So you
completely get over that hurdle of
completely get over that hurdle of
completely get over that hurdle of
the code size.
the code size.
the code size.
and by proxy you have that same
and by proxy you have that same
and by proxy you have that same
principle applying to the method count.
principle applying to the method count.
principle applying to the method count.
Now the number is still pretty high for
Now the number is still pretty high for
Now the number is still pretty high for
both but nonetheless just imagine
both but nonetheless just imagine
both but nonetheless just imagine
typical code base that may have
typical code base that may have
typical code base that may have
nowadays thousands and thousands of
nowadays thousands and thousands of
nowadays thousands and thousands of
functions.
functions.
functions.
the diamond and proxy pattern you can
the diamond and proxy pattern you can
the diamond and proxy pattern you can
go ahead and you could accommodate for
go ahead and you could accommodate for
go ahead and you could accommodate for
such and you can have very large
such and you can have very large
such and you can have very large
programs. , theoretically, if you
programs. , theoretically, if you
programs. , theoretically, if you
wanted to, you could have a diamond
wanted to, you could have a diamond
wanted to, you could have a diamond
proxy pointing to
proxy pointing to
proxy pointing to
hundreds, if not thousands of facets
hundreds, if not thousands of facets
hundreds, if not thousands of facets
that in total are gigabytes in size. ,
that in total are gigabytes in size. ,
that in total are gigabytes in size. ,
it'd be very interesting
it'd be very interesting
it'd be very interesting
in terms of a case study to see somebody
in terms of a case study to see somebody
in terms of a case study to see somebody
go forward with that. And really, the
go forward with that. And really, the
go forward with that. And really, the
sky's is the limit there. And I think
sky's is the limit there. And I think
sky's is the limit there. And I think
people will do some very creative things
people will do some very creative things
people will do some very creative things
with this. We've only really just
with this. We've only really just
with this. We've only really just
touched the surface here. And with the
touched the surface here. And with the
touched the surface here. And with the
performance and security and stability
performance and security and stability
performance and security and stability
that Rust provides,
that Rust provides,
that Rust provides,
I really think that in contrast to EVM,
I really think that in contrast to EVM,
I really think that in contrast to EVM,
we're going to have not only Rust
we're going to have not only Rust
we're going to have not only Rust
developers in my opinion are just more
developers in my opinion are just more
developers in my opinion are just more
seasons,
seasons,
seasons,
but they pay close attention to the fine
but they pay close attention to the fine
but they pay close attention to the fine
details. They're very good at what they
details. They're very good at what they
details. They're very good at what they
do and that's reflected by seeing how
do and that's reflected by seeing how
do and that's reflected by seeing how
elegant Stellar is and the Diamond Proxy
elegant Stellar is and the Diamond Proxy
elegant Stellar is and the Diamond Proxy
is complimentary to all of that. It's a
is complimentary to all of that. It's a
is complimentary to all of that. It's a
simple and elegant solution which
simple and elegant solution which
simple and elegant solution which
opens up the sky for everybody and
opens up the sky for everybody and
opens up the sky for everybody and
Stellar it's in its name. I think
Stellar it's in its name. I think
Stellar it's in its name. I think
Stellar is meant to be married with the
Stellar is meant to be married with the
Stellar is meant to be married with the
diamond proxy because in a way it's what
diamond proxy because in a way it's what
diamond proxy because in a way it's what
allows access to those higher realms so
allows access to those higher realms so
allows access to those higher realms so
to speak.
to speak.
to speak.



the other comparison between the two is
the other comparison between the two is
the other comparison between the two is
modularity and we've already talked
modularity and we've already talked
modularity and we've already talked
about this. You can design your
about this. You can design your
about this. You can design your
software. You could have different
software. You could have different
software. You could have different
categories of your business logic in
categories of your business logic in
categories of your business logic in
different facets. And you can visualize
different facets. And you can visualize
different facets. And you can visualize
it as you have facet A and then you have
it as you have facet A and then you have
it as you have facet A and then you have
facet A1 which is an upgrade to facet A
facet A1 which is an upgrade to facet A
facet A1 which is an upgrade to facet A
and then in parallel you have facet B,
and then in parallel you have facet B,
and then in parallel you have facet B,
facet B1 and so on and so forth. So you
facet B1 and so on and so forth. So you
facet B1 and so on and so forth. So you
could
could
could
independently upgrade these parts and
independently upgrade these parts and
independently upgrade these parts and
still
still
still
separate the business logic. So it's
separate the business logic. So it's
separate the business logic. So it's
clear
clear
clear
you have the ability to through loop
you have the ability to through loop
you have the ability to through loop
functionality to introspect upon these
functionality to introspect upon these
functionality to introspect upon these
functions and the addresses.
functions and the addresses.
functions and the addresses.
there's no notion of that directly.
there's no notion of that directly.
there's no notion of that directly.
with a smart contract you can of
with a smart contract you can of
with a smart contract you can of
course get the AI
course get the AI
course get the AI
that's different though with
that's different though with
that's different though with
introspection this is live through
introspection this is live through
introspection this is live through
actual transaction calls and keep in
actual transaction calls and keep in
actual transaction calls and keep in
mind every time you call diamonds cut
mind every time you call diamonds cut
mind every time you call diamonds cut
which is deploying the facet again the
which is deploying the facet again the
which is deploying the facet again the
diamond proxy is recording that in
diamond proxy is recording that in
diamond proxy is recording that in
storage. So introspection
storage. So introspection
storage. So introspection
will just give you that information that
will just give you that information that
will just give you that information that
it's recording.
it's recording.
it's recording.
Okay. So it sounds like everything's
Okay. So it sounds like everything's
Okay. So it sounds like everything's
good and all with Diamond Proxy, but as
good and all with Diamond Proxy, but as
good and all with Diamond Proxy, but as
I mentioned from the very beginning,
I mentioned from the very beginning,
I mentioned from the very beginning,
there are indeed pros and cons. one
there are indeed pros and cons. one
there are indeed pros and cons. one
of the cons is that when you're setting
of the cons is that when you're setting
of the cons is that when you're setting
up the diamond proxy, you're also going
up the diamond proxy, you're also going
up the diamond proxy, you're also going
to set up the diamond factory. and the
to set up the diamond factory. and the
to set up the diamond factory. and the
diamond proxy is going to have to set up
diamond proxy is going to have to set up
diamond proxy is going to have to set up
shared storage. So, this is really just
shared storage. So, this is really just
shared storage. So, this is really just
a one-time thing. So, you have a
a one-time thing. So, you have a
a one-time thing. So, you have a
constant initial cost
constant initial cost
constant initial cost
and then you also have costs associated
and then you also have costs associated
and then you also have costs associated
with deploying a facet. And
with deploying a facet. And
with deploying a facet. And
if on Sorabon you want to deploy a smart
if on Sorabon you want to deploy a smart
if on Sorabon you want to deploy a smart
contract, it is direct. But here it is
contract, it is direct. But here it is
contract, it is direct. But here it is
indirect because we have to call diamond
indirect because we have to call diamond
indirect because we have to call diamond
cut. Diamond cut
cut. Diamond cut
cut. Diamond cut
has to
has to
has to
ensure that the bite code exists on the
ensure that the bite code exists on the
ensure that the bite code exists on the
blockchain and then it has to run the
blockchain and then it has to run the
blockchain and then it has to run the
functions to initialize it and
functions to initialize it and
functions to initialize it and
that also includes passing in that
that also includes passing in that
that also includes passing in that
shared storage address.
shared storage address.
shared storage address.
So because of that yes there is not only
So because of that yes there is not only
So because of that yes there is not only
a constant initial cost but there is a
a constant initial cost but there is a
a constant initial cost but there is a
constant cost associated as overhead
constant cost associated as overhead
constant cost associated as overhead
with each call to diamond cut.
with each call to diamond cut.
with each call to diamond cut.
So on Sorabon you don't really have that
So on Sorabon you don't really have that
So on Sorabon you don't really have that
issue. It's just a onetoone deployment.
issue. It's just a onetoone deployment.
issue. It's just a onetoone deployment.
It's not a one to two or three smart
It's not a one to two or three smart
It's not a one to two or three smart
contracts being deployed. it's just
contracts being deployed. it's just
contracts being deployed. it's just
one to one. And to be clear, that one to
one to one. And to be clear, that one to
one to one. And to be clear, that one to
multiple deployments only occurs in the
multiple deployments only occurs in the
multiple deployments only occurs in the
very beginning when you set up the
very beginning when you set up the
very beginning when you set up the
factory and you set up the shared
factory and you set up the shared
factory and you set up the shared
storage. But once you have that set up,
storage. But once you have that set up,
storage. But once you have that set up,
you don't have to reinitialize the
you don't have to reinitialize the
you don't have to reinitialize the
shared storage. You just pass a pointer
shared storage. You just pass a pointer
shared storage. You just pass a pointer
to it. So really, you're just deploying
to it. So really, you're just deploying
to it. So really, you're just deploying
the facet smart contract in the direct
the facet smart contract in the direct
the facet smart contract in the direct
proxy. But but one of the key benefits
proxy. But but one of the key benefits
proxy. But but one of the key benefits
of doing it using the diamond factory is
of doing it using the diamond factory is
of doing it using the diamond factory is
that let's say you're spinning up
that let's say you're spinning up
that let's say you're spinning up
something like a
something like a
something like a
let's take the example of a dex pool
let's take the example of a dex pool
let's take the example of a dex pool
right when you know that you have to
right when you know that you have to
right when you know that you have to
have the same contract replicated
have the same contract replicated
have the same contract replicated
multiple times. If you're using the
multiple times. If you're using the
multiple times. If you're using the
diamond factory, that will reduce your
diamond factory, that will reduce your
diamond factory, that will reduce your
overall cost in the long run because
overall cost in the long run because
overall cost in the long run because
instead of having to deploy the entire
instead of having to deploy the entire
instead of having to deploy the entire
contract from scratch, you're actually
contract from scratch, you're actually
contract from scratch, you're actually
calling the diamond factory, which the
calling the diamond factory, which the
calling the diamond factory, which the
bite code already exists on chain to
bite code already exists on chain to
bite code already exists on chain to
deploy those contracts. Thomas, correct
deploy those contracts. Thomas, correct
deploy those contracts. Thomas, correct
me if I'm wrong there.
 Yeah. , want me to continue?
 Yeah. , want me to continue?
 You want there?
 You want there?
 You want there?
 Yeah. No, no. , did I did I not you
 Yeah. No, no. , did I did I not you
 Yeah. No, no. , did I did I not you
guys not hear me?
guys not hear me?
guys not hear me?
 Oh, yeah, we heard you.
 Oh, yeah, we heard you.
 Oh, yeah, we heard you.
 Okay, cool. Yeah, no, go ahead.
 We just discussed that there is a bit of
 We just discussed that there is a bit of
complexity and yeah, that does entail
complexity and yeah, that does entail
complexity and yeah, that does entail
that the transaction costs are going to
that the transaction costs are going to
that the transaction costs are going to
be higher
be higher
be higher
, and the costs are going to be lower
, and the costs are going to be lower
, and the costs are going to be lower
on Sorabon each time.
on Sorabon each time.
on Sorabon each time.



this point the development experience
this point the development experience
this point the development experience
this
this
this
this really varies
this really varies
this really varies
in my opinion
in my opinion
in my opinion
there will be an initial higher overhead
there will be an initial higher overhead
there will be an initial higher overhead
simply because you're going to see all
simply because you're going to see all
simply because you're going to see all
this jargon. What's a facet? What is
this jargon. What's a facet? What is
this jargon. What's a facet? What is
loop introspection? What is diamond
loop introspection? What is diamond
loop introspection? What is diamond
factory? What's the diamond proxy? What
factory? What's the diamond proxy? What
factory? What's the diamond proxy? What
is all of this?
is all of this?
is all of this?
And at first it might seem like a fire
And at first it might seem like a fire
And at first it might seem like a fire
hose that it's really overwhelming. But
hose that it's really overwhelming. But
hose that it's really overwhelming. But
if I draw our attention back up here,
it's actually really simple. And once
it's actually really simple. And once
one goes through the process of using
one goes through the process of using
one goes through the process of using
this and seeing it in action in code, it
this and seeing it in action in code, it
this and seeing it in action in code, it
becomes something that is just intuitive
becomes something that is just intuitive
becomes something that is just intuitive
and simple. So there is that initial
and simple. So there is that initial
and simple. So there is that initial
hurdle and that is why in the very
hurdle and that is why in the very
hurdle and that is why in the very
beginning of this presentation I
beginning of this presentation I
beginning of this presentation I
discussed
discussed
discussed
let's set aside the jargon and let's
let's set aside the jargon and let's
let's set aside the jargon and let's
talk about this in terms that we're all
talk about this in terms that we're all
talk about this in terms that we're all
familiar with the notion that we have a
familiar with the notion that we have a
familiar with the notion that we have a
class in object-oriented programming and
class in object-oriented programming and
class in object-oriented programming and
we want to be able to mutate it. How can
we want to be able to mutate it. How can
we want to be able to mutate it. How can
we do that in web 3 space? So I think
we do that in web 3 space? So I think
we do that in web 3 space? So I think
going with that approach when teaching
going with that approach when teaching
going with that approach when teaching
this to others is you guys will
this to others is you guys will
this to others is you guys will
eventually do you guys continue to learn
eventually do you guys continue to learn
eventually do you guys continue to learn
more about this and actually apply it. I
more about this and actually apply it. I
more about this and actually apply it. I
think just sticking to a simple analogy
think just sticking to a simple analogy
think just sticking to a simple analogy
is the best approach. Less is more
is the best approach. Less is more
is the best approach. Less is more
certainly here. it should not be
certainly here. it should not be
certainly here. it should not be
something that one overthinks. I know
something that one overthinks. I know
something that one overthinks. I know
I certainly did when I first looked at
I certainly did when I first looked at
I certainly did when I first looked at
this but the end of the day it's fairly
this but the end of the day it's fairly
this but the end of the day it's fairly
straightforward.
and in terms of state sharing again we
and in terms of state sharing again we
already discussed this so I think
already discussed this so I think
already discussed this so I think
I will omit that one. Are there any
I will omit that one. Are there any
I will omit that one. Are there any
questions about
questions about
questions about
the paradigm of the diamond proxy being
the paradigm of the diamond proxy being
the paradigm of the diamond proxy being
brought onto Stellar or any
brought onto Stellar or any
brought onto Stellar or any
logistical questions? anything we'd be
logistical questions? anything we'd be
logistical questions? anything we'd be
happy to answer.
happy to answer.
happy to answer.
 Yeah. Matias had some questions about
 Yeah. Matias had some questions about
 Yeah. Matias had some questions about
large systems built on this that
large systems built on this that
large systems built on this that
how do you handle DevOps and monitoring
how do you handle DevOps and monitoring
how do you handle DevOps and monitoring
etc.
etc.
etc.



and yeah he says I'm guessing you would
and yeah he says I'm guessing you would
and yeah he says I'm guessing you would
also offer at least a tool to handle the
also offer at least a tool to handle the
also offer at least a tool to handle the
orchestration.
orchestration.
orchestration.
So in terms of DevOps, if you want to be
So in terms of DevOps, if you want to be
So in terms of DevOps, if you want to be
able to
able to
able to
understand what's happening to let's say
understand what's happening to let's say
understand what's happening to let's say
you have a very complex program and
you have a very complex program and
you have a very complex program and
smart contracts may be dynamically
smart contracts may be dynamically
smart contracts may be dynamically
deployed based on criteria,
deployed based on criteria,
deployed based on criteria,
you need to be able to monitor that. And
you need to be able to monitor that. And
you need to be able to monitor that. And
so that is an excellent question and
so that is an excellent question and
so that is an excellent question and
that is one of the reasons why we have
that is one of the reasons why we have
that is one of the reasons why we have
the diamond loop and the diamond loop
the diamond loop and the diamond loop
the diamond loop and the diamond loop
allows us to introspect. But there's
allows us to introspect. But there's
allows us to introspect. But there's
another part to this SCP filing and
another part to this SCP filing and
another part to this SCP filing and
that's that when you perform a diamond
that's that when you perform a diamond
that's that when you perform a diamond
cut events are emitted and with those
cut events are emitted and with those
cut events are emitted and with those
emitted events we have built in Rust a
emitted events we have built in Rust a
emitted events we have built in Rust a
Stellar indexer that captures these
Stellar indexer that captures these
Stellar indexer that captures these
events.
events.
events.
And so you're wanting to do DevOps,
And so you're wanting to do DevOps,
And so you're wanting to do DevOps,
you're wanting to make sure okay
you're wanting to make sure okay
you're wanting to make sure okay
everything is good. there aren't issues
everything is good. there aren't issues
everything is good. there aren't issues
and if there are issues we want to see
and if there are issues we want to see
and if there are issues we want to see
them right away. You have an indexer
them right away. You have an indexer
them right away. You have an indexer
run. You pass the index or the contract
run. You pass the index or the contract
run. You pass the index or the contract
address of the diamond which as we know
address of the diamond which as we know
address of the diamond which as we know
is a stable address. it's not going to
is a stable address. it's not going to
is a stable address. it's not going to
change.
change.
change.
And your indexer will then listen to
And your indexer will then listen to
And your indexer will then listen to
events and you will have some
events and you will have some
events and you will have some
application then that
application then that
application then that
listens to specific types of those
listens to specific types of those
listens to specific types of those
events and if certain criteria are met,
events and if certain criteria are met,
events and if certain criteria are met,
you can send an alert to pager whatever
you can send an alert to pager whatever
you can send an alert to pager whatever
software you decide to use.
software you decide to use.
software you decide to use.
So really it's through indexing and
So really it's through indexing and
So really it's through indexing and
listening and diamond loop functionality
listening and diamond loop functionality
listening and diamond loop functionality
as well as listening to just those
as well as listening to just those
as well as listening to just those
emitted events that we open the door. As
emitted events that we open the door. As
emitted events that we open the door. As
for
for
for
do we provide like an actual toolkit
do we provide like an actual toolkit
do we provide like an actual toolkit
that allows one to
that allows one to
that allows one to
monitor their diamond? We don't have
monitor their diamond? We don't have
monitor their diamond? We don't have
like an actual program to do that.
like an actual program to do that.
like an actual program to do that.
we have some components that allow one
we have some components that allow one
we have some components that allow one
to build towards that. And I think that
to build towards that. And I think that
to build towards that. And I think that
as a community working towards that
as a community working towards that
as a community working towards that
would be a a very important next step
would be a a very important next step
would be a a very important next step
because then at that point we open the
because then at that point we open the
because then at that point we open the
door to organizations very large ones in
door to organizations very large ones in
door to organizations very large ones in
fact that they want to build out complex
fact that they want to build out complex
fact that they want to build out complex
software. They don't have to worry about
software. They don't have to worry about
software. They don't have to worry about
the immutability of blockchain as we
the immutability of blockchain as we
the immutability of blockchain as we
discussed. they just hop on board and
discussed. they just hop on board and
discussed. they just hop on board and
then they already have this open-source
then they already have this open-source
then they already have this open-source
toolkit that does all this monitoring
toolkit that does all this monitoring
toolkit that does all this monitoring
for them. we it's certainly something
for them. we it's certainly something
for them. we it's certainly something
that can be done. There are no
that can be done. There are no
that can be done. There are no
limitations there. Good question.
limitations there. Good question.
limitations there. Good question.
 Yeah, there's another question. if
 Yeah, there's another question. if
 Yeah, there's another question. if
you have a demo app that's built on
you have a demo app that's built on
you have a demo app that's built on
 Stellar that are using this.
 Stellar that are using this.
 Stellar that are using this.
 Yeah, we do.
 Yeah, we do.
 Yeah, we do.
 Okay.
 Okay.
 Okay.
 Yep. Before we jump into the demo app,
 Yep. Before we jump into the demo app,
 Yep. Before we jump into the demo app,
Thomas, maybe it would also be good to
Thomas, maybe it would also be good to
Thomas, maybe it would also be good to
show them the diamond looper that we
show them the diamond looper that we
show them the diamond looper that we
built for seller to introspect this and
built for seller to introspect this and
built for seller to introspect this and
then jump into the app.
then jump into the app.
then jump into the app.
 Oh, , for this presentation as we
 Oh, , for this presentation as we
 Oh, , for this presentation as we
discussed, we would just go straight
discussed, we would just go straight
discussed, we would just go straight
into the, , other app, but we do have
into the, , other app, but we do have
into the, , other app, but we do have
a link to repository to show that, and
a link to repository to show that, and
a link to repository to show that, and
it is getting short on time anyways, so
it is getting short on time anyways, so
it is getting short on time anyways, so
we will go straight into the app. No
we will go straight into the app. No
we will go straight into the app. No
worries. Sounds good.
 Thomas question by silence there to
 Thomas question by silence there to
say that if you made an app there must
say that if you made an app there must
say that if you made an app there must
be a contract to handle shared storage
be a contract to handle shared storage
be a contract to handle shared storage
layer correct because he's feels like
layer correct because he's feels like
layer correct because he's feels like
he's having a fundamental
he's having a fundamental
he's having a fundamental
misunderstanding
misunderstanding
misunderstanding
 so you don't even have to worry worry
 so you don't even have to worry worry
 so you don't even have to worry worry
about the shared storage layer that's
about the shared storage layer that's
about the shared storage layer that's
abstracted away. It's that if you want
abstracted away. It's that if you want
abstracted away. It's that if you want
to access storage in Sorabon, you're not
to access storage in Sorabon, you're not
to access storage in Sorabon, you're not
calling env.persistent.
calling env.persistent.
calling env.persistent.
Let's say you're doing env.shared
Let's say you're doing env.shared
Let's say you're doing env.shared
storage.persistent.
storage.persistent.
storage.persistent.
That's the new pattern. So, it's very
That's the new pattern. So, it's very
That's the new pattern. So, it's very
similar. ,
similar. ,
similar. ,
yeah.
 Okay, that sounds
 Okay, that sounds
silence. Once you review it, I think
silence. Once you review it, I think
silence. Once you review it, I think
it'll make itself clear once you
it'll make itself clear once you
it'll make itself clear once you
actually have a peek at the SCP.
actually have a peek at the SCP.
actually have a peek at the SCP.
But go on, Thomas.
But go on, Thomas.
But go on, Thomas.
 Yeah. So,
 Yeah. So,
 Yeah. So,
as we're developers, I'm just going to
as we're developers, I'm just going to
as we're developers, I'm just going to
draw our attention to what this
draw our attention to what this
draw our attention to what this
application
application
application
looks like from a more programmatic
looks like from a more programmatic
looks like from a more programmatic
view.
view.
view.
We have
We have
We have
the diamond factory that we talked
the diamond factory that we talked
the diamond factory that we talked
about. This is what we use to actually
about. This is what we use to actually
about. This is what we use to actually
deploy. And we have all these facets
deploy. And we have all these facets
deploy. And we have all these facets
that we've deployed.
that we've deployed.
that we've deployed.
And these are going to be used in a way
And these are going to be used in a way
And these are going to be used in a way
that allows us to keep track of KYC.
that allows us to keep track of KYC.
that allows us to keep track of KYC.
So in this application,
So in this application,
So in this application,
we have a set of compliance rules. So we
we have a set of compliance rules. So we
we have a set of compliance rules. So we
have some
have some
have some
say base requirements that a person
say base requirements that a person
say base requirements that a person
identity must pass. they have extended
identity must pass. they have extended
identity must pass. they have extended
KYC requirements and then somebody could
KYC requirements and then somebody could
KYC requirements and then somebody could
come along and say, "Well, hold on. I
come along and say, "Well, hold on. I
come along and say, "Well, hold on. I
was just told by some regulatory agency
was just told by some regulatory agency
was just told by some regulatory agency
that we need
that we need
that we need
rule
rule
rule
54b or something." So, we go ahead, we
54b or something." So, we go ahead, we
54b or something." So, we go ahead, we
add that in.
add that in.
add that in.
We have now the set of constraints that
We have now the set of constraints that
We have now the set of constraints that
one must pass in order to pass KYC
one must pass in order to pass KYC
one must pass in order to pass KYC
verification.
verification.
verification.
You have
You have
You have
that on the ledger. right now I'm
that on the ledger. right now I'm
that on the ledger. right now I'm
pointing at says Stellar test net but
pointing at says Stellar test net but
pointing at says Stellar test net but
really it's pointing to a local quick
really it's pointing to a local quick
really it's pointing to a local quick
start docker image for development
start docker image for development
start docker image for development
purposes.
you have trusted issuers.
you have trusted issuers.
In this case, we just have the company
In this case, we just have the company
In this case, we just have the company
name and the trusted issuer has an
name and the trusted issuer has an
name and the trusted issuer has an
address and they have defined a set of
address and they have defined a set of
address and they have defined a set of
compliance rules. And if you look here,
compliance rules. And if you look here,
compliance rules. And if you look here,
we have these rules
we have these rules
we have these rules
and say want to add rule 54b,
and say want to add rule 54b,
and say want to add rule 54b,
we can go ahead and do that.
we can go ahead and do that.
we can go ahead and do that.
And we update the trusted issuers's
And we update the trusted issuers's
And we update the trusted issuers's
information.
And now the trusted issuer manages these
And now the trusted issuer manages these
compliance rules.
compliance rules.
compliance rules.
We have
We have
We have
identities. These are individuals. In
identities. These are individuals. In
identities. These are individuals. In
this case, several of us on the call,
this case, several of us on the call,
this case, several of us on the call,
Uber and Sebastian are identities here.
Uber and Sebastian are identities here.
Uber and Sebastian are identities here.
And
And
And
if somebody wants to go through the KYC
if somebody wants to go through the KYC
if somebody wants to go through the KYC
process, they would come here and they
process, they would come here and they
process, they would come here and they
would
would
would
add in information that allows us to
add in information that allows us to
add in information that allows us to
keep track of what's going on. So,
keep track of what's going on. So,
keep track of what's going on. So,
organization admin, this is called the
organization admin, this is called the
organization admin, this is called the
admin portal after all, allows one to
admin portal after all, allows one to
admin portal after all, allows one to
keep track of this in a way that
keep track of this in a way that
keep track of this in a way that
increases public trust. As far as how
increases public trust. As far as how
increases public trust. As far as how
this relates to the diamond proxy, well,
this relates to the diamond proxy, well,
this relates to the diamond proxy, well,
you can just imagine a case where we
you can just imagine a case where we
you can just imagine a case where we
want to change the data structure. Let's
want to change the data structure. Let's
want to change the data structure. Let's
say we want additional columns here in
say we want additional columns here in
say we want additional columns here in
the data. If we just had an immutable
the data. If we just had an immutable
the data. If we just had an immutable
smart contract, we couldn't actually
smart contract, we couldn't actually
smart contract, we couldn't actually
just change it. What we would have to do
just change it. What we would have to do
just change it. What we would have to do
is several things. we would have to
is several things. we would have to
is several things. we would have to
create a new smart contract, redeploy
create a new smart contract, redeploy
create a new smart contract, redeploy
it, take all the old data from the first
it, take all the old data from the first
it, take all the old data from the first
smart contract and copy it over and
smart contract and copy it over and
smart contract and copy it over and
that's not fun. But with this approach,
that's not fun. But with this approach,
that's not fun. But with this approach,
you can go ahead and you can upgrade it
you can go ahead and you can upgrade it
you can go ahead and you can upgrade it
and it's still going to point to the
and it's still going to point to the
and it's still going to point to the
same information.
same information.
same information.
the only sense of migration really is
the only sense of migration really is
the only sense of migration really is
just you keeping track of okay
just you keeping track of okay
just you keeping track of okay
am I changing the shape of the data
am I changing the shape of the data
am I changing the shape of the data
internally in any way and then that
internally in any way and then that
internally in any way and then that
comes down to the burden as always is
comes down to the burden as always is
comes down to the burden as always is
placed on the developer to consider
placed on the developer to consider
placed on the developer to consider
carefully their data structures data
carefully their data structures data
carefully their data structures data
structures inform the architecture of
structures inform the architecture of
structures inform the architecture of
the overall program
the overall program
the overall program
 so right So,
 so right So,
 so right So,
 so just wanted to address some questions
 so just wanted to address some questions
 so just wanted to address some questions
that came up. , there was a question
that came up. , there was a question
that came up. , there was a question
by Green here about us validating the
by Green here about us validating the
by Green here about us validating the
demand with Stellar developers. U, no,
demand with Stellar developers. U, no,
demand with Stellar developers. U, no,
we didn't, , we the target audience
we didn't, , we the target audience
we didn't, , we the target audience
for this wasn't initially the Stellar
for this wasn't initially the Stellar
for this wasn't initially the Stellar
developers. We once we actually
developers. We once we actually
developers. We once we actually
showcased this to the internal
showcased this to the internal
showcased this to the internal
foundation team, they were excited about
foundation team, they were excited about
foundation team, they were excited about
it. they wanted us to showcase it to the
it. they wanted us to showcase it to the
it. they wanted us to showcase it to the
development community to be used in
development community to be used in
development community to be used in
other Art of Leo tokenization frameworks
other Art of Leo tokenization frameworks
other Art of Leo tokenization frameworks
where we did see a significant demand
where we did see a significant demand
where we did see a significant demand
for it come from was from asset managers
for it come from was from asset managers
for it come from was from asset managers
themselves people that were actually if
themselves people that were actually if
themselves people that were actually if
you're asking someone to do RWA
you're asking someone to do RWA
you're asking someone to do RWA
tokenization and you're asking them to
tokenization and you're asking them to
tokenization and you're asking them to
transition millions if not billions of
transition millions if not billions of
transition millions if not billions of
their assets on chain this is something
their assets on chain this is something
their assets on chain this is something
that they felt comfortable getting
that they felt comfortable getting
that they felt comfortable getting
behind
behind
behind
 and and secondly
 and and secondly
 and and secondly
 with respect to Nomics ID what Thomas
 with respect to Nomics ID what Thomas
 with respect to Nomics ID what Thomas
just showcased to you is a digital
just showcased to you is a digital
just showcased to you is a digital
identity framework. We'll also be filing
identity framework. We'll also be filing
identity framework. We'll also be filing
an SCP for that. and creating a
an SCP for that. and creating a
an SCP for that. and creating a
standard for anomics ID on the Sora
standard for anomics ID on the Sora
standard for anomics ID on the Sora
network. What the Nomix ID would allow
network. What the Nomix ID would allow
network. What the Nomix ID would allow
you to do is create digital identities
you to do is create digital identities
you to do is create digital identities
on chain that you can then enforce these
on chain that you can then enforce these
on chain that you can then enforce these
compliance rules on a token.
compliance rules on a token.
compliance rules on a token.
 Just cut off.
 Just cut off.
 Just cut off.
 Oh, hello. Can you hear me?
 Oh, hello. Can you hear me?
 Oh, hello. Can you hear me?
 Oh, yeah. Uber we can't hear you.
 Oh, yeah. Uber we can't hear you.
 Oh, yeah. Uber we can't hear you.
 I can hear you.
 I can hear you.
 I can hear you.
 Oh, okay. U Yeah. So, so what it would
 Oh, okay. U Yeah. So, so what it would
 Oh, okay. U Yeah. So, so what it would
allow them to do
allow them to do
allow them to do
 Yeah. So, so what it would allow you to
 Yeah. So, so what it would allow you to
 Yeah. So, so what it would allow you to
do is create these digital identities,
do is create these digital identities,
do is create these digital identities,
collect the appropriate documentation
collect the appropriate documentation
collect the appropriate documentation
that you need against each one of these
that you need against each one of these
that you need against each one of these
compliance rules that's being set
compliance rules that's being set
compliance rules that's being set
against a particular identity, and then
against a particular identity, and then
against a particular identity, and then
if you actually we we're running short
if you actually we we're running short
if you actually we we're running short
on time here, but I'm happy to showcase
on time here, but I'm happy to showcase
on time here, but I'm happy to showcase
this demo at a later stage. when you
this demo at a later stage. when you
this demo at a later stage. when you
actually go to create or issue tokens
actually go to create or issue tokens
actually go to create or issue tokens
that are part of this diamond proxy
that are part of this diamond proxy
that are part of this diamond proxy
standard that also include the identity
standard that also include the identity
standard that also include the identity
storage as well as the token storage
storage as well as the token storage
storage as well as the token storage
itself. You're actually able to
itself. You're actually able to
itself. You're actually able to
superimpose individual tokens with
superimpose individual tokens with
superimpose individual tokens with
prerequisite compliance rules. So it
prerequisite compliance rules. So it
prerequisite compliance rules. So it
gives DeFi it gives DeFi a somewhat
gives DeFi it gives DeFi a somewhat
gives DeFi it gives DeFi a somewhat
centralized flavor which is mandated by
centralized flavor which is mandated by
centralized flavor which is mandated by
regulators in order to facilitate the
regulators in order to facilitate the
regulators in order to facilitate the
transition of RWA onchain.
Right. So, so, so to answer your
Right. So, so, so to answer your
question in a roundabout way, I am
question in a roundabout way, I am
question in a roundabout way, I am
green. The entire intent was if we want
green. The entire intent was if we want
green. The entire intent was if we want
asset managers that have not interacted
asset managers that have not interacted
asset managers that have not interacted
with blockchain technology that are have
with blockchain technology that are have
with blockchain technology that are have
no clue about the underlying tech, but
no clue about the underlying tech, but
no clue about the underlying tech, but
they want to adopt, they want to get on
they want to adopt, they want to get on
they want to adopt, they want to get on
board with the tokenization bandwagon
board with the tokenization bandwagon
board with the tokenization bandwagon
and they want to come into RWAS. Telling
and they want to come into RWAS. Telling
and they want to come into RWAS. Telling
them that their contracts are actually
them that their contracts are actually
them that their contracts are actually
upgradable in a very modular manner
upgradable in a very modular manner
upgradable in a very modular manner
gives them peace of mind while still
gives them peace of mind while still
gives them peace of mind while still
preserving the audit trail that already
preserving the audit trail that already
preserving the audit trail that already
occurred on the previous transactions in
occurred on the previous transactions in
occurred on the previous transactions in
the previous iteration of that contract.
the previous iteration of that contract.
the previous iteration of that contract.
 Great. Yeah, I think it makes a lot of
 Great. Yeah, I think it makes a lot of
 Great. Yeah, I think it makes a lot of
sense. U this this may not be this may
sense. U this this may not be this may
sense. U this this may not be this may
not be a good fit for all projects, but
not be a good fit for all projects, but
not be a good fit for all projects, but
I think you you had some some good use
I think you you had some some good use
I think you you had some some good use
cases where where this makes a lot of
cases where where this makes a lot of
cases where where this makes a lot of
sense to to to build it this way. Right.
sense to to to build it this way. Right.
sense to to to build it this way. Right.
No, it would all be article ways because
No, it would all be article ways because
No, it would all be article ways because
otherwise you are adding unnecessary
otherwise you are adding unnecessary
otherwise you are adding unnecessary
complexity unless you're creating a D5
complexity unless you're creating a D5
complexity unless you're creating a D5
protocol that you is more experimental
protocol that you is more experimental
protocol that you is more experimental
and you're expecting to update it on a
and you're expecting to update it on a
and you're expecting to update it on a
regular cadence, maybe that would be
regular cadence, maybe that would be
regular cadence, maybe that would be
a good fit. But if it's just a
a good fit. But if it's just a
a good fit. But if it's just a
oneanddone deployment project, yeah,
oneanddone deployment project, yeah,
oneanddone deployment project, yeah,
you're better off just doing it the old
you're better off just doing it the old
you're better off just doing it the old
way. But if you are doing RWAS and if
way. But if you are doing RWAS and if
way. But if you are doing RWAS and if
you are trying to win clients in the RWA
you are trying to win clients in the RWA
you are trying to win clients in the RWA
space, giving those clients this peace
space, giving those clients this peace
space, giving those clients this peace
of mind because legislation always
of mind because legislation always
of mind because legislation always
trails innovation. There's going to be
trails innovation. There's going to be
trails innovation. There's going to be
more legislative rules and policies that
more legislative rules and policies that
more legislative rules and policies that
are going to come in place that these
are going to come in place that these
are going to come in place that these
smart contracts will eventually have to
smart contracts will eventually have to
smart contracts will eventually have to
comply with.
comply with.
comply with.
 Yeah. Great. I don't know if there's any
 Yeah. Great. I don't know if there's any
 Yeah. Great. I don't know if there's any
last minute questions before we we end
last minute questions before we we end
last minute questions before we we end
here.
here.
here.
 yeah, now you get it. My apologies. We
 yeah, now you get it. My apologies. We
 yeah, now you get it. My apologies. We
should have we should have started with
should have we should have started with
should have we should have started with
that shared. The entire purpose of the
that shared. The entire purpose of the
that shared. The entire purpose of the
shared storage is because if you
shared storage is because if you
shared storage is because if you
upgraded a contract and you tell me all
upgraded a contract and you tell me all
upgraded a contract and you tell me all
of my historical transaction data is
of my historical transaction data is
of my historical transaction data is
gone, the SEC is going to be banging on
gone, the SEC is going to be banging on
gone, the SEC is going to be banging on
their doors and it's gi well played.
their doors and it's gi well played.
their doors and it's gi well played.
Game over. They will never adopt. This
Game over. They will never adopt. This
Game over. They will never adopt. This
is a way to soften the blow for asset
is a way to soften the blow for asset
is a way to soften the blow for asset
managers to bring them on check.
managers to bring them on check.
managers to bring them on check.
 Yes.
 Yes.
 Yes.
 By a whole lot.
 By a whole lot.
 By a whole lot.
 By a whole lot. Yeah. because before
 By a whole lot. Yeah. because before
 By a whole lot. Yeah. because before
that they didn't even want to talk to
that they didn't even want to talk to
that they didn't even want to talk to
you.
you.
you.
 , Neil, you say you have a question.
 , Neil, you say you have a question.
 , Neil, you say you have a question.
What is your question? Is it related to
What is your question? Is it related to
What is your question? Is it related to
the topic here?
yeah, I don't think we have any more
yeah, I don't think we have any more
questions. Well, oh yeah,
questions. Well, oh yeah,
questions. Well, oh yeah,
 learn American language.
 learn American language.
 learn American language.
Okay,
Okay,
Okay,
 it's more of a statement than a
 it's more of a statement than a
 it's more of a statement than a
question.
question.
question.
 Yeah,
 Yeah,
 Yeah,
 I agree 100%. Learn Sorban.
 I agree 100%. Learn Sorban.
 I agree 100%. Learn Sorban.
 Yeah,
 Yeah,
 Yeah,
 great. Thank you so much for joining
 great. Thank you so much for joining
 great. Thank you so much for joining
today. This was super interesting. I I
today. This was super interesting. I I
today. This was super interesting. I I
I'm looking forward to see see the
I'm looking forward to see see the
I'm looking forward to see see the
progress and and see how this will
progress and and see how this will
progress and and see how this will
play out. , I think it's it it there's
play out. , I think it's it it there's
play out. , I think it's it it there's
definitely some some use cases where I
definitely some some use cases where I
definitely some some use cases where I
see this has massive benefits. , so
see this has massive benefits. , so
see this has massive benefits. , so
yeah, super exciting. Thank you all for
yeah, super exciting. Thank you all for
yeah, super exciting. Thank you all for
joining and thank you for everyone
joining and thank you for everyone
joining and thank you for everyone
who viewed this live live stream. We'll
who viewed this live live stream. We'll
who viewed this live live stream. We'll
be back again next Thursday. Thank you.
be back again next Thursday. Thank you.
be back again next Thursday. Thank you.
Bye.
Bye.
Bye.
 Thanks, guys. And look out for comments
 Thanks, guys. And look out for comments
 Thanks, guys. And look out for comments
from both Wald and Silence. Thank you
from both Wald and Silence. Thank you
from both Wald and Silence. Thank you
guys.
guys.
guys.
 Thank you. Have a good one, guys. See
 Thank you. Have a good one, guys. See
 Thank you. Have a good one, guys. See
you. Take care. Bye.
