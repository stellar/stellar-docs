okay we're live alright everyone welcome
okay we're live alright everyone welcome
to the open protocol discussion a
to the open protocol discussion a
to the open protocol discussion a
biweekly meeting in which we review and
biweekly meeting in which we review and
biweekly meeting in which we review and
plan for upcoming changes then
plan for upcoming changes then
plan for upcoming changes then
provements do the stuff call we've
provements do the stuff call we've
provements do the stuff call we've
missed a few meetings because people
missed a few meetings because people
missed a few meetings because people
have been out of town but our plan is to
have been out of town but our plan is to
have been out of town but our plan is to
keep live-streaming these so that the
keep live-streaming these so that the
keep live-streaming these so that the
world at large anyone who's watching can
world at large anyone who's watching can
world at large anyone who's watching can
see what we're working on and all the
see what we're working on and all the
see what we're working on and all the
wonderful thoughts that you have about I
wonderful thoughts that you have about I
wonderful thoughts that you have about I
don't like Stellar better these meetings
don't like Stellar better these meetings
don't like Stellar better these meetings
usually focus on reviewing court
usually focus on reviewing court
usually focus on reviewing court
advancement proposals aka caps which
advancement proposals aka caps which
advancement proposals aka caps which
suggests new features and improvements
suggests new features and improvements
suggests new features and improvements
to the protocol and at the moment we're
to the protocol and at the moment we're
to the protocol and at the moment we're
focused on protocol 14 on the upcoming
focused on protocol 14 on the upcoming
focused on protocol 14 on the upcoming
protocol which will likely include two
protocol which will likely include two
protocol which will likely include two
big caps cap 23 two part payments and
big caps cap 23 two part payments and
big caps cap 23 two part payments and
cap 33 sponsored reserves today we'll
cap 33 sponsored reserves today we'll
cap 33 sponsored reserves today we'll
cover a few remaining questions about
cover a few remaining questions about
cover a few remaining questions about
those we'll also talk a bit about the
those we'll also talk a bit about the
those we'll also talk a bit about the
downstream implications of those caps
downstream implications of those caps
downstream implications of those caps
and the preparations underway to make
and the preparations underway to make
and the preparations underway to make
sure horizon and the Stellar SDKs are
sure horizon and the Stellar SDKs are
sure horizon and the Stellar SDKs are
ready for protocol 14 so we published
ready for protocol 14 so we published
ready for protocol 14 so we published
some pre reads for this meeting there in
some pre reads for this meeting there in
some pre reads for this meeting there in
the event description and this
the event description and this
the event description and this
discussion will make up a lot more sense
discussion will make up a lot more sense
discussion will make up a lot more sense
if you've done them so do those if you
if you've done them so do those if you
if you've done them so do those if you
haven't there's also just a rough
haven't there's also just a rough
haven't there's also just a rough
outline of the agenda on the left of the
outline of the agenda on the left of the
outline of the agenda on the left of the
screen and there's also a list of
screen and there's also a list of
screen and there's also a list of
participants in the event description
participants in the event description
participants in the event description
and for this meeting instead of
and for this meeting instead of
and for this meeting instead of
introducing everyone I'll just let
introducing everyone I'll just let
introducing everyone I'll just let
anyone watching Google the names to find
anyone watching Google the names to find
anyone watching Google the names to find
out who's who if that's not working in
out who's who if that's not working in
out who's who if that's not working in
the future we can take some time to
the future we can take some time to
the future we can take some time to
introduce ourselves but let's start
introduce ourselves but let's start
introduce ourselves but let's start
there seems simplest so diving in quick
there seems simplest so diving in quick
there seems simplest so diving in quick
status update cap 23 and cap 33 are in
status update cap 23 and cap 33 are in
status update cap 23 and cap 33 are in
final common period they've been there a
final common period they've been there a
final common period they've been there a
little longer than usual there were a
little longer than usual there were a
little longer than usual there were a
few lingering questions discussion was a
few lingering questions discussion was a
few lingering questions discussion was a
bit slow because people are way but
bit slow because people are way but
bit slow because people are way but
barring any blocker is raised in today's
barring any blocker is raised in today's
barring any blocker is raised in today's
discussion we will be night them with
discussion we will be night them with
discussion we will be night them with
the coveted status of accepted so first
the coveted status of accepted so first
the coveted status of accepted so first
let's talk about those cap 23 to part
let's talk about those cap 23 to part
let's talk about those cap 23 to part
payments cap 23 creates a new letter
payments cap 23 creates a new letter
payments cap 23 creates a new letter
entry called a claimable balance the new
entry called a claimable balance the new
entry called a claimable balance the new
operations that allow you to create and
operations that allow you to create and
operations that allow you to create and
claim a claim of a balance the goal is
claim a claim of a balance the goal is
claim a claim of a balance the goal is
to separate the sending and receiving
to separate the sending and receiving
to separate the sending and receiving
with a payment so you can send a payment
with a payment so you can send a payment
with a payment so you can send a payment
to an account that isn't already
to an account that isn't already
to an account that isn't already
prepared to receive it it looks like
prepared to receive it it looks like
prepared to receive it it looks like
there are a couple of issues here and I
there are a couple of issues here and I
there are a couple of issues here and I
will turn it over to John
will turn it over to John
will turn it over to John
to talk about the first one sure so this
to talk about the first one sure so this
to talk about the first one sure so this
this is actually this originates from a
this is actually this originates from a
this is actually this originates from a
from a question that David brought up I
from a question that David brought up I
from a question that David brought up I
guess a few weeks ago which has kind of
guess a few weeks ago which has kind of
guess a few weeks ago which has kind of
been lingering but basically the
been lingering but basically the
been lingering but basically the
question is like right now we're using
question is like right now we're using
question is like right now we're using
dislike predicates tree structure which
dislike predicates tree structure which
dislike predicates tree structure which
is kind of novel in the Stellar world
is kind of novel in the Stellar world
is kind of novel in the Stellar world
you know in other places we use like
you know in other places we use like
you know in other places we use like
linear threshold combinations and stuff
linear threshold combinations and stuff
linear threshold combinations and stuff
like that but here we have this
like that but here we have this
like that but here we have this
predicate tree and David's main concern
predicate tree and David's main concern
predicate tree and David's main concern
about this predicate tree is that you
about this predicate tree is that you
about this predicate tree is that you
know XDR doesn't have any built-in
know XDR doesn't have any built-in
know XDR doesn't have any built-in
mechanisms to prevent arbitrary
mechanisms to prevent arbitrary
mechanisms to prevent arbitrary
recursion and so anybody who has an
recursion and so anybody who has an
recursion and so anybody who has an
extra parser first of all like as a
extra parser first of all like as a
extra parser first of all like as a
matter of principle you should be making
matter of principle you should be making
matter of principle you should be making
sure that you're not gonna get infinite
sure that you're not gonna get infinite
sure that you're not gonna get infinite
recursion but you could imagine a world
recursion but you could imagine a world
recursion but you could imagine a world
in which you have some structure which
in which you have some structure which
in which you have some structure which
is like sitting on the edge of the
is like sitting on the edge of the
is like sitting on the edge of the
recursion depth limit for different
recursion depth limit for different
recursion depth limit for different
nodes on different architectures and
nodes on different architectures and
nodes on different architectures and
whatever and maybe some nodes choose
whatever and maybe some nodes choose
whatever and maybe some nodes choose
that it's acceptable in some node trees
that it's acceptable in some node trees
that it's acceptable in some node trees
it's unacceptable and then you end up in
it's unacceptable and then you end up in
it's unacceptable and then you end up in
some bad undefined state depending on
some bad undefined state depending on
some bad undefined state depending on
potentially a fork in a really bad case
potentially a fork in a really bad case
potentially a fork in a really bad case
depending on basically just how
depending on basically just how
depending on basically just how
everybody's configured but they're
everybody's configured but they're
everybody's configured but they're
different XDR and so the question is
different XDR and so the question is
different XDR and so the question is
like how should we update this predicate
like how should we update this predicate
like how should we update this predicate
tree structure and David had this
tree structure and David had this
tree structure and David had this
proposal to basically turn it into a
proposal to basically turn it into a
proposal to basically turn it into a
into disjunctive normal form but I've
into disjunctive normal form but I've
into disjunctive normal form but I've
heard some opposition from myself from
heard some opposition from myself from
heard some opposition from myself from
Nicola and from somebody else that I
Nicola and from somebody else that I
Nicola and from somebody else that I
can't remember right now who the third
can't remember right now who the third
can't remember right now who the third
person is that this disjunctive normal
person is that this disjunctive normal
person is that this disjunctive normal
form idea is not really that great
form idea is not really that great
form idea is not really that great
because like complicated expressions end
because like complicated expressions end
because like complicated expressions end
up becoming like exponentially large
up becoming like exponentially large
up becoming like exponentially large
that's kind of not ideal so we could
that's kind of not ideal so we could
that's kind of not ideal so we could
either decide that we don't think this
either decide that we don't think this
either decide that we don't think this
is a problem and we're not gonna be
is a problem and we're not gonna be
is a problem and we're not gonna be
anywhere close to the recursion depth
anywhere close to the recursion depth
anywhere close to the recursion depth
limit because like probably
limit because like probably
limit because like probably
realistically a transaction even with
realistically a transaction even with
realistically a transaction even with
this predicate tree structure has
this predicate tree structure has
this predicate tree structure has
recursion depth maybe like 10 or 12 and
recursion depth maybe like 10 or 12 and
recursion depth maybe like 10 or 12 and
if your system doesn't support like 12
if your system doesn't support like 12
if your system doesn't support like 12
recursions like that's a problem hold on
recursions like that's a problem hold on
recursions like that's a problem hold on
that the idea is that a bad person could
that the idea is that a bad person could
that the idea is that a bad person could
submit it to purposely submit a
submit it to purposely submit a
submit it to purposely submit a
transaction that like pushes the
transaction that like pushes the
transaction that like pushes the
recursion depth right but that would be
recursion depth right but that would be
recursion depth right but that would be
invalid no matter what
invalid no matter what
invalid no matter what
they're automatically invalid if the
they're automatically invalid if the
they're automatically invalid if the
depth is greater than four so like if
depth is greater than four so like if
depth is greater than four so like if
you submit because we have logic in
you submit because we have logic in
you submit because we have logic in
there too we have to be exactly actually
there too we have to be exactly actually
there too we have to be exactly actually
there's a laterally invalid if any of
there's a laterally invalid if any of
there's a laterally invalid if any of
the predicate trees have depth greater
the predicate trees have depth greater
the predicate trees have depth greater
than four so like it might you know if
than four so like it might you know if
than four so like it might you know if
your XD our compiler doesn't generate
your XD our compiler doesn't generate
your XD our compiler doesn't generate
code that handles recursion like deep
code that handles recursion like deep
code that handles recursion like deep
recursions well it might crash your node
recursions well it might crash your node
recursions well it might crash your node
but like if that's the case your XD are
but like if that's the case your XD are
but like if that's the case your XD are
set up it's garbage and you have a
set up it's garbage and you have a
set up it's garbage and you have a
security vulnerability regardless of
security vulnerability regardless of
security vulnerability regardless of
whether we've done this or not well if
whether we've done this or not well if
whether we've done this or not well if
we pick a number like four we can
we pick a number like four we can
we pick a number like four we can
actually admit it's ugly but we can
actually admit it's ugly but we can
actually admit it's ugly but we can
actually express that in any XD are
actually express that in any XD are
actually express that in any XD are
pretty good tree one two three and four
pretty good tree one two three and four
pretty good tree one two three and four
is like four different types you know
is like four different types you know
is like four different types you know
leaf one two and three or something
leaf one two and three or something
leaf one two and three or something
I mean but so that much is how like do
I mean but so that much is how like do
I mean but so that much is how like do
we really actually have use cases that
we really actually have use cases that
we really actually have use cases that
involve all of this like the thing is
involve all of this like the thing is
involve all of this like the thing is
you already have the disjunction because
you already have the disjunction because
you already have the disjunction because
you can have multiple claimants right
you can have multiple claimants right
you can have multiple claimants right
and so so the question is why not do
and so so the question is why not do
and so so the question is why not do
something that has just a conjunction
something that has just a conjunction
something that has just a conjunction
you know in in the claim predicate and
you know in in the claim predicate and
you know in in the claim predicate and
then you know we can add something more
then you know we can add something more
then you know we can add something more
if it turns out that's not useful enough
if it turns out that's not useful enough
if it turns out that's not useful enough
or at least come up with some actual
or at least come up with some actual
or at least come up with some actual
like realistic use case that actually
like realistic use case that actually
like realistic use case that actually
requires like you know like four deep
requires like you know like four deep
requires like you know like four deep
nesting of like hands and wars so so the
nesting of like hands and wars so so the
nesting of like hands and wars so so the
four wasn't chosen arbitrarily the four
four wasn't chosen arbitrarily the four
four wasn't chosen arbitrarily the four
has this like very magic property of
has this like very magic property of
has this like very magic property of
making a claim of like a claim over
making a claim of like a claim over
making a claim of like a claim over
balanced entry the same size as a or
balanced entry the same size as a or
balanced entry the same size as a or
rather the claimable predicate tree the
rather the claimable predicate tree the
rather the claimable predicate tree the
same size as a data field so basically
same size as a data field so basically
same size as a data field so basically
like this bore was basically saying like
like this bore was basically saying like
like this bore was basically saying like
if you're gonna pay reserved to get a
if you're gonna pay reserved to get a
if you're gonna pay reserved to get a
data field you might as well pay a
data field you might as well pay a
data field you might as well pay a
reserved to get the same amount of space
reserved to get the same amount of space
reserved to get the same amount of space
and claim a little balance but so that's
and claim a little balance but so that's
and claim a little balance but so that's
where the magic floor comes from but
where the magic floor comes from but
where the magic floor comes from but
regardless of that I mean like for me
regardless of that I mean like for me
regardless of that I mean like for me
it's not just about whether like
it's not just about whether like
it's not just about whether like
everything I think sensible then you
everything I think sensible then you
everything I think sensible then you
could express it you could express in
could express it you could express in
could express it you could express in
disjunction format like I don't see any
disjunction format like I don't see any
disjunction format like I don't see any
reason why you couldn't do this but the
reason why you couldn't do this but the
reason why you couldn't do this but the
issue is like if we then subsequently
issue is like if we then subsequently
issue is like if we then subsequently
add the conjunctive stuff then we're no
add the conjunctive stuff then we're no
add the conjunctive stuff then we're no
better off than we are now like we'd be
better off than we are now like we'd be
better off than we are now like we'd be
strictly worse in fact because we'd now
strictly worse in fact because we'd now
strictly worse in fact because we'd now
have this
have this
have this
the disjunction thing which was your
the disjunction thing which was your
the disjunction thing which was your
proposal where basically if you get
proposal where basically if you get
proposal where basically if you get
disjunction if you're the same claim
disjunction if you're the same claim
disjunction if you're the same claim
into multiple times that's currently not
into multiple times that's currently not
into multiple times that's currently not
permitted at all claimants are unique in
permitted at all claimants are unique in
permitted at all claimants are unique in
this in the current proposal but then
this in the current proposal but then
this in the current proposal but then
you'd also be able to build these trees
you'd also be able to build these trees
you'd also be able to build these trees
and then you've like kind of violated
and then you've like kind of violated
and then you've like kind of violated
the like one way to do it rule so like
the like one way to do it rule so like
the like one way to do it rule so like
that's kind of my main like basically if
that's kind of my main like basically if
that's kind of my main like basically if
we think we could ever end up in a world
we think we could ever end up in a world
we think we could ever end up in a world
where DNF is not good then we shouldn't
where DNF is not good then we shouldn't
where DNF is not good then we shouldn't
start in a world where DNF is the
start in a world where DNF is the
start in a world where DNF is the
standard because we'd be no better off
standard because we'd be no better off
standard because we'd be no better off
in the long run so that's kind of my
in the long run so that's kind of my
in the long run so that's kind of my
main take on it one other idea I'll
main take on it one other idea I'll
main take on it one other idea I'll
pitched you and I'm gonna credit this
pitched you and I'm gonna credit this
pitched you and I'm gonna credit this
one too great in it's not my idea but
one too great in it's not my idea but
one too great in it's not my idea but
graden mentioned that we could actually
graden mentioned that we could actually
graden mentioned that we could actually
to avoid the infinite recursion thing XD
to avoid the infinite recursion thing XD
to avoid the infinite recursion thing XD
ROP KO phi the predicate tree and like
ROP KO phi the predicate tree and like
ROP KO phi the predicate tree and like
we can for example make the xt are
we can for example make the xt are
we can for example make the xt are
opaque version of the predicate tree
opaque version of the predicate tree
opaque version of the predicate tree
like 64 bytes right now and if it's
like 64 bytes right now and if it's
like 64 bytes right now and if it's
bigger than 64 bytes you're dead like
bigger than 64 bytes you're dead like
bigger than 64 bytes you're dead like
that's not gonna work and then later if
that's not gonna work and then later if
that's not gonna work and then later if
we need to get bigger trees for example
we need to get bigger trees for example
we need to get bigger trees for example
for hash Cree images or something we
for hash Cree images or something we
for hash Cree images or something we
just increase that number but that
just increase that number but that
just increase that number but that
provides like a default bound
provides like a default bound
provides like a default bound
automatically I don't know I don't know
automatically I don't know I don't know
automatically I don't know I don't know
how much anybody cares about this at the
how much anybody cares about this at the
how much anybody cares about this at the
end of the day like we could definitely
end of the day like we could definitely
end of the day like we could definitely
do the hard coding thing there's a lot
do the hard coding thing there's a lot
do the hard coding thing there's a lot
of different options and I just like I
of different options and I just like I
of different options and I just like I
don't know how much it matters to spend
don't know how much it matters to spend
don't know how much it matters to spend
time trying to decide like do people
time trying to decide like do people
time trying to decide like do people
care a lot are people really concerned
care a lot are people really concerned
care a lot are people really concerned
about this recursion thing what is the
about this recursion thing what is the
about this recursion thing what is the
what is the use case that's driving the
what is the use case that's driving the
what is the use case that's driving the
the more complex like pretty good cheese
the more complex like pretty good cheese
the more complex like pretty good cheese
well the main reason for having the
well the main reason for having the
well the main reason for having the
predicate trees is just that it's a lot
predicate trees is just that it's a lot
predicate trees is just that it's a lot
like it's a lot more powerful than
like it's a lot more powerful than
like it's a lot more powerful than
having Linear's like signer weights
having Linear's like signer weights
having Linear's like signer weights
basically like what we have on accounts
basically like what we have on accounts
basically like what we have on accounts
I like there are very simple situations
I like there are very simple situations
I like there are very simple situations
where you would want an or for example
where you would want an or for example
where you would want an or for example
or maybe even an and or an or for
or maybe even an and or an or for
or maybe even an and or an or for
example like you might want a situation
example like you might want a situation
example like you might want a situation
where it's like from now until this time
where it's like from now until this time
where it's like from now until this time
I can do something and then from some
I can do something and then from some
I can do something and then from some
future time until some other future time
future time until some other future time
future time until some other future time
I again have the right to do something
I again have the right to do something
I again have the right to do something
and now you've automatically got this
and now you've automatically got this
and now you've automatically got this
tree structure implicitly so but no but
tree structure implicitly so but no but
tree structure implicitly so but no but
you can already have this because you
you can already have this because you
you can already have this because you
already have multiple claimants right so
already have multiple claimants right so
already have multiple claimants right so
claimants are unique
claimants are unique
claimants are unique
right now they don't support repetition
right now they don't support repetition
right now they don't support repetition
but we could do repetition sorry but oh
but we could do repetition sorry but oh
but we could do repetition sorry but oh
you're saying even the subunits of the
you're saying even the subunits of the
you're saying even the subunits of the
claimants if you have a conjunction of
claimants if you have a conjunction of
claimants if you have a conjunction of
me before Tuesday and me after Thursday
me before Tuesday and me after Thursday
me before Tuesday and me after Thursday
you're saying those are the same
you're saying those are the same
you're saying those are the same
claimant so the same claimant has
claimant so the same claimant has
claimant so the same claimant has
appeared multiple pi correct and that
appeared multiple pi correct and that
appeared multiple pi correct and that
would be invalid so yes I don't see why
would be invalid so yes I don't see why
would be invalid so yes I don't see why
would you prohibit that like I can
would you prohibit that like I can
would you prohibit that like I can
actually see a number of reasons why you
actually see a number of reasons why you
actually see a number of reasons why you
might want to do that because like maybe
might want to do that because like maybe
might want to do that because like maybe
you want to maybe you want to be able to
you want to maybe you want to be able to
you want to maybe you want to be able to
be claimed by like a two out of three
be claimed by like a two out of three
be claimed by like a two out of three
configuration and so like you know I
configuration and so like you know I
configuration and so like you know I
should be able to sign on two of the
should be able to sign on two of the
should be able to sign on two of the
claimants for example so having repeated
claimants for example so having repeated
claimants for example so having repeated
claimants actually seems like a very
claimants actually seems like a very
claimants actually seems like a very
useful thing unlike this this
useful thing unlike this this
useful thing unlike this this
alternating and in or four times I'm not
alternating and in or four times I'm not
alternating and in or four times I'm not
I'm not sure I understand why the
I'm not sure I understand why the
I'm not sure I understand why the
repeating would be useful like other
repeating would be useful like other
repeating would be useful like other
than in this disjunctive normal form at
than in this disjunctive normal form at
than in this disjunctive normal form at
world like why what usage could possibly
world like why what usage could possibly
world like why what usage could possibly
come from that it's strictly less
come from that it's strictly less
come from that it's strictly less
powerful than the tree like anything you
powerful than the tree like anything you
powerful than the tree like anything you
can do with the tree you could also do
can do with the tree you could also do
can do with the tree you could also do
with the claimants like repeated
with the claimants like repeated
with the claimants like repeated
claimants but the opposite
anyway I want to come back to like then
anyway I want to come back to like then
I don't want to spend time about this if
I don't want to spend time about this if
I don't want to spend time about this if
nobody's concerned about this recursion
nobody's concerned about this recursion
nobody's concerned about this recursion
issue like my stamps on the recursion
issue like my stamps on the recursion
issue like my stamps on the recursion
issue is that if the recursion issue
issue is that if the recursion issue
issue is that if the recursion issue
comes into play you already have a
comes into play you already have a
comes into play you already have a
security vulnerability because your XDR
security vulnerability because your XDR
security vulnerability because your XDR
compiler doesn't handle recursion well
compiler doesn't handle recursion well
compiler doesn't handle recursion well
or your XDR library doesn't handle
or your XDR library doesn't handle
or your XDR library doesn't handle
conversion look Oh recursion well so not
conversion look Oh recursion well so not
conversion look Oh recursion well so not
but the question is like do we define a
but the question is like do we define a
but the question is like do we define a
depth specifically for this data
depth specifically for this data
depth specifically for this data
structure or we just expect to conform
structure or we just expect to conform
structure or we just expect to conform
to whatever your XD our parser knows how
to whatever your XD our parser knows how
to whatever your XD our parser knows how
to do this one has a big depth limit
to do this one has a big depth limit
to do this one has a big depth limit
there are two paths to it yeah there are
there are two paths to it yeah there are
there are two paths to it yeah there are
two paths straight right there from a
two paths straight right there from a
two paths straight right there from a
security standpoint you want to be able
security standpoint you want to be able
security standpoint you want to be able
like you shouldn't never use in you know
like you shouldn't never use in you know
like you shouldn't never use in you know
unbounded num you know amount of memory
unbounded num you know amount of memory
unbounded num you know amount of memory
if you get untrusted
if you get untrusted
if you get untrusted
data on the wire right and then there is
data on the wire right and then there is
data on the wire right and then there is
the second part that is a protocol and
the second part that is a protocol and
the second part that is a protocol and
fourth thing that is what is the maximum
fourth thing that is what is the maximum
fourth thing that is what is the maximum
depth and it's fall so they in that case
depth and it's fall so they in that case
depth and it's fall so they in that case
if that's really what we're gonna do I
if that's really what we're gonna do I
if that's really what we're gonna do I
would argue against the the maximum
would argue against the the maximum
would argue against the the maximum
depth because because that's hard to
depth because because that's hard to
depth because because that's hard to
implement right so people get it wrong
implement right so people get it wrong
implement right so people get it wrong
if we just have a maximum do we have a
if we just have a maximum do we have a
if we just have a maximum do we have a
maximum transaction size because then
maximum transaction size because then
maximum transaction size because then
because the thing is like and maximum
because the thing is like and maximum
because the thing is like and maximum
transaction size would at least be easy
transaction size would at least be easy
transaction size would at least be easy
to enforce where did I think I'd
to enforce where did I think I'd
to enforce where did I think I'd
rather I'm not go that route because
rather I'm not go that route because
rather I'm not go that route because
like right now like John said like the
like right now like John said like the
like right now like John said like the
four as it's kind of a nice property
four as it's kind of a nice property
four as it's kind of a nice property
where we don't have to deal with
where we don't have to deal with
where we don't have to deal with
variable based reserve requirement only
variable based reserve requirement only
variable based reserve requirement only
as soon as we say we have we bound this
as soon as we say we have we bound this
as soon as we say we have we bound this
to the size of the transaction now
to the size of the transaction now
to the size of the transaction now
you're you're you have to come up with
you're you're you have to come up with
you're you're you have to come up with
an onion model so this for how much to
an onion model so this for how much to
an onion model so this for how much to
charge for return because now like
charge for return because now like
charge for return because now like
they're all going to be potentially a
they're all going to be potentially a
they're all going to be potentially a
lot more predicates that you can put
lot more predicates that you can put
lot more predicates that you can put
Kristin operations can get very big so
Kristin operations can get very big so
Kristin operations can get very big so
what's your how big is your like a bad
what's your how big is your like a bad
what's your how big is your like a bad
payment is you know can get is very big
payment is you know can get is very big
payment is you know can get is very big
so how big is your implementation of the
so how big is your implementation of the
so how big is your implementation of the
of the recursion depth John how many
of the recursion depth John how many
of the recursion depth John how many
lines I suppose for us
lines I suppose for us
lines I suppose for us
Siddarth did it so I don't have it in my
Siddarth did it so I don't have it in my
Siddarth did it so I don't have it in my
head right now but I my guess is it's
head right now but I my guess is it's
head right now but I my guess is it's
probably like on the order of 20 that's
probably like on the order of 20 that's
probably like on the order of 20 that's
how much I think it would take me to
how much I think it would take me to
how much I think it would take me to
implement it and and how many places
implement it and and how many places
implement it and and how many places
just invoke that function in the code
just invoke that function in the code
just invoke that function in the code
because it seems like we're gonna have
because it seems like we're gonna have
because it seems like we're gonna have
to check this in a bunch of different
to check this in a bunch of different
to check this in a bunch of different
places right everything is just one yeah
places right everything is just one yeah
places right everything is just one yeah
it is very eight because they're
it is very eight because they're
it is very eight because they're
immutable so it's just like in the
immutable so it's just like in the
immutable so it's just like in the
validity path you check like hey like
validity path you check like hey like
validity path you check like hey like
how deep is this cool you're good
how deep is this cool you're good
how deep is this cool you're good
I mean and how so we need like a like
I mean and how so we need like a like
I mean and how so we need like a like
basically every we need a version in the
basically every we need a version in the
basically every we need a version in the
SDK and then we need to like check that
SDK and then we need to like check that
SDK and then we need to like check that
the two are equivalent right it seems
the two are equivalent right it seems
the two are equivalent right it seems
like any time is it difference like any
like any time is it difference like any
like any time is it difference like any
time an SDK can be convinced to create a
time an SDK can be convinced to create a
time an SDK can be convinced to create a
transaction of Stellar core we'll
transaction of Stellar core we'll
transaction of Stellar core we'll
consider
consider
consider
are incorrect or invalid that's it
are incorrect or invalid that's it
are incorrect or invalid that's it
that's it that's exploitable right
that's it that's exploitable right
that's it that's exploitable right
because I'll convince you that hey we're
because I'll convince you that hey we're
because I'll convince you that hey we're
gonna do this thing where you can like
gonna do this thing where you can like
gonna do this thing where you can like
get a claim a bunch of money or whatever
get a claim a bunch of money or whatever
get a claim a bunch of money or whatever
and then it turns out that you can't
and then it turns out that you can't
and then it turns out that you can't
because Stellar core rejects the
because Stellar core rejects the
because Stellar core rejects the
transaction so I really I don't like
transaction so I really I don't like
transaction so I really I don't like
this idea but like yeah III don't think
this idea but like yeah III don't think
this idea but like yeah III don't think
we should never do it like they're
we should never do it like they're
we should never do it like they're
clearly times that's appropriate but it
clearly times that's appropriate but it
clearly times that's appropriate but it
just it doesn't seem justified here to
just it doesn't seem justified here to
just it doesn't seem justified here to
add like an extra validity role that is
add like an extra validity role that is
add like an extra validity role that is
not like this is not a good argument I
not like this is not a good argument I
not like this is not a good argument I
think because like in general like you
think because like in general like you
think because like in general like you
have an expression and you're saying oh
have an expression and you're saying oh
have an expression and you're saying oh
like I want to look at the expression
like I want to look at the expression
like I want to look at the expression
and I expect it to just pass in call but
and I expect it to just pass in call but
and I expect it to just pass in call but
like really like if this expression is
like really like if this expression is
like really like if this expression is
bogus like it doesn't matter like you
bogus like it doesn't matter like you
bogus like it doesn't matter like you
know it's going to be invited later
know it's going to be invited later
know it's going to be invited later
right so maybe the reasons we should
right so maybe the reasons we should
right so maybe the reasons we should
make it as easy as possible for SDKs and
make it as easy as possible for SDKs and
make it as easy as possible for SDKs and
other software in the Stellar ecosystem
other software in the Stellar ecosystem
other software in the Stellar ecosystem
to replicate the validity rules of
to replicate the validity rules of
to replicate the validity rules of
Stellar transactions and obviously
Stellar transactions and obviously
Stellar transactions and obviously
sometimes we need to add extra logic but
sometimes we need to add extra logic but
sometimes we need to add extra logic but
given that we haven't cited a single use
given that we haven't cited a single use
given that we haven't cited a single use
case that it wouldn't be satisfied by by
case that it wouldn't be satisfied by by
case that it wouldn't be satisfied by by
a a simpler approach here it just it
a a simpler approach here it just it
a a simpler approach here it just it
doesn't seem justified but again I mean
doesn't seem justified but again I mean
doesn't seem justified but again I mean
I've said my piece
I've said my piece
I've said my piece
I'm not I don't object strongly enough
I'm not I don't object strongly enough
I'm not I don't object strongly enough
that I'm overruling this I did both to
that I'm overruling this I did both to
that I'm overruling this I did both to
put this to FCP so you guys can heed my
put this to FCP so you guys can heed my
put this to FCP so you guys can heed my
advice or ignore it I guess how would
advice or ignore it I guess how would
advice or ignore it I guess how would
you feel about the like the hard-coded
you feel about the like the hard-coded
you feel about the like the hard-coded
thing the you know least one to three
thing the you know least one to three
thing the you know least one to three
thing better much better because like
thing better much better because like
thing better much better because like
that would be easy to do and it wouldn't
that would be easy to do and it wouldn't
that would be easy to do and it wouldn't
really impact the implementation at all
really impact the implementation at all
really impact the implementation at all
because all I would do in the
because all I would do in the
because all I would do in the
implementation is just parse it once the
implementation is just parse it once the
implementation is just parse it once the
real like the leaf four way or you know
real like the leaf four way or you know
real like the leaf four way or you know
depth for way and then I would just
depth for way and then I would just
depth for way and then I would just
parse it again as an infinitely recursos
parse it again as an infinitely recursos
parse it again as an infinitely recursos
structure once I check that it's fine
structure once I check that it's fine
structure once I check that it's fine
and you know and then you can just like
and you know and then you can just like
and you know and then you can just like
you know XDR start you know SDKs and
you know XDR start you know SDKs and
you know XDR start you know SDKs and
whatever could just parse it as the for
whatever could just parse it as the for
whatever could just parse it as the for
depth version and it would just work out
depth version and it would just work out
depth version and it would just work out
of the box
of the box
of the box
yeah we would not even use the the one
yeah we would not even use the the one
yeah we would not even use the the one
with the labels in call yeah we might
with the labels in call yeah we might
with the labels in call yeah we might
not even use the one with the labels in
not even use the one with the labels in
not even use the one with the labels in
core exactly that's a good point because
core exactly that's a good point because
core exactly that's a good point because
we know that we're secure against
we know that we're secure against
we know that we're secure against
arbitrary recursion so no no but the
arbitrary recursion so no no but the
arbitrary recursion so no no but the
whole point is we want the logic in core
whole point is we want the logic in core
whole point is we want the logic in core
to exactly match the logic in SDKs right
to exactly match the logic in SDKs right
to exactly match the logic in SDKs right
so so the well I mean we're paying the
so so the well I mean we're paying the
so so the well I mean we're paying the
sophistication is full maximum depth
sophistication is full maximum depth
sophistication is full maximum depth
fall right so it would be the same spec
fall right so it would be the same spec
fall right so it would be the same spec
and they'll be giving a canned version
and they'll be giving a canned version
and they'll be giving a canned version
to educator
to educator
to educator
I'm just for I'm very skeptical that
I'm just for I'm very skeptical that
I'm just for I'm very skeptical that
this the four is even necessary why
this the four is even necessary why
this the four is even necessary why
don't we start with two and then if we
don't we start with two and then if we
don't we start with two and then if we
need for we can do it yeah we could
need for we can do it yeah we could
need for we can do it yeah we could
start with two two is fine but I mean
start with two two is fine but I mean
start with two two is fine but I mean
like two hasn't helped you a ton in the
like two hasn't helped you a ton in the
like two hasn't helped you a ton in the
sense that like two has exactly the same
sense that like two has exactly the same
sense that like two has exactly the same
constraints is full right like you'd
constraints is full right like you'd
constraints is full right like you'd
still need to check the depths and
still need to check the depths and
still need to check the depths and
everything well no because two is like
everything well no because two is like
everything well no because two is like
much less unwieldy to do with like a
much less unwieldy to do with like a
much less unwieldy to do with like a
leaf in an internal rate like now it's
leaf in an internal rate like now it's
leaf in an internal rate like now it's
sort of it's not that bad to have two
sort of it's not that bad to have two
sort of it's not that bad to have two
different types for it
different types for it
different types for it
also you would need well I guess like do
also you would need well I guess like do
also you would need well I guess like do
you mean - is in like Route one -
because no I meant just like I just
because no I meant just like I just
meant when you have an and or an or it's
meant when you have an and or an or it's
meant when you have an and or an or it's
an andron or of something that doesn't
an andron or of something that doesn't
an andron or of something that doesn't
include andin or of a leaf that's a lot
include andin or of a leaf that's a lot
include andin or of a leaf that's a lot
more restrictive but again like what are
more restrictive but again like what are
more restrictive but again like what are
the use cases here this feels to me like
the use cases here this feels to me like
the use cases here this feels to me like
were we're building a mechanism without
were we're building a mechanism without
were we're building a mechanism without
an idea of the use case for the
an idea of the use case for the
an idea of the use case for the
mechanism right and you can always go
mechanism right and you can always go
mechanism right and you can always go
you can always increase the depth right
you can always increase the depth right
you can always increase the depth right
that's not oh yeah that's that's a third
that's not oh yeah that's that's a third
that's not oh yeah that's that's a third
site you could always increase you know
site you could always increase you know
site you could always increase you know
on the other hand you know it may turn
on the other hand you know it may turn
on the other hand you know it may turn
out that the the main bottleneck here is
out that the the main bottleneck here is
out that the the main bottleneck here is
that it's like it may be like very
that it's like it may be like very
that it's like it may be like very
unintuitive to have like and an award
unintuitive to have like and an award
unintuitive to have like and an award
like complicated boolean formulas for
like complicated boolean formulas for
like complicated boolean formulas for
this stuff right like I think a simple
this stuff right like I think a simple
this stuff right like I think a simple
one level like a disjunction of
one level like a disjunction of
one level like a disjunction of
conjunctions
conjunctions
conjunctions
is something that you know it - it
is something that you know it - it
is something that you know it - it
really makes sense like okay there's
really makes sense like okay there's
really makes sense like okay there's
like three conditions on which we can do
like three conditions on which we can do
like three conditions on which we can do
this it's like this and this are true or
this it's like this and this are true or
this it's like this and this are true or
this is true but once you start going to
this is true but once you start going to
this is true but once you start going to
more than two deaths it starts becoming
more than two deaths it starts becoming
more than two deaths it starts becoming
like fairly unintuitive like it's what
like fairly unintuitive like it's what
like fairly unintuitive like it's what
you you know expect to you know feed
you you know expect to you know feed
you you know expect to you know feed
into your Sat solver because you've
into your Sat solver because you've
into your Sat solver because you've
generated from whatever but but it's no
generated from whatever but but it's no
generated from whatever but but it's no
longer gonna correspond to sort of
longer gonna correspond to sort of
longer gonna correspond to sort of
simple human expectations so do we
simple human expectations so do we
simple human expectations so do we
actually expect that we're gonna be
actually expect that we're gonna be
actually expect that we're gonna be
having compilers generate these like
having compilers generate these like
having compilers generate these like
really complicated predicates and that
really complicated predicates and that
really complicated predicates and that
we're just gonna trust these compilers
we're just gonna trust these compilers
we're just gonna trust these compilers
to do something sensible or do we just
to do something sensible or do we just
to do something sensible or do we just
like if we have a use case for that I'm
like if we have a use case for that I'm
like if we have a use case for that I'm
okay with it but until we do I'd say why
okay with it but until we do I'd say why
okay with it but until we do I'd say why
not just defer having that complexity I
not just defer having that complexity I
not just defer having that complexity I
mean I'm not opposed to going to - in
mean I'm not opposed to going to - in
mean I'm not opposed to going to - in
the short term and making it super
the short term and making it super
the short term and making it super
simple and you know we can make it
simple and you know we can make it
simple and you know we can make it
higher in the future when we need it
higher in the future when we need it
higher in the future when we need it
like would that be difficult if we
like would that be difficult if we
like would that be difficult if we
started shallow and decided that it
started shallow and decided that it
started shallow and decided that it
needed to be deeper would it be
needed to be deeper would it be
needed to be deeper would it be
difficult you know it'd be very easy I
difficult you know it'd be very easy I
difficult you know it'd be very easy I
think that I have an idea how to
think that I have an idea how to
think that I have an idea how to
implement this without the recursion
implement this without the recursion
implement this without the recursion
maybe we can just allow the predicate to
maybe we can just allow the predicate to
maybe we can just allow the predicate to
be an array of predicates and allow
be an array of predicates and allow
be an array of predicates and allow
duplicate claimants in the conditions so
duplicate claimants in the conditions so
duplicate claimants in the conditions so
with these two preconditions we can
with these two preconditions we can
with these two preconditions we can
implement both and and our cases because
implement both and and our cases because
implement both and and our cases because
duplicate duplicate claimants for
duplicate duplicate claimants for
duplicate duplicate claimants for
example two or more claimants with the
example two or more claimants with the
example two or more claimants with the
same account ID with the same
same account ID with the same
same account ID with the same
destination will allow to implement our
destination will allow to implement our
destination will allow to implement our
cases and
and making the predicate an array of
and making the predicate an array of
predicates educates it makes they were
predicates educates it makes they were
predicates educates it makes they were
all soon easier it's intuitive it's like
all soon easier it's intuitive it's like
all soon easier it's intuitive it's like
it makes sense
it makes sense
it makes sense
it is fairly expressive clearly there's
it is fairly expressive clearly there's
it is fairly expressive clearly there's
a lot of different opinions here so
a lot of different opinions here so
a lot of different opinions here so
let's let's take this I think we've like
let's let's take this I think we've like
let's let's take this I think we've like
we've talked out some of the details
we've talked out some of the details
we've talked out some of the details
okay take it to the mailing list and try
okay take it to the mailing list and try
okay take it to the mailing list and try
to come up with what's the right thing
to come up with what's the right thing
to come up with what's the right thing
to do like the beautiful thing is like
to do like the beautiful thing is like
to do like the beautiful thing is like
none of these changes are going to be
none of these changes are going to be
none of these changes are going to be
very material to the implementation so
very material to the implementation so
very material to the implementation so
we can plug in whichever one we kind of
we can plug in whichever one we kind of
we can plug in whichever one we kind of
think is the right one but I don't want
think is the right one but I don't want
think is the right one but I don't want
to take the entire time of this meeting
to take the entire time of this meeting
to take the entire time of this meeting
talking about this one thing okay so the
talking about this one thing okay so the
talking about this one thing okay so the
plan then is to make these suggestions
plan then is to make these suggestions
plan then is to make these suggestions
on the mailing list evaluate them in
on the mailing list evaluate them in
on the mailing list evaluate them in
synchronously and choose one for the
synchronously and choose one for the
synchronously and choose one for the
implementation soon okay that's what
implementation soon okay that's what
implementation soon okay that's what
we'll do then email after this meeting
we'll do then email after this meeting
we'll do then email after this meeting
and kicking that off cool then I or
and kicking that off cool then I or
and kicking that off cool then I or
is there anything else that we need to
is there anything else that we need to
is there anything else that we need to
cover on cap 23 or it's that sort of
cover on cap 23 or it's that sort of
cover on cap 23 or it's that sort of
procedure forward with that I think we
procedure forward with that I think we
procedure forward with that I think we
could probably take if people want to
could probably take if people want to
could probably take if people want to
talk about the other thing about like
talk about the other thing about like
talk about the other thing about like
changing this before-and-after notion to
changing this before-and-after notion to
changing this before-and-after notion to
having a not we can do that but we can
having a not we can do that but we can
having a not we can do that but we can
probably take that to the mailing list
probably take that to the mailing list
probably take that to the mailing list
oops they're all kind of bundled up is
oops they're all kind of bundled up is
oops they're all kind of bundled up is
one kind of topic so unless anybody
one kind of topic so unless anybody
one kind of topic so unless anybody
really wants to talk about that right
really wants to talk about that right
really wants to talk about that right
now I'd say let's take it to the mailing
now I'd say let's take it to the mailing
now I'd say let's take it to the mailing
list great think it's the mailing list
list great think it's the mailing list
list great think it's the mailing list
look out for that in your inbox everyone
look out for that in your inbox everyone
look out for that in your inbox everyone
get excited so then we'll move on to
get excited so then we'll move on to
get excited so then we'll move on to
cap thirty-three sponsored reserves this
cap thirty-three sponsored reserves this
cap thirty-three sponsored reserves this
proposal allows an entity to cover the
proposal allows an entity to cover the
proposal allows an entity to cover the
reserve for accounts controlled by other
reserve for accounts controlled by other
reserve for accounts controlled by other
parties without giving those parties
parties without giving those parties
parties without giving those parties
control of the reserve that extends
control of the reserve that extends
control of the reserve that extends
account entries and ledger entries so
account entries and ledger entries so
account entries and ledger entries so
they were pertinent information about
they were pertinent information about
they were pertinent information about
sponsorships it creates new operations
sponsorships it creates new operations
sponsorships it creates new operations
to initiate and terminate sponsorship
to initiate and terminate sponsorship
to initiate and terminate sponsorship
and to update sponsorship information
and to update sponsorship information
and to update sponsorship information
for existing ledger entries the goal is
for existing ledger entries the goal is
for existing ledger entries the goal is
to allow asset issuers and while it's
to allow asset issuers and while it's
to allow asset issuers and while it's
never user reserves basically one issue
never user reserves basically one issue
never user reserves basically one issue
came up which is that there
came up which is that there
came up which is that there
was some incompatibility with step 30
was some incompatibility with step 30
was some incompatibility with step 30
which is a Stellar ecosystem proposal
which is a Stellar ecosystem proposal
which is a Stellar ecosystem proposal
that defines an API to allow users to
that defines an API to allow users to
that defines an API to allow users to
regain access to a Stellar account after
regain access to a Stellar account after
regain access to a Stellar account after
they've lost their private key without
they've lost their private key without
they've lost their private key without
providing any third-party control of
providing any third-party control of
providing any third-party control of
that account and so I think these
that account and so I think these
that account and so I think these
there's been some investigation of how
there's been some investigation of how
there's been some investigation of how
to deal with potential incompatibilities
to deal with potential incompatibilities
to deal with potential incompatibilities
and I'll turn it over to you yeah I can
and I'll turn it over to you yeah I can
and I'll turn it over to you yeah I can
give just a quick description of what
give just a quick description of what
give just a quick description of what
the incompatibility is and then we've
the incompatibility is and then we've
the incompatibility is and then we've
got a short-term fix at the SAP level
got a short-term fix at the SAP level
got a short-term fix at the SAP level
and then John will talk about a
and then John will talk about a
and then John will talk about a
potential way we might want to think
potential way we might want to think
potential way we might want to think
about this at the protocol level later
about this at the protocol level later
about this at the protocol level later
on as well so the incompatibility is
on as well so the incompatibility is
on as well so the incompatibility is
that Sept 30
that Sept 30
that Sept 30
the server that implements Sept 30
the server that implements Sept 30
the server that implements Sept 30
because of signing transactions for
because of signing transactions for
because of signing transactions for
multiple accounts it has this rule to
multiple accounts it has this rule to
multiple accounts it has this rule to
find intercept that says that the server
find intercept that says that the server
find intercept that says that the server
should only sign a transaction if the
should only sign a transaction if the
should only sign a transaction if the
operations and the source Canon the
operations and the source Canon the
operations and the source Canon the
source count on their transaction and
source count on their transaction and
source count on their transaction and
the operations is for the the account
the operations is for the the account
the operations is for the the account
that's registered the account for the
that's registered the account for the
that's registered the account for the
signing for and the latest version the
signing for and the latest version the
signing for and the latest version the
cap 33 has things like adding signers
cap 33 has things like adding signers
cap 33 has things like adding signers
including other operations that have to
including other operations that have to
including other operations that have to
be signed by the sponsor account so
be signed by the sponsor account so
be signed by the sponsor account so
because this transaction that adds a
because this transaction that adds a
because this transaction that adds a
signer that's sponsored it has multiple
signer that's sponsored it has multiple
signer that's sponsored it has multiple
accounts signing it as have 30 server
accounts signing it as have 30 server
accounts signing it as have 30 server
would reject this transaction so the
would reject this transaction so the
would reject this transaction so the
short term fixed that we're thinking of
short term fixed that we're thinking of
short term fixed that we're thinking of
for at the SAP level is just to alter
for at the SAP level is just to alter
for at the SAP level is just to alter
that rule so that a Sept 30 server
that rule so that a Sept 30 server
that rule so that a Sept 30 server
implementation can choose to allow the
implementation can choose to allow the
implementation can choose to allow the
sauce account of operations to include
sauce account of operations to include
sauce account of operations to include
some limited set of accounts that are
some limited set of accounts that are
some limited set of accounts that are
knows that you won't be signing
knows that you won't be signing
knows that you won't be signing
transactions for and that should allow
transactions for and that should allow
transactions for and that should allow
asked I'd say the sponsor to that list
asked I'd say the sponsor to that list
asked I'd say the sponsor to that list
of limited limited sub and would allow
of limited limited sub and would allow
of limited limited sub and would allow
those transactions to be signed and John
those transactions to be signed and John
those transactions to be signed and John
also has an idea of how to deal with
also has an idea of how to deal with
also has an idea of how to deal with
this in another way at the protocol
this in another way at the protocol
this in another way at the protocol
level do you want to go
level do you want to go
level do you want to go
you wanna shut up yeah I wasn't sure you
you wanna shut up yeah I wasn't sure you
you wanna shut up yeah I wasn't sure you
were done talking didn't want to
were done talking didn't want to
were done talking didn't want to
interrupt you so this this harks back to
interrupt you so this this harks back to
interrupt you so this this harks back to
a super-duper old issue from actually
a super-duper old issue from actually
a super-duper old issue from actually
opened by Jeremy Rubin like out of more
opened by Jeremy Rubin like out of more
opened by Jeremy Rubin like out of more
than two years ago it's protocol issued
than two years ago it's protocol issued
than two years ago it's protocol issued
number 93 if anybody's interested but
number 93 if anybody's interested but
number 93 if anybody's interested but
basically Germany's observation was that
basically Germany's observation was that
basically Germany's observation was that
signing transactions in the world of
signing transactions in the world of
signing transactions in the world of
Stellar is very susceptible to the
Stellar is very susceptible to the
Stellar is very susceptible to the
confused deputy problem and the basic
confused deputy problem and the basic
confused deputy problem and the basic
idea behind the confused deputy problem
idea behind the confused deputy problem
idea behind the confused deputy problem
for people listening is basically like
for people listening is basically like
for people listening is basically like
or at least how it applies in the world
or at least how it applies in the world
or at least how it applies in the world
of Stellar is suppose you have two
of Stellar is suppose you have two
of Stellar is suppose you have two
accounts both of which that can be
accounts both of which that can be
accounts both of which that can be
signed with a single with a single sign
signed with a single with a single sign
signed with a single with a single sign
or a single private key and then you
or a single private key and then you
or a single private key and then you
look at some transaction and you and
look at some transaction and you and
look at some transaction and you and
somebody asks you to sign it for one of
somebody asks you to sign it for one of
somebody asks you to sign it for one of
these two accounts but what you don't
these two accounts but what you don't
these two accounts but what you don't
realize is that it actually contains
realize is that it actually contains
realize is that it actually contains
transact operations for the other
transact operations for the other
transact operations for the other
account as well and you've now signed it
account as well and you've now signed it
account as well and you've now signed it
for both accounts and it's good to go
for both accounts and it's good to go
for both accounts and it's good to go
and now you might have authorized
and now you might have authorized
and now you might have authorized
something that you did not mean to
something that you did not mean to
something that you did not mean to
authorize there are other manifestations
authorize there are other manifestations
authorize there are other manifestations
of this as well for example like it
of this as well for example like it
of this as well for example like it
could be a more complicated world where
could be a more complicated world where
could be a more complicated world where
like you have multiple keys and somebody
like you have multiple keys and somebody
like you have multiple keys and somebody
asks you to sign for a certain set of
asks you to sign for a certain set of
asks you to sign for a certain set of
keys and those keys combine to sign for
keys and those keys combine to sign for
keys and those keys combine to sign for
some third account that you didn't
some third account that you didn't
some third account that you didn't
realize you were signing for so at the
realize you were signing for so at the
realize you were signing for so at the
time Jeremy opened this issue and asked
time Jeremy opened this issue and asked
time Jeremy opened this issue and asked
a question which was something like John
a question which was something like John
a question which was something like John
will know the best way to implement this
will know the best way to implement this
will know the best way to implement this
that wasn't knowing but at the time
that wasn't knowing but at the time
that wasn't knowing but at the time
there was no way to implement that was
there was no way to implement that was
there was no way to implement that was
this that wasn't annoying because there
this that wasn't annoying because there
this that wasn't annoying because there
was no way to change signatures but
was no way to change signatures but
was no way to change signatures but
since David's cap 19 which got like
since David's cap 19 which got like
since David's cap 19 which got like
subsumed into cap 15 and introduced the
subsumed into cap 15 and introduced the
subsumed into cap 15 and introduced the
new transaction envelopes we actually
new transaction envelopes we actually
new transaction envelopes we actually
have the power to change signatures in a
have the power to change signatures in a
have the power to change signatures in a
very clean way and so the gist of my
very clean way and so the gist of my
very clean way and so the gist of my
proposal is basically to add a new kind
proposal is basically to add a new kind
proposal is basically to add a new kind
of transaction envelope which we'll call
of transaction envelope which we'll call
of transaction envelope which we'll call
like for the sake of this discussion
like for the sake of this discussion
like for the sake of this discussion
transaction envelope no confused deputy
transaction envelope no confused deputy
transaction envelope no confused deputy
but that's a terrible name we wouldn't
but that's a terrible name we wouldn't
but that's a terrible name we wouldn't
actually call it that I don't know I'm
actually call it that I don't know I'm
actually call it that I don't know I'm
no good at names anyway somebody else
no good at names anyway somebody else
no good at names anyway somebody else
would probably think of it and basically
would probably think of it and basically
would probably think of it and basically
what we would this transaction envelope
what we would this transaction envelope
what we would this transaction envelope
it would take the normal transaction but
it would take the normal transaction but
it would take the normal transaction but
it would require a different type of
it would require a different type of
it would require a different type of
signature and a different type of
signature and a different type of
signature and a different type of
signature payload for that matter so
signature payload for that matter so
signature payload for that matter so
transact signatures for an existing
transact signatures for an existing
transact signatures for an existing
transaction like a train
transaction like a train
transaction like a train
action v1 don't work here but these
action v1 don't work here but these
action v1 don't work here but these
signatures would basically have a new
signatures would basically have a new
signatures would basically have a new
bit field wrapped into the signature
bit field wrapped into the signature
bit field wrapped into the signature
payload saying which operations you're
payload saying which operations you're
payload saying which operations you're
signing for and also whether you're
signing for and also whether you're
signing for and also whether you're
signing for the source account and then
signing for the source account and then
signing for the source account and then
when you provide the decorated signature
when you provide the decorated signature
when you provide the decorated signature
you provide that bit field again and
you provide that bit field again and
you provide that bit field again and
since the signature is over that bit
since the signature is over that bit
since the signature is over that bit
field you know that you've gotten the
field you know that you've gotten the
field you know that you've gotten the
right data when you verify the signature
right data when you verify the signature
right data when you verify the signature
like if you try to verify the signature
like if you try to verify the signature
like if you try to verify the signature
it contains that big field and so you
it contains that big field and so you
it contains that big field and so you
know whether you have it or not and then
know whether you have it or not and then
know whether you have it or not and then
you just apply the signature weight to
you just apply the signature weight to
you just apply the signature weight to
the operations and potentially the
the operations and potentially the
the operations and potentially the
source account that matched that bit
source account that matched that bit
source account that matched that bit
field so this would be like a pretty
field so this would be like a pretty
field so this would be like a pretty
clean approach and it would allow you to
clean approach and it would allow you to
clean approach and it would allow you to
sign for like every single thing in a
sign for like every single thing in a
sign for like every single thing in a
transaction anymore it's pretty neat
transaction anymore it's pretty neat
transaction anymore it's pretty neat
it'd be some work to do and it would
it'd be some work to do and it would
it'd be some work to do and it would
require overhauling a lot of the Stellar
require overhauling a lot of the Stellar
require overhauling a lot of the Stellar
core signature processing stuff but I
core signature processing stuff but I
core signature processing stuff but I
don't think it'd be like breakingly
don't think it'd be like breakingly
don't think it'd be like breakingly
challenge challenging excuse me but to
challenge challenging excuse me but to
challenge challenging excuse me but to
be clear the idea would be to try to
be clear the idea would be to try to
be clear the idea would be to try to
proceed with cap 33 now and work on
proceed with cap 33 now and work on
proceed with cap 33 now and work on
these changes later yes exactly I mean
these changes later yes exactly I mean
these changes later yes exactly I mean
like from my perspective as long as
like from my perspective as long as
like from my perspective as long as
there's a way to solve the problem and
there's a way to solve the problem and
there's a way to solve the problem and
we're recognizing that like the problem
we're recognizing that like the problem
we're recognizing that like the problem
is beyond the scope of cap 33 it's kind
is beyond the scope of cap 33 it's kind
is beyond the scope of cap 33 it's kind
of like we could always choose to do
of like we could always choose to do
of like we could always choose to do
this if people are encountering this
this if people are encountering this
this if people are encountering this
problem all the time whereas like if we
problem all the time whereas like if we
problem all the time whereas like if we
had no proposed solution at all then
had no proposed solution at all then
had no proposed solution at all then
that's a lot scarier right I mean I
that's a lot scarier right I mean I
that's a lot scarier right I mean I
suppose we can also see how many people
suppose we can also see how many people
suppose we can also see how many people
use some 30 and how the set level change
use some 30 and how the set level change
use some 30 and how the set level change
affects people and whether it's not the
affects people and whether it's not the
affects people and whether it's not the
problem legitimate right yeah I think I
problem legitimate right yeah I think I
problem legitimate right yeah I think I
think that the reason that this
think that the reason that this
think that the reason that this
incompatibility and compatibility is
incompatibility and compatibility is
incompatibility and compatibility is
important is that people who use cap 33
important is that people who use cap 33
important is that people who use cap 33
other people we may use accept 30 and
other people we may use accept 30 and
other people we may use accept 30 and
vice versa and as comparing 20 years
vice versa and as comparing 20 years
vice versa and as comparing 20 years
both but yeah I think we there's no
both but yeah I think we there's no
both but yeah I think we there's no
reason to change that cap 33 because of
reason to change that cap 33 because of
reason to change that cap 33 because of
this problem I think what John is saying
this problem I think what John is saying
this problem I think what John is saying
is right this this is an underlying
is right this this is an underlying
is right this this is an underlying
issue that we should address on the time
issue that we should address on the time
issue that we should address on the time
and we do have a way to move forward
and we do have a way to move forward
and we do have a way to move forward
with this up with sub-30
with this up with sub-30
with this up with sub-30
we have 33 together anyway
alright it looks like there's one other
alright it looks like there's one other
issue here about changing sponsorship
issue here about changing sponsorship
issue here about changing sponsorship
checks the truth sorry I was trying to
checks the truth sorry I was trying to
checks the truth sorry I was trying to
remember what the what I from applying
remember what the what I from applying
remember what the what I from applying
to the validity yeah so right now the
to the validity yeah so right now the
to the validity yeah so right now the
way that the cap 33 is written the way
way that the cap 33 is written the way
way that the cap 33 is written the way
that I've been implementing it like we
that I've been implementing it like we
that I've been implementing it like we
we would accept transactions that have
we would accept transactions that have
we would accept transactions that have
like for example like bad bad sandwich
like for example like bad bad sandwich
like for example like bad bad sandwich
egg but these transactions are 100%
egg but these transactions are 100%
egg but these transactions are 100%
guaranteed to fail at the time of apply
guaranteed to fail at the time of apply
guaranteed to fail at the time of apply
you don't need like normally when we do
you don't need like normally when we do
you don't need like normally when we do
validity checks we're doing them on a
validity checks we're doing them on a
validity checks we're doing them on a
single operation level but like the
single operation level but like the
single operation level but like the
reason for that is normally just because
reason for that is normally just because
reason for that is normally just because
operations have side effects and we
operations have side effects and we
operations have side effects and we
can't necessarily tell what they are but
can't necessarily tell what they are but
can't necessarily tell what they are but
for all of these sponsorship operations
for all of these sponsorship operations
for all of these sponsorship operations
like for beginning and ending in the
like for beginning and ending in the
like for beginning and ending in the
sandwich King like you don't need to do
sandwich King like you don't need to do
sandwich King like you don't need to do
anything to note like I can look at a
anything to note like I can look at a
anything to note like I can look at a
transaction and tell you if it's
transaction and tell you if it's
transaction and tell you if it's
properly sandwiched without applying any
properly sandwiched without applying any
properly sandwiched without applying any
of the intermediate operations and so
of the intermediate operations and so
of the intermediate operations and so
the question is whether we should allow
the question is whether we should allow
the question is whether we should allow
these transactions to make it to apply
these transactions to make it to apply
these transactions to make it to apply
time and then fail at that point for
time and then fail at that point for
time and then fail at that point for
being improperly sandwiched or whether
being improperly sandwiched or whether
being improperly sandwiched or whether
we should just say like no your
we should just say like no your
we should just say like no your
transaction stupid and it's invalid
transaction stupid and it's invalid
transaction stupid and it's invalid
doing that would probably require some
doing that would probably require some
doing that would probably require some
new machinery but like it's not
new machinery but like it's not
new machinery but like it's not
conceptually hard at all it's just new
conceptually hard at all it's just new
conceptually hard at all it's just new
stuff to build whereas doing it at apply
stuff to build whereas doing it at apply
stuff to build whereas doing it at apply
time is very easy which is why I took
time is very easy which is why I took
time is very easy which is why I took
that approach but it has the
that approach but it has the
that approach but it has the
disadvantage of allowing people to spend
disadvantage of allowing people to spend
disadvantage of allowing people to spend
money on stuff that and also spend time
money on stuff that and also spend time
money on stuff that and also spend time
on the network with stuff that's like
on the network with stuff that's like
on the network with stuff that's like
obviously not going to work so I don't
obviously not going to work so I don't
obviously not going to work so I don't
know
know
know
people have a strong feeling about this
people have a strong feeling about this
people have a strong feeling about this
I know I've discussed it with Nikolai
I know I've discussed it with Nikolai
I know I've discussed it with Nikolai
before but I don't know whether he what
before but I don't know whether he what
before but I don't know whether he what
I don't really know which way he wants
I don't really know which way he wants
I don't really know which way he wants
to go with that really cold it's worth I
to go with that really cold it's worth I
to go with that really cold it's worth I
would have thought we would check this
would have thought we would check this
would have thought we would check this
kind of thing in the SDKs as well even
kind of thing in the SDKs as well even
kind of thing in the SDKs as well even
possibly in horizon I mean actually
possibly in horizon I mean actually
possibly in horizon I mean actually
thought about it but as you say it seems
thought about it but as you say it seems
thought about it but as you say it seems
trivial to check I mean like yeah like
trivial to check I mean like yeah like
trivial to check I mean like yeah like
for me it seems like it would be a good
for me it seems like it would be a good
for me it seems like it would be a good
candidate to have this as the validation
candidate to have this as the validation
candidate to have this as the validation
step because it you know I'm trying to
step because it you know I'm trying to
step because it you know I'm trying to
its a usability thing I think that said
its a usability thing I think that said
its a usability thing I think that said
you know if if we if we think that some
you know if if we if we think that some
you know if if we if we think that some
bitching is more like remote in kind of
bitching is more like remote in kind of
bitching is more like remote in kind of
a niche thing maybe it's not worth it I
a niche thing maybe it's not worth it I
a niche thing maybe it's not worth it I
mean either way is fine to me it's it's
mean either way is fine to me it's it's
mean either way is fine to me it's it's
more like yeah trade-off of were classes
more like yeah trade-off of were classes
more like yeah trade-off of were classes
because we can always change that later
because we can always change that later
because we can always change that later
on to so it's not like that's exactly is
on to so it's not like that's exactly is
on to so it's not like that's exactly is
gonna say that we always have the power
gonna say that we always have the power
gonna say that we always have the power
to change this later I also don't think
to change this later I also don't think
to change this later I also don't think
it makes a huge difference to usability
it makes a huge difference to usability
it makes a huge difference to usability
because somebody's running these types
because somebody's running these types
because somebody's running these types
of transactions is probably gonna be
of transactions is probably gonna be
of transactions is probably gonna be
running a lot of these transactions so
running a lot of these transactions so
running a lot of these transactions so
they're gonna find out really early in
they're gonna find out really early in
they're gonna find out really early in
development like they're not kind of
development like they're not kind of
development like they're not kind of
hopefully I hope I think I'm likely then
hopefully I hope I think I'm likely then
hopefully I hope I think I'm likely then
they kind of run like 10,000 of these
they kind of run like 10,000 of these
they kind of run like 10,000 of these
transactions and then see them or fail
transactions and then see them or fail
transactions and then see them or fail
they're probably going to run one during
they're probably going to run one during
they're probably going to run one during
testing see a fail fix the code and then
testing see a fail fix the code and then
testing see a fail fix the code and then
move on
then there is a strong point this is
then there is a strong point this is
like a kind of like an enterprise tool
like a kind of like an enterprise tool
like a kind of like an enterprise tool
not really an individual user tool yeah
not really an individual user tool yeah
not really an individual user tool yeah
and if it is a user tool it's probably
and if it is a user tool it's probably
and if it is a user tool it's probably
not gonna be at a scale that is okay so
not gonna be at a scale that is okay so
not gonna be at a scale that is okay so
it seems like the answer is don't worry
it seems like the answer is don't worry
it seems like the answer is don't worry
about that great are there any other are
about that great are there any other are
about that great are there any other are
there any other sort of comments
there any other sort of comments
there any other sort of comments
questions or suggestions about Kathy
actually not as I mentioned earlier
actually not as I mentioned earlier
ambit worried about the locked phones
ambit worried about the locked phones
ambit worried about the locked phones
clawback logic without it this proposal
clawback logic without it this proposal
clawback logic without it this proposal
seems incomplete and sponsor the sponsor
seems incomplete and sponsor the sponsor
seems incomplete and sponsor the sponsor
sponsoring entity has no means to
sponsoring entity has no means to
sponsoring entity has no means to
recover its phones from government
recover its phones from government
recover its phones from government
sponsored accounts we agreed to sync on
sponsored accounts we agreed to sync on
sponsored accounts we agreed to sync on
this later so just with the record I
this later so just with the record I
this later so just with the record I
think it's important to articulate this
think it's important to articulate this
think it's important to articulate this
towards the timeline for this feature
towards the timeline for this feature
towards the timeline for this feature
like this year the desired feature list
like this year the desired feature list
like this year the desired feature list
is fully parked but next year will
is fully parked but next year will
is fully parked but next year will
definitely introduce some way to deal
definitely introduce some way to deal
definitely introduce some way to deal
with such situations because companies
with such situations because companies
with such situations because companies
that are willing to sponsor reserves for
that are willing to sponsor reserves for
that are willing to sponsor reserves for
their client accounts must have
their client accounts must have
their client accounts must have
confidence that they will be able to
confidence that they will be able to
confidence that they will be able to
claim the walked funds in the future I
claim the walked funds in the future I
claim the walked funds in the future I
think it's important but if you if you
think it's important but if you if you
think it's important but if you if you
have some ideas about how to do this I
have some ideas about how to do this I
have some ideas about how to do this I
mean like I would definitely welcome a
mean like I would definitely welcome a
mean like I would definitely welcome a
proposal about how to do this I
proposal about how to do this I
proposal about how to do this I
definitely think that be a be valuable I
definitely think that be a be valuable I
definitely think that be a be valuable I
haven't I haven't really spent any time
haven't I haven't really spent any time
haven't I haven't really spent any time
thinking about how to do this other than
thinking about how to do this other than
thinking about how to do this other than
the fact that it's like probably
the fact that it's like probably
the fact that it's like probably
possible with the current design albeit
possible with the current design albeit
possible with the current design albeit
like probably not that easy but yeah if
like probably not that easy but yeah if
like probably not that easy but yeah if
you have a
you have a
you have a
like definitely like submitted proposal
like definitely like submitted proposal
like definitely like submitted proposal
I'll definitely look at it so I spent
I'll definitely look at it so I spent
I'll definitely look at it so I spent
like a ton of time thinking about this I
like a ton of time thinking about this I
like a ton of time thinking about this I
have lots of context on it sure
have lots of context on it sure
have lots of context on it sure

okay great I mean I feel like even
okay great I mean I feel like even
though there's it seems like there's
though there's it seems like there's
though there's it seems like there's
still a little bit to be resolved on
still a little bit to be resolved on
still a little bit to be resolved on
uncap 23:33 it's feeling like it's in a
uncap 23:33 it's feeling like it's in a
uncap 23:33 it's feeling like it's in a
pretty good spot and obviously these are
pretty good spot and obviously these are
pretty good spot and obviously these are
things that were intending to include in
things that were intending to include in
things that were intending to include in
protocol 14 and already the horizon team
protocol 14 and already the horizon team
protocol 14 and already the horizon team
and people that work on SDKs have
and people that work on SDKs have
and people that work on SDKs have
started to think about what that means
started to think about what that means
started to think about what that means
and so I know Eric put together a
and so I know Eric put together a
and so I know Eric put together a
working group to to sort of go through
working group to to sort of go through
working group to to sort of go through
some of the issues figure out some
some of the issues figure out some
some of the issues figure out some
decisions and I think he's going to give
decisions and I think he's going to give
decisions and I think he's going to give
us a summary of where they're at yeah I
us a summary of where they're at yeah I
us a summary of where they're at yeah I
don't have a same person except to say
don't have a same person except to say
don't have a same person except to say
that we had a lot of discussions we went
that we had a lot of discussions we went
that we had a lot of discussions we went
through and tried to think about use
through and tried to think about use
through and tried to think about use
cases and then we tried to think about
cases and then we tried to think about
cases and then we tried to think about
how this stuff would actually work and
how this stuff would actually work and
how this stuff would actually work and
we came up with problems and the caps
we came up with problems and the caps
we came up with problems and the caps
and we went back and modified the cap
and we went back and modified the cap
and we went back and modified the cap
and then we came back again we went
and then we came back again we went
and then we came back again we went
round asleep a few times it was really
round asleep a few times it was really
round asleep a few times it was really
really useful I've linked our discussion
really useful I've linked our discussion
really useful I've linked our discussion
doc in our agenda that you can look at
doc in our agenda that you can look at
doc in our agenda that you can look at
to see kind of the gory details an FAQ
to see kind of the gory details an FAQ
to see kind of the gory details an FAQ
that's coming out of this which will be
that's coming out of this which will be
that's coming out of this which will be
helpful for the ecosystem I think and
helpful for the ecosystem I think and
helpful for the ecosystem I think and
the outcome now I think is that we have
the outcome now I think is that we have
the outcome now I think is that we have
a spec that's pretty solid so there are
a spec that's pretty solid so there are
a spec that's pretty solid so there are
two issues in the go mono repo 2787 and
two issues in the go mono repo 2787 and
two issues in the go mono repo 2787 and
2788
2788
2788
that you can have a look up that really
that you can have a look up that really
that you can have a look up that really
described the end points that we expect
described the end points that we expect
described the end points that we expect
in horizon and the work that we expect
in horizon and the work that we expect
in horizon and the work that we expect
to do in the SDKs and anything that's
to do in the SDKs and anything that's
to do in the SDKs and anything that's
remaining that's unclear I'm kind of
remaining that's unclear I'm kind of
remaining that's unclear I'm kind of
satisfied is implementation that all
satisfied is implementation that all
satisfied is implementation that all
problems how do you put things in what
problems how do you put things in what
problems how do you put things in what
tables that kind of stuff so I'm pretty
tables that kind of stuff so I'm pretty
tables that kind of stuff so I'm pretty
happy with it the only other thing to
mention I'm just going to mention this
mention I'm just going to mention this
briefly I know they didn't really want
briefly I know they didn't really want
briefly I know they didn't really want
me to
me to
me to
there is a naming question in the cap 33
there is a naming question in the cap 33
there is a naming question in the cap 33
whether we should rename these
whether we should rename these
whether we should rename these
operations there's something more clear
operations there's something more clear
operations there's something more clear
because one of the things that we ran
because one of the things that we ran
because one of the things that we ran
into in this discussion was that we kept
into in this discussion was that we kept
into in this discussion was that we kept
getting confused about what certain
getting confused about what certain
getting confused about what certain
operations actually meant and if we're
operations actually meant and if we're
operations actually meant and if we're
confused then everybody else is going to
confused then everybody else is going to
confused then everybody else is going to
be confused this is relevant to horizon
be confused this is relevant to horizon
be confused this is relevant to horizon
because we have to name our SDK
because we have to name our SDK
because we have to name our SDK
functions and our own points according
functions and our own points according
functions and our own points according
to what we decide the actual operations
to what we decide the actual operations
to what we decide the actual operations
are so there's a mailing list discussion
are so there's a mailing list discussion
are so there's a mailing list discussion
about that I'm hoping we'll get an
about that I'm hoping we'll get an
about that I'm hoping we'll get an
agreement on it I like the new names I
agreement on it I like the new names I
agreement on it I like the new names I
think we should keep them but we'll need
think we should keep them but we'll need
think we should keep them but we'll need
that in order to actually make the final
that in order to actually make the final
that in order to actually make the final
implementation what are the new names
implementation what are the new names
implementation what are the new names
and one your news sure yeah I don't have
and one your news sure yeah I don't have
and one your news sure yeah I don't have
an issue talk about the sponsoring
an issue talk about the sponsoring
an issue talk about the sponsoring
future as I think so the sponsoring
future as I think so the sponsoring
future as I think so the sponsoring
future reserves confirm and clear
future reserves confirm and clear
future reserves confirm and clear
sponsorship and then update sponsorship
sponsorship and then update sponsorship
sponsorship and then update sponsorship
they were the original and the new
they were the original and the new
they were the original and the new
proposed names are begin sponsoring
proposed names are begin sponsoring
proposed names are begin sponsoring
futures as hen's sponsoring future
futures as hen's sponsoring future
futures as hen's sponsoring future
reserves so it's really clear that
reserves so it's really clear that
reserves so it's really clear that
that's a sandwich and then the third
that's a sandwich and then the third
that's a sandwich and then the third
operation renamed from update
operation renamed from update
operation renamed from update
sponsorship to revoke sponsorship
sponsorship to revoke sponsorship
sponsorship to revoke sponsorship
because that third operation is signed
because that third operation is signed
because that third operation is signed
by the person letting go of a
by the person letting go of a
by the person letting go of a
sponsorship or letting go of paying the
sponsorship or letting go of paying the
sponsorship or letting go of paying the
reserve for the account yeah I agree
reserve for the account yeah I agree
reserve for the account yeah I agree
with all three of those particularly the
with all three of those particularly the
with all three of those particularly the
third one yeah that seems nice and clear
third one yeah that seems nice and clear
third one yeah that seems nice and clear
I mean there's a lot of there's a lot of
I mean there's a lot of there's a lot of
I mean there's a lot of there's a lot of
letters and some of those names for
letters and some of those names for
letters and some of those names for
super clear we're gonna hit our 80
super clear we're gonna hit our 80
super clear we're gonna hit our 80
character limit yeah on the lines of the
character limit yeah on the lines of the
character limit yeah on the lines of the
HDR file after like one word so as far
HDR file after like one word so as far
HDR file after like one word so as far
as you can see right now from your point
as you can see right now from your point
as you can see right now from your point
of view and no surprise database
of view and no surprise database
of view and no surprise database
migrations it looks good to me
migrations it looks good to me
migrations it looks good to me
yeah I'm pretty happy with it cool any
yeah I'm pretty happy with it cool any
yeah I'm pretty happy with it cool any
any other questions about sort of prep
any other questions about sort of prep
any other questions about sort of prep
for protocol 14 downstream or about
for protocol 14 downstream or about
for protocol 14 downstream or about
whatever just
whatever just
whatever just
I guess it's worth mentioning as well
I guess it's worth mentioning as well
I guess it's worth mentioning as well
that I expect us to begin implementation
that I expect us to begin implementation
that I expect us to begin implementation
of this in our next sprint which will be
of this in our next sprint which will be
of this in our next sprint which will be
in about a week in a house type unless
in about a week in a house type unless
in about a week in a house type unless
something comes up to dissuade us or ask
something comes up to dissuade us or ask
something comes up to dissuade us or ask
us to spend more time so those like
us to spend more time so those like
us to spend more time so those like
pending decisions about cap 23 think
pending decisions about cap 23 think
pending decisions about cap 23 think
they have they have an impact on that
they have they have an impact on that
they have they have an impact on that
timetable that's significant that's more
timetable that's significant that's more
timetable that's significant that's more
exciting Eric hopefully I'll have
exciting Eric hopefully I'll have
exciting Eric hopefully I'll have
something decently functional for you
something decently functional for you
something decently functional for you
guys to test off up by then yeah when
guys to test off up by then yeah when
guys to test off up by then yeah when
you can get me a cool build ok going
that looks like there's one final small
that looks like there's one final small
issue which is started as issue 622
issue which is started as issue 622
issue which is started as issue 622
change clothes time semantics I think
change clothes time semantics I think
change clothes time semantics I think
it's now cap 34 or which is in the draft
it's now cap 34 or which is in the draft
it's now cap 34 or which is in the draft
you know you want to just summarize that
you know you want to just summarize that
you know you want to just summarize that
real quick
real quick
real quick
yeah like the cap is not yet in a good
yeah like the cap is not yet in a good
yeah like the cap is not yet in a good
transform it's really rough so I'll just
transform it's really rough so I'll just
transform it's really rough so I'll just
focus on describing at a high level what
focus on describing at a high level what
focus on describing at a high level what
its cap it's about which is actually
its cap it's about which is actually
its cap it's about which is actually
yeah we had like a bunch of ideas going
yeah we had like a bunch of ideas going
yeah we had like a bunch of ideas going
around in the issue itself and this is
around in the issue itself and this is
around in the issue itself and this is
the annoyance in the current protocol so
the annoyance in the current protocol so
the annoyance in the current protocol so
this is not impacting the SDKs or
this is not impacting the SDKs or
this is not impacting the SDKs or
horizon it's more in fact if the only
horizon it's more in fact if the only
horizon it's more in fact if the only
people that are getting impacted are
people that are getting impacted are
people that are getting impacted are
going to be impacted in a positive way
going to be impacted in a positive way
going to be impacted in a positive way
which are people that write transactions
which are people that write transactions
which are people that write transactions
that in the context of smart contracts
that in the context of smart contracts
that in the context of smart contracts
that have expiration times and basically
that have expiration times and basically
that have expiration times and basically
closing a net case that nobody is
closing a net case that nobody is
closing a net case that nobody is
probably aware of when the right those
probably aware of when the right those
probably aware of when the right those
smart contracts that today a transaction
smart contracts that today a transaction
smart contracts that today a transaction
can fail drink on Central Time basically
can fail drink on Central Time basically
can fail drink on Central Time basically
consuming the sequence number even
consuming the sequence number even
consuming the sequence number even
though the time bones that was specified
would make this transaction invalid so
would make this transaction invalid so
basically like the typical scenario is
basically like the typical scenario is
basically like the typical scenario is
when it is smart contracts is you have
when it is smart contracts is you have
when it is smart contracts is you have
mutually exclusive transactions on a
mutually exclusive transactions on a
mutually exclusive transactions on a
time bound one is for example only valid
time bound one is for example only valid
time bound one is for example only valid
before a certain date and the other is
before a certain date and the other is
before a certain date and the other is
that it only after and then those are
that it only after and then those are
that it only after and then those are
like your two branches of execution
like your two branches of execution
like your two branches of execution
basically and here what we have is it's
basically and here what we have is it's
basically and here what we have is it's
possible that it's a the first one which
possible that it's a the first one which
possible that it's a the first one which
is only valid before a certain time
is only valid before a certain time
is only valid before a certain time
would be accepted for consensus then
would be accepted for consensus then
would be accepted for consensus then
only you would find it to fail during
only you would find it to fail during
only you would find it to fail during
consensus because the first time that
consensus because the first time that
consensus because the first time that
was picked during consensus is actually
was picked during consensus is actually
was picked during consensus is actually
incompatible with that conference
incompatible with that conference
incompatible with that conference
actually this is very annoying because
actually this is very annoying because
actually this is very annoying because
now if you have this one transaction
now if you have this one transaction
now if you have this one transaction
failing in your branch that means like
failing in your branch that means like
failing in your branch that means like
normally people what they do is they
normally people what they do is they
normally people what they do is they
change transactions with with hashes
change transactions with with hashes
change transactions with with hashes
right and now that particular path
right and now that particular path
right and now that particular path
basically becomes possible because you
basically becomes possible because you
basically becomes possible because you
consume the sequence number but she
consume the sequence number but she
consume the sequence number but she
didn't actually execute that one
didn't actually execute that one
didn't actually execute that one
transaction so that smart contract is
transaction so that smart contract is
transaction so that smart contract is
gonna be in a broken state so it's it's
gonna be in a broken state so it's it's
gonna be in a broken state so it's it's
a very edge it so it's a really an edge
a very edge it so it's a really an edge
a very edge it so it's a really an edge
case and because it's an edge case yeah
case and because it's an edge case yeah
case and because it's an edge case yeah
we want to get rid of it anyway so the
we want to get rid of it anyway so the
we want to get rid of it anyway so the
fix for it that that we came up with
fix for it that that we came up with
fix for it that that we came up with
with David was - during Constance is
with David was - during Constance is
with David was - during Constance is
basically this pick
basically this pick
basically this pick
as close time the one that is associated
as close time the one that is associated
as close time the one that is associated
with the transaction set so normally
with the transaction set so normally
with the transaction set so normally
when nodes nominate a value in general
when nodes nominate a value in general
when nodes nominate a value in general
so the value is made of transaction set
so the value is made of transaction set
so the value is made of transaction set
close time and upgrades right now what
close time and upgrades right now what
close time and upgrades right now what
we do is that when we get at the end of
we do is that when we get at the end of
we do is that when we get at the end of
nomination we combine all those values
nomination we combine all those values
nomination we combine all those values
into some more interesting value that is
into some more interesting value that is
into some more interesting value that is
translate a transaction set that is one
translate a transaction set that is one
translate a transaction set that is one
of the transaction sets that made that
of the transaction sets that made that
of the transaction sets that made that
made it to the end of nomination
made it to the end of nomination
made it to the end of nomination
and then a closed time that is the
and then a closed time that is the
and then a closed time that is the
biggest closed time
biggest closed time
biggest closed time
so instead what we're going to do is
so instead what we're going to do is
so instead what we're going to do is
going to preserve the opportunity of
going to preserve the opportunity of
going to preserve the opportunity of
transaction set to close time and by
transaction set to close time and by
transaction set to close time and by
preserving the affinity what we can do
preserving the affinity what we can do
preserving the affinity what we can do
is actually change the validity criteria
is actually change the validity criteria
is actually change the validity criteria
for a transaction set I mean up for the
for a transaction set I mean up for the
for a transaction set I mean up for the
pair transaction set close time to only
pair transaction set close time to only
pair transaction set close time to only
allow transactions that are going to not
allow transactions that are going to not
allow transactions that are going to not
be expired with the that given
be expired with the that given
be expired with the that given
transaction set so basically it's
transaction set so basically it's
transaction set so basically it's
pushing the burden through the nominated
pushing the burden through the nominated
pushing the burden through the nominated
value it sums up like the actual the
value it sums up like the actual the
value it sums up like the actual the
actual change is that and then and then
actual change is that and then and then
actual change is that and then and then
will will kit will basically not even
will will kit will basically not even
will will kit will basically not even
include those transactions that would
include those transactions that would
include those transactions that would
expire between two Ledger's in the
expire between two Ledger's in the
expire between two Ledger's in the
transaction set start the gist of the
transaction set start the gist of the
transaction set start the gist of the
update change so it's not it's not a big
update change so it's not it's not a big
update change so it's not it's not a big
change but it potentially will make it
change but it potentially will make it
change but it potentially will make it
can be a life-changing for those people
can be a life-changing for those people
can be a life-changing for those people
that may hit that Berg do we have actual
that may hit that Berg do we have actual
that may hit that Berg do we have actual
use cases that are running into this so
use cases that are running into this so
use cases that are running into this so
we so the thing that we see those
we so the thing that we see those
we so the thing that we see those
transactions fail today on the ledger so
transactions fail today on the ledger so
transactions fail today on the ledger so
people are running into this it has
people are running into this it has
people are running into this it has
definitely happened before it happens we
definitely happened before it happens we
definitely happened before it happens we
don't know in the context that people
don't know in the context that people
don't know in the context that people
know what that we don't know yeah that
know what that we don't know yeah that
know what that we don't know yeah that
we don't know and we we don't even know
we don't know and we we don't even know
we don't know and we we don't even know
for sure like contracts that you didn't
for sure like contracts that you didn't
for sure like contracts that you didn't
even you know that didn't happen yet
even you know that didn't happen yet
even you know that didn't happen yet
right like that's the problem with those
right like that's the problem with those
right like that's the problem with those
things that they are pre signs we don't
things that they are pre signs we don't
things that they are pre signs we don't
know yet what so fact here's my my
know yet what so fact here's my my
know yet what so fact here's my my
concern so I agree this is a problem and
concern so I agree this is a problem and
concern so I agree this is a problem and
I think there are a number of ways to
I think there are a number of ways to
I think there are a number of ways to
get fix this problem including this
get fix this problem including this
get fix this problem including this
which seems like a plausible way another
which seems like a plausible way another
which seems like a plausible way another
way would be the the kind of signed
way would be the the kind of signed
way would be the the kind of signed
operations proposal that I made just on
operations proposal that I made just on
operations proposal that I made just on
the mailing list but the problem is that
the mailing list but the problem is that
the mailing list but the problem is that
all of these things they eliminate some
all of these things they eliminate some
all of these things they eliminate some
j--
j--
j--
and introduce other edge cases and so
and introduce other edge cases and so
and introduce other edge cases and so
I'm just a little apprehensive about
I'm just a little apprehensive about
I'm just a little apprehensive about
doing it sort of in the abstract because
doing it sort of in the abstract because
doing it sort of in the abstract because
so for example this new proposal would
so for example this new proposal would
so for example this new proposal would
definitely would facility Ned case where
definitely would facility Ned case where
definitely would facility Ned case where
like you know you've got a payment
like you know you've got a payment
like you know you've got a payment
channel and you know you submitted
channel and you know you submitted
channel and you know you submitted
something and it like expired and like
something and it like expired and like
something and it like expired and like
you know you would have submitted
you know you would have submitted
you know you would have submitted
something else otherwise and now you're
something else otherwise and now you're
something else otherwise and now you're
sequence numbers are messed up on the
sequence numbers are messed up on the
sequence numbers are messed up on the
other hand under the current proposal
other hand under the current proposal
other hand under the current proposal
there's a danger that if someone is
there's a danger that if someone is
there's a danger that if someone is
doing like atomic cross chain swaps that
doing like atomic cross chain swaps that
doing like atomic cross chain swaps that
it would work today and with this
it would work today and with this
it would work today and with this
proposal if there's a network outage you
proposal if there's a network outage you
proposal if there's a network outage you
could actually lose money right because
could actually lose money right because
could actually lose money right because
no no no like this is fixing a niche
no no no like this is fixing a niche
no no no like this is fixing a niche
case where you're guaranteed that the
case where you're guaranteed that the
case where you're guaranteed that the
transaction states that it will not
transaction states that it will not
transaction states that it will not
exclude transactions that would succeed
exclude transactions that would succeed
exclude transactions that would succeed
so here's here's so ok so the fact so
so here's here's so ok so the fact so
so here's here's so ok so the fact so
either I'm misunderstanding it or or
either I'm misunderstanding it or or
either I'm misunderstanding it or or
you're misunderstanding me either way
you're misunderstanding me either way
you're misunderstanding me either way
it's in its it's an indication that this
it's in its it's an indication that this
it's in its it's an indication that this
is an edge case which is so imagine that
is an edge case which is so imagine that
is an edge case which is so imagine that
what we're trying to do is we're going
what we're trying to do is we're going
what we're trying to do is we're going
to swap lumens for Bitcoin right and so
to swap lumens for Bitcoin right and so
to swap lumens for Bitcoin right and so
what I need to do is I'm gonna claim my
what I need to do is I'm gonna claim my
what I need to do is I'm gonna claim my
lumens and in order of my to claim my
lumens and in order of my to claim my
lumens and in order of my to claim my
lumens I'm gonna use a hash X signature
lumens I'm gonna use a hash X signature
lumens I'm gonna use a hash X signature
and by disclosing that someone's gonna
and by disclosing that someone's gonna
and by disclosing that someone's gonna
be able to like claim their Bitcoin
be able to like claim their Bitcoin
be able to like claim their Bitcoin
right and I have to do my thing by
right and I have to do my thing by
right and I have to do my thing by
certain deadline and then the Bitcoin
certain deadline and then the Bitcoin
certain deadline and then the Bitcoin
person has an extra hour to like take
person has an extra hour to like take
person has an extra hour to like take
the preimage that they've found in the
the preimage that they've found in the
the preimage that they've found in the
Stellar transaction and use out the
Stellar transaction and use out the
Stellar transaction and use out the
claim the Bitcoin on the Bitcoin network
claim the Bitcoin on the Bitcoin network
claim the Bitcoin on the Bitcoin network
right so under this new proposal if some
right so under this new proposal if some
right so under this new proposal if some
if the Stellar network goes down for an
if the Stellar network goes down for an
if the Stellar network goes down for an
hour it's possible for an operation to
hour it's possible for an operation to
hour it's possible for an operation to
actually execute even though it was
actually execute even though it was
actually execute even though it was
supposed to execute at most one hour ago
supposed to execute at most one hour ago
supposed to execute at most one hour ago
right and so you know again so this will
right and so you know again so this will
right and so you know again so this will
require Dawson the network are getting a
require Dawson the network are getting a
require Dawson the network are getting a
little bit lucky with with the time of a
little bit lucky with with the time of a
little bit lucky with with the time of a
of an outage but if it's if you're
of an outage but if it's if you're
of an outage but if it's if you're
trading enough Bitcoin for lumens that's
trading enough Bitcoin for lumens that's
trading enough Bitcoin for lumens that's
something you'd be concerned with so
something you'd be concerned with so
something you'd be concerned with so
again it's not I'm not saying it's a bad
again it's not I'm not saying it's a bad
again it's not I'm not saying it's a bad
idea but I'm saying it causes
idea but I'm saying it causes
idea but I'm saying it causes
potentially other problems that people
potentially other problems that people
potentially other problems that people
now I mean not that we're sending what
now I mean not that we're sending what
now I mean not that we're sending what
you're describing because if I don't
you're describing because if I don't
you're describing because if I don't
already exists David yeah this problem
already exists David yeah this problem
already exists David yeah this problem
already exists this I
already exists this I
already exists this I
we messaged Justin about this like a
we messaged Justin about this like a
we messaged Justin about this like a
very similar problem this morning like
very similar problem this morning like
very similar problem this morning like
two hours ago
two hours ago
two hours ago
like right now imagine this like super
like right now imagine this like super
like right now imagine this like super
terrible thing happened
terrible thing happened
terrible thing happened
imagine that you submitted a bunch of
imagine that you submitted a bunch of
imagine that you submitted a bunch of
transactions you know like I submitted
transactions you know like I submitted
transactions you know like I submitted
some transactions Nicola David Lee
some transactions Nicola David Lee
some transactions Nicola David Lee
OrbitLens Justin to like we also made a
OrbitLens Justin to like we also made a
OrbitLens Justin to like we also made a
bunch of transactions and like Eric also
bunch of transactions and like Eric also
bunch of transactions and like Eric also
submits a transaction but Eric's name
submits a transaction but Eric's name
submits a transaction but Eric's name
starts with E and that means that he's
starts with E and that means that he's
starts with E and that means that he's
malicious in conventional you know
malicious in conventional you know
malicious in conventional you know
crypto stories and Eric knows of some
crypto stories and Eric knows of some
crypto stories and Eric knows of some
zero-day that allows you to crash the
zero-day that allows you to crash the
zero-day that allows you to crash the
network at externalize time and so what
network at externalize time and so what
network at externalize time and so what
happens is like Eric's transaction gets
happens is like Eric's transaction gets
happens is like Eric's transaction gets
into the ledger all of our transactions
into the ledger all of our transactions
into the ledger all of our transactions
get into the ledger and now the network
get into the ledger and now the network
get into the ledger and now the network
is dead like it crashes during you know
is dead like it crashes during you know
is dead like it crashes during you know
ledger closed and nobody externalizes as
ledger closed and nobody externalizes as
ledger closed and nobody externalizes as
a consequence everybody crashes now like
a consequence everybody crashes now like
a consequence everybody crashes now like
when you restart the network it's gonna
when you restart the network it's gonna
when you restart the network it's gonna
crash again because you are committed to
crash again because you are committed to
crash again because you are committed to
this transaction set so the only thing
this transaction set so the only thing
this transaction set so the only thing
you can do is update the software blah
you can do is update the software blah
you can do is update the software blah
blah let's say this takes like 36 to 48
blah let's say this takes like 36 to 48
blah let's say this takes like 36 to 48
hours probably to get everybody back up
hours probably to get everybody back up
hours probably to get everybody back up
and run it would be like I think a
and run it would be like I think a
and run it would be like I think a
reasonable guess maybe even a
reasonable guess maybe even a
reasonable guess maybe even a
conservative guess but like you should
conservative guess but like you should
conservative guess but like you should
not consider any transaction expired on
not consider any transaction expired on
not consider any transaction expired on
the Stellar network until you've seen a
the Stellar network until you've seen a
the Stellar network until you've seen a
close time past that time once you've
close time past that time once you've
close time past that time once you've
seen a close time past that time you can
seen a close time past that time you can
seen a close time past that time you can
say that that transaction is expired but
say that that transaction is expired but
say that that transaction is expired but
until then you cannot because no matter
until then you cannot because no matter
until then you cannot because no matter
what model we use like it's possible
what model we use like it's possible
what model we use like it's possible
that the difference between like the
that the difference between like the
that the difference between like the
clock close time when the like ledger
clock close time when the like ledger
clock close time when the like ledger
actually externalizes and when the like
actually externalizes and when the like
actually externalizes and when the like
a long time like the like the Stellar
a long time like the like the Stellar
a long time like the like the Stellar
header close time could be like
header close time could be like
header close time could be like
arbitrarily far apart so this problem
arbitrarily far apart so this problem
arbitrarily far apart so this problem
exists today like if you get into the
exists today like if you get into the
exists today like if you get into the
situation like that transaction might
situation like that transaction might
situation like that transaction might
execute until that ledger closed
execute until that ledger closed
execute until that ledger closed
timestamps I think this is a different
timestamps I think this is a different
timestamps I think this is a different
problem so this is also a problem but
problem so this is also a problem but
problem so this is also a problem but
the the problem the problem I was
the the problem the problem I was
the the problem the problem I was
concerned with is that a transaction
concerned with is that a transaction
concerned with is that a transaction
with an older timestamp might not get
with an older timestamp might not get
with an older timestamp might not get
disclosed until long after that
disclosed until long after that
disclosed until long after that
timestamp right and if and if the
timestamp right and if and if the
timestamp right and if and if the
contents of that transaction unlock
contents of that transaction unlock
contents of that transaction unlock
something on a different blockchain then
something on a different blockchain then
something on a different blockchain then
then that's a problem can you give some
then that's a problem can you give some
then that's a problem can you give some
more background on this I'm not sure I
more background on this I'm not sure I
more background on this I'm not sure I
understand how that would sure like so
understand how that would sure like so
understand how that would sure like so
okay so basically we propose a block
okay so basically we propose a block
okay so basically we propose a block
with a particular time right and that
with a particular time right and that
with a particular time right and that
time was an hour ago because and in my
time was an hour ago because and in my
time was an hour ago because and in my
case you don't need a software fault it
case you don't need a software fault it
case you don't need a software fault it
could be like some botnet attack Stellar
could be like some botnet attack Stellar
could be like some botnet attack Stellar
or something right so it takes us an
or something right so it takes us an
or something right so it takes us an
hour to like recover from this thing and
hour to like recover from this thing and
hour to like recover from this thing and
now we're going to execute transactions
now we're going to execute transactions
now we're going to execute transactions
that were like an hour old because like
that were like an hour old because like
that were like an hour old because like
it's still the biggest block that's been
it's still the biggest block that's been
it's still the biggest block that's been
nominated right even though at this
nominated right even though at this
nominated right even though at this
point like everybody should be
point like everybody should be
point like everybody should be
nominating everything but it could be
nominating everything but it could be
nominating everything but it could be
that the block an hour ago was like the
that the block an hour ago was like the
that the block an hour ago was like the
biggest blog nobody's heard of neuro
biggest blog nobody's heard of neuro
biggest blog nobody's heard of neuro
transactions right so even though other
transactions right so even though other
transactions right so even though other
people should be nominating like higher
people should be nominating like higher
people should be nominating like higher
timestamps we you know well how it will
timestamps we you know well how it will
timestamps we you know well how it will
execute like an old timestamp and so
execute like an old timestamp and so
execute like an old timestamp and so
people might learn about a transaction
people might learn about a transaction
people might learn about a transaction
with the timestamp of 11:00 a.m. at like
with the timestamp of 11:00 a.m. at like
with the timestamp of 11:00 a.m. at like
12:00 p.m. but like shouldn't you only
12:00 p.m. but like shouldn't you only
12:00 p.m. but like shouldn't you only
vote for a transaction set or a Stellar
vote for a transaction set or a Stellar
vote for a transaction set or a Stellar
value that has a timestamp that's close
value that has a timestamp that's close
value that has a timestamp that's close
to your clock time so like if everybody
to your clock time so like if everybody
to your clock time so like if everybody
thinks that that transaction is super
thinks that that transaction is super
thinks that that transaction is super
old
old
old
nobody should vote for it because it
nobody should vote for it because it
nobody should vote for it because it
doesn't have a good close time no you
doesn't have a good close time no you
doesn't have a good close time no you
should vote for anything anyone elses
should vote for anything anyone elses
should vote for anything anyone elses
and any one of your leaders is is voting
and any one of your leaders is is voting
and any one of your leaders is is voting
for only if and you can take and
for only if and you can take and
for only if and you can take and
currently and currently yeah only if
currently and currently yeah only if
currently and currently yeah only if
it's valid actions should we consider a
it's valid actions should we consider a
it's valid actions should we consider a
transaction with a super old closed time
transaction with a super old closed time
transaction with a super old closed time
valid do we even do that to walk a block
valid do we even do that to walk a block
valid do we even do that to walk a block
with this a value with a super old yeah
with this a value with a super old yeah
with this a value with a super old yeah
that's my mentor value I don't think
that's my mentor value I don't think
that's my mentor value I don't think
we'd have that even happens today I
we'd have that even happens today I
we'd have that even happens today I
think that if it's older than like 60
think that if it's older than like 60
think that if it's older than like 60
seconds it's dead nickel I would know
seconds it's dead nickel I would know
seconds it's dead nickel I would know
the best so I'm gonna let me Claude take
the best so I'm gonna let me Claude take
the best so I'm gonna let me Claude take
it can be any any any clock in the
it can be any any any clock in the
it can be any any any clock in the
between the lapped ledger and the
between the lapped ledger and the
between the lapped ledger and the
current time all this that can be
current time all this that can be
current time all this that can be
introduced as a potential but we pick
introduced as a potential but we pick
introduced as a potential but we pick
the highest anyways so Jeff
the highest anyways so Jeff
the highest anyways so Jeff
people repetition so so I think that
people repetition so so I think that
people repetition so so I think that
what that my point is that no II don't
what that my point is that no II don't
what that my point is that no II don't
think yeah no change like that like the
think yeah no change like that like the
think yeah no change like that like the
the likely close time to win in that
the likely close time to win in that
the likely close time to win in that
situation is going to be appropriately
situation is going to be appropriately
situation is going to be appropriately
current time oh okay that's confusing
current time oh okay that's confusing
current time oh okay that's confusing
actually hold on that's not what I
actually hold on that's not what I
actually hold on that's not what I
inferred from the proposal no no I knew
inferred from the proposal no no I knew
inferred from the proposal no no I knew
were close time with a worse transaction
were close time with a worse transaction
were close time with a worse transaction
set no no is it so no but like the it's
set no no is it so no but like the it's
set no no is it so no but like the it's
when you have nodes nominating you know
when you have nodes nominating you know
when you have nodes nominating you know
a pair transaction set close time the
a pair transaction set close time the
a pair transaction set close time the
close time that the nominate did you
close time that the nominate did you
close time that the nominate did you
introduce on the network is there local
introduce on the network is there local
introduce on the network is there local
clock time right so that's the so
clock time right so that's the so
clock time right so that's the so
actually if you walked out for like an
actually if you walked out for like an
actually if you walked out for like an
hour you know during the you know during
hour you know during the you know during
hour you know during the you know during
the last ledger that new ledger will be
the last ledger that new ledger will be
the last ledger that new ledger will be
an hour later obviously like compared to
an hour later obviously like compared to
an hour later obviously like compared to
tie so is it's actually snapping to the
tie so is it's actually snapping to the
tie so is it's actually snapping to the
to the current time it doesn't but a
to the current time it doesn't but a
to the current time it doesn't but a
malicious node could say that it
malicious node could say that it
malicious node could say that it
nominated something with an old time
nominated something with an old time
nominated something with an old time
right like is there anything stopping
right like is there anything stopping
right like is there anything stopping
them from doing that these are well
them from doing that these are well
them from doing that these are well
there's a race right so so like the gos
there's a race right so so like the gos
there's a race right so so like the gos
can happen at any node can be do s right
can happen at any node can be do s right
can happen at any node can be do s right
so so any node can introduce a closed
so so any node can introduce a closed
so so any node can introduce a closed
time so in this particular situation the
time so in this particular situation the
time so in this particular situation the
change of pick being I guess that's
change of pick being I guess that's
change of pick being I guess that's
whether the changes you may end up with
picking the transaction set a closed
picking the transaction set a closed
time pair from one node that actually
time pair from one node that actually
time pair from one node that actually
decided that it was not going to
decided that it was not going to
decided that it was not going to
nominate something that was close to the
nominate something that was close to the
nominate something that was close to the
current time like instead something in
current time like instead something in
current time like instead something in
the past you know but close to the
the past you know but close to the
the past you know but close to the
bigger than the last time I just
bigger than the last time I just
bigger than the last time I just
wanted to say by the way that were fast
wanted to say by the way that were fast
wanted to say by the way that were fast
approaching the end of the hour so I
approaching the end of the hour so I
approaching the end of the hour so I
don't necessarily want to cut this
don't necessarily want to cut this
don't necessarily want to cut this
discussion off but at some point I think
discussion off but at some point I think
discussion off but at some point I think
we'll stop the livestream and figure out
we'll stop the livestream and figure out
we'll stop the livestream and figure out
the best way to have this discussion
the best way to have this discussion
the best way to have this discussion
move forward yeah since people
move forward yeah since people
move forward yeah since people
I mean basically what I would like to do
I mean basically what I would like to do
I mean basically what I would like to do
is I would like to either have you know
is I would like to either have you know
is I would like to either have you know
a little bit more data about like sort
a little bit more data about like sort
a little bit more data about like sort
of smart contracts and stuff just to
of smart contracts and stuff just to
of smart contracts and stuff just to
make sure that we're not sort of solving
make sure that we're not sort of solving
make sure that we're not sort of solving
one problem and creating another and
one problem and creating another and
one problem and creating another and
second of all maybe a little bit broader
second of all maybe a little bit broader
second of all maybe a little bit broader
discussion because the point is like
discussion because the point is like
discussion because the point is like
these sequence numbers are actually like
these sequence numbers are actually like
these sequence numbers are actually like
annoying in more ways than one and so it
annoying in more ways than one and so it
annoying in more ways than one and so it
could be that if we solve the sequence
could be that if we solve the sequence
could be that if we solve the sequence
number problem then this issue goes away
number problem then this issue goes away
number problem then this issue goes away
and we haven't had to also create this
and we haven't had to also create this
and we haven't had to also create this
potential annoyance for like atomic
potential annoyance for like atomic
potential annoyance for like atomic
cross chain swaps so there is already a
cross chain swaps so there is already a
cross chain swaps so there is already a
way to avoid this sequence number
way to avoid this sequence number
way to avoid this sequence number
problem I actually described it an issue
problem I actually described it an issue
problem I actually described it an issue
6:22 like three or four hours ago but
6:22 like three or four hours ago but
6:22 like three or four hours ago but
the the basic concept here is like
the the basic concept here is like
the the basic concept here is like
instead of letting your transactions
instead of letting your transactions
instead of letting your transactions
have sequential sequence numbers they
have sequential sequence numbers they
have sequential sequence numbers they
have gapped sequence numbers where like
have gapped sequence numbers where like
have gapped sequence numbers where like
you can choose a gap of one for example
you can choose a gap of one for example
you can choose a gap of one for example
and then the transaction just needs to
and then the transaction just needs to
and then the transaction just needs to
have a bump seek and so if it fails you
have a bump seek and so if it fails you
have a bump seek and so if it fails you
know that it didn't happen and that
know that it didn't happen and that
know that it didn't happen and that
would solve so many other it would like
would solve so many other it would like
would solve so many other it would like
solve a whole bunch of other problems
solve a whole bunch of other problems
solve a whole bunch of other problems
too so it's like I'd way rather just
too so it's like I'd way rather just
too so it's like I'd way rather just
like kind of address that problem rather
like kind of address that problem rather
like kind of address that problem rather
than just do this one thing that's
than just do this one thing that's
than just do this one thing that's
targeting this one very specific problem
targeting this one very specific problem
targeting this one very specific problem
which we don't even know is exactly the
which we don't even know is exactly the
which we don't even know is exactly the
problem that people are having in
problem that people are having in
problem that people are having in
practice we know it running into these
practice we know it running into these
practice we know it running into these
four regular infections no no but all we
four regular infections no no but all we
four regular infections no no but all we
know is that some transactions are
know is that some transactions are
know is that some transactions are
getting submitted that have a have a bad
getting submitted that have a have a bad
getting submitted that have a have a bad
close time right but we don't know that
close time right but we don't know that
close time right but we don't know that
that's like messing up people's smart
that's like messing up people's smart
that's like messing up people's smart
contracts and and you know those people
contracts and and you know those people
contracts and and you know those people
may not care that they're losing a you
may not care that they're losing a you
may not care that they're losing a you
know you know 100 micro or 10 micro
know you know 100 micro or 10 micro
know you know 100 micro or 10 micro
lumen fee or whatever like it just might
lumen fee or whatever like it just might
lumen fee or whatever like it just might
not be a big deal right way so you want
not be a big deal right way so you want
not be a big deal right way so you want
to put a face to those to those
to put a face to those to those
to put a face to those to those
transactions yeah there'd be so much
transactions yeah there'd be so much
transactions yeah there'd be so much
upside to actually allowing the gap
upside to actually allowing the gap
upside to actually allowing the gap
sequence numbers like because that would
sequence numbers like because that would
sequence numbers like because that would
solve all these other problems too so
solve all these other problems too so
solve all these other problems too so
like if issue like like here what we are
like if issue like like here what we are
like if issue like like here what we are
talking about is that there might be
talking about is that there might be
talking about is that there might be
smart contracts out there that are
smart contracts out there that are
smart contracts out there that are
broken because the way things are
broken because the way things are
broken because the way things are
actually specified is wrong right and
actually specified is wrong right and
actually specified is wrong right and
what I'm telling you said if you lock
what I'm telling you said if you lock
what I'm telling you said if you lock
gap sequence numbers so many it will
gap sequence numbers so many it will
gap sequence numbers so many it will
solve
solve
solve
so many other understand with including
so many other understand with including
so many other understand with including
this problem right no you have the same
this problem right no you have the same
this problem right no you have the same
there's only would affect our new one
there's only would affect our new one
there's only would affect our new one
yeah new ones would be fixed but you
yeah new ones would be fixed but you
yeah new ones would be fixed but you
wouldn't fix
wouldn't fix
wouldn't fix
old old we don't know that there's any
old old we don't know that there's any
old old we don't know that there's any
smart contracts in use you can't say
smart contracts in use you can't say
smart contracts in use you can't say
that we don't know sure but like let's
that we don't know sure but like let's
that we don't know sure but like let's
let people complain about a problem
let people complain about a problem
let people complain about a problem
before we contract well describing here
before we contract well describing here
before we contract well describing here
is the very like this I think in most
is the very like this I think in most
is the very like this I think in most
examples of smart contracts the you know
examples of smart contracts the you know
examples of smart contracts the you know
branch on time like you want something
branch on time like you want something
branch on time like you want something
but it you know I branch before some
but it you know I branch before some
but it you know I branch before some
some time and a different branch on the
some time and a different branch on the
some time and a different branch on the
different best like the like 101 I would
different best like the like 101 I would
different best like the like 101 I would
argue it is I would argue smart contract
argue it is I would argue smart contract
argue it is I would argue smart contract
when I want is the cross chain swap
when I want is the cross chain swap
when I want is the cross chain swap
right well I think yeah like you bring
right well I think yeah like you bring
right well I think yeah like you bring
up a super good point here which is like
up a super good point here which is like
up a super good point here which is like
anything that we're proposing as a
anything that we're proposing as a
anything that we're proposing as a
solution here like we better test it to
solution here like we better test it to
solution here like we better test it to
make sure that it like it should be
make sure that it like it should be
make sure that it like it should be
perrito better right like if I'm not
perrito better right like if I'm not
perrito better right like if I'm not
happy with the solution that six is this
happy with the solution that six is this
happy with the solution that six is this
problem but makes you know cross chain
problem but makes you know cross chain
problem but makes you know cross chain
swaps worse so like probably like mmm I
swaps worse so like probably like mmm I
swaps worse so like probably like mmm I
don't know if it doesn't I think we
don't know if it doesn't I think we
don't know if it doesn't I think we
should do was the thing right we're
should do was the thing right we're
should do was the thing right we're
going to have a conversation on the dev
going to have a conversation on the dev
going to have a conversation on the dev
mailing list for this one and David if
mailing list for this one and David if
mailing list for this one and David if
you if you if you can show us how are
you if you if you can show us how are
you if you if you can show us how are
these breaks Atomics I mean across as
these breaks Atomics I mean across as
these breaks Atomics I mean across as
change swap happy to fix things then
change swap happy to fix things then
change swap happy to fix things then
break things so Jonathan John if you
break things so Jonathan John if you
break things so Jonathan John if you
have another idea for how did you cap
have another idea for how did you cap
have another idea for how did you cap
sequence numbers side spices signed I
sequence numbers side spices signed I
sequence numbers side spices signed I
had that one frozen for the signed
had that one frozen for the signed
had that one frozen for the signed
operations but basically something
operations but basically something
operations but basically something
simpler like I think I'd rather just
simpler like I think I'd rather just
simpler like I think I'd rather just
argue if we have something that like I
argue if we have something that like I
argue if we have something that like I
can argue fixes this problem but also
can argue fixes this problem but also
can argue fixes this problem but also
fixes other problems I'd rather spend my
fixes other problems I'd rather spend my
fixes other problems I'd rather spend my
efforts arguing favor something we still
efforts arguing favor something we still
efforts arguing favor something we still
have the same problem that's the problem
have the same problem that's the problem
have the same problem that's the problem
with any other solution we will keep the
with any other solution we will keep the
with any other solution we will keep the
cruise time broken comes with respect
cruise time broken comes with respect
cruise time broken comes with respect
we don't know if we have gaps sequence
we don't know if we have gaps sequence
we don't know if we have gaps sequence
numbers then there's no issue because I
numbers then there's no issue because I
numbers then there's no issue because I
can basically sir so right now in the
can basically sir so right now in the
can basically sir so right now in the
back we say if you have but time bounds
back we say if you have but time bounds
back we say if you have but time bounds
they've drawn at the bad time bounds the
they've drawn at the bad time bounds the
they've drawn at the bad time bounds the
transaction is embedded that's what the
transaction is embedded that's what the
transaction is embedded that's what the
spec says and we're actually not doing
spec says and we're actually not doing
spec says and we're actually not doing
that
that
that
that feels like it feels like right
that feels like it feels like right
that feels like it feels like right
place to end up to him I think we should
place to end up to him I think we should
place to end up to him I think we should
yeah I'm right there any of this one 622
yeah I'm right there any of this one 622
yeah I'm right there any of this one 622
thanks everybody for watching that's the
thanks everybody for watching that's the
thanks everybody for watching that's the
end of this week's open protocol meeting
end of this week's open protocol meeting
end of this week's open protocol meeting
see you in two weeks
