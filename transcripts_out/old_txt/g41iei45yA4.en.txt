hi everyone welcome to the Stellar open
hi everyone welcome to the Stellar open
protocol discussion in these meetings
protocol discussion in these meetings
protocol discussion in these meetings
as always we discuss core advancement
as always we discuss core advancement
as always we discuss core advancement
proposals caps
proposals caps
proposals caps
which are technical specs that suggest
which are technical specs that suggest
which are technical specs that suggest
changes to the Stellar protocol and
changes to the Stellar protocol and
changes to the Stellar protocol and
they're necessary to allow that protocol
they're necessary to allow that protocol
they're necessary to allow that protocol
to continue to evolve to meet ecosystem
to continue to evolve to meet ecosystem
to continue to evolve to meet ecosystem
needs we live stream the meetings so
needs we live stream the meetings so
needs we live stream the meetings so
that you can follow along I do want to
that you can follow along I do want to
that you can follow along I do want to
note it's a technical discussion so if
note it's a technical discussion so if
note it's a technical discussion so if
you're watching please take a look at
you're watching please take a look at
you're watching please take a look at
the cap link to in the show description
the cap link to in the show description
the cap link to in the show description
cap21
cap21
cap21
we do keep an eye on the discussion box
we do keep an eye on the discussion box
we do keep an eye on the discussion box
and your comments there inform future
and your comments there inform future
and your comments there inform future
decisions but our goal today is to talk
decisions but our goal today is to talk
decisions but our goal today is to talk
through some final questions about cap
through some final questions about cap
through some final questions about cap
21 so we'll only really address
21 so we'll only really address
21 so we'll only really address
questions here if they're directly
questions here if they're directly
questions here if they're directly
related to that goal
related to that goal
related to that goal
once again this meeting is part of a
once again this meeting is part of a
once again this meeting is part of a
caps life cycle they are started on the
caps life cycle they are started on the
caps life cycle they are started on the
Stellar dev mailing list and there's a
Stellar dev mailing list and there's a
Stellar dev mailing list and there's a
link to that mailing list for anyone who
link to that mailing list for anyone who
link to that mailing list for anyone who
wants to participate in future
wants to participate in future
wants to participate in future
discussions they're drafted and iterated
discussions they're drafted and iterated
discussions they're drafted and iterated
on before they're
on before they're
on before they're
drafted or before they end up in this in
drafted or before they end up in this in
drafted or before they end up in this in
this discussion in this meeting and
this discussion in this meeting and
this discussion in this meeting and
based on what happens in this meeting
based on what happens in this meeting
based on what happens in this meeting
they may get put up for a vote before
they may get put up for a vote before
they may get put up for a vote before
the cap committee who decides whether or
the cap committee who decides whether or
the cap committee who decides whether or
not to accept or reject a cap
not to accept or reject a cap
not to accept or reject a cap
after a vote the cap enters a week
after a vote the cap enters a week
after a vote the cap enters a week
final comment period so everyone has a
final comment period so everyone has a
final comment period so everyone has a
last chance to raise questions on that
last chance to raise questions on that
last chance to raise questions on that
same mailing list if a cat makes it
same mailing list if a cat makes it
same mailing list if a cat makes it
through final comment period it's
through final comment period it's
through final comment period it's
implemented in a major release of
implemented in a major release of
implemented in a major release of
Stellar core which is then put forward
Stellar core which is then put forward
Stellar core which is then put forward
for network validators to vote on
for network validators to vote on
for network validators to vote on
ultimately at the end of the process it
ultimately at the end of the process it
ultimately at the end of the process it
is the network that decides on whether
is the network that decides on whether
is the network that decides on whether
to accept major protocol changes
to accept major protocol changes
to accept major protocol changes
on that note
on that note
on that note
there is currently a validator vote to
there is currently a validator vote to
there is currently a validator vote to
upgrade the network to protocol 18
upgrade the network to protocol 18
upgrade the network to protocol 18
scheduled for november 3rd that's next
scheduled for november 3rd that's next
scheduled for november 3rd that's next
week and so that upgrade would introduce
week and so that upgrade would introduce
week and so that upgrade would introduce
automated market maker functionality to
automated market maker functionality to
automated market maker functionality to
Stellar so it's very exciting
Stellar so it's very exciting
Stellar so it's very exciting
it also introduces some breaking changes
it also introduces some breaking changes
it also introduces some breaking changes
so if you build on Stellar please make
so if you build on Stellar please make
so if you build on Stellar please make
sure to install up-to-date versions of
sure to install up-to-date versions of
sure to install up-to-date versions of
any Stellar sdks you use
any Stellar sdks you use
any Stellar sdks you use
any Stellar sdks along with Stellar core
any Stellar sdks along with Stellar core
any Stellar sdks along with Stellar core
and horizon if you run a node
and horizon if you run a node
and horizon if you run a node
but today we're discussing a different
but today we're discussing a different
but today we're discussing a different
cap destined potentially for a different
cap destined potentially for a different
cap destined potentially for a different
protocol cap 21.
protocol cap 21.
protocol cap 21.
cap 21 lays the groundwork for building
cap 21 lays the groundwork for building
cap 21 lays the groundwork for building
payment channels on Stellar payment
payment channels on Stellar payment
payment channels on Stellar payment
channels allow multiple parties to
channels allow multiple parties to
channels allow multiple parties to
transact off chain and periodically
transact off chain and periodically
transact off chain and periodically
settle on chain and among other things
settle on chain and among other things
settle on chain and among other things
what they do is they make it a lot
what they do is they make it a lot
what they do is they make it a lot
easier to build high volume use cases on
easier to build high volume use cases on
easier to build high volume use cases on
Stellar so
Stellar so
Stellar so
cap 21
cap 21
cap 21
it makes technical changes geared
it makes technical changes geared
it makes technical changes geared
towards enabling payment channels
towards enabling payment channels
towards enabling payment channels
payment channels are great for scaling
payment channels are great for scaling
payment channels are great for scaling
network throughput
network throughput
network throughput
that's kind of my overview where we
that's kind of my overview where we
that's kind of my overview where we
are with cop21 we've discussed it a few
are with cop21 we've discussed it a few
are with cop21 we've discussed it a few
times
times
times
revisions were
revisions were
revisions were
david made revisions recently based on
david made revisions recently based on
david made revisions recently based on
the last discussion that we have and so
the last discussion that we have and so
the last discussion that we have and so
I think where we're at now is like
I think where we're at now is like
I think where we're at now is like
are there
are there
are there
any questions lingering issues anything
any questions lingering issues anything
any questions lingering issues anything
that we can go over with cap 21
that we can go over with cap 21
that we can go over with cap 21
especially anything that's preventing it
especially anything that's preventing it
especially anything that's preventing it
from being put forward to the cap
from being put forward to the cap
from being put forward to the cap
committee for approval
committee for approval
committee for approval
so
so
so
anyone got anything
anyone got anything
anyone got anything
I'm happy to summarize the changes
I'm happy to summarize the changes
I'm happy to summarize the changes
awesome perfect pretty minor
awesome perfect pretty minor
awesome perfect pretty minor



so
so
so
you know there was this thing where like
you know there was this thing where like
you know there was this thing where like
we said that time points should be
we said that time points should be
we said that time points should be
signed because like databases were like
signed because like databases were like
signed because like databases were like
have is more convenient some databases
have is more convenient some databases
have is more convenient some databases
have signed 64-bit numbers but like
have signed 64-bit numbers but like
have signed 64-bit numbers but like
then we decided actually that was a bad
then we decided actually that was a bad
then we decided actually that was a bad
idea so it's mostly like kind of
idea so it's mostly like kind of
idea so it's mostly like kind of
orthogonal to this proposal it's just
orthogonal to this proposal it's just
orthogonal to this proposal it's just
like since I we're making use of time
like since I we're making use of time
like since I we're making use of time
points and durations and stuff so that's
points and durations and stuff so that's
points and durations and stuff so that's
reverted to unsigned well go go over
reverted to unsigned well go go over
reverted to unsigned well go go over
the small changes then
the small changes then
the small changes then
people wanted a note about like the bump
people wanted a note about like the bump
people wanted a note about like the bump
sequence how like that can like
sequence how like that can like
sequence how like that can like
invalidate a transaction in the same
invalidate a transaction in the same
invalidate a transaction in the same
block
block
block
the main
the main
the main



the main change is that
the main change is that
the main change is that
basically when you have when you see two
basically when you have when you see two
basically when you have when you see two
transactions that are incompatible they
transactions that are incompatible they
transactions that are incompatible they
can't both be in the same block because
can't both be in the same block because
can't both be in the same block because
like let's say one has
like let's say one has
like let's say one has
sequence number 12 and a min seek ledger
sequence number 12 and a min seek ledger
sequence number 12 and a min seek ledger
gap of
gap of
gap of
two and the other has like sequence
two and the other has like sequence
two and the other has like sequence
number 11.
number 11.
number 11.
you know previously
you know previously
you know previously
I can't remember what I said you took
I can't remember what I said you took
I can't remember what I said you took
the one with like the highest
the one with like the highest
the one with like the highest



or or
or or
or or
or lowest sequence number something
or lowest sequence number something
or lowest sequence number something
now you just take the first one that you
now you just take the first one that you
now you just take the first one that you
saw and the reason I didn't do that in
saw and the reason I didn't do that in
saw and the reason I didn't do that in
the first place because I was worried
the first place because I was worried
the first place because I was worried
about well now you're going to see a
about well now you're going to see a
about well now you're going to see a
block and you're going to end up having
block and you're going to end up having
block and you're going to end up having
to like fetch transactions that you
to like fetch transactions that you
to like fetch transactions that you
don't have
don't have
don't have
it turns out you'll have to do that you
it turns out you'll have to do that you
it turns out you'll have to do that you
have to do that anyway
have to do that anyway
have to do that anyway
because this kind of stuff
because this kind of stuff
because this kind of stuff
can come out in in other contexts like
can come out in in other contexts like
can come out in in other contexts like
if you have two transactions that have
if you have two transactions that have
if you have two transactions that have
the same sequence number and the same
the same sequence number and the same
the same sequence number and the same
fee
fee
fee
then you know like and they're flooded
then you know like and they're flooded
then you know like and they're flooded
at the same time to different nodes well
at the same time to different nodes well
at the same time to different nodes well
yeah like half the nodes might see one
yeah like half the nodes might see one
yeah like half the nodes might see one
and half might see another and so we're
and half might see another and so we're
and half might see another and so we're
just doing the same thing we just you
just doing the same thing we just you
just doing the same thing we just you
keep whichever you saw first and you
keep whichever you saw first and you
keep whichever you saw first and you
discard anything you receive later that
discard anything you receive later that
discard anything you receive later that
can't exist in the same block as the
can't exist in the same block as the
can't exist in the same block as the
first one you received
is what we
is what we
david is that what we discussed before
david is that what we discussed before
david is that what we discussed before
because I thought that was actually
because I thought that was actually
because I thought that was actually
taking the lowest I mean
taking the lowest I mean
taking the lowest I mean
because I thought this was a potential
because I thought this was a potential
because I thought this was a potential
way to artificially like
way to artificially like
way to artificially like
delay
delay
delay
forever like
that's right you don't you don't think
that's right you don't you don't think
the lowest pre-signed contractions right
the lowest pre-signed contractions right
the lowest pre-signed contractions right
like like a typical of the house
like like a typical of the house
like like a typical of the house
first one is right but like a bad a bad
first one is right but like a bad a bad
first one is right but like a bad a bad
you know
you know
you know
a bad actor can
a bad actor can
a bad actor can
always submit the
always submit the
always submit the
the the the
the the the
the the the
lower one right
lower one right
lower one right
so maybe it's a no it doesn't matter you
so maybe it's a no it doesn't matter you
so maybe it's a no it doesn't matter you
just take the first one you see so
just take the first one you see so
just take the first one you see so
if if something's been flooded and the
if if something's been flooded and the
if if something's been flooded and the
bad actor
bad actor
bad actor
floods something incompatible it just
floods something incompatible it just
floods something incompatible it just
the validators won't accept that
the validators won't accept that
the validators won't accept that
or they won't forward it they would just
or they won't forward it they would just
or they won't forward it they would just
well it's more like you have to be first
well it's more like you have to be first
well it's more like you have to be first
to submit your transaction right which
to submit your transaction right which
to submit your transaction right which
is kind of annoying from a security
is kind of annoying from a security
is kind of annoying from a security
standpoint
first
first
like if if I have like I think we
like if if I have like I think we
like if if I have like I think we
discussed that I I'm not exactly sure if
discussed that I I'm not exactly sure if
discussed that I I'm not exactly sure if
it was relevant to the
it was relevant to the
it was relevant to the



to the
to the
to the
protocol that is described in the cup
yeah because you have like
yeah because you have like
like all some protocols you have like
like all some protocols you have like
like all some protocols you have like
you know many many sequence numbers
you know many many sequence numbers
you know many many sequence numbers
and the reason you have this gap is it
and the reason you have this gap is it
and the reason you have this gap is it
allows you to kind of jump forward
allows you to kind of jump forward
allows you to kind of jump forward
so I can basically like delay that that
so I can basically like delay that that
so I can basically like delay that that
transaction in an arbitrary fashion if i
transaction in an arbitrary fashion if i
transaction in an arbitrary fashion if i
can have if I have access to those
can have if I have access to those
can have if I have access to those
pre-signed transactions
pre-signed transactions
pre-signed transactions
I don't remember actually I would
I don't remember actually I would
I don't remember actually I would
need to go back to the protocol that is
need to go back to the protocol that is
need to go back to the protocol that is
described in the cup i
described in the cup i
described in the cup i
think maybe it doesn't matter in this
think maybe it doesn't matter in this
think maybe it doesn't matter in this
situation
situation
situation
can people remember
can people remember
can people remember
I I remember the the problem with the
I I remember the the problem with the
I I remember the the problem with the
the problem with the old one was that
the problem with the old one was that
the problem with the old one was that
yeah you could keep you could keep
yeah you could keep you could keep
yeah you could keep you could keep
submitting something
submitting something
submitting something



that would like you know bump the age
that would like you know bump the age
that would like you know bump the age
or or whatever
or or whatever
or or whatever
so
so
so
and so now it's it doesn't matter it's
and so now it's it doesn't matter it's
and so now it's it doesn't matter it's
just like
just like
just like
whichever one you
there's nothing
there's nothing



I mean I guess there's there's
I mean I guess there's there's
I mean I guess there's there's
potentially like a continued
potentially like a continued
potentially like a continued
race
race
race

but there's nothing
but there's nothing
but there's nothing that like inherently
but there's nothing that like inherently
but there's nothing that like inherently
guarantees that the attacker can win the
guarantees that the attacker can win the
guarantees that the attacker can win the
race
the disclosure yeah like I'm looking
the disclosure yeah like I'm looking
at the protocol that described in the
at the protocol that described in the
at the protocol that described in the
cap so like the disclosure transaction
cap so like the disclosure transaction
cap so like the disclosure transaction
is it
is it
is it
using
using
using
the mean sec
the mean sec
the mean sec
like those ranges all now
yeah so basically
yeah so basically
you can and then the second one uses
you can and then the second one uses
you can and then the second one uses
mince
mince
mince
so it's only the mean think age that
so it's only the mean think age that
so it's only the mean think age that
would be affected and we don't I think
would be affected and we don't I think
would be affected and we don't I think
we don't care in this context because
we don't care in this context because
we don't care in this context because
dude
dude
dude
it
it
it
it depends directly from the
it depends directly from the
it depends directly from the
yeah the disclosure is not impacted by
yeah the disclosure is not impacted by
yeah the disclosure is not impacted by
this flood first type of thing right
this flood first type of thing right
this flood first type of thing right
because it doesn't have that
because it doesn't have that
because it doesn't have that
mean mean
mean mean
mean mean



age condition
age condition
age condition
okay so then it's I think yeah like now
okay so then it's I think yeah like now
okay so then it's I think yeah like now
I remember like it's
I remember like it's
I remember like it's
for this particular protocol it's it
for this particular protocol it's it
for this particular protocol it's it
it's fine to take the you know an
it's fine to take the you know an
it's fine to take the you know an
arbitrary one
arbitrary one
arbitrary one
yeah
yeah
yeah
so I mean it doesn't really come up in
so I mean it doesn't really come up in
so I mean it doesn't really come up in
this protocol because all of the
this protocol because all of the
this protocol because all of the
disclosure transactions are compatible
disclosure transactions are compatible
disclosure transactions are compatible
like they could all yeah exactly yeah
like they could all yeah exactly yeah
like they could all yeah exactly yeah
but you could all run run them all in
but you could all run run them all in
but you could all run run them all in
the same block
the same block
the same block
yeah
so does that mean that the way that
so does that mean that the way that
things are written right now in cap 21
things are written right now in cap 21
things are written right now in cap 21
the question
the question
the question
this take the first one you see approach
this take the first one you see approach
this take the first one you see approach
seems to work for people
seems to work for people
seems to work for people
cool
cool
cool
great yeah it's also simpler to
great yeah it's also simpler to
great yeah it's also simpler to
implement yeah I think we actually
implement yeah I think we actually
implement yeah I think we actually
discussed some of that last time which
discussed some of that last time which
discussed some of that last time which
was
was
was
but it's not perfect in a way that like
but it's not perfect in a way that like
but it's not perfect in a way that like
already other situations aren't perfect
already other situations aren't perfect
already other situations aren't perfect
like two two transactions with the same
like two two transactions with the same
like two two transactions with the same
sequence number and fee
sequence number and fee
sequence number and fee
so it doesn't make any it doesn't make
so it doesn't make any it doesn't make
so it doesn't make any it doesn't make
things worse
when you say the first that you see that
when you say the first that you see that
means that is submitted first
means that is submitted first
means that is submitted first
in real time
in real time
in real time
yes but of course the I mean of course
yes but of course the I mean of course
yes but of course the I mean of course
before consensus different validators
before consensus different validators
before consensus different validators
will see things in different order right
will see things in different order right
will see things in different order right
right I think I don't propagate through
right I think I don't propagate through
right I think I don't propagate through
the network
the network
the network
so
so
so
but I think we you know we already
but I think we you know we already
but I think we you know we already
accept the fact that you may need to
accept the fact that you may need to
accept the fact that you may need to
kind of refetch the block
kind of refetch the block
kind of refetch the block
you know while it's being nominated so
david are there other
david are there other
changes that we should walk through
changes that we should walk through
changes that we should walk through
that's it
wow
wow
john
john
john
I didn't have any issues when I mean
I didn't have any issues when I mean
I didn't have any issues when I mean
there's some typos and stuff but I don't
there's some typos and stuff but I don't
there's some typos and stuff but I don't
know if they're you know
know if they're you know
know if they're you know
worth going through
worth going through
worth going through

lee I remember that you were doing some
lee I remember that you were doing some
like some like experiments on the
like some like experiments on the
like some like experiments on the
kind of performance you can get out of
kind of performance you can get out of
kind of performance you can get out of
this I remember you were considering
this I remember you were considering
this I remember you were considering
different kinds of cases and
different kinds of cases and
different kinds of cases and
different like structures of payment
different like structures of payment
different like structures of payment
channels that you could do like
channels that you could do like
channels that you could do like
synchronous and asynchronous and all
synchronous and asynchronous and all
synchronous and asynchronous and all
these other kinds of things do you want
these other kinds of things do you want
these other kinds of things do you want
to give us like some context on what the
to give us like some context on what the
to give us like some context on what the
kind of outcome of all of that was what
kind of outcome of all of that was what
kind of outcome of all of that was what
the limitations are of this proposal in
the limitations are of this proposal in
the limitations are of this proposal in
in the
in the
in the
land of what you kind of were
land of what you kind of were
land of what you kind of were
experimenting on
experimenting on
experimenting on
I don't I don't know because I like the
I don't I don't know because I like the
I don't I don't know because I like the
it's very clear to me that this produces
it's very clear to me that this produces
it's very clear to me that this produces
payment channels and they work
payment channels and they work
payment channels and they work
but it's not like having not done any
but it's not like having not done any
but it's not like having not done any
of the experiments myself it's not clear
of the experiments myself it's not clear
of the experiments myself it's not clear
to me what's the limitation like what's
to me what's the limitation like what's
to me what's the limitation like what's
the best payment channel you can build
the best payment channel you can build
the best payment channel you can build
here in terms of throughput in terms of
here in terms of throughput in terms of
here in terms of throughput in terms of
all these other things
all these other things
all these other things
yeah in terms of
yeah in terms of
yeah in terms of
yeah so I think there's a couple of
yeah so I think there's a couple of
yeah so I think there's a couple of
things here so
things here so
things here so
we've been doing experiments to
we've been doing experiments to
we've been doing experiments to
validate
validate
validate
does this does this produce a payment
does this does this produce a payment
does this does this produce a payment
channel that's safe does a producer can
channel that's safe does a producer can
channel that's safe does a producer can
you build a payment channel with this
you build a payment channel with this
you build a payment channel with this
that's predictable that interacts
that's predictable that interacts
that's predictable that interacts
with things like issued assets well
with things like issued assets well
with things like issued assets well
interacts with things like regulated
interacts with things like regulated
interacts with things like regulated
assets
assets
assets
and
and
and
and yeah like what sort of performance
and yeah like what sort of performance
and yeah like what sort of performance
can you get out of it I think the
can you get out of it I think the
can you get out of it I think the
performance thing is something that
performance thing is something that
performance thing is something that
we're still
we're still
we're still
experimenting with so and it's still
experimenting with so and it's still
experimenting with so and it's still
something that we're
something that we're
something that we're
we're figuring that out and
we're figuring that out and
we're figuring that out and



in terms of everything else what
in terms of everything else what
in terms of everything else what
we've seen
we've seen
we've seen
you know we have discovered
you know we have discovered
you know we have discovered

is this better
is this better
okay
yes so what we're seeing is that it
yes so what we're seeing is that it
works really well with issued assets
works really well with issued assets
works really well with issued assets
and
and
and






we've written up a more a thorough sort
we've written up a more a thorough sort
we've written up a more a thorough sort
of description about how you would
of description about how you would
of description about how you would
implement this so that it's safe
implement this so that it's safe
implement this so that it's safe
you know with trust lines and can be
you know with trust lines and can be
you know with trust lines and can be
predictable
predictable
predictable
with trust lines and we have ideas as
with trust lines and we have ideas as
with trust lines and we have ideas as
well
well
well
for how this would work with regulated
for how this would work with regulated
for how this would work with regulated
assets things like the assets that use
assets things like the assets that use
assets things like the assets that use
ecosystem standards like sep 8
ecosystem standards like sep 8
ecosystem standards like sep 8
and it looks like it fits those
and it looks like it fits those
and it looks like it fits those
fit those use cases well as well so i
fit those use cases well as well so i
fit those use cases well as well so i
think
think
think
the experimentation we've done to
the experimentation we've done to
the experimentation we've done to
validate does cap 21 enable payment
validate does cap 21 enable payment
validate does cap 21 enable payment
channels
channels
channels
sufficiently then I think the answer is
sufficiently then I think the answer is
sufficiently then I think the answer is
yes it does
yes it does
yes it does



in terms of like you know what
in terms of like you know what
in terms of like you know what
problems we haven't solved yet like you
problems we haven't solved yet like you
problems we haven't solved yet like you
mentioned you know asynchronous payment
mentioned you know asynchronous payment
mentioned you know asynchronous payment
channels
channels
channels
and we've kept 40 that we've
and we've kept 40 that we've
and we've kept 40 that we've
discussed previously that we want to is
discussed previously that we want to is
discussed previously that we want to is
sort of being batched together with cap
sort of being batched together with cap
sort of being batched together with cap
21
21
21
we can do you know single message
we can do you know single message
we can do you know single message
payment channels which is which is
payment channels which is which is
payment channels which is which is
really I think interesting so I can
really I think interesting so I can
really I think interesting so I can
send you a message
send you a message
send you a message
and that's all that we have to do for
and that's all that we have to do for
and that's all that we have to do for
you to receive everything you need
you to receive everything you need
you to receive everything you need
to to execute that payment that doesn't
to to execute that payment that doesn't
to to execute that payment that doesn't
actually have to be any further
actually have to be any further
actually have to be any further
communication
communication
communication
but I think what we haven't figured out
but I think what we haven't figured out
but I think what we haven't figured out
everything you know for how to implement
everything you know for how to implement
everything you know for how to implement
that type of
that type of
that type of
type of thing so I think there is still
type of thing so I think there is still
type of thing so I think there is still
more experimentation to be done to
more experimentation to be done to
more experimentation to be done to
figure out
figure out
figure out
other
other
other
like
with those experiments
with those experiments
do we does it make sense to wait to
do we does it make sense to wait to
do we does it make sense to wait to
accept a cap like this into pending the
accept a cap like this into pending the
accept a cap like this into pending the
results of those experiments because
results of those experiments because
results of those experiments because
they might affect the cap itself or are
they might affect the cap itself or are
they might affect the cap itself or are
or not
is that question directed at me or i
is that question directed at me or i
think so
think so
think so
basically
basically
basically
it sounds like there are more
it sounds like there are more
it sounds like there are more
experiments that you want to do
experiments that you want to do
experiments that you want to do
to sort of verify or find out
to sort of verify or find out
to sort of verify or find out
certain things about the way that these
certain things about the way that these
certain things about the way that these
payment channels that are enabled by cap
payment channels that are enabled by cap
payment channels that are enabled by cap
21 and cap 40 would
21 and cap 40 would
21 and cap 40 would
perform
perform
perform
correct
correct
correct
so I mean I think we can experiment
so I mean I think we can experiment
so I mean I think we can experiment
we could experiment with this forever
we could experiment with this forever
we could experiment with this forever
yeah and there's always aspects of this
yeah and there's always aspects of this
yeah and there's always aspects of this
that we can
that we can
that we can
improve
improve
improve
I think what we've proven so far
I think what we've proven so far
I think what we've proven so far
and and what we've coupled with cut 40
and and what we've coupled with cut 40
and and what we've coupled with cut 40
into cup 21
into cup 21
into cup 21
is at a point where
is at a point where
is at a point where
like I don't think we need to do more
like I don't think we need to do more
like I don't think we need to do more
experimentation with it
experimentation with it
experimentation with it
to try actually using it in some in
to try actually using it in some in
to try actually using it in some in
use cases so
use cases so
use cases so
yeah I don't think this needs to be
yeah I don't think this needs to be
yeah I don't think this needs to be
blocked on more experimentation great
yeah like I think
yeah like I think
like with the
like with the
like with the
at this point we're probably not going
at this point we're probably not going
at this point we're probably not going
to be blocked on on the actual cap
to be blocked on on the actual cap
to be blocked on on the actual cap
itself like in terms of
itself like in terms of
itself like in terms of
from a technical standpoint I think it
from a technical standpoint I think it
from a technical standpoint I think it
makes
it's more of a available of more like
it's more of a available of more like
prioritization and is that like do we
prioritization and is that like do we
prioritization and is that like do we
want to accept this now because we
want to accept this now because we
want to accept this now because we
typically what we want to do is that we
typically what we want to do is that we
typically what we want to do is that we
we don't want to accept the cap that is
we don't want to accept the cap that is
we don't want to accept the cap that is
going to linger for a year or whatever
going to linger for a year or whatever
going to linger for a year or whatever
so
so
so
so it's like I think
so it's like I think
so it's like I think
what I would like to see is either like
what I would like to see is either like
what I would like to see is either like
and that's a you know appealing to the
and that's a you know appealing to the
and that's a you know appealing to the
ecosystem like
ecosystem like
ecosystem like
like people you know
like people you know
like people you know
coming forward
coming forward
coming forward
you know if they are really interested
you know if they are really interested
you know if they are really interested
in this or we're going to have to
in this or we're going to have to
in this or we're going to have to
find
find
find
somebody
somebody
somebody
identify ourselves somebody in the
identify ourselves somebody in the
identify ourselves somebody in the
ecosystem
ecosystem
ecosystem
so that that would be my
so that that would be my
so that that would be my
and that's I think it's going to be kind
and that's I think it's going to be kind
and that's I think it's going to be kind
of the
of the
of the
the next step for this one I mean i
the next step for this one I mean i
the next step for this one I mean i
think in in terms of timing like you
think in in terms of timing like you
think in in terms of timing like you
it's it's you know you need to kind of
it's it's you know you need to kind of
it's it's you know you need to kind of
accept the cap sometimes in order to
accept the cap sometimes in order to
accept the cap sometimes in order to
attract the users right and if you look
attract the users right and if you look
attract the users right and if you look
at you know like obviously we've had
at you know like obviously we've had
at you know like obviously we've had
things like multiplex accounts where
things like multiplex accounts where
things like multiplex accounts where
you know it's been a long road but it
you know it's been a long road but it
you know it's been a long road but it
seems like there's like valid use cases
seems like there's like valid use cases
seems like there's like valid use cases
and so people are gonna be quite
and so people are gonna be quite
and so people are gonna be quite
happy to have it in the long run
happy to have it in the long run
happy to have it in the long run
I think it's definitely the same thing
I think it's definitely the same thing
I think it's definitely the same thing
in this because it like fundamentally
in this because it like fundamentally
in this because it like fundamentally
adds new capabilities that people
adds new capabilities that people
adds new capabilities that people
haven't thinking of things like you know
haven't thinking of things like you know
haven't thinking of things like you know
in addition to payment channels right
in addition to payment channels right
in addition to payment channels right
this also allows like new forms of
this also allows like new forms of
this also allows like new forms of
account recovery and things like that
account recovery and things like that
account recovery and things like that
and but the thing that's
and but the thing that's
and but the thing that's
the thing about this cap is that
the thing about this cap is that
the thing about this cap is that
it could be that we need it in like a
it could be that we need it in like a
it could be that we need it in like a
big hurry right like it could be that
big hurry right like it could be that
big hurry right like it could be that
you know it turns out some new use case
you know it turns out some new use case
you know it turns out some new use case
comes along that is like super popular
comes along that is like super popular
comes along that is like super popular
and
and
and
requires like fairly high
requires like fairly high
requires like fairly high
transactional throughput and
transactional throughput and
transactional throughput and



and so
and so
and so
once something is in core then it's like
once something is in core then it's like
once something is in core then it's like
you know people can update the
you know people can update the
you know people can update the
applications to work on it much faster
applications to work on it much faster
applications to work on it much faster
but the cycle is such that you know if
but the cycle is such that you know if
but the cycle is such that you know if
some amazing use case came along and
some amazing use case came along and
some amazing use case came along and
then had kind of explosive growth that
then had kind of explosive growth that
then had kind of explosive growth that
that required payment channels it would
that required payment channels it would
that required payment channels it would
that project would basically die if it
that project would basically die if it
that project would basically die if it
had to wait for it to like go through
had to wait for it to like go through
had to wait for it to like go through
the Stellar core release process so i
the Stellar core release process so i
the Stellar core release process so i
think we should
think we should
think we should
get a version of this
get a version of this
get a version of this



deployed into core where
deployed into core where
deployed into core where
and you know if we have to revise it you
and you know if we have to revise it you
and you know if we have to revise it you
know it's it's it's a union right we can
know it's it's it's a union right we can
know it's it's it's a union right we can
have
have
have
a subsequent version of this but it's
a subsequent version of this but it's
a subsequent version of this but it's
better to have something out there
better to have something out there
better to have something out there
current
current
current
the things that you have to do to
the things that you have to do to
the things that you have to do to
compensate for not having this range
compensate for not having this range
compensate for not having this range
from it's impossible like the account
from it's impossible like the account
from it's impossible like the account
recovery stuff is like
recovery stuff is like
recovery stuff is like
basically like almost impossible to like
basically like almost impossible to like
basically like almost impossible to like
you need like a huge number of like just
you need like a huge number of like just
you need like a huge number of like just
extra accounts to each have their own
extra accounts to each have their own
extra accounts to each have their own
sequence number and stuff and it's just
sequence number and stuff and it's just
sequence number and stuff and it's just
like
so I have a question nico which is
so I have a question nico which is
how do you estimate the cost of
how do you estimate the cost of
how do you estimate the cost of
implementing this because obviously
implementing this because obviously
implementing this because obviously
there's there's tension here between
there's there's tension here between
there's there's tension here between
you know you want to see that there's
you know you want to see that there's
you know you want to see that there's
ecosystem use cases but like david says
ecosystem use cases but like david says
ecosystem use cases but like david says
if if you know if like a a monster use
if if you know if like a a monster use
if if you know if like a a monster use
case shows up and the network is not
case shows up and the network is not
case shows up and the network is not
ready
ready
ready
in time like is this is there an
in time like is this is there an
in time like is this is there an
opportunity cost here
I mean like yeah I mean it's like
I mean like yeah I mean it's like
everything else like I think we have to
everything else like I think we have to
everything else like I think we have to
go
go
go
like I think
like I think
like I think
most likely from
most likely from
most likely from
from what it looks like the changes that
from what it looks like the changes that
from what it looks like the changes that
are going to be the more
are going to be the more
are going to be the more
complicated things in as part of that
complicated things in as part of that
complicated things in as part of that
cap are probably going to be around the
cap are probably going to be around the
cap are probably going to be around the
overlay type of changes that's what
overlay type of changes that's what
overlay type of changes that's what
it looks like to me the latest change
it looks like to me the latest change
it looks like to me the latest change
should make it simpler right because
should make it simpler right because
should make it simpler right because
well you still have to do it in a safe
well you still have to do it in a safe
well you still have to do it in a safe
and efficient way and blah blah I mean
and efficient way and blah blah I mean
and efficient way and blah blah I mean
that's that's what it looks like
that's that's what it looks like
that's that's what it looks like
especially because we have the prototype
especially because we have the prototype
especially because we have the prototype
that we put together for the actual
that we put together for the actual
that we put together for the actual
implementation
implementation
implementation
to this is one part
to this is one part
to this is one part
I think the
I think the
I think the
the other part was around I think the
the other part was around I think the
the other part was around I think the
question mark on testing like the test
question mark on testing like the test
question mark on testing like the test
infrastructure that we have which is
infrastructure that we have which is
infrastructure that we have which is
kind of
kind of
kind of
broken in the in this context I'm
broken in the in this context I'm
broken in the in this context I'm
not sure exactly how much work this is
not sure exactly how much work this is
not sure exactly how much work this is
going to be I mean like to answer the
going to be I mean like to answer the
going to be I mean like to answer the
the last question
I mean it's
I mean it's
it's not the
it's not the
it's not the
cheapest cup you know we've done it's
cheapest cup you know we've done it's
cheapest cup you know we've done it's
I would probably put it as like a
I would probably put it as like a
I would probably put it as like a
you know medium in terms of like
you know medium in terms of like
you know medium in terms of like
complexity
complexity
complexity
you know whatever that means you
you know whatever that means you
you know whatever that means you
know so like if we were starting to
know so like if we were starting to
know so like if we were starting to
let's say work on this
let's say work on this
let's say work on this
like in q1 next year it would probably
like in q1 next year it would probably
like in q1 next year it would probably
be done in q1
be done in q1
be done in q1
I don't know the implications on like
I don't know the implications on like
I don't know the implications on like
the sdks and so on though like
but it looks like they are basically not
but it looks like they are basically not
like there is not a whole lot going on
like there is not a whole lot going on
like there is not a whole lot going on
there it's very similar to the change we
there it's very similar to the change we
there it's very similar to the change we
did for when we like the I think like
did for when we like the I think like
did for when we like the I think like
the
the
the
when we changed the envelope
when we changed the envelope
when we changed the envelope
before
before
before
without the actual
without the actual
without the actual
it's a little easier yeah yeah it's like
it's a little easier yeah yeah it's like
it's a little easier yeah yeah it's like
a little easier
a little easier
a little easier
because there's no max account which was
because there's no max account which was
because there's no max account which was
the the big
the the big
the the big
no mess
no mess
no mess
it's still like yeah like all the
it's still like yeah like all the
it's still like yeah like all the
sdks have to upgrade that
sdks have to upgrade that
sdks have to upgrade that
situation
situation
situation
yeah I can I can talk about the sdks a
yeah I can I can talk about the sdks a
yeah I can I can talk about the sdks a
little bit because I prototyped making
little bit because I prototyped making
little bit because I prototyped making
them change the core horizon and then
them change the core horizon and then
them change the core horizon and then
the sdks and I obviously took shortcuts
the sdks and I obviously took shortcuts
the sdks and I obviously took shortcuts
around testing but
around testing but
around testing but
the
the
the
the sdk part was very very
the sdk part was very very
the sdk part was very very
straightforward actually so I think
straightforward actually so I think
straightforward actually so I think
there'll be very little
there'll be very little
there'll be very little
it'll be a lot easier than when we
it'll be a lot easier than when we
it'll be a lot easier than when we
introduce the envelope a lot easier
introduce the envelope a lot easier
introduce the envelope a lot easier
than when we introduced must accounts
than when we introduced must accounts
than when we introduced must accounts



and I think even the core changes were
and I think even the core changes were
and I think even the core changes were
relatively
relatively
relatively
straightforward in terms of when you
straightforward in terms of when you
straightforward in terms of when you
just focus on the functionality
just focus on the functionality
just focus on the functionality
but then it definitely got a bit fuzzy
but then it definitely got a bit fuzzy
but then it definitely got a bit fuzzy
when
when
when
trying to figure out how to how how
trying to figure out how to how how
trying to figure out how to how how
to test this in the existing test tests
to test this in the existing test tests
to test this in the existing test tests
and
and
and
I'm not that's familiar with the
I'm not that's familiar with the
I'm not that's familiar with the
style called codebase so it was
style called codebase so it was
style called codebase so it was
definitely challenging so i
definitely challenging so i
definitely challenging so i
I think that's probably right too and
I think that's probably right too and
I think that's probably right too and
then I think in horizon
then I think in horizon
then I think in horizon



the
the
the
horizon has this transaction queue
horizon has this transaction queue
horizon has this transaction queue
where you submit transactions they go
where you submit transactions they go
where you submit transactions they go
into a transaction queue they get
into a transaction queue they get
into a transaction queue they get
ordered by sequence number
ordered by sequence number
ordered by sequence number
and then gets submitted when that
and then gets submitted when that
and then gets submitted when that
sequence number is ready to be processed
sequence number is ready to be processed
sequence number is ready to be processed
so it allows
so it allows
so it allows
people in the ecosystem who are using
people in the ecosystem who are using
people in the ecosystem who are using
horizon just submit transactions in any
horizon just submit transactions in any
horizon just submit transactions in any
order and horizon just sort of smooths
order and horizon just sort of smooths
order and horizon just sort of smooths
that experience over for them and i
that experience over for them and i
that experience over for them and i
think there is some you know a little
think there is some you know a little
think there is some you know a little
bit of work to do there to to make that
bit of work to do there to to make that
bit of work to do there to to make that
work with min sequence numbers
work with min sequence numbers
work with min sequence numbers



but other than that the rest of the
but other than that the rest of the
but other than that the rest of the
horizon changes were pretty
horizon changes were pretty
horizon changes were pretty
straightforward as well
something that I want to mention too is
something that I want to mention too is



see nico was
see nico was
see nico was
like appealing to the ecosystem like
like appealing to the ecosystem like
like appealing to the ecosystem like
we want to find out what use cases
we want to find out what use cases
we want to find out what use cases
people have
people have
people have
for this you know we've got
for this you know we've got
for this you know we've got
meridian coming up in
meridian coming up in
meridian coming up in
soon and we are going to be talking
soon and we are going to be talking
soon and we are going to be talking
about
about
about
cat 21 cap 40 payment channels how it
cat 21 cap 40 payment channels how it
cat 21 cap 40 payment channels how it
actually works there
actually works there
actually works there
and we will talk about you know the
and we will talk about you know the
and we will talk about you know the
performance
performance
performance
we should have the performance
we should have the performance
we should have the performance
experiments done by them as well so
experiments done by them as well so
experiments done by them as well so



if that's something
if that's something
if that's something
that's probably like
that's probably like
that's probably like
worth watching
so it seems like where that leads us is
so it seems like where that leads us is
technically this cap feels sound
technically this cap feels sound
technically this cap feels sound
there are further experiments that are
there are further experiments that are
there are further experiments that are
happening to test performance issues
happening to test performance issues
happening to test performance issues
there's a question of whether or not
there's a question of whether or not
there's a question of whether or not
we should prioritize implementation of
we should prioritize implementation of
we should prioritize implementation of
it
it
it
that we can try to figure out offline
that we can try to figure out offline
that we can try to figure out offline
and
and
and
we would love to hear from people in the
we would love to hear from people in the
we would love to hear from people in the
ecosystem
ecosystem
ecosystem
about any use cases because that would
about any use cases because that would
about any use cases because that would
definitely help identify this as a
definitely help identify this as a
definitely help identify this as a
priority although it's not necessary
priority although it's not necessary
priority although it's not necessary
that we hear that but we'd love to hear
that we hear that but we'd love to hear
that we hear that but we'd love to hear
from anyone who might want to use this
from anyone who might want to use this
from anyone who might want to use this
and finally there will be more info on
and finally there will be more info on
and finally there will be more info on
this at meridian which is a good time to
this at meridian which is a good time to
this at meridian which is a good time to
learn more out there and also possibly
learn more out there and also possibly
learn more out there and also possibly
come to us with some idea of how you
come to us with some idea of how you
come to us with some idea of how you
might use this does that all sound
might use this does that all sound
might use this does that all sound
correct
correct
correct
yeah but you know it's also like
yeah but you know it's also like
yeah but you know it's also like
this isn't also an insurance policy
this isn't also an insurance policy
this isn't also an insurance policy
right you don't go around like asking
right you don't go around like asking
right you don't go around like asking
people like you know what are your use
people like you know what are your use
people like you know what are your use
cases for insurance or whatever right
cases for insurance or whatever right
cases for insurance or whatever right
like
like
like



so yeah no I understand I don't know i
so yeah no I understand I don't know i
so yeah no I understand I don't know i
don't think it's necessary right I don't
don't think it's necessary right I don't
don't think it's necessary right I don't
think that it has to be the sole
think that it has to be the sole
think that it has to be the sole
criteria to make us decide how to
criteria to make us decide how to
criteria to make us decide how to
prioritize this but if someone is like i
prioritize this but if someone is like i
prioritize this but if someone is like i
know what I need this for and they told
know what I need this for and they told
know what I need this for and they told
us that would be helpful right
yeah but I don't think it's that's a
yeah but I don't think it's that's a
good reason to delay accepting it today
yeah I mean just like procedurally
yeah I mean just like procedurally
you're gonna get more data you're always
you're gonna get more data you're always
you're gonna get more data you're always
gonna get more information by delaying
gonna get more information by delaying
gonna get more information by delaying
until it's too late
I mean I think procedurally we there's
I mean I think procedurally we there's
one person jed couldn't make it today
one person jed couldn't make it today
one person jed couldn't make it today
and so I think that actual acceptance
and so I think that actual acceptance
and so I think that actual acceptance
would have to happen asynchronously
would have to happen asynchronously
would have to happen asynchronously
offline
offline
offline



and so
and so
and so
for me I think the takeaway is
for me I think the takeaway is
for me I think the takeaway is
that we should put it in front of the
that we should put it in front of the
that we should put it in front of the
cap committee
cap committee
cap committee
and see see what you guys
and see see what you guys
and see see what you guys
think about accepting that's that's kind
think about accepting that's that's kind
think about accepting that's that's kind
of where I'm at I don't know
any objections to that plan
any objections to that plan
and cap 40 as well
and cap 40 as well
and cap 40 as well
because yeah and so I guess only
because yeah and so I guess only
because yeah and so I guess only
objection to cap 40 was the cap 21
objection to cap 40 was the cap 21
objection to cap 40 was the cap 21
hadn't been accepted yet so that's
hadn't been accepted yet so that's
hadn't been accepted yet so that's
correct
correct
correct
we should people should go on record
we should people should go on record
we should people should go on record
now as having any suggestions for cap 40
now as having any suggestions for cap 40
now as having any suggestions for cap 40
or we should move forward with that one
or we should move forward with that one
or we should move forward with that one
as well
no no it should it should move
no no it should it should move
with at the same time
okay cool well then I think the next the
okay cool well then I think the next the
follow-up action is to
follow-up action is to
follow-up action is to
basically put both of those and say hey
basically put both of those and say hey
basically put both of those and say hey
cap committee
cap committee
cap committee
take a look
take a look
take a look
and see if they get approved
and see if they get approved
and see if they get approved
which we can do
which we can do
which we can do
asynchronously
asynchronously
asynchronously
is there anything else are we done for
is there anything else are we done for
is there anything else are we done for
the day
I take that silences awesome well once
I take that silences awesome well once
again thanks everybody for joining
again thanks everybody for joining
again thanks everybody for joining
thanks so much for everyone watching and
thanks so much for everyone watching and
thanks so much for everyone watching and
again please make sure that you prepare
again please make sure that you prepare
again please make sure that you prepare
for the protocol 18 upgrade the vote is
for the protocol 18 upgrade the vote is
for the protocol 18 upgrade the vote is
on tuesday november or wednesday
on tuesday november or wednesday
on tuesday november or wednesday
november 3rd so install up-to-date
november 3rd so install up-to-date
november 3rd so install up-to-date
software before then
software before then
software before then
and yeah if you have anything exciting
and yeah if you have anything exciting
and yeah if you have anything exciting
to say about payment channels make sure
to say about payment channels make sure
to say about payment channels make sure
to join the discussion or check in with
to join the discussion or check in with
to join the discussion or check in with
us
us
us



because we would love to know about use
because we would love to know about use
because we would love to know about use
cases that this would enable
cases that this would enable
cases that this would enable
and we will see you
and we will see you
and we will see you
next time and at meridian thanks
next time and at meridian thanks
next time and at meridian thanks
everybody
