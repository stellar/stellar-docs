hello everyone and welcome to the
hello everyone and welcome to the
Stellar open protocol discussion
Stellar open protocol discussion
Stellar open protocol discussion
so for those of you who are watching
so for those of you who are watching
so for those of you who are watching
just a quick reminder the goal of these
just a quick reminder the goal of these
just a quick reminder the goal of these
meetings is to talk about and plan for
meetings is to talk about and plan for
meetings is to talk about and plan for
changes to upcoming versions of the
changes to upcoming versions of the
changes to upcoming versions of the
Stellar protocol and so we go over
Stellar protocol and so we go over
Stellar protocol and so we go over
core advancement proposals or caps
core advancement proposals or caps
core advancement proposals or caps
these are open source specs they
these are open source specs they
these are open source specs they
describe new features designed to evolve
describe new features designed to evolve
describe new features designed to evolve
the protocol
the protocol
the protocol
to meet ecosystem needs so caps go
to meet ecosystem needs so caps go
to meet ecosystem needs so caps go
through a rigorous process before
through a rigorous process before
through a rigorous process before
they're actually implemented in Stellar
they're actually implemented in Stellar
they're actually implemented in Stellar
core and then put forward for a
core and then put forward for a
core and then put forward for a
validator vote
validator vote
validator vote
in in a new protocol version and so
in in a new protocol version and so
in in a new protocol version and so
before the network upgrades
before the network upgrades
before the network upgrades
validators they have to agree to accept
validators they have to agree to accept
validators they have to agree to accept
that new version of the protocol that
that new version of the protocol that
that new version of the protocol that
actually
actually
actually
includes the implemented change this
includes the implemented change this
includes the implemented change this
meeting is just a part of that process
meeting is just a part of that process
meeting is just a part of that process
right it's where people raise questions
right it's where people raise questions
right it's where people raise questions
and dig into technical details and work
and dig into technical details and work
and dig into technical details and work
together to think through proposals and
together to think through proposals and
together to think through proposals and
we're definitely we're broadcasting it
we're definitely we're broadcasting it
we're definitely we're broadcasting it
so that you can all everyone out there
so that you can all everyone out there
so that you can all everyone out there
can see the gears turning but I also
can see the gears turning but I also
can see the gears turning but I also
want to say there's a complimentary
want to say there's a complimentary
want to say there's a complimentary
asynchronous discussion on the Stellar
asynchronous discussion on the Stellar
asynchronous discussion on the Stellar
dev mailing list
dev mailing list
dev mailing list
and we encourage anyone who has thoughts
and we encourage anyone who has thoughts
and we encourage anyone who has thoughts
about changes to the protocol to join
about changes to the protocol to join
about changes to the protocol to join
that mailing list and participate in the
that mailing list and participate in the
that mailing list and participate in the
discussion
discussion
discussion
there's a link to it in the event
there's a link to it in the event
there's a link to it in the event
description I'm going to talk about more
description I'm going to talk about more
description I'm going to talk about more
in a second
in a second
in a second
but first I just want to say last
but first I just want to say last
but first I just want to say last
meeting we started talking about two
meeting we started talking about two
meeting we started talking about two
similar proposals
similar proposals
similar proposals
cap 37 and cap 38 both of which suggest
cap 37 and cap 38 both of which suggest
cap 37 and cap 38 both of which suggest
a method to introduce automated market
a method to introduce automated market
a method to introduce automated market
makers at the protocol levels
makers at the protocol levels
makers at the protocol levels
so automated market makers amms they
so automated market makers amms they
so automated market makers amms they
allow the creation of liquidity pools
allow the creation of liquidity pools
allow the creation of liquidity pools
which are simple and non-interactive
which are simple and non-interactive
which are simple and non-interactive
and which can attract large amounts of
and which can attract large amounts of
and which can attract large amounts of
capital and enable high volumes of
capital and enable high volumes of
capital and enable high volumes of
trading
trading
trading
so they're so they're a simple way to
so they're so they're a simple way to
so they're so they're a simple way to
provide the liquidity that's necessary
provide the liquidity that's necessary
provide the liquidity that's necessary
for asset exchange
for asset exchange
for asset exchange
and that's the goal here right to
and that's the goal here right to
and that's the goal here right to
implement the change to the Stellar
implement the change to the Stellar
implement the change to the Stellar
protocol
protocol
protocol
aimed at improving overall network
aimed at improving overall network
aimed at improving overall network
liquidity so
liquidity so
liquidity so
today we're going to continue the
today we're going to continue the
today we're going to continue the
discussion about amms that kicked off
discussion about amms that kicked off
discussion about amms that kicked off
about a month ago on the Stellar dev
about a month ago on the Stellar dev
about a month ago on the Stellar dev
mailing list
mailing list
mailing list
this is a technical discussion so if you
this is a technical discussion so if you
this is a technical discussion so if you
want to follow along I suggest reading
want to follow along I suggest reading
want to follow along I suggest reading
the caps both of them
the caps both of them
the caps both of them
and the recent developer mailing list
and the recent developer mailing list
and the recent developer mailing list
threads about them which are linked to
threads about them which are linked to
threads about them which are linked to
in the event description
in the event description
in the event description
so one thing I just want to mention real
so one thing I just want to mention real
so one thing I just want to mention real
quick is that this morning OrbitLens
quick is that this morning OrbitLens
quick is that this morning OrbitLens
who is the author of top 37 and who
who is the author of top 37 and who
who is the author of top 37 and who
unfortunately can't be here today i
unfortunately can't be here today i
unfortunately can't be here today i
don't think
don't think
don't think
he did raise some issues about the
he did raise some issues about the
he did raise some issues about the
ongoing amen discussion in a blog post
ongoing amen discussion in a blog post
ongoing amen discussion in a blog post
and there's a lot there I don't think
and there's a lot there I don't think
and there's a lot there I don't think
anyone here has had a chance to fully
anyone here has had a chance to fully
anyone here has had a chance to fully
process it quite yet
process it quite yet
process it quite yet
but I imagine that people will have
but I imagine that people will have
but I imagine that people will have
thoughts and what makes sense to me is
thoughts and what makes sense to me is
thoughts and what makes sense to me is
to discuss the points he raises on that
to discuss the points he raises on that
to discuss the points he raises on that
Stellar dev google group I mentioned
Stellar dev google group I mentioned
Stellar dev google group I mentioned
earlier
earlier
earlier
that way we can sort of discuss things
that way we can sort of discuss things
that way we can sort of discuss things
in a public forum that's set up for
in a public forum that's set up for
in a public forum that's set up for
participation rather than
participation rather than
participation rather than
trading blogs back and forth the key
trading blogs back and forth the key
trading blogs back and forth the key
point we are currently discussing these
point we are currently discussing these
point we are currently discussing these
ideas
ideas
ideas
we haven't settled on the best
we haven't settled on the best
we haven't settled on the best
implementations for bringing amunds to
implementations for bringing amunds to
implementations for bringing amunds to
Stellar
Stellar
Stellar
and we'd really love to hear the
and we'd really love to hear the
and we'd really love to hear the
concerns folks have on the mailing list
concerns folks have on the mailing list
concerns folks have on the mailing list
where we're working together to find the
where we're working together to find the
where we're working together to find the
design that serves users
design that serves users
design that serves users
so here's where we are right now okay
so here's where we are right now okay
so here's where we are right now okay
the last meeting we talked about
the last meeting we talked about
the last meeting we talked about
a few things mostly in the context of
a few things mostly in the context of
a few things mostly in the context of
cap 38 we talked about liquidity pool
cap 38 we talked about liquidity pool
cap 38 we talked about liquidity pool
reserve requirements
reserve requirements
reserve requirements
the relationship between the decks and
the relationship between the decks and
the relationship between the decks and
amms whether to allow pool parameters to
amms whether to allow pool parameters to
amms whether to allow pool parameters to
be updated
be updated
be updated
and whether or not to support multiple
and whether or not to support multiple
and whether or not to support multiple
pools for the same asset pair
pools for the same asset pair
pools for the same asset pair
now there are still open questions about
now there are still open questions about
now there are still open questions about
all those things right an ongoing
all those things right an ongoing
all those things right an ongoing
discussion
discussion
discussion
again on that Stellar dev mailing list
again on that Stellar dev mailing list
again on that Stellar dev mailing list
but today we're actually going to
but today we're actually going to
but today we're actually going to
focus on something a little different
focus on something a little different
focus on something a little different
it's another question
it's another question
it's another question
that needs to be answered by any amm
that needs to be answered by any amm
that needs to be answered by any amm
design basically asset authorization and
design basically asset authorization and
design basically asset authorization and
revocation
revocation
revocation
how that fits into amms so siddharth
how that fits into amms so siddharth
how that fits into amms so siddharth
in the cap 38 thread you suggested two
in the cap 38 thread you suggested two
in the cap 38 thread you suggested two
different models for handling
different models for handling
different models for handling
handling authorization and replication
handling authorization and replication
handling authorization and replication
and I'm just wondering if to start us
and I'm just wondering if to start us
and I'm just wondering if to start us
off you can sort of
off you can sort of
off you can sort of
walk through that those two models
walk through that those two models
walk through that those two models
briefly and kind of outline the pros and
briefly and kind of outline the pros and
briefly and kind of outline the pros and
cons of each
cons of each
cons of each
yeah of course yeah so i'll go over
yeah of course yeah so i'll go over
yeah of course yeah so i'll go over
two approaches for authorication
two approaches for authorication
two approaches for authorication
and forcing a redeem of the pool shares
and forcing a redeem of the pool shares
and forcing a redeem of the pool shares
back to the owner
back to the owner
back to the owner
so in the first approach revoking
so in the first approach revoking
so in the first approach revoking
authorization
authorization
authorization
on either an asset trust line
on either an asset trust line
on either an asset trust line
will redeem all pool shares that that
will redeem all pool shares that that
will redeem all pool shares that that
trust line astrus line
trust line astrus line
trust line astrus line
has a balance in so this will also
has a balance in so this will also
has a balance in so this will also
require us to first make sure that acid
require us to first make sure that acid
require us to first make sure that acid
trust lines cannot be deleted while they
trust lines cannot be deleted while they
trust lines cannot be deleted while they
have a balance in the pool
have a balance in the pool
have a balance in the pool
and we'll make the data layer more
and we'll make the data layer more
and we'll make the data layer more
complex with additional queries and
complex with additional queries and
complex with additional queries and
indexes for the lookup
indexes for the lookup
indexes for the lookup
because we have to look up all the pull
because we have to look up all the pull
because we have to look up all the pull
trust lines and pools
trust lines and pools
trust lines and pools
the good thing about this approach is
the good thing about this approach is
the good thing about this approach is
that it works like author revocation
that it works like author revocation
that it works like author revocation
with offers
with offers
with offers
so no additional steps are required when
so no additional steps are required when
so no additional steps are required when
an issuer issuer
an issuer issuer
an issuer issuer
is regulating a specific asset the
is regulating a specific asset the
is regulating a specific asset the
second approach
second approach
second approach
is a little different the way it works
is a little different the way it works
is a little different the way it works
is that an issue where an asset can
is that an issue where an asset can
is that an issue where an asset can
in a pool can revoke off on the pull
in a pool can revoke off on the pull
in a pool can revoke off on the pull
trust line instead of the asset trust
trust line instead of the asset trust
trust line instead of the asset trust
line to redeem shares held by the pool
line to redeem shares held by the pool
line to redeem shares held by the pool
trust
trust
trust
line so any any issuer
line so any any issuer
line so any any issuer
of any of the assets in a pool can do
of any of the assets in a pool can do
of any of the assets in a pool can do
this
this
this
and then once that happens the the
and then once that happens the the
and then once that happens the the
pool shares held by that pool trust sign
pool shares held by that pool trust sign
pool shares held by that pool trust sign
will be redeemed back to the owner
will be redeemed back to the owner
will be redeemed back to the owner
this approach will require the issuer to
this approach will require the issuer to
this approach will require the issuer to
look up all pool trust lines that I want
look up all pool trust lines that I want
look up all pool trust lines that I want
to revoke off from
to revoke off from
to revoke off from
which isn't that big of a deal but
which isn't that big of a deal but
which isn't that big of a deal but
the bigger issue we we
the bigger issue we we
the bigger issue we we
wanted to address is that the issuer
wanted to address is that the issuer
wanted to address is that the issuer
will also need to be aware of the
will also need to be aware of the
will also need to be aware of the
additional step during authorication
additional step during authorication
additional step during authorication
because now that not only do you have to
because now that not only do you have to
because now that not only do you have to
revoke off in the asset trust line but
revoke off in the asset trust line but
revoke off in the asset trust line but
you may need to be
you may need to be
you may need to be
you may need to broke off from the pull
you may need to broke off from the pull
you may need to broke off from the pull
trust line so john had an idea here
trust line so john had an idea here
trust line so john had an idea here
to require the issuer to opt in
to require the issuer to opt in
to require the issuer to opt in
to liquidity pools so once using
to liquidity pools so once using
to liquidity pools so once using
an
an
an
authorization flag on the using the
authorization flag on the using the
authorization flag on the using the
account flag
account flag
account flag
so once that happens then the issuer
so once that happens then the issuer
so once that happens then the issuer
should be aware of nuances related to
should be aware of nuances related to
should be aware of nuances related to
liquidity pools
liquidity pools
liquidity pools
the nice thing about this approach is
the nice thing about this approach is
the nice thing about this approach is
that it's simple to implement doesn't
that it's simple to implement doesn't
that it's simple to implement doesn't
require changes in the data layer
require changes in the data layer
require changes in the data layer
the current cat38 proposal takes the
the current cat38 proposal takes the
the current cat38 proposal takes the
second approach but we should
second approach but we should
second approach but we should
obviously get some thoughts on this and
obviously get some thoughts on this and
obviously get some thoughts on this and
see if
see if
see if
if that's what we want to finalize on
one thing i'll tack on to what's it
one thing i'll tack on to what's it
earth side is an idea from
earth side is an idea from
earth side is an idea from
nikola that perhaps this opt-in behavior
nikola that perhaps this opt-in behavior
nikola that perhaps this opt-in behavior
for for liquidity pool should only apply
for for liquidity pool should only apply
for for liquidity pool should only apply
to the assets that are
to the assets that are
to the assets that are
already authorization required this
already authorization required this
already authorization required this
was also discussed on the mailing list
was also discussed on the mailing list
was also discussed on the mailing list
but I think this is an
but I think this is an
but I think this is an
interesting an interesting addition
interesting an interesting addition
interesting an interesting addition
because you know
because you know
because you know
if you're not off required then there's
if you're not off required then there's
if you're not off required then there's
no concerns about revoking stuff anyway
no concerns about revoking stuff anyway
no concerns about revoking stuff anyway
really
really
really
and in that kind of a setting
and in that kind of a setting
and in that kind of a setting
I think the majority of the assets on
I think the majority of the assets on
I think the majority of the assets on
the network are not authorization
the network are not authorization
the network are not authorization
required and so
required and so
required and so
most things would just kind of
most things would just kind of
most things would just kind of
transition seamlessly
transition seamlessly
transition seamlessly
which I think is a cool advantage but i
which I think is a cool advantage but i
which I think is a cool advantage but i
think there are some pros and cons to
think there are some pros and cons to
think there are some pros and cons to
that
I mean is it worth just outlining the
I mean is it worth just outlining the
pros and cons to that
I mean I think the major con is that
I mean I think the major con is that
it's just
it's just
it's just
more complicated like when you're trying
more complicated like when you're trying
more complicated like when you're trying
to figure out
to figure out
to figure out
what's gonna what's gonna happen
what's gonna what's gonna happen
what's gonna what's gonna happen
basically it's like okay I have to look
basically it's like okay I have to look
basically it's like okay I have to look
at this flag but I also have to pair it
at this flag but I also have to pair it
at this flag but I also have to pair it
up against this other flag
up against this other flag
up against this other flag
and I think that's kind of the major
and I think that's kind of the major
and I think that's kind of the major
thing like oh you know I'm looking at
thing like oh you know I'm looking at
thing like oh you know I'm looking at
some asset can i
some asset can i
some asset can i
can I put it in a liquidity pool it's
can I put it in a liquidity pool it's
can I put it in a liquidity pool it's
not as obvious in that case
not as obvious in that case
not as obvious in that case
so I think that that's probably
so I think that that's probably
so I think that that's probably
the biggest
the biggest
the biggest
drawback of that kind of an additional
drawback of that kind of an additional
drawback of that kind of an additional
step and I think lee was trying to say
step and I think lee was trying to say
step and I think lee was trying to say
something a second ago so I'm gonna let
something a second ago so I'm gonna let
something a second ago so I'm gonna let
him jump in
him jump in
him jump in
yeah sorry I wasn't I was muted
yeah sorry I wasn't I was muted
yeah sorry I wasn't I was muted
how would it work if you
how would it work if you
how would it work if you
if the asset was not auth required but
if the asset was not auth required but
if the asset was not auth required but
then the issuer decided to enable
then the issuer decided to enable
then the issuer decided to enable
author required
in terms of the ability to participate
in terms of the ability to participate
in pools so like when adding auth
in pools so like when adding auth
in pools so like when adding auth
required would the
required would the
required would the
issuer need to also indicate that the
issuer need to also indicate that the
issuer need to also indicate that the
asset can continue to be used in pools
asset can continue to be used in pools
asset can continue to be used in pools
it's an open question that I hadn't
it's an open question that I hadn't
it's an open question that I hadn't
even considered yet
even considered yet
even considered yet
so it's a it's a good question I think
so it's a it's a good question I think
so it's a it's a good question I think
that that's another aspect of the
that that's another aspect of the
that that's another aspect of the
complexity
complexity
complexity
of all of this here ideally the way i
of all of this here ideally the way i
of all of this here ideally the way i
would kind of
would kind of
would kind of
like it to work is that you these
like it to work is that you these
like it to work is that you these
these things kind of work like
these things kind of work like
these things kind of work like
like what's it called the same way
like what's it called the same way
like what's it called the same way
that auth required works today which is
that auth required works today which is
that auth required works today which is
that as i've said many times the name is
that as i've said many times the name is
that as i've said many times the name is
very
very
very
very kind of misleading and it's really
very kind of misleading and it's really
very kind of misleading and it's really
more like what's your default
more like what's your default
more like what's your default
authorization state
authorization state
authorization state
and the liquidity pools thing could
and the liquidity pools thing could
and the liquidity pools thing could
work the same kind of way where it's
work the same kind of way where it's
work the same kind of way where it's
like what's the default authorization
like what's the default authorization
like what's the default authorization
state for a newly created pool share
state for a newly created pool share
state for a newly created pool share
trust line
and so then it could be like the default
and so then it could be like the default
state is equal to
state is equal to
state is equal to
the or of is this flag explicitly set
the or of is this flag explicitly set
the or of is this flag explicitly set
and the not of auth required
yeah I think where the reason I ask it
yeah I think where the reason I ask it
is because I think like we're trying to
is because I think like we're trying to
is because I think like we're trying to
we're talking about adding that to make
we're talking about adding that to make
we're talking about adding that to make
it less of a foot gun
it less of a foot gun
it less of a foot gun
for people to for issues
for people to for issues
for people to for issues
to not have to know about how liquidity
to not have to know about how liquidity
to not have to know about how liquidity
pools work
pools work
pools work
if they're already off required but then
if they're already off required but then
if they're already off required but then
the flip is true the flip side
the flip is true the flip side
the flip is true the flip side
is that for an asset that's not all
is that for an asset that's not all
is that for an asset that's not all
required
required
required
and that issue doesn't know about
and that issue doesn't know about
and that issue doesn't know about
liquidity pools if they suddenly
liquidity pools if they suddenly
liquidity pools if they suddenly
make it was required
make it was required
make it was required
then they need to know about that flag
if yeah if they're already allowing
if yeah if they're already allowing
liquidity pools to use
so do we have any assets that are
so do we have any assets that are
that are auth immutable but not auth
that are auth immutable but not auth
that are auth immutable but not auth
required because if so it seems like
required because if so it seems like
required because if so it seems like
you'll be kind of unfortunate if you
you'll be kind of unfortunate if you
you'll be kind of unfortunate if you
couldn't use those in amms
no they see nobody does that
no they see nobody does that
nobody says I promise I'm not going to
nobody says I promise I'm not going to
nobody says I promise I'm not going to
revoke this asset I'm going to make it
revoke this asset I'm going to make it
revoke this asset I'm going to make it
off immutable
off immutable
off immutable
because that seems like the primary
because that seems like the primary
because that seems like the primary
point of off immutable is to like
point of off immutable is to like
point of off immutable is to like
promise that you're not going to
promise that you're not going to
promise that you're not going to
suddenly turn on off
suddenly turn on off
suddenly turn on off
the required flag right I mean like we
the required flag right I mean like we
the required flag right I mean like we
have
have
have
the like to me the we and I think i
the like to me the we and I think i
the like to me the we and I think i
mentioned that on the main english the
mentioned that on the main english the
mentioned that on the main english the
degenerate case of this is actually the
degenerate case of this is actually the
degenerate case of this is actually the
xlm right it's basically a
xlm right it's basically a
xlm right it's basically a
are not required immutable so I think
are not required immutable so I think
are not required immutable so I think
in my mind it has to work the same way
in my mind it has to work the same way
in my mind it has to work the same way
right for accident this is what this you
right for accident this is what this you
right for accident this is what this you
know
know
know
you know this type of assets and those
you know this type of assets and those
you know this type of assets and those
type of assets I think we want
type of assets I think we want
type of assets I think we want
to have them on the network they are
to have them on the network they are
to have them on the network they are
basically like the
basically like the
basically like the
the purest from a
the purest from a
the purest from a
you know crypto asset point of view
tomer it's my understanding that like
tomer it's my understanding that like
the auth immutable flag in general is
the auth immutable flag in general is
the auth immutable flag in general is
just like not highly used
just like not highly used
just like not highly used
perhaps not really anybody is using it
perhaps not really anybody is using it
perhaps not really anybody is using it
at all under any circumstances
at all under any circumstances
at all under any circumstances
what what's kind of the actual status
what what's kind of the actual status
what what's kind of the actual status
of that right now
of that right now
of that right now
yeah that's correct the author immutable
yeah that's correct the author immutable
yeah that's correct the author immutable
flag is almost
flag is almost
flag is almost
not used at all I think maybe one issue
not used at all I think maybe one issue
not used at all I think maybe one issue
where I need to look that up
where I need to look that up
where I need to look that up
but usually when issuers want to
but usually when issuers want to
but usually when issuers want to
make a statement about the asset being
make a statement about the asset being
make a statement about the asset being
locked down they actually do
locked down they actually do
locked down they actually do
the remove signature way to be something
the remove signature way to be something
the remove signature way to be something
not achievable
not achievable
not achievable
so actually my comment would apply to
so actually my comment would apply to
so actually my comment would apply to
that case too if anybody sort of
that case too if anybody sort of
that case too if anybody sort of
created non-author required assets and
created non-author required assets and
created non-author required assets and
like you know
like you know
like you know
nuked the signing weights on the
nuked the signing weights on the
nuked the signing weights on the
issuing account
issuing account
issuing account
it would be a bummer if those assets
it would be a bummer if those assets
it would be a bummer if those assets
couldn't work with the amm
couldn't work with the amm
couldn't work with the amm
if I would probably want it
if I would probably want it
if I would probably want it
you know a default on thing unless the
you know a default on thing unless the
you know a default on thing unless the
there are no such assets
there are no such assets
there are no such assets
so so the so the question is
so so the so the question is
so so the so the question is
like do we expect such assets to exist
like do we expect such assets to exist
like do we expect such assets to exist
and
and
and
you know nico said something very smart
you know nico said something very smart
you know nico said something very smart
which is like this is like the crypto
which is like this is like the crypto
which is like this is like the crypto
asset in its purest form right
asset in its purest form right
asset in its purest form right
but to some extent it's
but to some extent it's
but to some extent it's
it's somewhat of a myth and if you
it's somewhat of a myth and if you
it's somewhat of a myth and if you
look at
look at
look at
you know if you look at a lot of popular
you know if you look at a lot of popular
you know if you look at a lot of popular
tokens in like the erc20 universe
tokens in like the erc20 universe
tokens in like the erc20 universe
there there is almost no such thing as
there there is almost no such thing as
there there is almost no such thing as
an immutable
an immutable
an immutable
asset anymore like all our erc 20
asset anymore like all our erc 20
asset anymore like all our erc 20
contracts are actually proxies so that
contracts are actually proxies so that
contracts are actually proxies so that
they could be upgraded if
they could be upgraded if
they could be upgraded if
you know and if you discover like
you know and if you discover like
you know and if you discover like
malicious
malicious
malicious
you know backdoors or whatever so
you know backdoors or whatever so
you know backdoors or whatever so
you know there's almost always some sort
you know there's almost always some sort
you know there's almost always some sort
of you know oversight it might be some
of you know oversight it might be some
of you know oversight it might be some
some you know consortia via multisig
some you know consortia via multisig
some you know consortia via multisig
or something like that but
or something like that but
or something like that but
it's very rare to have you know
it's very rare to have you know
it's very rare to have you know
almost non-existent to have like assets
almost non-existent to have like assets
almost non-existent to have like assets
in it like the pure
in it like the pure
in it like the pure
you know untouchable form
you know untouchable form
you know untouchable form
and so I guess the other sort of
and so I guess the other sort of
and so I guess the other sort of
question about the current state of the
question about the current state of the
question about the current state of the
ecosystem is let's say that we
ecosystem is let's say that we
ecosystem is let's say that we
we kind of flip the polarity such
we kind of flip the polarity such
we kind of flip the polarity such
that there's a flag that's off by
that there's a flag that's off by
that there's a flag that's off by
default but you could just
default but you could just
default but you could just
as an issuer said it it says like don't
as an issuer said it it says like don't
as an issuer said it it says like don't
use this in mms or something right
use this in mms or something right
use this in mms or something right
do we think that there are any people
do we think that there are any people
do we think that there are any people
out there who
out there who
out there who
like they have an asset that they really
like they have an asset that they really
like they have an asset that they really
care that it's not used in an amm but
care that it's not used in an amm but
care that it's not used in an amm but
they sort of lack the confidence to
they sort of lack the confidence to
they sort of lack the confidence to
or awareness to set such a flag if we
or awareness to set such a flag if we
or awareness to set such a flag if we
give them like you know
give them like you know
give them like you know
a month's notice or something
I can't think of such assets because i
I can't think of such assets because i
feel like I wouldn't I want this
feel like I wouldn't I want this
feel like I wouldn't I want this
you know of course we want the mm to be
you know of course we want the mm to be
you know of course we want the mm to be
usable as widely as possible
usable as widely as possible
usable as widely as possible
and we also want to be in a position
and we also want to be in a position
and we also want to be in a position
where like we don't have people sort of
where like we don't have people sort of
where like we don't have people sort of
bitterly complaining that we pulled the
bitterly complaining that we pulled the
bitterly complaining that we pulled the
rug out from under them but
rug out from under them but
rug out from under them but
but beyond that
but beyond that
but beyond that
you know so to me that suggests we want
you know so to me that suggests we want
you know so to me that suggests we want
some kind of like the
some kind of like the
some kind of like the
default on thing basically
I mean tomer from the perspective of
I mean tomer from the perspective of
like what if we
like what if we
like what if we
so like the motivation for adding this
so like the motivation for adding this
so like the motivation for adding this
kind of
kind of
kind of
a flag in the first place it kind of
a flag in the first place it kind of
a flag in the first place it kind of
originated from this notion of like
originated from this notion of like
originated from this notion of like
what about people who who wrote some
what about people who who wrote some
what about people who who wrote some
code
code
code
and have something running on their back
and have something running on their back
and have something running on their back
end and it's you know issuing assets and
end and it's you know issuing assets and
end and it's you know issuing assets and
receiving
receiving
receiving
requests to revoke them and whatever
requests to revoke them and whatever
requests to revoke them and whatever
and
and
and
these guys they don't realize that
these guys they don't realize that
these guys they don't realize that
something has changed out from
something has changed out from
something has changed out from
underneath them and
underneath them and
underneath them and
you know people start putting stuff into
you know people start putting stuff into
you know people start putting stuff into
liquidity pools they revoke
liquidity pools they revoke
liquidity pools they revoke
but it doesn't actually really do the
but it doesn't actually really do the
but it doesn't actually really do the
job because those assets
job because those assets
job because those assets
are still in the liquidity pool they're
are still in the liquidity pool they're
are still in the liquidity pool they're
still being traded
still being traded
still being traded
do you think anybody would even care
do you think anybody would even care
do you think anybody would even care
because if nobody cares and nobody would
because if nobody cares and nobody would
because if nobody cares and nobody would
really be in this situation like this
really be in this situation like this
really be in this situation like this
isn't a problem for
isn't a problem for
isn't a problem for
it doesn't matter if this situation
it doesn't matter if this situation
it doesn't matter if this situation
might arise a year in the future if you
might arise a year in the future if you
might arise a year in the future if you
show up a year in the future
show up a year in the future
show up a year in the future
and you start doing something well i
and you start doing something well i
and you start doing something well i
expect you to know what the current
expect you to know what the current
expect you to know what the current
state of what you're doing is
state of what you're doing is
state of what you're doing is
it's only for people who already have
it's only for people who already have
it's only for people who already have
operations and if you don't think any of
operations and if you don't think any of
operations and if you don't think any of
those people would care
those people would care
those people would care
then maybe we don't have to jump through
then maybe we don't have to jump through
then maybe we don't have to jump through
any of these hoops at all
any of these hoops at all
any of these hoops at all
so I think both the both this edge case
so I think both the both this edge case
so I think both the both this edge case
and the edge case that
and the edge case that
and the edge case that
like david brought up are
like david brought up are
like david brought up are
very edgy like they're just not
very edgy like they're just not
very edgy like they're just not
I'm having a hard time thinking about
I'm having a hard time thinking about
I'm having a hard time thinking about
anyone that will actually be affected
anyone that will actually be affected
anyone that will actually be affected
by this in the ecosystem I think that
you know if we would have asked a lot of
you know if we would have asked a lot of
assets like that in the ecosystem then i
assets like that in the ecosystem then i
assets like that in the ecosystem then i
would say that david's
would say that david's
would say that david's
kind of like on by default would
kind of like on by default would
kind of like on by default would
would make
would make
would make
sense because they would probably
sense because they would probably
sense because they would probably
want to participate in these liquidity
want to participate in these liquidity
want to participate in these liquidity
pools
pools
pools
but then we'd have we'd have a
but then we'd have we'd have a
but then we'd have we'd have a
problem with the mechanics of
problem with the mechanics of
problem with the mechanics of
of how to revoke change and and kind
of how to revoke change and and kind
of how to revoke change and and kind
of like
of like
of like
you know and your point comes into play
you know and your point comes into play
you know and your point comes into play
in reality I just don't think it matters
in reality I just don't think it matters
in reality I just don't think it matters
all that much I think
all that much I think
all that much I think
I think I think what you suggest john is
I think I think what you suggest john is
I think I think what you suggest john is
probably
probably
probably
more complete in that if anyone is
more complete in that if anyone is
more complete in that if anyone is
relying on existing behavior they don't
relying on existing behavior they don't
relying on existing behavior they don't
they don't get borked when you
they don't get borked when you
they don't get borked when you
know when they try to revoke
know when they try to revoke
know when they try to revoke
you know like a new asset
you know like a new asset
you know like a new asset
you know liquidity cool stuff
you know liquidity cool stuff
you know liquidity cool stuff
yeah I just don't think it matters all
yeah I just don't think it matters all
yeah I just don't think it matters all
that much like I vote for for what you
that much like I vote for for what you
that much like I vote for for what you
said john
said john
said john
for you know having an off
for you know having an off
for you know having an off
by default so that people know that
by default so that people know that
by default so that people know that
there's like
there's like
there's like
a special handling required
yes required or not just
yes required or not just
like in general because I think that's
like in general because I think that's
like in general because I think that's
kind of one of the distinctions we are
kind of one of the distinctions we are
kind of one of the distinctions we are
trying to
trying to
trying to
to draw in the in the conversation was
to draw in the in the conversation was
to draw in the in the conversation was
for auth required assets you do want
for auth required assets you do want
for auth required assets you do want
it off by default but the ones that are
it off by default but the ones that are
it off by default but the ones that are
not
not
not
earth required can be on by default
that if we if we had it on by default
that if we if we had it on by default
that like there's probably nobody who
that like there's probably nobody who
that like there's probably nobody who
would
would
would
mind right that's what I was confused
mind right that's what I was confused
mind right that's what I was confused
about too like
about too like
about too like
turmeric can you clarify actually like
turmeric can you clarify actually like
turmeric can you clarify actually like
are you saying that we should
are you saying that we should
are you saying that we should
remove the flag because you don't think
remove the flag because you don't think
remove the flag because you don't think
anybody would actually want the flag
anybody would actually want the flag
anybody would actually want the flag
to be set or are you saying that we
to be set or are you saying that we
to be set or are you saying that we
should do
should do
should do
one of the things that either I was
one of the things that either I was
one of the things that either I was
suggesting david was suggesting any of
suggesting david was suggesting any of
suggesting david was suggesting any of
us were suggesting I'm a little confused
us were suggesting I'm a little confused
us were suggesting I'm a little confused
so I thought we were discussing a
so I thought we were discussing a
so I thought we were discussing a
dedicated flag
dedicated flag
dedicated flag
that is on by default or sorry off by
that is on by default or sorry off by
that is on by default or sorry off by
default for
default for
default for
for author required assets
for author required assets
for author required assets
yeah so I was I was supporting that
yeah so I was I was supporting that
yeah so I was I was supporting that
so in other words if you have an off
so in other words if you have an off
so in other words if you have an off
required asset you have to
required asset you have to
required asset you have to
designate it you have to flip the flag
designate it you have to flip the flag
designate it you have to flip the flag
to say
to say
to say
this auth required asset is now can now
this auth required asset is now can now
this auth required asset is now can now
be used in liquidity equals
be used in liquidity equals
be used in liquidity equals
yeah that is indeed what I agreed with
yeah that is indeed what I agreed with
yeah that is indeed what I agreed with
yeah
yeah
yeah
the opt-in yeah
I think david that that would cover your
I think david that that would cover your
case too because if you're
case too because if you're
case too because if you're
auth required you need to have at least
auth required you need to have at least
auth required you need to have at least
oh
oh
oh
no you could just have low signing
no you could just have low signing
no you could just have low signing
weight only
weight only
weight only
I guess it also depends yeah if you can
I guess it also depends yeah if you can
I guess it also depends yeah if you can
you set this flag with low signing
you set this flag with low signing
you set this flag with low signing
weight
weight
weight
I mean I guess
I mean I guess
I mean I guess
i'd rather
i'd rather
i'd rather
I you know i'd rather stuff be on by
I you know i'd rather stuff be on by
I you know i'd rather stuff be on by
default right for the same reason like
default right for the same reason like
default right for the same reason like
auth required isn't the default
auth required isn't the default
auth required isn't the default
you know I would like it if inhibit amm
you know I would like it if inhibit amm
you know I would like it if inhibit amm
weren't
weren't
weren't
or whatever require a mm off
or whatever require a mm off
or whatever require a mm off
weren't on by default for for anyone
weren't on by default for for anyone
weren't on by default for for anyone
just
just
just
it's just it's very easy to convince
it's just it's very easy to convince
it's just it's very easy to convince
ourselves that there's edge cases where
ourselves that there's edge cases where
ourselves that there's edge cases where
like
like
like
somebody is not somebody is like
somebody is not somebody is like
somebody is not somebody is like
not gonna be paying attention and and
not gonna be paying attention and and
not gonna be paying attention and and
it's going to run into huge problems but
it's going to run into huge problems but
it's going to run into huge problems but
you know if these are edge cases then
you know if these are edge cases then
you know if these are edge cases then
i'd rather
i'd rather
i'd rather
just have the functionality on by
default
default
it also simplifies the logic you know a
it also simplifies the logic you know a
it also simplifies the logic you know a
tiny bit
tiny bit
tiny bit
like and it gives more possibilities you
like and it gives more possibilities you
like and it gives more possibilities you
know maybe there actually is
know maybe there actually is
know maybe there actually is
some asset that you like really don't
some asset that you like really don't
some asset that you like really don't
want to have used in an amm for some
want to have used in an amm for some
want to have used in an amm for some
reason but you don't want to
reason but you don't want to
reason but you don't want to
auth require it
so correct me if I'm wrong but if they
so correct me if I'm wrong but if they
do have auth required right now
do have auth required right now
do have auth required right now
then and we turn it on by default
then and we turn it on by default
then and we turn it on by default
then
then
then
the authorization semantics is
the authorization semantics is
the authorization semantics is
understood by the issuer
understood by the issuer
understood by the issuer
essentially get like invalid or
essentially get like invalid or
essentially get like invalid or
changed
changed
changed
right oh I see so you're suggesting like
right oh I see so you're suggesting like
right oh I see so you're suggesting like
a big database migration on the protocol
a big database migration on the protocol
a big database migration on the protocol
upgrade which actually is another thing
upgrade which actually is another thing
upgrade which actually is another thing
we can just kind of like
we can just kind of like
we can just kind of like
it's a it's an it's an inhibit flag
it's a it's an it's an inhibit flag
it's a it's an it's an inhibit flag
that's going to be off by default but
that's going to be off by default but
that's going to be off by default but
for starters we grew
for starters we grew
for starters we grew
everybody who's currently author
everybody who's currently author
everybody who's currently author
required we actually set the flag when
required we actually set the flag when
required we actually set the flag when
we introduce it
we introduce it
we introduce it
is that is that what you're I wasn't
is that is that what you're I wasn't
is that is that what you're I wasn't
thinking about that
thinking about that
thinking about that
but and in that situation if someone
but and in that situation if someone
but and in that situation if someone
showed up
showed up
showed up
new to issue a new asset
new to issue a new asset
new to issue a new asset
it would be and they decided to make it
it would be and they decided to make it
it would be and they decided to make it
auth required
auth required
auth required
it would automatically be on it would be
it would automatically be on it would be
it would automatically be on it would be
no they'd have to decide like the same
no they'd have to decide like the same
no they'd have to decide like the same
way auth required is off by default the
way auth required is off by default the
way auth required is off by default the
amm inhibit flag is going to be off by
amm inhibit flag is going to be off by
amm inhibit flag is going to be off by
default
default
default
and so when you set one you might or
and so when you set one you might or
and so when you set one you might or
might not want to set the other these
might not want to set the other these
might not want to set the other these
are like you know it's part of your
are like you know it's part of your
are like you know it's part of your
decision tree it's the same as you have
decision tree it's the same as you have
decision tree it's the same as you have
to decide whether you want to set auth
to decide whether you want to set auth
to decide whether you want to set auth
immutable which you know most people
immutable which you know most people
immutable which you know most people
don't
don't
don't
but or like auth clawback or whatever
but or like auth clawback or whatever
but or like auth clawback or whatever
like we're just going to have
like we're just going to have
like we're just going to have
when you want to issue an asset like
when you want to issue an asset like
when you want to issue an asset like
these are the decisions that you need to
these are the decisions that you need to
these are the decisions that you need to
make about your asset
make about your asset
make about your asset
and so if we kind of you know clearly
and so if we kind of you know clearly
and so if we kind of you know clearly
document that you have to make like
document that you have to make like
document that you have to make like
three different decisions about what
three different decisions about what
three different decisions about what
your assets can behave like
your assets can behave like
your assets can behave like
then I feel fine going forward and it's
then I feel fine going forward and it's
then I feel fine going forward and it's
just a question of do we have like
just a question of do we have like
just a question of do we have like
existing assets
existing assets
existing assets
where like people are
where like people are
where like people are
like would not have the confidence or
like would not have the confidence or
like would not have the confidence or
awareness that they need to like change
awareness that they need to like change
awareness that they need to like change
this flag if they care about it and then
this flag if they care about it and then
this flag if they care about it and then
you know like a month after we announced
you know like a month after we announced
you know like a month after we announced
this and the thing goes live then it
this and the thing goes live then it
this and the thing goes live then it
would run into problems
can I flip this discussion over for a
can I flip this discussion over for a
second now and say like
second now and say like
second now and say like
these problems don't really exist as
these problems don't really exist as
these problems don't really exist as
much if we
much if we
much if we
were really at all if we did the other
were really at all if we did the other
were really at all if we did the other
authorization model that like
authorization model that like
authorization model that like
the version one that starts listed
the version one that starts listed
the version one that starts listed
which is basically like make it work
which is basically like make it work
which is basically like make it work
exactly like offers work today
exactly like offers work today
exactly like offers work today
you get your auth revoked now your now
you get your auth revoked now your now
you get your auth revoked now your now
your pool shares are all going to get
your pool shares are all going to get
your pool shares are all going to get
revoked too
revoked too
revoked too
obviously this has some like
obviously this has some like
obviously this has some like
implementation burden on our side
implementation burden on our side
implementation burden on our side
it would make us have more things to
it would make us have more things to
it would make us have more things to
test and whatever
test and whatever
test and whatever
but if it's justified then maybe we
but if it's justified then maybe we
but if it's justified then maybe we
should consider that
should consider that
should consider that
but that's not sort of that's not
but that's not sort of that's not
but that's not sort of that's not
semantically equivalent
so the the question is I i
so the the question is I i
actually see these things as almost
actually see these things as almost
actually see these things as almost
orthogonal like there's two different
orthogonal like there's two different
orthogonal like there's two different
things like one is like what happens
things like one is like what happens
things like one is like what happens
when like you know particular people
when like you know particular people
when like you know particular people
get sanctioned or whatever and
get sanctioned or whatever and
get sanctioned or whatever and
another question is
another question is
another question is
do you not want there to be you know
do you not want there to be you know
do you not want there to be you know
do you want a tighter like control of
do you want a tighter like control of
do you want a tighter like control of
like the market in your asset
and they seem like different questions
and they seem like different questions
and I could imagine different
and I could imagine different
and I could imagine different
asset issuers to answering different
asset issuers to answering different
asset issuers to answering different
ways for the two questions
ways for the two questions
ways for the two questions
so john with with the v1 you described
so john with with the v1 you described
so john with with the v1 you described
yeah does that mean we
yeah does that mean we
yeah does that mean we
does that mean issuers do not have the
does that mean issuers do not have the
does that mean issuers do not have the
ability to opt out of liquidity pools
ability to opt out of liquidity pools
ability to opt out of liquidity pools
we we could still add that feature if we
we we could still add that feature if we
we we could still add that feature if we
wanted to but that feature would no
wanted to but that feature would no
wanted to but that feature would no
longer be one of these kind of like
longer be one of these kind of like
longer be one of these kind of like
you could make this work and everything
you could make this work and everything
you could make this work and everything
would kind of look transparent from an
would kind of look transparent from an
would kind of look transparent from an
issuer's perspective
issuer's perspective
issuer's perspective
like different things would be happening
like different things would be happening
like different things would be happening
on the network but the same operations
on the network but the same operations
on the network but the same operations
that they were doing to control accounts
that they were doing to control accounts
that they were doing to control accounts
would all still work
would all still work
would all still work
so in in the version one approach i
so in in the version one approach i
so in in the version one approach i
agree with david the questions are
agree with david the questions are
agree with david the questions are
orthogonal like
orthogonal like
orthogonal like
how do we want to control like do like
how do we want to control like do like
how do we want to control like do like
you have this choice on how to control
you have this choice on how to control
you have this choice on how to control
the ah
the ah
the ah
you make a certain choice and then the
you make a certain choice and then the
you make a certain choice and then the
other degree of freedom is totally open
other degree of freedom is totally open
other degree of freedom is totally open
but if you go the approach two then the
but if you go the approach two then the
but if you go the approach two then the
then you're not in an orthogonal space
then you're not in an orthogonal space
then you're not in an orthogonal space
anymore
anymore
anymore
because then you have this backwards
because then you have this backwards
because then you have this backwards
compatibility problem that appears
compatibility problem that appears
compatibility problem that appears
but we could kind of answer the question
but we could kind of answer the question
but we could kind of answer the question
separately like maybe we want the flag
separately like maybe we want the flag
separately like maybe we want the flag
either way so then it matters a bit less
yeah so I'm reading siddharth's
yeah so I'm reading siddharth's
outline here and I'm I'm
outline here and I'm I'm
outline here and I'm I'm
leaning towards v1 in terms of
leaning towards v1 in terms of
leaning towards v1 in terms of
like a more sensible contract that's in
like a more sensible contract that's in
like a more sensible contract that's in
line with what we have today
line with what we have today
line with what we have today
I don't have you know you core folks
I don't have you know you core folks
I don't have you know you core folks
need to
need to
need to
you know express how bad this is
you know express how bad this is
you know express how bad this is
in terms of implementation because i
in terms of implementation because i
in terms of implementation because i
think from a contract perspective this
think from a contract perspective this
think from a contract perspective this
just
just
just
you know is is more in line with what
you know is is more in line with what
you know is is more in line with what
you have today
you have today
you have today
it's like
it's it's variably bad I guess is the
it's it's variably bad I guess is the
best way to characterize it
best way to characterize it
best way to characterize it
in a world where we only have two
in a world where we only have two
in a world where we only have two
asset liquidity pools it's like probably
asset liquidity pools it's like probably
asset liquidity pools it's like probably
not so bad
not so bad
not so bad
but like if we were in a world where we
but like if we were in a world where we
but like if we were in a world where we
were like oh you know like balancer type
were like oh you know like balancer type
were like oh you know like balancer type
pools with eight assets are actually
pools with eight assets are actually
pools with eight assets are actually
great
great
great
then it starts becoming kind of
then it starts becoming kind of
then it starts becoming kind of
problematic
problematic
problematic
the reason it becomes kind of
the reason it becomes kind of
the reason it becomes kind of
problematic is that we have to be able
problematic is that we have to be able
problematic is that we have to be able
to efficiently
to efficiently
to efficiently
extract all the pool shares that have to
extract all the pool shares that have to
extract all the pool shares that have to
get revoked
get revoked
get revoked
but they might correspond to any of the
but they might correspond to any of the
but they might correspond to any of the
assets in the pool
assets in the pool
assets in the pool
let's say there's eight just for the
let's say there's eight just for the
let's say there's eight just for the
sake of argument maybe in pool one it's
sake of argument maybe in pool one it's
sake of argument maybe in pool one it's
the third asset and then in pool two
the third asset and then in pool two
the third asset and then in pool two
it's the seventh asset and full three
it's the seventh asset and full three
it's the seventh asset and full three
it's the first asset
it's the first asset
it's the first asset
so you end up breaking out all the
so you end up breaking out all the
so you end up breaking out all the
assets into separate columns in your
assets into separate columns in your
assets into separate columns in your
databases
databases
databases
you've got an index on every column
you've got an index on every column
you've got an index on every column
right now our an average table in our
right now our an average table in our
right now our an average table in our
database has either zero or one indices
database has either zero or one indices
database has either zero or one indices
so like for example if we were in this
so like for example if we were in this
so like for example if we were in this
world that would add you know
world that would add you know
world that would add you know
eight times as many indices as I think
eight times as many indices as I think
eight times as many indices as I think
the trustline table currently has
the trustline table currently has
the trustline table currently has
so that's that's kind of the
so that's that's kind of the
so that's that's kind of the
perspective here
perspective here
perspective here
there's probably big performance
there's probably big performance
there's probably big performance
complications as soon as you add eight
complications as soon as you add eight
complications as soon as you add eight
indices
indices
indices
you know every index operation is
you know every index operation is
you know every index operation is
basically a table
basically a table
basically a table
operation so
operation so
operation so
I mean to be fair you don't necessarily
I mean to be fair you don't necessarily
I mean to be fair you don't necessarily
need to do
need to do
need to do
that many indexes like you can do it in
that many indexes like you can do it in
that many indexes like you can do it in
a in a way it's a little more
a in a way it's a little more
a in a way it's a little more
like you know map asset to like a it's a
like you know map asset to like a it's a
like you know map asset to like a it's a
multi-map
multi-map
multi-map
basically like
basically like
basically like
creating a separate table to query again
creating a separate table to query again
creating a separate table to query again
yeah it's a separate table for indexing
yeah it's a separate table for indexing
yeah it's a separate table for indexing
purely for indexing it's yeah
purely for indexing it's yeah
purely for indexing it's yeah
but it's it might be a lot more
but it's it might be a lot more
but it's it might be a lot more
efficient than that might be more
efficient than that might be more
efficient than that might be more
efficient
efficient
efficient
more complicated ones you because that's
more complicated ones you because that's
more complicated ones you because that's
one b one one b three right as opposed
one b one one b three right as opposed
one b one one b three right as opposed
to many b3s
to many b3s
to many b3s
yeah so I mean like that could be a
yeah so I mean like that could be a
yeah so I mean like that could be a
better implementation but then we have
better implementation but then we have
better implementation but then we have
to maintain an extra table
to maintain an extra table
to maintain an extra table
so yeah it might be more efficient
so yeah it might be more efficient
so yeah it might be more efficient
probably more complicated
look v1 makes more sense from a contact
look v1 makes more sense from a contact
perspective i
perspective i
perspective i
is there someone that disagrees with
is there someone that disagrees with
is there someone that disagrees with
that
okay I agree okay
okay I agree okay
so you know in that case you know
so you know in that case you know
so you know in that case you know
you know nico you folks need to put
you know nico you folks need to put
you know nico you folks need to put
your foot down
your foot down
your foot down
on on whether this is like acceptable
on on whether this is like acceptable
on on whether this is like acceptable
or the complexity in core just
or the complexity in core just
or the complexity in core just
you know makes it so that we need to
you know makes it so that we need to
you know makes it so that we need to
make the less
make the less
make the less
sensible contract decision
justin maybe we need to let the core
justin maybe we need to let the core
folks huddle up and
folks huddle up and
folks huddle up and
and and and figure out like how yeah
and and and figure out like how yeah
and and and figure out like how yeah
I feel like that's true are there any
I feel like that's true are there any
I feel like that's true are there any
other questions about this topic that we
other questions about this topic that we
other questions about this topic that we
want to make sure to cover or
want to make sure to cover or
want to make sure to cover or
or is that our stopping point core folks
or is that our stopping point core folks
or is that our stopping point core folks
go back and think about
go back and think about
go back and think about
whether the more sensible contract
whether the more sensible contract
whether the more sensible contract
approach v1
approach v1
approach v1
whether the implementation is a show
whether the implementation is a show
whether the implementation is a show
stopper blocker
stopper blocker
stopper blocker
or is there more is there more I guess
or is there more is there more I guess
or is there more is there more I guess
the only
the only
the only
the only question i'll still ask here is
the only question i'll still ask here is
the only question i'll still ask here is
like do we still want the flag
like do we still want the flag
like do we still want the flag
because like the like we could always
because like the like we could always
because like the like we could always
add the flag later
add the flag later
add the flag later
if people want to opt out
if people want to opt out
if people want to opt out
and that that would just mean that we
and that that would just mean that we
and that that would just mean that we
have less work to do and we can deliver
have less work to do and we can deliver
have less work to do and we can deliver
this sooner
oh I can I can reach out to some
oh I can I can reach out to some
viewers
viewers
viewers
and and see if that's a
and and see if that's a
and and see if that's a
if that's a showstopper in any way
if that's a showstopper in any way
if that's a showstopper in any way
intuitively I can't think of any issuer
intuitively I can't think of any issuer
intuitively I can't think of any issuer
that will
that will
that will
you know passionately want to
you know passionately want to
you know passionately want to
disable their asset from participating
disable their asset from participating
disable their asset from participating
in liquidity pools
in liquidity pools
in liquidity pools
but I'm not sure
but I'm not sure
but I'm not sure
is there like to the extent I would
is there like to the extent I would
is there like to the extent I would
imagine people doing that I could
imagine people doing that I could
imagine people doing that I could
imagine a situation where
imagine a situation where
imagine a situation where
what you really want is like you believe
what you really want is like you believe
what you really want is like you believe
that there's sort of like two or three
that there's sort of like two or three
that there's sort of like two or three
high quality assets that are kyc
high quality assets that are kyc
high quality assets that are kyc
and whatever and so you're willing and
and whatever and so you're willing and
and whatever and so you're willing and
you're you're willing to have your asset
you're you're willing to have your asset
you're you're willing to have your asset
have a market against those and you
have a market against those and you
have a market against those and you
don't want
don't want
don't want
just like random people buying your
just like random people buying your
just like random people buying your
asset where you can't sort of trace one
asset where you can't sort of trace one
asset where you can't sort of trace one
hop and
hop and
hop and
and ask who that was so is there any
and ask who that was so is there any
and ask who that was so is there any
possibility to add
possibility to add
possibility to add
to give issuers control over what assets
to give issuers control over what assets
to give issuers control over what assets
they're allowed to be
they're allowed to be
they're allowed to be
matched we'd like to have a trust line
matched we'd like to have a trust line
matched we'd like to have a trust line
on
on
on
the liquidity pool itself as opposed to
the liquidity pool itself as opposed to
the liquidity pool itself as opposed to
an individual
an individual
an individual
participant
that's an interesting concept my
that's an interesting concept my
kind of a priori intuition on this
kind of a priori intuition on this
kind of a priori intuition on this
is that you like you can't control that
is that you like you can't control that
is that you like you can't control that
today anyway because
today anyway because
today anyway because
you could already do it against the
you could already do it against the
you could already do it against the
decks like the existing order book
decks like the existing order book
decks like the existing order book
and if that's the kind of feature you
and if that's the kind of feature you
and if that's the kind of feature you
wanted you're probably using the
wanted you're probably using the
wanted you're probably using the
the cap18 semantics
the cap18 semantics
the cap18 semantics
which is for people listening it's like
which is for people listening it's like
which is for people listening it's like
this like fine grained authorization
this like fine grained authorization
this like fine grained authorization
control and it's mapped up against some
control and it's mapped up against some
control and it's mapped up against some
sep
sep
sep
which number I can't remember right now
which number I can't remember right now
which number I can't remember right now



so I can't I can't really see how adding
so I can't I can't really see how adding
so I can't I can't really see how adding
this feature
this feature
this feature
at the protocol level would you're muted
at the protocol level would you're muted
at the protocol level would you're muted
david
david
david
you're still muted
none of us can hear you david sorry
none of us can hear you david sorry
there could be like you know a trade-off
there could be like you know a trade-off
there could be like you know a trade-off
required flag or something that
required flag or something that
required flag or something that
basically it applies to both the mms and
basically it applies to both the mms and
basically it applies to both the mms and
the decks
the decks
the decks
and it says it says like I actually
and it says it says like I actually
and it says it says like I actually
have to authorize
have to authorize
have to authorize
any other asset that my asset is traded
any other asset that my asset is traded
any other asset that my asset is traded
against
so making it apply even to the existing
so making it apply even to the existing
order bill yeah
order bill yeah
order bill yeah
I mean interesting if nobody's asking
I mean interesting if nobody's asking
I mean interesting if nobody's asking
for this then you know it's
for this then you know it's
for this then you know it's
probably not worth doing but this
probably not worth doing but this
probably not worth doing but this
actually seems more useful than just
actually seems more useful than just
actually seems more useful than just
like blanket inhibiting
like blanket inhibiting
like blanket inhibiting
amms it's definitely an interesting idea
amms it's definitely an interesting idea
amms it's definitely an interesting idea
not one that i've heard before I think
not one that i've heard before I think
not one that i've heard before I think
tomer can find out what people really
tomer can find out what people really
tomer can find out what people really
want and that's probably the good
want and that's probably the good
want and that's probably the good
a good starting point but if you're
a good starting point but if you're
a good starting point but if you're
gonna do that and it's retroactive onto
gonna do that and it's retroactive onto
gonna do that and it's retroactive onto
the existing order book i'd say let's do
the existing order book i'd say let's do
the existing order book i'd say let's do
it as a separate
it as a separate
it as a separate
a separate kind of proposal in a
a separate kind of proposal in a
a separate kind of proposal in a
separate protocol version probably
separate protocol version probably
separate protocol version probably
just for the sake of expedience but then
just for the sake of expedience but then
just for the sake of expedience but then
if if if we think that that
if if if we think that that
if if if we think that that
that actually solves people's problems
that actually solves people's problems
that actually solves people's problems
better than the existing ones then maybe
better than the existing ones then maybe
better than the existing ones then maybe
we don't need to worry as much about
we don't need to worry as much about
we don't need to worry as much about
the existing ones you know unless
the existing ones you know unless
the existing ones you know unless
there's anybody saying like
there's anybody saying like
there's anybody saying like
you know don't don't let my don't let my
you know don't don't let my don't let my
you know don't don't let my don't let my
asset be traded
asset be traded
asset be traded
in amms but do let it be traded on the
in amms but do let it be traded on the
in amms but do let it be traded on the
decks like somebody yeah which is
decks like somebody yeah which is
decks like somebody yeah which is
weird like it's hard for me to imagine
weird like it's hard for me to imagine
weird like it's hard for me to imagine
what that use case is but maybe it's
what that use case is but maybe it's
what that use case is but maybe it's
there I don't know
yeah I think given that you know we
yeah I think given that you know we
don't have this feature around the decks
don't have this feature around the decks
don't have this feature around the decks
right now and
right now and
right now and
you know we haven't had issuers saying
you know we haven't had issuers saying
you know we haven't had issuers saying
you know I'm not going to issue this
you know I'm not going to issue this
you know I'm not going to issue this
asset because I'm afraid it's going to
asset because I'm afraid it's going to
asset because I'm afraid it's going to
be
be
be
traded on the decks
traded on the decks
traded on the decks



you know I think we're probably in the
you know I think we're probably in the
you know I think we're probably in the
same boat with liquidity pools
okay maybe let's call today well I mean
okay maybe let's call today well I mean
in in fairness
in in fairness
in in fairness
there's probably people who say like I'm
there's probably people who say like I'm
there's probably people who say like I'm
just not gonna issue my asset on a
just not gonna issue my asset on a
just not gonna issue my asset on a
blockchain because it's because I'm
blockchain because it's because I'm
blockchain because it's because I'm
scared of blockchains
scared of blockchains
scared of blockchains
and so this would be more like we could
and so this would be more like we could
and so this would be more like we could
come to and say hey you've heard of
come to and say hey you've heard of
come to and say hey you've heard of
these two
these two
these two
issuers who are like you know reputable
issuers who are like you know reputable
issuers who are like you know reputable
in the non-blockchain financial world
in the non-blockchain financial world
in the non-blockchain financial world
well guess what like you could you could
well guess what like you could you could
well guess what like you could you could
make your asset available only for
make your asset available only for
make your asset available only for
like you know you know only for sale for
like you know you know only for sale for
like you know you know only for sale for
like customers of like these two banks
like customers of like these two banks
like customers of like these two banks
or whatever
or whatever
or whatever
and that would sort of it would be a
and that would sort of it would be a
and that would sort of it would be a
way of kind of attracting people who are
way of kind of attracting people who are
way of kind of attracting people who are
otherwise afraid of blockchain by
otherwise afraid of blockchain by
otherwise afraid of blockchain by
making it less unknown
but again this would be I guess a
but again this would be I guess a
separate proposal so
separate proposal so
separate proposal so
right so back to this issue for this
right so back to this issue for this
right so back to this issue for this
particular proposal
particular proposal
particular proposal
it seems like where where we've ended at
it seems like where where we've ended at
it seems like where where we've ended at
least with today's discussion is
least with today's discussion is
least with today's discussion is
v1 makes more sense as a contract
v1 makes more sense as a contract
v1 makes more sense as a contract
but the question is what does the
but the question is what does the
but the question is what does the
implementation
implementation
implementation
look like in and that's something that
look like in and that's something that
look like in and that's something that
the core team will
the core team will
the core team will
think about seems true right
think about seems true right
think about seems true right
seems like where we've ended up okay i
seems like where we've ended up okay i
seems like where we've ended up okay i
have a question about all three
have a question about all three
have a question about all three
revocation
revocation
revocation
it's not really to do with v1 versus v2
it's not really to do with v1 versus v2
it's not really to do with v1 versus v2
I think it applies to both of them
I think it applies to both of them
I think it applies to both of them
and it's from siddharth's email where
and it's from siddharth's email where
and it's from siddharth's email where
he
he
he
presented these two different options it
presented these two different options it
presented these two different options it
says an email that
says an email that
says an email that
if the full shares can't be sent back to
if the full shares can't be sent back to
if the full shares can't be sent back to
the owner
the owner
the owner
that is impossible that they're going to
that is impossible that they're going to
that is impossible that they're going to
get stored in a claimable balance for
get stored in a claimable balance for
get stored in a claimable balance for
the owner is that something we're
the owner is that something we're
the owner is that something we're
still considering
still considering
still considering
and if so
and if so
and if so
I'm just a little concerned it seemed
I'm just a little concerned it seemed
I'm just a little concerned it seemed
that seems like that would be very
that seems like that would be very
that seems like that would be very
unpredictable
unpredictable
unpredictable
and applications like they may not
and applications like they may not
and applications like they may not
really handle that edge case so
really handle that edge case so
really handle that edge case so
yeah I'm just curious about that
so we're we're still thinking about how
so we're we're still thinking about how
how that case would work
how that case would work
how that case would work
like you know regards to claimable
like you know regards to claimable
like you know regards to claimable
balances and
balances and
balances and
you know we initially considered all
you know we initially considered all
you know we initially considered all
like always putting it into account
like always putting it into account
like always putting it into account
clinical balance
clinical balance
clinical balance
but there there are still questions
but there there are still questions
but there there are still questions
around
around
around
like how reserves would work here and
like how reserves would work here and
like how reserves would work here and
things like that so it's still open
things like that so it's still open
things like that so it's still open
we're still thinking about it
if you have an idea to how to avoid this
if you have an idea to how to avoid this
problem
problem
problem
i'd be like super enthusiastic about it
i'd be like super enthusiastic about it
i'd be like super enthusiastic about it
i've had I think three calls of
i've had I think three calls of
i've had I think three calls of
siddharth but we've like tried to think
siddharth but we've like tried to think
siddharth but we've like tried to think
about how you could avoid doing this
about how you could avoid doing this
about how you could avoid doing this
and we always run into some case
and we always run into some case
and we always run into some case
which
which
which
pretty much forces you to create a
pretty much forces you to create a
pretty much forces you to create a
claimable balance as it stands today
claimable balance as it stands today
claimable balance as it stands today
but maybe there's some other thing we
but maybe there's some other thing we
but maybe there's some other thing we
can constrain that we haven't figured
can constrain that we haven't figured
can constrain that we haven't figured
out yet I'm super
out yet I'm super
out yet I'm super
super open to ideas here
lee does that answer your question more
lee does that answer your question more
or less
or less
or less
yeah I think
yeah I think
yeah I think
I would like to understand what all the
I would like to understand what all the
I would like to understand what all the
cases are where
cases are where
cases are where
the claim will balance would be required
the claim will balance would be required
the claim will balance would be required
I I can assume
I I can assume
I I can assume
I can maybe think of one but I'm not I'm
I can maybe think of one but I'm not I'm
I can maybe think of one but I'm not I'm
not really sure if I certainly
not really sure if I certainly
not really sure if I certainly
understand the problem
so some examples of some cases where you
so some examples of some cases where you
would require them
would require them
would require them
just off the top of my head it's
just off the top of my head it's
just off the top of my head it's
probably not going to be complete
probably not going to be complete
probably not going to be complete
but one case is you're in a pool share
but one case is you're in a pool share
but one case is you're in a pool share
and you've
and you've
and you've
you're in a liquidity pool and you've
you're in a liquidity pool and you've
you're in a liquidity pool and you've
removed the trust lines for the
removed the trust lines for the
removed the trust lines for the
corresponding
corresponding
corresponding
assets so for example it's like I'm in
assets so for example it's like I'm in
assets so for example it's like I'm in
an
an
an
a usda usdb pool
a usda usdb pool
a usda usdb pool
but I don't have the trust time for usdb
but I don't have the trust time for usdb
but I don't have the trust time for usdb
anymore because all my usdd is in the
anymore because all my usdd is in the
anymore because all my usdd is in the
pool
pool
pool
there's no way to return the money to
there's no way to return the money to
there's no way to return the money to
you other than creating a claimant
you other than creating a claimant
you other than creating a claimant
balance
balance
balance
another case would be if your usdb trust
another case would be if your usdb trust
another case would be if your usdb trust
line still existed
line still existed
line still existed
but because the pool has moved in your
but because the pool has moved in your
but because the pool has moved in your
favor which is kind of unlikely for
favor which is kind of unlikely for
favor which is kind of unlikely for
these particular assets but whatever
these particular assets but whatever
these particular assets but whatever
imagine then you no longer have
imagine then you no longer have
imagine then you no longer have
sufficient limit to receive the
sufficient limit to receive the
sufficient limit to receive the
additional amount of usb
additional amount of usb
additional amount of usb
usdb that you would have gotten they're
usdb that you would have gotten they're
usdb that you would have gotten they're
all kind of variations on this problem
all kind of variations on this problem
all kind of variations on this problem
or it's like oh I also have some order
or it's like oh I also have some order
or it's like oh I also have some order
book
offers and their five liabilities and
offers and their five liabilities and
then that causes me to have insufficient
then that causes me to have insufficient
then that causes me to have insufficient
available limit to receive the
available limit to receive the
available limit to receive the
balance stuff like that
okay thanks i'll have to think about it
okay thanks i'll have to think about it
as well there's
as well there's
as well there's
also a bit of discussion about this on
also a bit of discussion about this on
also a bit of discussion about this on
the mailing list i
the mailing list i
the mailing list i
it's like quite a few posts from the
it's like quite a few posts from the
it's like quite a few posts from the
bottom now but nikolai was
bottom now but nikolai was
bottom now but nikolai was
having one of the things nikolai was
having one of the things nikolai was
having one of the things nikolai was
chewing on was this notion of
chewing on was this notion of
chewing on was this notion of
capping off the available balance
capping off the available balance
capping off the available balance
like the available supply of an asset
like the available supply of an asset
like the available supply of an asset
because right now it's actually possible
because right now it's actually possible
because right now it's actually possible
for an assets about like
for an assets about like
for an assets about like
total supply to exceed in 64 max which
total supply to exceed in 64 max which
total supply to exceed in 64 max which
is interesting
is interesting
is interesting
I went and looked and there were like 30
I went and looked and there were like 30
I went and looked and there were like 30
assets all with funny names or
assets all with funny names or
assets all with funny names or
largely with funny names that have this
largely with funny names that have this
largely with funny names that have this
condition
condition
condition
and so I don't think anybody serious
and so I don't think anybody serious
and so I don't think anybody serious
has this problem
has this problem
has this problem
and if we avoided this situation it
and if we avoided this situation it
and if we avoided this situation it
might make a lot of other
might make a lot of other
might make a lot of other
things simpler and it might avoid some
things simpler and it might avoid some
things simpler and it might avoid some
cases with
cases with
cases with
with liabilities and stuff but like
with liabilities and stuff but like
with liabilities and stuff but like
it's definitely not like an obvious win
it's definitely not like an obvious win
it's definitely not like an obvious win
there are still still some other things
there are still still some other things
there are still still some other things
that can happen
that can happen
that can happen
we probably need additional cases
we probably need additional cases
we probably need additional cases
additional constraints in addition to
additional constraints in addition to
additional constraints in addition to
that
that
that
but you can you can read more about that
but you can you can read more about that
but you can you can read more about that
on the mailing list because I don't even
on the mailing list because I don't even
on the mailing list because I don't even
remember what was in that post entirely
great any other questions or topics that
great any other questions or topics that
we want to go over today or should we
we want to go over today or should we
we want to go over today or should we
just sort of
just sort of
just sort of
mull over what what what we've discussed
mull over what what what we've discussed
mull over what what what we've discussed
so far and bring it back to the Stellar
so far and bring it back to the Stellar
so far and bring it back to the Stellar
dev mailing list
cool deal so yeah everyone watching
cool deal so yeah everyone watching
thank you for joining us for this
thank you for joining us for this
thank you for joining us for this
protocol discussion again the thing that
protocol discussion again the thing that
protocol discussion again the thing that
we keep talking about the Stellar dev
we keep talking about the Stellar dev
we keep talking about the Stellar dev
mailing list there is a link in the
mailing list there is a link in the
mailing list there is a link in the
event description
event description
event description
and it really is the place where we
and it really is the place where we
and it really is the place where we
start to ha to hash this out right
start to ha to hash this out right
start to ha to hash this out right
like all of these
like all of these
like all of these
discussions are happening there there
discussions are happening there there
discussions are happening there there
are discussions about both cap 37 and
are discussions about both cap 37 and
are discussions about both cap 37 and
cap 38
cap 38
cap 38
and we definitely want to hear from
and we definitely want to hear from
and we definitely want to hear from
people as we start to
people as we start to
people as we start to
think through these designs in order to
think through these designs in order to
think through these designs in order to
come up with solutions that really meet
come up with solutions that really meet
come up with solutions that really meet
the needs of the ecosystem so really
the needs of the ecosystem so really
the needs of the ecosystem so really
appreciate it please join the discussion
appreciate it please join the discussion
appreciate it please join the discussion
thanks everyone who joined here on this
thanks everyone who joined here on this
thanks everyone who joined here on this
panel
panel
panel
and i'll see you next time
