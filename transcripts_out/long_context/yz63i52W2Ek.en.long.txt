  right now right now right now  hello everyone and welcome to another. Hello everyone and welcome to another Stellar open protocol discussion as Stellar open protocol discussion as. Stellar open protocol discussion as per usual in these meetings we discuss per usual in these meetings we discuss. Per usual in these meetings we discuss potential changes to the Stellar potential changes to the Stellar. Potential changes to the Stellar protocol that take the form of core protocol that take the form of core. Protocol that take the form of core advancement proposals or caps advancement proposals or caps. Advancement proposals or caps these are technical specs they suggest these are technical specs they suggest. These are technical specs they suggest changes to the Stellar protocol that changes to the Stellar protocol that. Changes to the Stellar protocol that allow the Stellar protocol to add new allow the Stellar protocol to add new. Allow the Stellar protocol to add new features and evolve to meet the needs of features and evolve to meet the needs of. Features and evolve to meet the needs of the ecosystem the ecosystem the ecosystem. We're live streaming them so that anyone we're live streaming them so that anyone. We're live streaming them so that anyone who's out there can follow along but who's out there can follow along but. Who's out there can follow along but again I do want to point out it's again I do want to point out it's. Again I do want to point out it's technical so if you are watching this technical so if you are watching this. Technical so if you are watching this you should probably look at cap 21 in you should probably look at cap 21 in. You should probably look at cap 21 in order to understand what we're talking order to understand what we're talking. Order to understand what we're talking about that is what we're going to be about that is what we're going to be. About that is what we're going to be talking about today cap21 talking about today cap21. Talking about today cap21 and you should also join the Stellar dev and you should also join the Stellar dev. And you should also join the Stellar dev mailing list where offline discussions mailing list where offline discussions. Mailing list where offline discussions about these changes take place about these changes take place . About these changes take place also there it we do keep an eye on the also there it we do keep an eye on the. Also there it we do keep an eye on the discussion box so if you put comments or discussion box so if you put comments or. Discussion box so if you put comments or questions in there they do help inform questions in there they do help inform. Questions in there they do help inform our decisions going forward we may our decisions going forward we may. Our decisions going forward we may not actually address them in this not actually address them in this. Not actually address them in this meeting although if they're super meeting although if they're super. Meeting although if they're super germaine I may bring them up germaine I may bring them up. Germaine I may bring them up today we are focusing specifically as I today we are focusing specifically as i. Today we are focusing specifically as I said on cap 21. Said on cap 21. Said on cap 21. Cap 21 basically is a cap cap 21 basically is a cap cap 21 basically is a cap that . That that lays the groundwork for building payment lays the groundwork for building payment. Lays the groundwork for building payment channels on Stellar so what we're channels on Stellar so what we're. Channels on Stellar so what we're talking about today sounds a little talking about today sounds a little. Talking about today sounds a little obscure keep that in mind payment obscure keep that in mind payment. Obscure keep that in mind payment channels are things that allow multiple channels are things that allow multiple. Channels are things that allow multiple parties to securely transact off chain parties to securely transact off chain. Parties to securely transact off chain and periodically settle on chain and and periodically settle on chain and. And periodically settle on chain and among other things that make it easier among other things that make it easier. Among other things that make it easier to build high volume use cases on to build high volume use cases on. To build high volume use cases on Stellar so changes to cap 21 are Stellar so changes to cap 21 are. Stellar so changes to cap 21 are proposed by cat 21 they allow for proposed by cat 21 they allow for. Proposed by cat 21 they allow for payment channels payment channels payment channels . Last time we also discussed cap 40 and last time we also discussed cap 40 and last time we also discussed cap 40 and. Basically got it to a point where it was basically got it to a point where it was. Basically got it to a point where it was near ready to be accepted but cat 40 is near ready to be accepted but cat 40 is. Near ready to be accepted but cat 40 is contingent on cap 21 and so here's where contingent on cap 21 and so here's where. Contingent on cap 21 and so here's where we are with cat 21 there are a few we are with cat 21 there are a few. We are with cat 21 there are a few outstanding issues and questions that outstanding issues and questions that. Outstanding issues and questions that we're going to try to walk through today we're going to try to walk through today. We're going to try to walk through today I think that we are actually quite I think that we are actually quite. I think that we are actually quite close to getting this accepted although close to getting this accepted although. Close to getting this accepted although we'll see what the outcome of today's we'll see what the outcome of today's. We'll see what the outcome of today's conversation is so with that in mind conversation is so with that in mind. Conversation is so with that in mind let's just kick it off let's just kick it off . Let's just kick it off cap 21 cap 21 cap 21 is what we were talking about today and. Is what we were talking about today and is what we were talking about today and I believe that. I believe that I believe that you know the question is you know the question is you know the question is. I think that there are a couple of I think that there are a couple of I think that there are a couple of. Questions that came up on the mailing questions that came up on the mailing questions that came up on the mailing. List and there was a question about list and there was a question about list and there was a question about. Transactions failing during execution transactions failing during execution transactions failing during execution. That came up during the last meeting but that came up during the last meeting but. That came up during the last meeting but to start with I think we should sort of to start with I think we should sort of. To start with I think we should sort of try to deal with the outstanding try to deal with the outstanding. Try to deal with the outstanding questions that are on the mailing list questions that are on the mailing list. Questions that are on the mailing list and nico if you can just share the first and nico if you can just share the first. And nico if you can just share the first of those questions with us so that we of those questions with us so that we. Of those questions with us so that we can start to discuss it I was looking yeah I didn't have. I was looking yeah I didn't have those questions open hold on sorry those questions open hold on sorry. Those questions open hold on sorry so yeah so so yeah so so yeah so yeah I guess like the first question was. Yeah I guess like the first question was yeah I guess like the first question was. More of a more of a more of a of a minor of a minor of a minor minor thing that I that i. Minor thing that I that I minor thing that I that I didn't we didn't discuss but that maybe. Didn't we didn't discuss but that maybe didn't we didn't discuss but that maybe is something we should be. Is something we should be is something we should be at least putting as like a potential. At least putting as like a potential at least putting as like a potential thing that is . Thing that is thing that is should that behavior that we have should that behavior that we have. Should that behavior that we have for tracking the modified time for tracking the modified time. For tracking the modified time basically for the sequence number this basically for the sequence number this. Basically for the sequence number this be an opt-in be an opt-in be an opt-in right now it's kind of . Right now it's kind of right now it's kind of making this blanket change right like . Making this blanket change right like making this blanket change right like . As soon as protocol whatever as soon as soon as protocol whatever as soon as soon as protocol whatever as soon. As cap basically becomes active as cap basically becomes active as cap basically becomes active. we are going to we are going to we are going to kind of yeah make kind of yeah make. Kind of yeah make like track this new less modified like track this new less modified. like track this new less modified basically in each account I mean it basically in each account I mean it. Basically in each account I mean it seems like seems like seems like from an implementation I mean the reason. From an implementation I mean the reason from an implementation I mean the reason. I mentioned that as a flag right instead I mentioned that as a flag right instead. I mentioned that as a flag right instead instead of being a a a like a like a like a. Protocol base right like in terms of the protocol base right like in terms of the. Protocol base right like in terms of the code it's actually the same thing like code it's actually the same thing like. Code it's actually the same thing like you have to in the code to deal with you have to in the code to deal with. You have to in the code to deal with all protocol version new protocol all protocol version new protocol. All protocol version new protocol version so instead of checking against version so instead of checking against. Version so instead of checking against protocol version we could check against protocol version we could check against. Protocol version we could check against the flag the flag the flag the difference is that. The difference is that the difference is that it would make it that it would make it that. it would make it that the tests for sure are going to be the tests for sure are going to be. the tests for sure are going to be much simpler because now we can actually much simpler because now we can actually. Much simpler because now we can actually just test that part like in a solution. Just test that part like in a solution just test that part like in a solution fairly easily whereas I know that lee. Fairly easily whereas I know that lee fairly easily whereas I know that lee. In the past raised the issue and I think in the past raised the issue and I think. In the past raised the issue and I think that's true that we would have to rework. That's true that we would have to rework that's true that we would have to rework. A bunch of tests a bunch of tests a bunch of tests given the the way they are written today. Given the the way they are written today given the the way they are written today. In core at least I don't know in outside in core at least I don't know in outside. In core at least I don't know in outside I mean it seems like a pretty big foot I mean it seems like a pretty big foot. I mean it seems like a pretty big foot gun to have this flag gun to have this flag. Gun to have this flag right because now this is something right because now this is something. Right because now this is something something that's going to like something that's going to like. Something that's going to like catastrophically break all kinds of you catastrophically break all kinds of you. Catastrophically break all kinds of you know smart contracts and stuff if like know smart contracts and stuff if like. Know smart contracts and stuff if like this flag ever gets cleared or if like this flag ever gets cleared or if like. This flag ever gets cleared or if like people don't realize that it's not set people don't realize that it's not set. People don't realize that it's not set so so so it would be there would have to be like. It would be there would have to be like it would be there would have to be like a huge huge advantage. A huge huge advantage a huge huge advantage to having these like two kinds of to having these like two kinds of. To having these like two kinds of accounts one that just blanket failed accounts one that just blanket failed. Accounts one that just blanket failed preconditions and preconditions and preconditions and. Ones that that actually ones that that actually ones that that actually implement the preconditions no it would. Implement the preconditions no it would implement the preconditions no it would not so the preconditions would not fail. Not so the preconditions would not fail not so the preconditions would not fail it's the. It's the it's the the last modified the last modified the last modified yeah would. Yeah would yeah would not be enabled not be enabled not be enabled yeah so I don't know if it's yeah. Yeah so I don't know if it's yeah yeah so I don't know if it's yeah like preconditions I think that the cap. Like preconditions I think that the cap like preconditions I think that the cap says that. Says that says that if the if the if the you know if you take it you know if you take it. You know if you take it there it's treated as zero there it's treated as zero there it's treated as zero. Yeah it's exactly it would be zero yeah it's exactly it would be zero yeah it's exactly it would be zero. So I don't know so I don't know so I don't know I think if you added the flag we could. I think if you added the flag we could I think if you added the flag we could we could actually we don't need to have. We could actually we don't need to have we could actually we don't need to have a default at all. A default at all a default at all we just say that a transaction is we just say that a transaction is. We just say that a transaction is invalid if it tries to use that invalid if it tries to use that. Invalid if it tries to use that feature and the account doesn't have it feature and the account doesn't have it. Feature and the account doesn't have it enabled enabled enabled and for any account to enable the. And for any account to enable the and for any account to enable the feature the new stack. Feature the new stack feature the new stack that's a that's a that's a right now you have to like constantly. Right now you have to like constantly right now you have to like constantly check that. Check that check that that when you're engaging in a that when you're engaging in a. that when you're engaging in a protocol that looks like it's okay that protocol that looks like it's okay that. Protocol that looks like it's okay that that account actually has this flag set that account actually has this flag set. That account actually has this flag set so I'm so I'm so I'm really I don't understand what benefit. Really I don't understand what benefit really I don't understand what benefit could possibly outweigh like I was. Could possibly outweigh like I was could possibly outweigh like I was saying it's a faster implementation so. Saying it's a faster implementation so saying it's a faster implementation so you know if we if if you know if. You know if we if if you know if you know if we if if you know if no I just wanted to mention because i. No I just wanted to mention because I no I just wanted to mention because I know that was raised before and and and. Know that was raised before and and and know that was raised before and and and by looking at the first kind of round of. By looking at the first kind of round of by looking at the first kind of round of. Questions on that lee had on that questions on that lee had on that questions on that lee had on that. Prototype prototype prototype I mean it looks like it's a legitimate I mean it looks like it's a legitimate. I mean it looks like it's a legitimate concern concern concern I mean so maybe can you explain a. I mean so maybe can you explain a I mean so maybe can you explain a little bit. Little bit little bit better like what what the complication better like what what the complication. Better like what what the complication is of having it is of having it is of having it . It's around the setup I think of test it's around the setup I think of test it's around the setup I think of test. Code like a lot of times we're code like a lot of times we're code like a lot of times we're. Creating accounts we're doing all those creating accounts we're doing all those creating accounts we're doing all those. Things and I think things and I think things and I think those accounts are created. those accounts are created those accounts are created without accounting without accounting. Without accounting entry extensions well with the yeah entry extensions well with the yeah. Entry extensions well with the yeah with the default change like that they with the default change like that they. With the default change like that they would be created would be created would be created. With the this extension with the this extension with the this extension and and then when we do the so. And and then when we do the so and and then when we do the so basically we create like a snapshot of. Basically we create like a snapshot of basically we create like a snapshot of the ledger right . The ledger right the ledger right and then we run a bunch of tests for and then we run a bunch of tests for. And then we run a bunch of tests for different protocol versions different protocol versions. Different protocol versions and here the protocol version is and here the protocol version is. And here the protocol version is obviously in like for older protocol obviously in like for older protocol. Obviously in like for older protocol versions this would be invalid an versions this would be invalid an. Versions this would be invalid an invalid ledger state invalid ledger state invalid ledger state. so I think there's a bunch of so I think there's a bunch of so I think there's a bunch of. Refactoring that needs to be done I mean refactoring that needs to be done I mean. Refactoring that needs to be done I mean they've been involved ledger state they've been involved ledger state. They've been involved ledger state well an account with such an extension well an account with such an extension. Well an account with such an extension is not valid as of today right is not valid as of today right. Is not valid as of today right so I mean what what happened when you so I mean what what happened when you. So I mean what what happened when you upgraded to account entry extension v2 upgraded to account entry extension v2. Upgraded to account entry extension v2 why is this any different from the v2 v1 why is this any different from the v2 v1. Why is this any different from the v2 v1 to v2 beyond v2 was an opt-in right like it. beyond v2 was an opt-in right like it was only when you were was only when you were. Was only when you were using I mean from everyone to each using I mean from everyone to each. Using I mean from everyone to each other liabilities right so that's what other liabilities right so that's what. Other liabilities right so that's what one one one number sponsored and number sponsoring. Number sponsored and number sponsoring number sponsored and number sponsoring like sponsors yeah. Like sponsors yeah like sponsors yeah otherwise we didn't change it otherwise we didn't change it. Otherwise we didn't change it we would not we would not we would not and touch it. And touch it and touch it clarify something here is the clarify something here is the. Clarify something here is the the way that the proposal is currently the way that the proposal is currently. The way that the proposal is currently written I think what I'm understanding written I think what I'm understanding. Written I think what I'm understanding is that is that is that when an account is created it'll. When an account is created it'll when an account is created it'll automatically have an accounting entry. Automatically have an accounting entry automatically have an accounting entry extension v3 at that point there's no. Extension v3 at that point there's no extension v3 at that point there's no way otherwise right. Way otherwise right way otherwise right and yeah so basically like the reason and yeah so basically like the reason. And yeah so basically like the reason that this will be confusing david is that this will be confusing david is. That this will be confusing david is that like that like that like there's like. there's like there's like old historical tests which is a lot of old historical tests which is a lot of. Old historical tests which is a lot of the tests like many thousands possibly the tests like many thousands possibly. The tests like many thousands possibly tens of thousands of tests tens of thousands of tests. Tens of thousands of tests were written such a way that like the were written such a way that like the. were written such a way that like the setup was done in the current protocol setup was done in the current protocol. Setup was done in the current protocol version and then you like time travel version and then you like time travel. Version and then you like time travel backwards in time and do the tests in backwards in time and do the tests in. Backwards in time and do the tests in the appropriate protocol version the appropriate protocol version. The appropriate protocol version so we'd have to go and fix that so we'd have to go and fix that . so we'd have to go and fix that yeah yeah yeah so you're saying that right now if i. So you're saying that right now if I so you're saying that right now if I create a new. Create a new create a new you're saying that right now if I create you're saying that right now if I create. You're saying that right now if I create a new account I don't get an account a new account I don't get an account. A new account I don't get an account entry extension v2 correct you you just entry extension v2 correct you you just. Entry extension v2 correct you you just have null extension now maybe there's an argument that we. Now maybe there's an argument that we should go and fix our tests anyway should go and fix our tests anyway. Should go and fix our tests anyway yeah I mean that's why I was saying like yeah I mean that's why I was saying like. Yeah I mean that's why I was saying like it's a it's a trade-off right like can i. It's a it's a trade-off right like can I it's a it's a trade-off right like can i. Write you can I write you like an xdr write you can I write you like an xdr. Write you can I write you like an xdr converter that will automatically I mean. Converter that will automatically I mean converter that will automatically I mean. It seems like we could I mean do the tests have like specific I mean do the tests have like specific. Like shot 256 hash values of ledger like shot 256 hash values of ledger like shot 256 hash values of ledger. State is that the problem well they can't though because there's well they can't though because there's. Other there's other values like like the other there's other values like like the. Other there's other values like like the ledger number and stuff that aren't ledger number and stuff that aren't. Ledger number and stuff that aren't there so what so what specifically is it there so what so what specifically is it. There so what so what specifically is it that fails in the test that fails in the test. That fails in the test like maybe there's just like an xdr like maybe there's just like an xdr. Like maybe there's just like an xdr there's like some there's like some there's like some. Template magic invalid xdr at as of template magic invalid xdr at as of template magic invalid xdr at as of . Currently so if I just so if I just so if you just write a an unmarching so if you just write a an unmarching. So if you just write a an unmarching function that will unmarshal function that will unmarshal. Function that will unmarshal a new a new a new account entry to to an old one by. account entry to to an old one by account entry to to an old one by stripping off the entry extensions v2. Stripping off the entry extensions v2 stripping off the entry extensions v2 and three then we're good right all we. And three then we're good right all we and three then we're good right all we need is that one function. Need is that one function need is that one function no not really no not really. no not really like I mean yes yes you could in like I mean yes yes you could in. Like I mean yes yes you could in principle do that principle do that principle do that. But like in practice what's happening is but like in practice what's happening is. But like in practice what's happening is like we have these like invariants like we have these like invariants. Like we have these like invariants that are written right like they check that are written right like they check. That are written right like they check that like nothing is broken things that like nothing is broken things. That like nothing is broken things that things only exist if they should that things only exist if they should. That things only exist if they should exist in effect like no negative exist in effect like no negative. Exist in effect like no negative balances blah blah balances blah blah balances blah blah. And in practice like you could imagine and in practice like you could imagine and in practice like you could imagine. The sequence of operations is like the sequence of operations is like the sequence of operations is like. You're in protocol version 19 let's say you're in protocol version 19 let's say you're in protocol version 19 let's say. Or 20 or whatever whenever we get this or 20 or whatever whenever we get this or 20 or whatever whenever we get this. Done done done you create an account it has account you create an account it has account. you create an account it has account entry extension v3 you travel back in entry extension v3 you travel back in. Entry extension v3 you travel back in time time time you go and do some other operation. You go and do some other operation you go and do some other operation you know you're not doing like raw xdr. You know you're not doing like raw xdr you know you're not doing like raw xdr operations it's like literally a seller. Operations it's like literally a seller operations it's like literally a seller operation so let's call it like a. Operation so let's call it like a operation so let's call it like a payment it goes and does this payment . Payment it goes and does this payment payment it goes and does this payment . It goes it loads up this thing it goes it loads up this thing it goes it loads up this thing. It loads it happily because it knows how it loads it happily because it knows how. It loads it happily because it knows how to load it it's valid xdr in the terms to load it it's valid xdr in the terms. To load it it's valid xdr in the terms of like what the xtr is sorry but it is of like what the xtr is sorry but it is. Of like what the xtr is sorry but it is marshalled or it's unmarshalled you're marshalled or it's unmarshalled you're. Marshalled or it's unmarshalled you're loading up the bytes so you're loading loading up the bytes so you're loading. Loading up the bytes so you're loading you're just have a simple structure you're just have a simple structure. You're just have a simple structure floating around you're loading up the floating around you're loading up the. Floating around you're loading up the literal bytes but like this is literal bytes but like this is. Literal bytes but like this is happening like deep deep deep inside of happening like deep deep deep inside of. Happening like deep deep deep inside of cell record like not not in the test cell record like not not in the test. Cell record like not not in the test it's like you know in the actual it's like you know in the actual. It's like you know in the actual production code production code production code then you like load this thing up it's. Then you like load this thing up it's then you like load this thing up it's happy because it's good you go through. Happy because it's good you go through happy because it's good you go through you do the operation everything is fine. You do the operation everything is fine you do the operation everything is fine and then you hit the invariant and the. And then you hit the invariant and the and then you hit the invariant and the invariant's like oh no you're dead. Invariant's like oh no you're dead invariant's like oh no you're dead because you have this thing that. Because you have this thing that because you have this thing that shouldn't have been there. Shouldn't have been there shouldn't have been there the right solution is just to fix the. The right solution is just to fix the the right solution is just to fix the test so that they do the setup in the. Test so that they do the setup in the test so that they do the setup in the right version do you realize you guys. Right version do you realize you guys right version do you realize you guys are like massively making the case that. Are like massively making the case that are like massively making the case that I was making several weeks ago that like. I was making several weeks ago that like I was making several weeks ago that like. We shouldn't be doing our extensions we shouldn't be doing our extensions we shouldn't be doing our extensions. This way right because like if there's this way right because like if there's this way right because like if there's. Any benefit to doing this horrible any benefit to doing this horrible any benefit to doing this horrible. Cascading nested thing that's wasteful cascading nested thing that's wasteful cascading nested thing that's wasteful. Of bites wasteful of like program or of bites wasteful of like program or of bites wasteful of like program or. Keystrokes and wasteful of your keystrokes and wasteful of your keystrokes and wasteful of your. Right-hand margin it should be that like right-hand margin it should be that like. Right-hand margin it should be that like this backwards compatibility stuff isn't. This backwards compatibility stuff isn't this backwards compatibility stuff isn't. An issue but like no but david this is an issue but like no but david this is an issue but like no but david this is. Not not not this doesn't matter like this is invalid this doesn't matter like this is invalid. This doesn't matter like this is invalid this is an invalid byte configuration in. This is an invalid byte configuration in this is an invalid byte configuration in. Existing critical version existing critical version existing critical version that's what john just said it's a we. That's what john just said it's a we that's what john just said it's a we have invariants that check that you. Have invariants that check that you have invariants that check that you don't have garbage in the ledger. Don't have garbage in the ledger don't have garbage in the ledger right right right. That's garbage like from today's point that's garbage like from today's point that's garbage like from today's point. Of view it's garbage right it's not bad of view it's garbage right it's not bad of view it's garbage right it's not bad. But I'm saying the extension it has but I'm saying the extension it has but I'm saying the extension it has. Nothing to do with how extensions are nothing to do with how extensions are nothing to do with how extensions are. Set up right but which should I mean set up right but which should I mean set up right but which should I mean. Shouldn't that be one of the benefits of shouldn't that be one of the benefits of. Shouldn't that be one of the benefits of doing these cascaded xdrs is this doing these cascaded xdrs is this. Doing these cascaded xdrs is this backwards compatibility with sources not backwards compatibility with sources not. Backwards compatibility with sources not by quad compatible that's the point like. By quad compatible that's the point like by quad compatible that's the point like. It this is garbage from today's protocol it this is garbage from today's protocol. It this is garbage from today's protocol I'm just saying like I'm just saying like. I'm just saying like this is this is this is we have to rewrite the test for this but. We have to rewrite the test for this but we have to rewrite the test for this but. We would also have had to rewrite the we would also have had to rewrite the we would also have had to rewrite the. Tests if we'd done it the original way tests if we'd done it the original way tests if we'd done it the original way. That I did the extension so I don't I that I did the extension so I don't I that I did the extension so I don't i. Don't see what we've won by this latest don't see what we've won by this latest don't see what we've won by this latest. Change that i've made because a lot of change that i've made because a lot of change that i've made because a lot of. Things have been written wrong in the things have been written wrong in the things have been written wrong in the. First place but the production code first place but the production code first place but the production code. Doesn't have to change at all the doesn't have to change at all the doesn't have to change at all the. Production code all just works exactly production code all just works exactly production code all just works exactly. The same the same the same that's the thing let's see well that's the thing let's see well. that's the thing let's see well whatever okay so whatever okay so whatever okay so. Do we have to write about yourself the do we have to write about yourself the do we have to write about yourself the. Issue here is just tests right like the issue here is just tests right like the issue here is just tests right like the. In the production code the way that it in the production code the way that it in the production code the way that it. Works as proposed is good it prevents works as proposed is good it prevents works as proposed is good it prevents. There from being like a foot gun there from being like a foot gun there from being like a foot gun. But it requires us to but it requires us to but it requires us to to rewrite a bunch of tests is that. To rewrite a bunch of tests is that to rewrite a bunch of tests is that correct correct. Correct yeah I mean like the so the reason going yeah I mean like the so the reason going. Yeah I mean like the so the reason going back to the question I was asking right back to the question I was asking right. Back to the question I was asking right the reason I was asking the question the reason I was asking the question. the reason I was asking the question was to see was to see was to see how bad would it be if we were making. How bad would it be if we were making how bad would it be if we were making this a flag right that's that's the. This a flag right that's that's the this a flag right that's that's the question question. Question yeah and david it seems like it's it's yeah and david it seems like it's it's. Yeah and david it seems like it's it's about yeah it would be really bad so about yeah it would be really bad so. About yeah it would be really bad so that means we need to go fix the test I that means we need to go fix the test i. That means we need to go fix the test I mean that's kind of what you know okay mean that's kind of what you know okay. Mean that's kind of what you know okay cool fixing test is easy it just takes cool fixing test is easy it just takes. Cool fixing test is easy it just takes time like we just need exactly it's it's time like we just need exactly it's it's. Time like we just need exactly it's it's going to be a bit of a time sync but going to be a bit of a time sync but. Going to be a bit of a time sync but that's that's okay I mean if we're that's that's okay I mean if we're. That's that's okay I mean if we're saying it's basically a non-starter to saying it's basically a non-starter to. Saying it's basically a non-starter to have a flag it takes either it takes have a flag it takes either it takes. Have a flag it takes either it takes time or it takes xdr trickery right so time or it takes xdr trickery right so. Time or it takes xdr trickery right so it may be like oh no no no no no the xdr it may be like oh no no no no no the xdr. It may be like oh no no no no no the xdr trickery is going to be like it's going trickery is going to be like it's going. Trickery is going to be like it's going to be validation protocol that's why we to be validation protocol that's why we. To be validation protocol that's why we can't do that can't do that can't do that. So let's but let's yeah that's fine so let's but let's yeah that's fine so let's but let's yeah that's fine. Let's take it offline let's take it offline let's take it offline regardless it's test test hackery right. Regardless it's test test hackery right regardless it's test test hackery right yeah so yeah I wanna I wanna just. Yeah so yeah I wanna I wanna just yeah so yeah I wanna I wanna just exactly one thing about like if we do if. Exactly one thing about like if we do if exactly one thing about like if we do if. We were to introduce a flag I think it we were to introduce a flag I think it we were to introduce a flag I think it. Would have would have would have an impact on the usability an impact on the usability . An impact on the usability of this stuff as well because like of this stuff as well because like. Of this stuff as well because like you're saying like we would never be you're saying like we would never be. You're saying like we would never be able to just create a transaction for an able to just create a transaction for an. Able to just create a transaction for an existing account that hadn't enabled the. Existing account that hadn't enabled the existing account that hadn't enabled the. Flag which means that if you have an flag which means that if you have an flag which means that if you have an. Account that's just sitting there on the account that's just sitting there on the. Account that's just sitting there on the network and you want to interact network and you want to interact. Network and you want to interact with it in this way and with some new with it in this way and with some new. With it in this way and with some new contract contract contract that maybe doesn't require. That maybe doesn't require that maybe doesn't require interactive setup initially you can't. Interactive setup initially you can't interactive setup initially you can't just go and use these features of the. Just go and use these features of the just go and use these features of the network which is sort of inconvenient. Network which is sort of inconvenient network which is sort of inconvenient like so that doesn't won't affect the. Like so that doesn't won't affect the like so that doesn't won't affect the payment channel protocol that we're. Payment channel protocol that we're payment channel protocol that we're hoping to use this for right now but it. Hoping to use this for right now but it hoping to use this for right now but it might affect some other future thing. Might affect some other future thing might affect some other future thing yeah and it's worse than that because we. Yeah and it's worse than that because we yeah and it's worse than that because we. Don't have spv don't have spv don't have spv so like there's no concise proof that an. So like there's no concise proof that an so like there's no concise proof that an. Account actually has this flag so it account actually has this flag so it account actually has this flag so it. Means that the receiver side would like means that the receiver side would like means that the receiver side would like. Synchronously need to like query some synchronously need to like query some synchronously need to like query some. Trusted horizon instance in order to trusted horizon instance in order to trusted horizon instance in order to. Like participate in what should be an like participate in what should be an like participate in what should be an. Offline protocol so okay so flags fix the tests okay so flags fix the tests yeah it's bummer for the test but. Okay what was the second question okay what was the second question time point time point. Time point this one should be a lot easier this one should be a lot easier this one should be a lot easier. Yeah the unsigned thing so my question yeah the unsigned thing so my question yeah the unsigned thing so my question. Was like I don't remember what was like I don't remember what was like I don't remember what. Happened there but like happened there but like happened there but like making that change. Making that change making that change is there is actually not a lot of like is there is actually not a lot of like. Is there is actually not a lot of like the mention in the backwards compat the mention in the backwards compat. The mention in the backwards compat section section section is actually a bit misleading it says. Is actually a bit misleading it says is actually a bit misleading it says that you know nobody cares . That you know nobody cares that you know nobody cares I'm actually not true I'm. I'm actually not true I'm I'm actually not true I'm not so sure I I'm pretty sure we do. Not so sure I I'm pretty sure we do not so sure I I'm pretty sure we do have in historical data transactions. Have in historical data transactions have in historical data transactions with . With with large max time large max time large max time and and and . And the other thing too is that to this and the other thing too is that to this and the other thing too is that to this. Code regardless you know core horizon code regardless you know core horizon code regardless you know core horizon. Sdks they have to handle those large sdks they have to handle those large sdks they have to handle those large. Numbers so in a way like making that numbers so in a way like making that numbers so in a way like making that. Change just makes everything more change just makes everything more change just makes everything more. Complicated complicated complicated so I'm not sure it's actually delighted so I'm not sure it's actually delighted. So I'm not sure it's actually delighted to leave it unsigned I originally had it to leave it unsigned I originally had it. To leave it unsigned I originally had it unsigned and then I feel like unsigned and then I feel like. Unsigned and then I feel like people objected to that I mean all I people objected to that I mean all i. People objected to that I mean all I want is like I think all our time points want is like I think all our time points. Want is like I think all our time points should be like a type def right so it's should be like a type def right so it's. Should be like a type def right so it's like like like the only thing worse I mean I think. The only thing worse I mean I think the only thing worse I mean I think either signed or unsigned is fine it's. Either signed or unsigned is fine it's either signed or unsigned is fine it's just it's bad to have like a mix of the. Just it's bad to have like a mix of the just it's bad to have like a mix of the two right like we should just be. Two right like we should just be two right like we should just be consistent about sign and unsign because. Consistent about sign and unsign because consistent about sign and unsign because. When you start comparing signed and when you start comparing signed and when you start comparing signed and. Unsigned numbers as we all know like you unsigned numbers as we all know like you. Unsigned numbers as we all know like you know bad things start happening so know bad things start happening so. Know bad things start happening so we already have we already have we already have. Now we already have a mix now we already have a mix now we already have a mix claymore balances you signed. Claymore balances you signed claymore balances you signed time down to use unsigned. Time down to use unsigned time down to use unsigned I mean we're there so I mean we're there so. I mean we're there so oh yeah okay oh yeah okay oh yeah okay so I guess so I guess. So I guess out of luck on this one out of luck on this one out of luck on this one. So I mean I so I really don't care I so I mean I so I really don't care i. So I mean I so I really don't care I just want to be the same as other things. Just want to be the same as other things just want to be the same as other things. So I guess i'll keep it unsigned and you so I guess i'll keep it unsigned and you. So I guess i'll keep it unsigned and you know know know we we can add we can regular. We we can add we can regular we we can add we can regular transactions that's kind of the the. Transactions that's kind of the the transactions that's kind of the the concern I have here is that it changes. Concern I have here is that it changes concern I have here is that it changes regular transactions. So so i'll make it unsigned again what make i'll make it unsigned again what make. I'll make it unsigned again what make time point unsigned and we'll deprecate time point unsigned and we'll deprecate. Time point unsigned and we'll deprecate signed time points in future signed time points in future. Signed time points in future operations another another option would be to make. Another another option would be to make the time point inside the new the time point inside the new. The time point inside the new precondition precondition version 2 precondition precondition version 2. Precondition precondition version 2 signed signed signed since that's a new since that's a new. Since that's a new that's a new field nobody's going to be that's a new field nobody's going to be. That's a new field nobody's going to be using that yet using that yet using that yet. We keep the old time point as we keep the old time point as we keep the old time point as. Unselling for backwards compatibility unselling for backwards compatibility unselling for backwards compatibility. I know it seems I know it seems I know it seems not worth it to me but yeah let's keep it unsigned. Let's keep it unsigned okay okay okay sounds good all right so time points remain unsigned. All right so time points remain unsigned where we got next next one is around next one is around. the the the section on how transactions get section on how transactions get. Section on how transactions get forwarded forwarded forwarded so so so basically says that they are like those. Basically says that they are like those two criterias a and b two criterias a and b . Two criterias a and b that that that allows a node to decide if it's going to allows a node to decide if it's going to. Allows a node to decide if it's going to accumulate basically this transaction in. Accumulate basically this transaction in accumulate basically this transaction in. Its in its queues its in its queues its in its queues and and and . Yeah yeah yeah so like the first question is that so yeah so I think that the so yeah so I think that the . The criteria b the criteria b the criteria b    talks about talks about. Talks about lower signals it's actually not lower signals it's actually not. lower signals it's actually not clear it's it seems to imply that you clear it's it seems to imply that you. Clear it's it seems to imply that you are actually allowing are actually allowing . Are actually allowing transactions to be accumulated if we transactions to be accumulated if we. Transactions to be accumulated if we receive them out of order and I think receive them out of order and I think. Receive them out of order and I think this is probably not the intent that's the first question. That's the first question oh so in other words I say don't forward oh so in other words I say don't forward. Oh so in other words I say don't forward it but you should it should be stronger it but you should it should be stronger. It but you should it should be stronger than that it should be just like throw than that it should be just like throw. Than that it should be just like throw it away it away it away like should yeah like it should not be. Like should yeah like it should not be like should yeah like it should not be better. Better better that's a good point right e is actually that's a good point right e is actually. That's a good point right e is actually it should be it shouldn't have this. It should be it shouldn't have this it should be it shouldn't have this lower sequence number I think on the. Does that make sense wait what do you does that make sense wait what do you mean there shouldn't be no you. Mean there shouldn't be no you mean there shouldn't be no you like right now you're saying it's. Like right now you're saying it's like right now you're saying it's invalid invalid. Invalid if either if either if either you know the condition is not met so you know the condition is not met so. you know the condition is not met so this is those are easy right the the the this is those are easy right the the the. This is those are easy right the the the b is what I'm interested in like right b is what I'm interested in like right. B is what I'm interested in like right now it says now it says now it says it's invalid if there is already a. It's invalid if there is already a it's invalid if there is already a transaction with a lower signal. Sorry it's invalid no it is valid that's sorry it's invalid no it is valid that's. What your text says what your text says what your text says is the polarity a transaction with a. Is the polarity a transaction with a is the polarity a transaction with a non-zero min ck german sequential. Non-zero min ck german sequential non-zero min ck german sequential atmosphere is invalid enough forwarded. Atmosphere is invalid enough forwarded atmosphere is invalid enough forwarded if either a the appropriate condition. If either a the appropriate condition if either a the appropriate condition doesn't hold. Doesn't hold doesn't hold or b there are pending valid or b there are pending valid. Or b there are pending valid transactions with lower sequence numbers transactions with lower sequence numbers. Transactions with lower sequence numbers on the same source account okay so wait on the same source account okay so wait. On the same source account okay so wait so what's and you're saying b I should so what's and you're saying b I should. So what's and you're saying b I should say and in case b should also throw it say and in case b should also throw it. Say and in case b should also throw it away instead of storing it in memory away instead of storing it in memory. Away instead of storing it in memory well it's in valid right so we are well it's in valid right so we are. Well it's in valid right so we are throwing it away my the question it's throwing it away my the question it's. Throwing it away my the question it's not no no it's not invalid it's not not no no it's not invalid it's not. Not no no it's not invalid it's not invalid invalid invalid in a it's in validity it's valid but. In a it's in validity it's valid but in a it's in validity it's valid but they're things with a lower sequence. They're things with a lower sequence they're things with a lower sequence number so let me give you an example. Number so let me give you an example number so let me give you an example just to make sure we're we're on the. Just to make sure we're we're on the just to make sure we're we're on the same page right so you have a. Same page right so you have a same page right so you have a transaction with sequence number two. Transaction with sequence number two transaction with sequence number two but but . But but that could execute immediately but that could execute immediately but that could execute immediately. because it has a because it has because it has a because it has because it has a because it has. Like like like a min seek noun a min seek noun a min seek noun that's less than the default. That's less than the default that's less than the default and you have a transaction with. and you have a transaction with and you have a transaction with sequence number one. Sequence number one sequence number one right so you could just execute two in right so you could just execute two in. Right so you could just execute two in isolation isolation isolation or you could execute . Or you could execute or you could execute one but you can't execute them both in. One but you can't execute them both in one but you can't execute them both in the same ledger. The same ledger the same ledger no that understands yes like no that understands yes like. No that understands yes like but here but here but here so if you receive so if you receive. so in your example I have two right so in your example I have two right so in your example I have two right. And I have two and that and then I and I have two and that and then I and I have two and that and then i. Receive one what happens receive one what happens receive one what happens . Then then one takes priority like you then then one takes priority like you then then one takes priority like you. Okay so this then it makes so then okay so this then it makes so then okay so this then it makes so then. This is kind of broken right it's this is kind of broken right it's this is kind of broken right it's. Actually under specified first of all actually under specified first of all actually under specified first of all. It's it's it's why is it underspecified why is it underspecified why is it underspecified. Well you're actually not saying that well you're actually not saying that well you're actually not saying that. You're talking about you're talking about you're talking about I guess it so yeah you're saying you're kicking out. So yeah you're saying you're kicking out highest highest highest transactions with higher signal. Transactions with higher signal transactions with higher signal that's right like you'll still vote for. That's right like you'll still vote for that's right like you'll still vote for a block you know you'll still nominate a. A block you know you'll still nominate a a block you know you'll still nominate a. Block that has it but is that a good block that has it but is that a good block that has it but is that a good. Property I mean it sounds kind of weird property I mean it sounds kind of weird property I mean it sounds kind of weird. We already have this it's exactly we we already have this it's exactly we we already have this it's exactly we. Already have this exact situation no we already have this exact situation no we already have this exact situation no we. Don't kick out transactions like this don't kick out transactions like this don't kick out transactions like this. Okay let me let me tell you a situation okay let me let me tell you a situation okay let me let me tell you a situation. I believe is exactly analogous which is I believe is exactly analogous which is I believe is exactly analogous which is. That you receive that you receive that you receive a transaction a transaction a transaction. With with with you know a fee of 100 you know a fee of 100 you know a fee of 100 and then you receive another transaction. And then you receive another transaction and then you receive another transaction. The same sequence number that has like a the same sequence number that has like a. The same sequence number that has like a fee of 200 right and so now if you've fee of 200 right and so now if you've. Fee of 200 right and so now if you've already of course forwarded the 100 well already of course forwarded the 100 well. Already of course forwarded the 100 well you forwarded it fine but now you'll you forwarded it fine but now you'll. You forwarded it fine but now you'll forward the 200 and if you see both forward the 200 and if you see both. Forward the 200 and if you see both you'll only forward the one with the you'll only forward the one with the. You'll only forward the one with the higher fee higher fee higher fee and so that's the same that's the same. And so that's the same that's the same and so that's the same that's the same way we're basically like among multiple. Way we're basically like among multiple way we're basically like among multiple mutually exclusive but valid. Mutually exclusive but valid mutually exclusive but valid transactions you need a way to. Transactions you need a way to transactions you need a way to prioritize them and I'm saying here. Prioritize them and I'm saying here prioritize them and I'm saying here you prioritize the one with the lower. You prioritize the one with the lower you prioritize the one with the lower sequence number. Sequence number sequence number now why do you need this question oh because because the second one might. Oh because because the second one might could later be valid right you're not could later be valid right you're not. Could later be valid right you're not yeah unlike the case of the sequence yeah unlike the case of the sequence. Yeah unlike the case of the sequence numbers you're not you're not numbers you're not you're not. Numbers you're not you're not necessarily completely invalidating the necessarily completely invalidating the. Necessarily completely invalidating the second transaction you're just it will second transaction you're just it will. Second transaction you're just it will have to execute like a you know an hour have to execute like a you know an hour. Have to execute like a you know an hour later or whatever the you know whatever later or whatever the you know whatever. Later or whatever the you know whatever the min seek age is the min seek age is the min seek age is. So or men whatever the so or men whatever the so or men whatever the yeah yeah. Yeah yeah yeah yeah so so so you know you might as well like so so you know you might as well like. Keep them the most number of keep them the most number of keep them the most number of. Transactions valid I mean if you're if transactions valid I mean if you're if transactions valid I mean if you're if. You you you are strongly opposed to this we could I are strongly opposed to this we could i. Are strongly opposed to this we could I guess doesn't really matter we could I guess doesn't really matter we could. I guess doesn't really matter we could we could favor the other one but I don't. We could favor the other one but I don't we could favor the other one but I don't. I don't see I mean I like it sounds like I don't see I mean I like it sounds like. I don't see I mean I like it sounds like kind of arbitrary so that's why I'm I'm kind of arbitrary so that's why I'm I'm. Kind of arbitrary so that's why I'm I'm asking like why the first one shouldn't asking like why the first one shouldn't. Asking like why the first one shouldn't win in this case win in this case win in this case. In some ways it might be more useful if in some ways it might be more useful if in some ways it might be more useful if. The second one is yeah because we often the second one is yeah because we often the second one is yeah because we often. Say that we often say that sequence say that we often say that sequence say that we often say that sequence. Numbers is how you invalidate prior numbers is how you invalidate prior numbers is how you invalidate prior. Transactions transactions transactions so so so it sounds like if we say that the. it sounds like if we say that the it sounds like if we say that the first one wins then you could never use. First one wins then you could never use first one wins then you could never use a higher sequence number transaction. A higher sequence number transaction a higher sequence number transaction with a min sequence number it was lower. With a min sequence number it was lower with a min sequence number it was lower to invalidate a prior transaction. To invalidate a prior transaction to invalidate a prior transaction but someone could always well they might. But someone could always well they might but someone could always well they might. Not be able to submit it because they not be able to submit it because they not be able to submit it because they. Might they might not it might have a a might they might not it might have a a might they might not it might have a a. Timeout it might have a a min timeout it might have a a min timeout it might have a a min. I'm in time right which is generally how I'm in time right which is generally how. I'm in time right which is generally how this works so this works so this works so. so like you know the reason I did this so like you know the reason I did this is because. Is because is because like you know it seems more useful to have you know it seems more useful to have. Like two if you have two transactions like two if you have two transactions like two if you have two transactions. Then they can both execute it seems then they can both execute it seems then they can both execute it seems. Helpful to have it be such that both can helpful to have it be such that both can. Helpful to have it be such that both can execute and you know if you accidentally. Execute and you know if you accidentally execute and you know if you accidentally. Release if you accidentally send out the release if you accidentally send out the. Release if you accidentally send out the second transaction too soon like second transaction too soon like. Second transaction too soon like you know I don't strongly care if you want it the. I don't strongly care if you want it the other way around I can do it around it other way around I can do it around it. Other way around I can do it around it has some implication right from a dos has some implication right from a dos. Has some implication right from a dos money because you can basically like money because you can basically like. Money because you can basically like if you have this rule right well you if you have this rule right well you. If you have this rule right well you don't say first win first one wins don't say first win first one wins. Don't say first win first one wins you basically can you basically can you basically can. So with the example this will collect so with the example this will collect so with the example this will collect. More fees right the the more fees right the the more fees right the the current draft will collect fees on both. Current draft will collect fees on both current draft will collect fees on both transactions no you're dropping transfer. Transactions no you're dropping transfer transactions no you're dropping transfer. You know let me finish so with the you know let me finish so with the you know let me finish so with the . The example you give you said it's the the example you give you said it's the the example you give you said it's the. Same thing when the fee with the fee you same thing when the fee with the fee you. Same thing when the fee with the fee you have to actually outbid right so have to actually outbid right so. Have to actually outbid right so you have to constantly like if you want you have to constantly like if you want. You have to constantly like if you want to to to cancel a pending transaction you have. cancel a pending transaction you have cancel a pending transaction you have. To update it to update it to update it right right right with this one you don't have to update. With this one you don't have to update with this one you don't have to update it it it can be the same fee. It it it can be the same fee it it it can be the same fee no you are you you said the. No you are you you said the the that transaction that was in the the that transaction that was in the. The that transaction that was in the transaction queue gets discarded transaction queue gets discarded. Transaction queue gets discarded because I have a lower sequencing number because I have a lower sequencing number. Because I have a lower sequencing number I'm not currently discarding it I I'm not currently discarding it i. I'm not currently discarding it I thought that's what you were suggesting thought that's what you were suggesting. Thought that's what you were suggesting currently you're just not forwarding it currently you're just not forwarding it. Currently you're just not forwarding it so just to be clear david what you're so just to be clear david what you're. So just to be clear david what you're suggesting is like imagine that I have suggesting is like imagine that I have. Suggesting is like imagine that I have seen like currency numbers 10 I submit a seen like currency numbers 10 I submit a. Seen like currency numbers 10 I submit a transaction with minstic 10 actual seek transaction with minstic 10 actual seek. Transaction with minstic 10 actual seek 12 12 12 and then I later receive and then I later receive. And then I later receive seek 11. Seek 11. Seek 11. Europe your approach that what you what europe your approach that what you what europe your approach that what you what. We think is in the cap and i've been we think is in the cap and i've been we think is in the cap and i've been. Rereading it like five times here while rereading it like five times here while rereading it like five times here while. Everybody's been talking to make sure I everybody's been talking to make sure I everybody's been talking to make sure i. Think that's what actually it says is think that's what actually it says is think that's what actually it says is. That you would actually keep both in that you would actually keep both in that you would actually keep both in. That case because yes because you don't know case because yes because you don't know. Like you could see a block that has like you could see a block that has like you could see a block that has. Either one it's the same way like if you either one it's the same way like if you. Either one it's the same way like if you see see see I mean I really I think it's very. I mean I really I think it's very I mean I really I think it's very similar to the to the to the multiple. Similar to the to the to the multiple similar to the to the to the multiple. prices to the multiple prices to the multiple prices to the multiple . Fees right whereas like you know you see fees right whereas like you know you see. Fees right whereas like you know you see you saw the fee of 100 then you see this. You saw the fee of 100 then you see this you saw the fee of 100 then you see this. Fee of 200 so you forward that as well fee of 200 so you forward that as well fee of 200 so you forward that as well. And you know you still need to kind of and you know you still need to kind of and you know you still need to kind of. Keep the fee of 100 around because it keep the fee of 100 around because it keep the fee of 100 around because it. Could be that the block that gets could be that the block that gets could be that the block that gets. Nominated has that so you don't want to nominated has that so you don't want to nominated has that so you don't want to. Like if you see a hash of that like if you see a hash of that like if you see a hash of that. Transaction you still will need to like transaction you still will need to like transaction you still will need to like. You know get the pre-image of it right you know get the pre-image of it right you know get the pre-image of it right. We actually don't have that transaction we actually don't have that transaction we actually don't have that transaction. So you might actually have to then go so you might actually have to then go so you might actually have to then go. Fetch it from another Stellar core fetch it from another Stellar core fetch it from another Stellar core. Potentially but the other thing we potentially but the other thing we potentially but the other thing we. Can do can do can do the other thing though is that with the other thing though is that with. The other thing though is that with the fees the fees back off exponentially the fees the fees back off exponentially. The fees the fees back off exponentially that's a big difference against this and. That's a big difference against this and that's a big difference against this and. I think that's what nico was saying I think that's what nico was saying I think that's what nico was saying. Like I think I forget what multiplier we like I think I forget what multiplier we. Like I think I forget what multiplier we use I forgot if we ended up using two or. Use I forgot if we ended up using two or use I forgot if we ended up using two or. Ten we debated about it for a long time ten we debated about it for a long time ten we debated about it for a long time. But either way it's like you can only do but either way it's like you can only do. But either way it's like you can only do this 64 times this 64 times this 64 times. With fees or maybe it's 10 times or 20 with fees or maybe it's 10 times or 20 with fees or maybe it's 10 times or 20. Times with the times with the times with the like the scenario that i've been trying. Like the scenario that i've been trying like the scenario that i've been trying to think about while I was rereading. To think about while I was rereading to think about while I was rereading your thing repeatedly is like. Your thing repeatedly is like your thing repeatedly is like what if I have two transactions. What if I have two transactions what if I have two transactions and they can't both execute because of. And they can't both execute because of and they can't both execute because of fees I don't have enough balance to pay. Fees I don't have enough balance to pay fees I don't have enough balance to pay both fees. Both fees both fees but so like going back to my scenario but so like going back to my scenario. But so like going back to my scenario you're at 10 you have minty 10 seek 12 you're at 10 you have minty 10 seek 12. You're at 10 you have minty 10 seek 12 then you receive 11. Then you receive 11. Then you receive 11. The fees be the fees make the two the fees be the fees make the two the fees be the fees make the two. Transactions mutually exclusive transactions mutually exclusive transactions mutually exclusive. Which one do I take which one do I take which one do I take because then I do end up throwing out. Because then I do end up throwing out because then I do end up throwing out the future one. The future one the future one if I take the other one if I take the other one if I take the other one. And how do you implement this and what's and how do you implement this and what's. And how do you implement this and what's the right thing to do like the right thing to do like. The right thing to do like it's not obvious in that case if the it's not obvious in that case if the. It's not obvious in that case if the fees make it mutually exclusive fees make it mutually exclusive. Fees make it mutually exclusive so like the implementation is actually so like the implementation is actually. So like the implementation is actually harder in that case well so so hold on harder in that case well so so hold on. Harder in that case well so so hold on this seems no different from today so this seems no different from today so. This seems no different from today so suppose forget forget you know the suppose forget forget you know the. Suppose forget forget you know the min min seek num right suppose that I min min seek num right suppose that i. Min min seek num right suppose that I put out transactions you know with I put out transactions you know with. I put out transactions you know with sequence numbers 11 and 12. like sequence numbers 11 and 12. like. Sequence numbers 11 and 12. like right now they'll both be forwarded but right now they'll both be forwarded but. Right now they'll both be forwarded but what if there's not enough fee for 12 what if there's not enough fee for 12. What if there's not enough fee for 12 well then you would throw that out I well then you would throw that out i. Well then you would throw that out I guess right guess right guess right but I wouldn't accepted 12. Because you kind of so you're in in the because you kind of so you're in in the so for pending transactions you're. so for pending transactions you're so for pending transactions you're sort of keeping track of the cumulative. Sort of keeping track of the cumulative sort of keeping track of the cumulative fee that's been charged. Fee that's been charged fee that's been charged i'd have to go and check how we do this. I'd have to go and check how we do this for fee bumps for fee bumps for fee bumps. I don't I don't remember if we reject I don't I don't remember if we reject I don't I don't remember if we reject. The fee bump if you wouldn't have the the fee bump if you wouldn't have the the fee bump if you wouldn't have the. Fee to pay for all the subsequent fee to pay for all the subsequent fee to pay for all the subsequent. Transactions or if we transactions or if we transactions or if we yeah yeah yeah it's the same thing we. yeah yeah yeah it's the same thing we yeah yeah yeah it's the same thing we. Have to basically you have to whatever have to basically you have to whatever have to basically you have to whatever. Is in the queue you have to be able to is in the queue you have to be able to is in the queue you have to be able to. Pay for the feeds pay for the feeds pay for the feeds that are you sure that's what we. That are you sure that's what we that are you sure that's what we implemented I'm not positive okay oh no. Implemented I'm not positive okay oh no implemented I'm not positive okay oh no it's yeah I'm sure . It's yeah I'm sure it's yeah I'm sure yeah so then that would make this that. Yeah so then that would make this that yeah so then that would make this that would make this a little bit trickier. Would make this a little bit trickier would make this a little bit trickier david where it's like like then you have. David where it's like like then you have david where it's like like then you have. To handle the case like oh like I have to handle the case like oh like I have to handle the case like oh like I have. This earlier transaction but I don't this earlier transaction but I don't this earlier transaction but I don't. Have a fee for it we should make it have a fee for it we should make it have a fee for it we should make it. Symmetric against the symmetric against the symmetric against the the female case I guess. The female case I guess the female case I guess so wait so you're you're saying that. So wait so you're you're saying that the feedback the outer transaction the feedback the outer transaction. The feedback the outer transaction doesn't have enough doesn't have enough doesn't have enough. To pay or sorry what's your yeah the outer like yeah the outer like oh it doesn't really matter like it like. Oh it doesn't really matter like it like oh it doesn't really matter like it like. I both I have both a I both I have both a I both I have both a a normal transaction and a fee bump. A normal transaction and a fee bump a normal transaction and a fee bump transaction that I'm that I'm paying for. Transaction that I'm that I'm paying for transaction that I'm that I'm paying for. On a different account on a different account on a different account you're saying and now you have to like. You're saying and now you have to like you're saying and now you have to like prioritize one or the other. Prioritize one or the other prioritize one or the other does it even have to be on a. does it even have to be on a does it even have to be on a different account I think it could even. Different account I think it could even different account I think it could even work on the same account. Work on the same account work on the same account on different accounts it definitely. On different accounts it definitely on different accounts it definitely works like this if you don't have the. Works like this if you don't have the works like this if you don't have the balance on this the other account then. Balance on this the other account then balance on this the other account then we'll we'll just reject you know but. We'll we'll just reject you know but we'll we'll just reject you know but there's different sequence numbers so i. There's different sequence numbers so I there's different sequence numbers so I can issue like fee bumps on like three. Can issue like fee bumps on like three can issue like fee bumps on like three different transactions on three. Different transactions on three different transactions on three different source accounts right. Different source accounts right different source accounts right and and and if I can only pay for two out of those. If I can only pay for two out of those if I can only pay for two out of those three then like different validators are. Three then like different validators are three then like different validators are. Gonna forward potentially like different gonna forward potentially like different. Gonna forward potentially like different subsets of these three transactions subsets of these three transactions. Subsets of these three transactions right so right so right so this seems like a very similar . This seems like a very similar this seems like a very similar situation so I don't know why no it's. Situation so I don't know why no it's situation so I don't know why no it's not it is similar if you. Not it is similar if you not it is similar if you that's that's what I was teasing out. That's that's what I was teasing out that's that's what I was teasing out right like what you what you described. Right like what you what you described right like what you what you described in the. In the in the so imagine your mean is like one you so imagine your mean is like one you. So imagine your mean is like one you know it's like whatever it doesn't know it's like whatever it doesn't. Know it's like whatever it doesn't matter basically it's set but it's one matter basically it's set but it's one. Matter basically it's set but it's one and and now you're at yeah like the and and now you're at yeah like the. And and now you're at yeah like the the six you get first transaction the six you get first transaction. The six you get first transaction sequence number ten sequence number ten sequence number ten. Then you get the second transaction then you get the second transaction then you get the second transaction. Sequence number eleven that's what you sequence number eleven that's what you sequence number eleven that's what you. Actually described here you're dealing actually described here you're dealing actually described here you're dealing. With that case that is 11 in this case with that case that is 11 in this case with that case that is 11 in this case. You will consider it invalid because you will consider it invalid because you will consider it invalid because. For now right because you have 10 and for now right because you have 10 and for now right because you have 10 and. You can't process it in the same block you can't process it in the same block you can't process it in the same block. So you just so you just so you just in this case you just discard 11 in this case you just discard 11. In this case you just discard 11 everything is good everything is good everything is good. 11 basically can be resubmitted later 11 basically can be resubmitted later 11 basically can be resubmitted later. All right all right all right now consider the now consider the now consider the this in the other direction I'm. This in the other direction I'm this in the other direction I'm receiving 11 receiving 11. Receiving 11 and right now you're saying that 10 is and right now you're saying that 10 is. And right now you're saying that 10 is valid valid valid so if 10 is valid I need to discard 11. So if 10 is valid I need to discard 11. So if 10 is valid I need to discard 11. That's the difference here is that that's the difference here is that that's the difference here is that. You're discarding things from the queue you're discarding things from the queue you're discarding things from the queue. So you basically can have a situation so you basically can have a situation so you basically can have a situation. Where where where now take this to you know a thousand I'm now take this to you know a thousand I'm. Now take this to you know a thousand I'm going to flood t 1000 going to flood t 1000. Going to flood t 1000 then and I'm going to basically submit then and I'm going to basically submit. Then and I'm going to basically submit to the network nine you know like one to the network nine you know like one. To the network nine you know like one less every time and those are all going less every time and those are all going. Less every time and those are all going to get forwarded they're all getting to get forwarded they're all getting. To get forwarded they're all getting flooded flooded flooded and at the end only one gets actually in. And at the end only one gets actually in and at the end only one gets actually in. The queue which is the the smaller one the queue which is the the smaller one the queue which is the the smaller one. So I use all this capacity on the so I use all this capacity on the so I use all this capacity on the. Overlay right overlay right overlay right with no repercussion keywords okay so you so and this would be fixed. Okay so you so and this would be fixed okay so you so and this would be fixed if we picked the the highest sequence. If we picked the the highest sequence if we picked the the highest sequence number. Number number if we pick no no no you don't need you if we pick no no no you don't need you. If we pick no no no you don't need you so highest has the same problem right it's what you want to do is the first. It's what you want to do is the first one wins I think independent of the sequence number the. Independent of the sequence number the first string don't care first string don't care. First string don't care basically you don't care like if there basically you don't care like if there. Basically you don't care like if there is the first one that's in the queue is the first one that's in the queue. Is the first one that's in the queue then if the second one arrives it then if the second one arrives it. then if the second one arrives it says oh there is already something with says oh there is already something with. Says oh there is already something with a a condition like that a a condition like that. A a condition like that yeah so so the yeah so so the yeah so so the like we can totally do that. Like we can totally do that like we can totally do that the downside now is that you're more. The downside now is that you're more the downside now is that you're more likely to get conflicting nominations if. Likely to get conflicting nominations if likely to get conflicting nominations if. There's more than one leader there's more than one leader there's more than one leader. Yeah but that's that's fine it's yeah but that's that's fine it's yeah but that's that's fine it's. Actually better from a flooding point of actually better from a flooding point of. Actually better from a flooding point of view the network is going to be much view the network is going to be much. View the network is going to be much more resilient at this point and it's more resilient at this point and it's. More resilient at this point and it's just yeah just yeah just yeah sorry and is this what happens with . Sorry and is this what happens with sorry and is this what happens with is this what happens with female. Is this what happens with female is this what happens with female transactions like in my example of. Transactions like in my example of transactions like in my example of because we should just be consistent so. Because we should just be consistent so because we should just be consistent so in my example where i. In my example where I in my example where I create three bumps any two of the I create three bumps any two of the. I create three bumps any two of the three are okay and I basically flood three are okay and I basically flood. Three are okay and I basically flood different pairs of them to different different pairs of them to different. Different pairs of them to different validators they'll each forward like the validators they'll each forward like the. Validators they'll each forward like the first two that they got I mean it's the first two that they got I mean it's the. First two that they got I mean it's the same with p bunk it's the same if you same with p bunk it's the same if you. Same with p bunk it's the same if you have like you know if I submit two have like you know if I submit two. Have like you know if I submit two transactions with the same fee and same transactions with the same fee and same. Transactions with the same fee and same signal signal signal right they're basically competing on the. Right they're basically competing on the right they're basically competing on the. Overlay overlay overlay and the the second one is always like a and the the second one is always like a. And the the second one is always like a bad check right like you always say and bad check right like you always say and. Bad check right like you always say and then just you just have to fetch it from then just you just have to fetch it from. Then just you just have to fetch it from the denominator it's not that you fetch the denominator it's not that you fetch. The denominator it's not that you fetch it it's like whoever submitted that it it's like whoever submitted that. It it's like whoever submitted that thing will have to resubmit it to the thing will have to resubmit it to the. Thing will have to resubmit it to the network but what's going to happen is someone's. But what's going to happen is someone's going to nominate a block and like a going to nominate a block and like a. Going to nominate a block and like a bunch of validators are going to be bunch of validators are going to be. Bunch of validators are going to be missing like one of the transactions in missing like one of the transactions in. Missing like one of the transactions in that blocks and then they'll just all that blocks and then they'll just all. That blocks and then they'll just all like like like have to make sure the validators that. Have to make sure the validators that have to make sure the validators that had the other the this other. Had the other the this other had the other the this other transaction in their queue right. Transaction in their queue right transaction in their queue right when the block is going to close. when the block is going to close when the block is going to close they are going to discard the. They are going to discard the they are going to discard the transaction because it's actually at. Transaction because it's actually at transaction because it's actually at this point invalid at this point in time. This point invalid at this point in time this point invalid at this point in time. It's going to be likely invalid and like it's going to be likely invalid and like. It's going to be likely invalid and like depending on the condition right on your. Depending on the condition right on your depending on the condition right on your. like if you say for example all that like if you say for example all that. like if you say for example all that the the the I need the transaction to be. I need the transaction to be I need the transaction to be submitted you know like five ledgers. Submitted you know like five ledgers submitted you know like five ledgers from now well obviously it's invalid. From now well obviously it's invalid from now well obviously it's invalid right now. Right now right now right and one thing you know I guess right and one thing you know I guess. Right and one thing you know I guess my question is kind of my question is kind of. My question is kind of independent of this particular example independent of this particular example. Independent of this particular example right we have this ability to actually right we have this ability to actually. Right we have this ability to actually create fee bump transactions and kind of create fee bump transactions and kind of. Create fee bump transactions and kind of spray out a bunch of mutually spray out a bunch of mutually. Spray out a bunch of mutually conflicting fee bump transactions conflicting fee bump transactions. Conflicting fee bump transactions the result is that the result is that the result is that. Whatever block gets nominated whatever block gets nominated whatever block gets nominated. Is likely going to be is likely going to be is likely going to be missing it's good looking to have. missing it's good looking to have missing it's good looking to have transactions that most of the validators. Transactions that most of the validators transactions that most of the validators. Don't have don't have don't have and so of course they'll just fetch the and so of course they'll just fetch the. And so of course they'll just fetch the pre-image of that transaction hash but pre-image of that transaction hash but. Pre-image of that transaction hash but that of course has overhead on its own that of course has overhead on its own. That of course has overhead on its own but you're saying like that's not how it but you're saying like that's not how it. But you're saying like that's not how it was kind of okay oh yeah yeah like was kind of okay oh yeah yeah like. Was kind of okay oh yeah yeah like transaction sets are flooded transaction sets are flooded. Transaction sets are flooded independently of independently of independently of of transactions today right. Of transactions today right of transactions today right so basically like you end up nominating. So basically like you end up nominating so basically like you end up nominating a transaction set I see the pre I see. A transaction set I see the pre I see a transaction set I see the pre I see the hash of that transaction set in the. The hash of that transaction set in the the hash of that transaction set in the nomination message. Nomination message nomination message and I turn around and I'm like I don't and I turn around and I'm like I don't. And I turn around and I'm like I don't know what that transaction set is and know what that transaction set is and. Know what that transaction set is and then I have downloaded all the then I have downloaded all the. Then I have downloaded all the transactions anyway sorry transactions anyway sorry. Transactions anyway sorry so you download all the transactions so you download all the transactions. So you download all the transactions anyway even if you already have most of anyway even if you already have most of. Anyway even if you already have most of them that's that's right right nico I them that's that's right right nico i. Them that's that's right right nico I mean you're you're more active yeah I'm mean you're you're more active yeah I'm. Mean you're you're more active yeah I'm pretty sure that's right okay yeah pretty sure that's right okay yeah. Pretty sure that's right okay yeah that's the way to do it right now okay that's the way to do it right now okay. That's the way to do it right now okay well then that's easy so I think the the well then that's easy so I think the the. Well then that's easy so I think the the the simple change is you the simple change is you . The simple change is you you don't prioritize one way it's just you don't prioritize one way it's just. You don't prioritize one way it's just first come first serve for forwarding yeah right. Yeah right I think that's good I think that's good I think that's good good cool cool. Yeah actually that's that was what I yeah actually that's that was what I yeah actually that's that was what i. Was asking with my question number three was asking with my question number three. Was asking with my question number three in the in that section in the in that section . In the in that section yeah which is yeah which is so there's like a in in the second. So there's like a in in the second so there's like a in in the second question inside this you know section. Question inside this you know section question inside this you know section. On on transaction on on transaction on on transaction forwarding and ordering there was. forwarding and ordering there was forwarding and ordering there was this . This this I was asking basically I was asking basically I was asking basically. If we should do something about like bad properties basically so so we like bad properties basically so so we. Have like have like have like with the current proposal right with the current proposal right. With the current proposal right that we have for the payment channel that we have for the payment channel. That we have for the payment channel it's actually using separate it's actually using separate. it's actually using separate transactions for di and ci ci is transactions for di and ci ci is. Transactions for di and ci ci is basically like on like one is the the basically like on like one is the the. Basically like on like one is the the one that is allowing you to one that is allowing you to. One that is allowing you to to move the to move the to move the the sequence number and the other one. The sequence number and the other one the sequence number and the other one allows you to. Allows you to allows you to or or or uses the delay right if you were uses the delay right if you were. Uses the delay right if you were going to to going to to going to to create a smart contract where you're. Create a smart contract where you're create a smart contract where you're putting. Putting putting the condition and the jump in one the condition and the jump in one. The condition and the jump in one transaction transaction transaction you're going to have like those kind. you're going to have like those kind you're going to have like those kind of. Of of delay attacks right you can delay those delay attacks right you can delay those. Delay attacks right you can delay those contracts contracts contracts pretty badly. Pretty badly pretty badly so the question I had was so the question I had was so the question I had was. Should we just not allow people should we just not allow people should we just not allow people. We can always by the way like leave we can always by the way like leave we can always by the way like leave. That that constraint later but like that that constraint later but like that that constraint later but like. For now like if you make it that for now like if you make it that for now like if you make it that. You can't have a mean you can't have a mean you can't have a mean condition condition. Condition combined with combined with combined with yeah like minsektom I mean yeah you. Yeah like minsektom I mean yeah you can't combine those the two can't combine those the two. Can't combine those the two mean second mean age mean second mean age mean second mean age. Basically sorry like you can't jump you can't sorry like you can't jump you can't. Combine in the same transaction the jump combine in the same transaction the jump. Combine in the same transaction the jump and and the age and and the age . And and the age restriction what would that what would that I think I did we're in the two-way. I think I did we're in the two-way I think I did we're in the two-way payment channel or so imagine yeah right. Payment channel or so imagine yeah right payment channel or so imagine yeah right. Now so the the cur the prop the protocol now so the the cur the prop the protocol. Now so the the cur the prop the protocol for payment channel doesn't have this for payment channel doesn't have this. For payment channel doesn't have this problem because the two transactions ci problem because the two transactions ci. Problem because the two transactions ci and the I they actually have very and the I they actually have very. And the I they actually have very different purpose right different purpose right. Different purpose right and one allows you to jump in the and one allows you to jump in the. And one allows you to jump in the sequence numbers and the other allows sequence numbers and the other allows. Sequence numbers and the other allows you to delay you to delay you to delay you know to grab like those grace. you know to grab like those grace you know to grab like those grace periods yeah imagine if. Periods yeah imagine if periods yeah imagine if yeah but imagine if you try to do like a. Yeah but imagine if you try to do like a yeah but imagine if you try to do like a. And I know we're actually looking at and I know we're actually looking at and I know we're actually looking at. That at some point where it was actually that at some point where it was actually. That at some point where it was actually the same transaction has the same transaction has. The same transaction has allows you to jump and has the condition allows you to jump and has the condition. Allows you to jump and has the condition right the on the delay right the on the delay. Right the on the delay right right right if you have if you have if you have I'm not sure I understand so you're. I'm not sure I understand so you're I'm not sure I understand so you're saying that you would make it so that. Saying that you would make it so that saying that you would make it so that people couldn't use nin sikh num and men. People couldn't use nin sikh num and men people couldn't use nin sikh num and men. See gauge see gauge see gauge in the same the same transaction in in the same the same transaction in. In the same the same transaction in order to because if you imagine like order to because if you imagine like. Order to because if you imagine like imagine that pidi somehow could be imagine that pidi somehow could be. Imagine that pidi somehow could be combined yeah combined yeah combined yeah which is what this is talking about like. Which is what this is talking about like which is what this is talking about like. Imagine you have a contract for your lrc imagine you have a contract for your lrc. Imagine you have a contract for your lrc in the ai to be combined right in the ai to be combined right. In the ai to be combined right at that point I don't know what that at that point I don't know what that. at that point I don't know what that means means means because because because. Di is like declares that you're going to di is like declares that you're going to. Di is like declares that you're going to do something and then ci actually does do something and then ci actually does. Do something and then ci actually does it it it yeah but the way you could do it right. Yeah but the way you could do it right yeah but the way you could do it right you could imagine having a cidi combined. You could imagine having a cidi combined you could imagine having a cidi combined. Yeah yeah yeah on the same sequence number on the same sequence number on the same sequence number. Yep you have one that is just the jump yep you have one that is just the jump yep you have one that is just the jump. And then you have another one that and then you have another one that and then you have another one that. Oh I don't know like it's a different oh I don't know like it's a different oh I don't know like it's a different. Protocol right like I'm not talking protocol right like I'm not talking protocol right like I'm not talking. About the existing payment channel about the existing payment channel about the existing payment channel. I'm is where you have is where you have you you have like okay you still have d. You you have like okay you still have d you you have like okay you still have d d and so you declare something and then. D and so you declare something and then d and so you declare something and then you have this thing that could happen in. You have this thing that could happen in you have this thing that could happen in. The future but then in the middle maybe the future but then in the middle maybe the future but then in the middle maybe. You have optional transactions that can you have optional transactions that can you have optional transactions that can. Be submitted be submitted be submitted like maybe like maybe like maybe that would be a use case for that like. That would be a use case for that like that would be a use case for that like that that last transaction you want it. That that last transaction you want it that that last transaction you want it to be submittable. To be submittable to be submittable without a specific sequence number of without a specific sequence number of. Without a specific sequence number of the account so maybe you want like 10 the account so maybe you want like 10. The account so maybe you want like 10 sequence numbers in between and there sequence numbers in between and there. Sequence numbers in between and there are some other transactions that can be are some other transactions that can be. Are some other transactions that can be submitted before that submitted before that. Submitted before that I don't know how you why that's not I don't know how you why that's not. I don't know how you why that's not I don't think that's what I'm describing I don't think that's what I'm describing. I don't think that's what I'm describing I'm describing a I'm describing a I'm describing a. Transactions where you have transactions where you have transactions where you have. Both the open range right on sequence both the open range right on sequence both the open range right on sequence. Number number number and the and the delay and the and the delay and the and the delay. Yeah so that's what that's what I'm yeah so that's what that's what I'm yeah so that's what that's what I'm. Describing so describing so describing so you you have that open range so you can. You you have that open range so you can you you have that open range so you can submit optional transactions between d. Submit optional transactions between d submit optional transactions between d and c. The c still has both it needs to have the c still has both it needs to have the min sequence num so that it can be. The min sequence num so that it can be the min sequence num so that it can be submitted whether those optional. Submitted whether those optional submitted whether those optional transactions be submitted or not. Transactions be submitted or not transactions be submitted or not but they will have the delay. But they will have the delay but they will have the delay said yeah I see yeah you could do that. Said yeah I see yeah you could do that said yeah I see yeah you could do that basically like you jump and then you. Basically like you jump and then you basically like you jump and then you have like. Have like have like and you need to wait for a little bit to and you need to wait for a little bit to. And you need to wait for a little bit to do those other transactions but they are. Do those other transactions but they are do those other transactions but they are. Not going to be not going to be not going to be and if they don't happen closing your. And if they don't happen closing your and if they don't happen closing your final transaction can still be submitted. Final transaction can still be submitted final transaction can still be submitted. After the delay yeah yeah after the delay yeah yeah after the delay yeah yeah so my point here was that if you. So my point here was that if you so my point here was that if you actually allow people to craft such. Actually allow people to craft such actually allow people to craft such transactions. Transactions transactions those transactions can be attacked because you can because you can . Like the assumption with those things is like the assumption with those things is. Like the assumption with those things is that you can always   like you know I because I have the more. Like you know I because I have the more like you know I because I have the more recent version of that transaction I can. Recent version of that transaction I can recent version of that transaction I can. Always submit it in a way always submit it in a way always submit it in a way but here it's not the case anymore and i. But here it's not the case anymore and I but here it's not the case anymore and i. Have because I can submit those state have because I can submit those state have because I can submit those state. Ones in the contract right and in the contract right and and now you can basically like if s . And now you can basically like if s and now you can basically like if s like the grace guys or whatever is is . Like the grace guys or whatever is is like the grace guys or whatever is is . Is is is is is is like fairly big like as in you know like like fairly big like as in you know like. Like fairly big like as in you know like media more than a few minutes media more than a few minutes. Media more than a few minutes and you have a lot of transactions that and you have a lot of transactions that. And you have a lot of transactions that you're exchanging offline you're exchanging offline. You're exchanging offline you can basically submit all of them you can basically submit all of them. you can basically submit all of them all the ones that were until you expire all the ones that were until you expire. All the ones that were until you expire until you actually expire the the window until you actually expire the the window. Until you actually expire the the window certainly I'm I'm confused can you certainly I'm I'm confused can you . Certainly I'm I'm confused can you    like imagine that I clarify something. Like imagine that I clarify something like imagine that I clarify something is this . Is this is this is this is this is this is your objection is your objection. Is your objection that this is like too restrictive that that this is like too restrictive that. That this is like too restrictive that there's transactions that you want that there's transactions that you want that. There's transactions that you want that you can't that are illegal or it's the you can't that are illegal or it's the. You can't that are illegal or it's the other way around that there's other way around that there's. Other way around that there's transactions transactions transactions okay all right so. Okay all right so okay all right so what specifically is the transaction what specifically is the transaction. What specifically is the transaction that is bad it's it's so the transaction itself. It's it's so the transaction itself is not so it's not that you have bad is not so it's not that you have bad. Is not so it's not that you have bad transactions that they are transactions that they are. Transactions that they are you have like in a payment channel you have like in a payment channel. You have like in a payment channel kind of situation right you exchange a kind of situation right you exchange a. Kind of situation right you exchange a lot of those things offline that's lot of those things offline that's. Lot of those things offline that's why you need why you need why you need to be able to jump forward right. To be able to jump forward right to be able to jump forward right so that you have the latest. So that you have the latest so that you have the latest transaction being processed. transaction being processed transaction being processed and what I'm saying here is that i. And what I'm saying here is that I and what I'm saying here is that I think that. I think that I think that is is is if you were designing a smart contract if you were designing a smart contract. If you were designing a smart contract that was combining the two constructs. That was combining the two constructs that was combining the two constructs it's actually a foot gun like it's it's. It's actually a foot gun like it's it's it's actually a foot gun like it's it's it's like it's slightly wrong which two. It's like it's slightly wrong which two it's like it's slightly wrong which two constructs. Constructs constructs are we talking about the delay and jump are we talking about the delay and jump. Are we talking about the delay and jump is the reason why you're saying this is is the reason why you're saying this is. Is the reason why you're saying this is a foot gun like I'm I'm trying to a foot gun like I'm I'm trying to. A foot gun like I'm I'm trying to understand just like david is as well understand just like david is as well. Understand just like david is as well like imagine that you have like a the like imagine that you have like a the. Like imagine that you have like a the the the the gap is like from sequence number 10 to. Gap is like from sequence number 10 to gap is like from sequence number 10 to 20 just to be super concrete so you've. 20 just to be super concrete so you've 20 just to be super concrete so you've got 11 slots let's make it 10 to 19 so. Got 11 slots let's make it 10 to 19 so got 11 slots let's make it 10 to 19 so you've got 10 slots. You've got 10 slots you've got 10 slots and then like the delay is one day like. And then like the delay is one day like and then like the delay is one day like the min seek. The min seek the min seek the min seek age is one day the min seek age is one day. The min seek age is one day what you're I think what nico's saying what you're I think what nico's saying. What you're I think what nico's saying but I could be wrong but I could be wrong but I could be wrong. Is that you actually might incur a is that you actually might incur a is that you actually might incur a. 10-day 10-day 10-day delay because somebody could play in delay because somebody could play in. Delay because somebody could play in each of the slots and then you go into each of the slots and then you go into. Each of the slots and then you go into the last one the last one the last one is that what you're saying nico or is. Is that what you're saying nico or is is that what you're saying nico or is that not I mean yeah like for the delay. That not I mean yeah like for the delay that not I mean yeah like for the delay ones that's exactly what will happen. Ones that's exactly what will happen ones that's exactly what will happen yet also the other way around where you. Yet also the other way around where you yet also the other way around where you expect like the you say oh this is only. Expect like the you say oh this is only expect like the you say oh this is only valid for the next five minutes. Valid for the next five minutes valid for the next five minutes right right . Right and now you can basically cause the and now you can basically cause the and now you can basically cause the. Thing to expire thing to expire thing to expire by by by replaying older ones like it's actually those would not be. Like it's actually those would not be sorry sorry sorry those would be like ones with conditions. Those would be like ones with conditions those would be like ones with conditions. That are going to be absolute I mean I mean yes of course if you I can give you a. Yes of course if you I can give you a yes of course if you I can give you a protocol where when I throw in time. Protocol where when I throw in time protocol where when I throw in time bounds or ledger bounds like it doesn't. Bounds or ledger bounds like it doesn't bounds or ledger bounds like it doesn't work because those bounds aren't there. Work because those bounds aren't there work because those bounds aren't there but like. But like but like to say that that's a foot gun it's like to say that that's a foot gun it's like. To say that that's a foot gun it's like well just don't use that feature if you well just don't use that feature if you. Well just don't use that feature if you don't need it and it won't get in your don't need it and it won't get in your. Don't need it and it won't get in your way right way right way right I just don't see it what I'm saying is. I just don't see it what I'm saying is I just don't see it what I'm saying is that I don't see right now a use case. That I don't see right now a use case that I don't see right now a use case where you would put both. Where you would put both where you would put both I can only I can only think of bad. I can only I can only think of bad I can only I can only think of bad things so you can put both. Things so you can put both things so you can put both so the argument is so the argument is. So the argument is understandable understandable understandable you're saying like we should we have a. You're saying like we should we have a you're saying like we should we have a tx conditions v2 and the tx conditions. Tx conditions v2 and the tx conditions tx conditions v2 and the tx conditions v3 or something no no it doesn't need to. V3 or something no no it doesn't need to v3 or something no no it doesn't need to. Be v1 d2 it's more like be v1 d2 it's more like be v1 d2 it's more like a tx conditions like relative delay and. A tx conditions like relative delay and a tx conditions like relative delay and a tx conditions like jump sequence gap. A tx conditions like jump sequence gap a tx conditions like jump sequence gap or something like should there be like. Or something like should there be like or something like should there be like two flavors of precondition. Two flavors of precondition two flavors of precondition that are mutually exclusive and that. that are mutually exclusive and that that are mutually exclusive and that have subsets of these things rather than. Have subsets of these things rather than have subsets of these things rather than. Throwing them all into one throwing them all into one throwing them all into one one tx giant tx conditions v2. one tx giant tx conditions v2 one tx giant tx conditions v2 I mean like yeah I don't think. I mean like yeah I don't think I mean like yeah I don't think it's yeah maybe annoying I don't hate. It's yeah maybe annoying I don't hate it's yeah maybe annoying I don't hate that if that's if that's necessary to go. That if that's if that's necessary to go that if that's if that's necessary to go. In in in I don't I don't see it I guess I'm not I don't I don't see it I guess I'm not. I don't I don't see it I guess I'm not yeah I'm not maybe explaining very well yeah I'm not maybe explaining very well. Yeah I'm not maybe explaining very well like the like the like the like I know that we were when we were. Like I know that we were when we were like I know that we were when we were looking earlier at this protocol. Looking earlier at this protocol looking earlier at this protocol some transactions had actually those two. Some transactions had actually those two some transactions had actually those two. Things you know set things you know set things you know set and if you're not careful yeah like you. And if you're not careful yeah like you and if you're not careful yeah like you did you end up with a bad like basically. Did you end up with a bad like basically did you end up with a bad like basically. A broken a broken a broken a broken contract a broken contract a broken contract. And you know it's part of like you know and you know it's part of like you know and you know it's part of like you know. Kind of giving the ecosystem like kind of giving the ecosystem like kind of giving the ecosystem like. You know the least number of things that you know the least number of things that. You know the least number of things that they can trip on on those present they can trip on on those present. They can trip on on those present transactions transactions transactions I don't object to that if we want two. I don't object to that if we want two I don't object to that if we want two flavors of tx conditions. Flavors of tx conditions flavors of tx conditions I can do that I can see you know there's. I can do that I can see you know there's I can do that I can see you know there's. Some benefit in terms of like some benefit in terms of like some benefit in terms of like. Transactions take fewer bytes when transactions take fewer bytes when transactions take fewer bytes when. Serialized there's some additional serialized there's some additional serialized there's some additional. Complexity then now you have to like you complexity then now you have to like you. Complexity then now you have to like you know know know check the union check the union. Check the union can we keep it as one structure and then can we keep it as one structure and then. Can we keep it as one structure and then just have core just have core just have core. Not allow those two things fields to be not allow those two things fields to be not allow those two things fields to be. Set at the same time I was going to ask set at the same time I was going to ask set at the same time I was going to ask. The same question like I mean that seems like the worst of all I mean that seems like the worst of all. Worlds because now we're adding like worlds because now we're adding like worlds because now we're adding like. Additional constraints that aren't additional constraints that aren't additional constraints that aren't. Expressed in xdr so like reading the xdr expressed in xdr so like reading the xdr. Expressed in xdr so like reading the xdr is not enough to know like you can make is not enough to know like you can make. Is not enough to know like you can make transactions that look valid because xdr transactions that look valid because xdr. Transactions that look valid because xdr is valid but they violate some rules so is valid but they violate some rules so. Is valid but they violate some rules so that that I don't like that that I don't like. That that I don't like plus you don't get the benefit of the plus you don't get the benefit of the. plus you don't get the benefit of the more compact transactions more compact transactions. More compact transactions so I would suggest either keeping it so I would suggest either keeping it. So I would suggest either keeping it this way or having two different kinds this way or having two different kinds. This way or having two different kinds of tx conditions of tx conditions of tx conditions. I think can we maybe take this on I think can we maybe take this on I think can we maybe take this on. Offline like I'm yeah I feel like offline like I'm yeah I feel like offline like I'm yeah I feel like. Crosstalk syntax at this point right but crosstalk syntax at this point right but. Crosstalk syntax at this point right but it's clear there are two choices and it's clear there are two choices and. It's clear there are two choices and there is like a design decision involved there is like a design decision involved. There is like a design decision involved right one is like split it in two in right one is like split it in two in. Right one is like split it in two in order to protect users more order to protect users more. Order to protect users more and two is keep it simpler even though and two is keep it simpler even though. And two is keep it simpler even though we are potentially leaving something in we are potentially leaving something in. We are potentially leaving something in there that although we could use an there that although we could use an. There that although we could use an error error error actually I do have a actually I do have a. Actually I do have a a potential a use for this a potential a use for this a potential a use for this. which is that well maybe this maybe this is not a very well maybe this maybe this is not a very. Good one but good one but good one but but like but like but like you could worry about someone submitting. You could worry about someone submitting you could worry about someone submitting. A bunch of these transactions and like a bunch of these transactions and like a bunch of these transactions and like. Draining the fees draining the fees draining the fees from the account or something and so. from the account or something and so from the account or something and so maybe you want to. Maybe you want to maybe you want to make sure that you know the other person make sure that you know the other person. Make sure that you know the other person is only is only is only doing so many but that's that's kind of. Doing so many but that's that's kind of doing so many but that's that's kind of bogus also because you could always just. Bogus also because you could always just bogus also because you could always just. Use a fee bump transaction use a fee bump transaction use a fee bump transaction to get the one that you want to. to get the one that you want to to get the one that you want to execute execute. Execute through so through so through so all right well all right well all right well. Again I'm pretty agnostic on again I'm pretty agnostic on again I'm pretty agnostic on. This this this so it's a binary choice and it's pretty so it's a binary choice and it's pretty. So it's a binary choice and it's pretty clear what it is so I think moving it clear what it is so I think moving it. Clear what it is so I think moving it offline and just trying to find a way to offline and just trying to find a way to. Offline and just trying to find a way to just ultimately choose one or the other just ultimately choose one or the other. Just ultimately choose one or the other that makes sense okay the only other that makes sense okay the only other. That makes sense okay the only other thing i'd add to this it's like we thing i'd add to this it's like we. Thing i'd add to this it's like we should probably convince ourselves that should probably convince ourselves that. Should probably convince ourselves that like it actually is always a bad idea to like it actually is always a bad idea to. Like it actually is always a bad idea to do this do this do this it probably is nico I think niko's point. It probably is nico I think niko's point it probably is nico I think niko's point. Sounds right but like I don't think sounds right but like I don't think sounds right but like I don't think. Any of the rest of us had actually any of the rest of us had actually any of the rest of us had actually. Considered that question so we should considered that question so we should considered that question so we should. Probably take at least a few minutes probably take at least a few minutes probably take at least a few minutes. Offline to think about that yeah okay offline to think about that yeah okay offline to think about that yeah okay. What else we got here we got six minutes now more questions I'm sorry I took over. Now more questions I'm sorry I took over the meeting the meeting the meeting I think this is great because we're. I think this is great because we're I think this is great because we're getting through these questions. Getting through these questions getting through these questions concrete action items. Concrete action items concrete action items all right so the next things are all right so the next things are. All right so the next things are around transaction validation around transaction validation. Around transaction validation so yeah so those are like things that I so yeah so those are like things that i. Think this is there's a section that think this is there's a section that think this is there's a section that. Talks about talks about talks about like I think dual validation right in. Like I think dual validation right in like I think dual validation right in the dark. The dark the dark that basically that basically that basically what happens basically during . What happens basically during what happens basically during nomination basically and then what. Nomination basically and then what nomination basically and then what happens later right when you actually. Happens later right when you actually happens later right when you actually apply I think this is what this is. Apply I think this is what this is apply I think this is what this is really about . So there's a thing that says all but so there's a thing that says all but the transaction with the lowest signum. The transaction with the lowest signum the transaction with the lowest signum on a given source account might have. On a given source account might have on a given source account might have zero for the mean sec age and mean sec. Zero for the mean sec age and mean sec zero for the mean sec age and mean sec ledger fields all right right . We're nominated block of transactions we're nominated block of transactions right. Asking is like should we simplify this asking is like should we simplify this to just be something more like the. To just be something more like the to just be something more like the the rule that we just discussed for. the rule that we just discussed for the rule that we just discussed for flooding transactions. Flooding transactions flooding transactions and basically and basically and basically. The rule is if you have a mean sec the rule is if you have a mean sec the rule is if you have a mean sec. You know thing condition on the on you know thing condition on the on you know thing condition on the on. The transaction the transaction the transaction you can never mix it with any other. You can never mix it with any other you can never mix it with any other transaction in the same for the same. Transaction in the same for the same transaction in the same for the same source icon. Like instead of having this weird like like instead of having this weird like you know the lowest. You know the lowest you know the lowest I don't understand what we gain by I don't understand what we gain by . I don't understand what we gain by having this extra kind of you know having this extra kind of you know. Having this extra kind of you know like basically special cases where you like basically special cases where you. Like basically special cases where you can put two transactions can put two transactions. Can put two transactions yeah I mean yeah I mean yeah I mean you often might want to do that like you. You often might want to do that like you you often might want to do that like you. Want to bump a sequence number and then want to bump a sequence number and then want to bump a sequence number and then. Execute a bunch of execute a bunch of execute a bunch of things at that sequence number that are. Things at that sequence number that are things at that sequence number that are valid. Valid valid but but but are you talking about yeah but like are you talking about yeah but like. Are you talking about yeah but like like it sounds like like it sounds like like it sounds like. It's complicated things for no real good it's complicated things for no real good. It's complicated things for no real good reason I agree with the fact that it's an. I agree with the fact that it's an implementation detail implementation detail implementation detail. Like we could not this one is actually like we could not this one is actually like we could not this one is actually. Part of the this one is part of the part of the this one is part of the part of the this one is part of the. Protocol that's why this one is actually protocol that's why this one is actually. Protocol that's why this one is actually very important because yeah so the very important because yeah so the. Very important because yeah so the question said valid question said valid question said valid. So so so yeah so the question is like do you do yeah so the question is like do you do. Yeah so the question is like do you do you have like you know could you have you have like you know could you have. You have like you know could you have like sort of various sequences of like sort of various sequences of. Like sort of various sequences of transactions transactions transactions . That that you can execute that that you can execute that that you can execute . With with with you know you know so after some so after some so after some. Some delay right some delay right some delay right and and one reason you might want to. and and one reason you might want to and and one reason you might want to do this is suppose for some reason you. Do this is suppose for some reason you do this is suppose for some reason you don't want to use claimable balances or. Don't want to use claimable balances or don't want to use claimable balances or you're worried about something failing. You're worried about something failing you're worried about something failing right you'd want to break a set of. Right you'd want to break a set of right you'd want to break a set of operations up into. Operations up into operations up into several several several different transactions in case like one. Different transactions in case like one different transactions in case like one of them fails so the sequence number's. Of them fails so the sequence number's of them fails so the sequence number's consumed and you can execute the other. Consumed and you can execute the other consumed and you can execute the other ones right and so then if these if this. Ones right and so then if these if this ones right and so then if these if this kind of series of things you want to do. Kind of series of things you want to do kind of series of things you want to do has some relative delay then what you do. Has some relative delay then what you do has some relative delay then what you do. Is like the first is like the first is like the first in the sequence would have like a min. In the sequence would have like a min in the sequence would have like a min seek age and then the others you would. Seek age and then the others you would seek age and then the others you would just kind of like not because you can. Just kind of like not because you can just kind of like not because you can only execute them with the right. Only execute them with the right only execute them with the right sequence numbers so. Sequence numbers so sequence numbers so to me this seems like something you'd to me this seems like something you'd. To me this seems like something you'd want to do it doesn't seem like a want to do it doesn't seem like a. Want to do it doesn't seem like a particularly hard thing to implement I particularly hard thing to implement i. Particularly hard thing to implement I mean you're already checking that all mean you're already checking that all. Mean you're already checking that all the sequence numbers are consecutive or the sequence numbers are consecutive or. The sequence numbers are consecutive or that that they have mint numbers that that that they have mint numbers that. That that they have mint numbers that make sense so make sense so make sense so just to sort of say that like other than. Just to sort of say that like other than just to sort of say that like other than. The first one the min cage also has to the first one the min cage also has to the first one the min cage also has to. Be zero it doesn't seem like a big deal be zero it doesn't seem like a big deal be zero it doesn't seem like a big deal. But but but I mean small conditions right sorry I mean small conditions right sorry i. I mean small conditions right sorry I don't don't don't I was definitely useful right so the. I was definitely useful right so the I was definitely useful right so the only reason to remove it would be. Only reason to remove it would be only reason to remove it would be if if it's like really hard to implement. Right it's going to right it's going to you have to also do that in in you have to also do that in in . You have to also do that in in overlay right overlay right overlay right in the queues like for all the queues. In the queues like for all the queues in the queues like for all the queues that are being managed. Well they all are going to have to have well they all are going to have to have you have to solve them yeah they have to. You have to solve them yeah they have to you have to solve them yeah they have to. Be sorted and yeah like be sorted and yeah like be sorted and yeah like yeah but we already have to do that. Yeah but we already have to do that yeah but we already have to do that because we have we have to make sure. Because we have we have to make sure because we have we have to make sure number one. Number one number one it's more like now you have like certain it's more like now you have like certain. It's more like now you have like certain conditions between depending on the conditions between depending on the. Conditions between depending on the order right order right order right press you know if you think of. Of I think what we are talking about of I think what we are talking about earlier is that okay if there's any. Earlier is that okay if there's any earlier is that okay if there's any transaction in the queue. Transaction in the queue transaction in the queue you know I don't I can't add the. You know I don't I can't add the you know I don't I can't add the condition for example if I can. Condition for example if I can condition for example if I can I can't add that transaction sorry. Right but that's why we already talked right but that's why we already talked about that that we're gonna. About that that we're gonna about that that we're gonna oh sorry what I'm not particularly. Oh sorry what I'm not particularly oh sorry what I'm not particularly offended by what you have david just to. Offended by what you have david just to offended by what you have david just to provide a counterpoint to nico like i. Provide a counterpoint to nico like I provide a counterpoint to nico like I think there could be merit to. I think there could be merit to I think there could be merit to pipelining and I don't think. Pipelining and I don't think pipelining and I don't think like I don't think compared to the. Like I don't think compared to the like I don't think compared to the already already. Already very large amount of condition checking very large amount of condition checking. Very large amount of condition checking that we do in especially in the that we do in especially in the. That we do in especially in the transaction queue I don't think this transaction queue I don't think this. Transaction queue I don't think this would be a very material change that's would be a very material change that's. Would be a very material change that's my opinion my opinion my opinion if if. if if we think that this kind of pipelining if we think that this kind of pipelining. If we think that this kind of pipelining situation is like not only possible but situation is like not only possible but. Situation is like not only possible but plausible and I think it probably is plausible and I think it probably is . Plausible and I think it probably is I don't think it's that bad personally at this point we're also out of time so. At this point we're also out of time so okay so okay are you okay with that nico okay so okay are you okay with that nico. Okay so okay are you okay with that nico or do you still you're still not or do you still you're still not. Or do you still you're still not convinced no I say it's probably fine convinced no I say it's probably fine. Convinced no I say it's probably fine yeah it's just yeah it's just yeah it's just. More conditions like I said more conditions like I said more conditions like I said. Okay okay okay this one I do think it's useful so okay cool okay cool so leave this one as is because it's. So leave this one as is because it's so leave this one as is because it's useful and possible. Useful and possible useful and possible unless you know obviously I think that unless you know obviously I think that. Unless you know obviously I think that perhaps what happens now is that we move perhaps what happens now is that we move. Perhaps what happens now is that we move this back to the mailing list there are this back to the mailing list there are. This back to the mailing list there are a few action items for you david to make a few action items for you david to make. A few action items for you david to make changes to and a few things changes to and a few things. Changes to and a few things we still need to discuss async but we still need to discuss async but. We still need to discuss async but they're pretty simple straightforward they're pretty simple straightforward. They're pretty simple straightforward decisions to make decisions to make decisions to make. And then that also gives anyone time if and then that also gives anyone time if and then that also gives anyone time if. You know nico if you think about this you know nico if you think about this you know nico if you think about this. Last point and decide that actually the last point and decide that actually the last point and decide that actually the. Utility may not warrant the actual work utility may not warrant the actual work utility may not warrant the actual work. Or something you know there's time to or something you know there's time to or something you know there's time to. Sort of bring it up but it feels like sort of bring it up but it feels like sort of bring it up but it feels like. These are fairly discreet changes and these are fairly discreet changes and these are fairly discreet changes and. Action items that can actually get this action items that can actually get this action items that can actually get this. Thing in a position where we can thing in a position where we can thing in a position where we can. Evaluate a draft possibly with an eye evaluate a draft possibly with an eye evaluate a draft possibly with an eye. Towards acceptance very soon does that towards acceptance very soon does that towards acceptance very soon does that. Seem true yeah yeah yeah yeah yeah all right well awesome everybody thanks all right well awesome everybody thanks. All right well awesome everybody thanks again for being here thanks everyone at again for being here thanks everyone at. Again for being here thanks everyone at home for watching and i'll see you home for watching and i'll see you. Home for watching and i'll see you all soon.
