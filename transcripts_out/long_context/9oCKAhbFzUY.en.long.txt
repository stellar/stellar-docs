Protocol 23 we are introducing um the protocol 23 we are introducing um the hot archive bucket list where we will. Hot archive bucket list where we will hot archive bucket list where we will actually. Actually actually store um archived entries in a separate store um archived entries in a separate. Store um archived entries in a separate database and what this allows us to do database and what this allows us to do. Database and what this allows us to do is to store all live sorb on state um in is to store all live sorb on state um in. Is to store all live sorb on state um in memory uh as well as uh store andan memory uh as well as uh store andan. Memory uh as well as uh store andan module caches in memory and we can do module caches in memory and we can do. Module caches in memory and we can do this safely because the rent system is this safely because the rent system is. This safely because the rent system is St archival so um what we were talking St archival so um what we were talking. St archival so um what we were talking about today is an update that we made about today is an update that we made. About today is an update that we made since the last time we talked since the last time we talked. Since the last time we talked particularly about particularly about particularly about. The way that we calculate the um what the way that we calculate the um what the way that we calculate the um what. Today is called the target bucket list today is called the target bucket list today is called the target bucket list. Size and so in protocol 22 whenever you size and so in protocol 22 whenever you size and so in protocol 22 whenever you. Pay rent or write an entry to The Ledger pay rent or write an entry to The Ledger. Pay rent or write an entry to The Ledger uh this fee is variable based on um the uh this fee is variable based on um the. Uh this fee is variable based on um the current size of the bucket list which is current size of the bucket list which is. Current size of the bucket list which is just the size of the uh you know just the size of the uh you know. Just the size of the uh you know Network's database on disk and Network's database on disk and. Network's database on disk and essentially we have a Target size um and essentially we have a Target size um and. Essentially we have a Target size um and if this uh Target size is exceeded then if this uh Target size is exceeded then. If this uh Target size is exceeded then the cost of right and R bums uh increase the cost of right and R bums uh increase. The cost of right and R bums uh increase very rapidly and essentially this allows. Very rapidly and essentially this allows very rapidly and essentially this allows. Us to have a soft cap on the current us to have a soft cap on the current us to have a soft cap on the current. Size of the bucket list or the the um size of the bucket list or the the um size of the bucket list or the the um. Network database um from a fee Network database um from a fee Network database um from a fee. Perspective so you can technically still perspective so you can technically still. Perspective so you can technically still write but'll just be very expensive to write but'll just be very expensive to. Write but'll just be very expensive to do so so people will stop writing and do so so people will stop writing and. Do so so people will stop writing and then um eviction and styal will do a then um eviction and styal will do a. Then um eviction and styal will do a back pressure to overtime reduce the back pressure to overtime reduce the. Back pressure to overtime reduce the size of the bucket list now the thing is size of the bucket list now the thing is. Size of the bucket list now the thing is um previous um previous um previous uh to protocol 23 this was all measured. Uh to protocol 23 this was all measured uh to protocol 23 this was all measured in database size now there were two. In database size now there were two in database size now there were two issues with this uh the first one being. Issues with this uh the first one being issues with this uh the first one being that this is a sorond based fee and most. That this is a sorond based fee and most that this is a sorond based fee and most. Of the sorond state um or most of the uh of the sorond state um or most of the uh. Of the sorond state um or most of the uh core database wasn't soron state classic. Core database wasn't soron state classic core database wasn't soron state classic. State significantly dominated the size State significantly dominated the size State significantly dominated the size. And so we had this weird system where and so we had this weird system where and so we had this weird system where. Even though sorban took up very little even though sorban took up very little even though sorban took up very little. Space in the bucket list um it was being space in the bucket list um it was being. Space in the bucket list um it was being charged fees whenever classic entries charged fees whenever classic entries. Charged fees whenever classic entries would make changes um so that's kind of would make changes um so that's kind of. Would make changes um so that's kind of issue number one uh that you have issue number one uh that you have. Issue number one uh that you have classic influencing the cost of sore classic influencing the cost of sore. Classic influencing the cost of sore Bond State now the second issue is that Bond State now the second issue is that. Bond State now the second issue is that with protocol 23 we now have a bunch of with protocol 23 we now have a bunch of. With protocol 23 we now have a bunch of storage or all the sore Bond state that storage or all the sore Bond state that. Storage or all the sore Bond state that we actually store in memory instead of we actually store in memory instead of. We actually store in memory instead of on disk and so it would our kind of goal on disk and so it would our kind of goal. On disk and so it would our kind of goal with this uh setting is to make sure with this uh setting is to make sure. With this uh setting is to make sure that the protocol can cap the maximum that the protocol can cap the maximum. That the protocol can cap the maximum amount of memory um that Val to use it amount of memory um that Val to use it. Amount of memory um that Val to use it at a given time and if we were to at a given time and if we were to. At a given time and if we were to continue to use just the disk based continue to use just the disk based. Continue to use just the disk based metric um this uh is no longer uh able metric um this uh is no longer uh able. Metric um this uh is no longer uh able to actually cap the amount of memory to actually cap the amount of memory. To actually cap the amount of memory that you need to store now that we cach that you need to store now that we cach. That you need to store now that we cach everything in memory and so the update everything in memory and so the update. Everything in memory and so the update to cap 66 is that we change the to cap 66 is that we change the. To cap 66 is that we change the bucketless target size byes to soron LIF bucketless target size byes to soron LIF. Bucketless target size byes to soron LIF State Target size byes and so what this State Target size byes and so what this. State Target size byes and so what this means is that instead of using the means is that instead of using the. Means is that instead of using the entire size of the database to calculate entire size of the database to calculate. Entire size of the database to calculate rent fees and write fees we only use the. Rent fees and write fees we only use the rent fees and write fees we only use the. Size of the live sorbon state that we size of the live sorbon state that we size of the live sorbon state that we. Actually have to uh store in memory um actually have to uh store in memory um actually have to uh store in memory um. Now there's a couple of details here uh now there's a couple of details here uh now there's a couple of details here uh. Particularly uh I want to talk about particularly uh I want to talk about particularly uh I want to talk about. Contract code and so when um storing So contract code and so when um storing So contract code and so when um storing So. The plan is to store all contract data the plan is to store all contract data the plan is to store all contract data. And all TTL entries in memory and then and all TTL entries in memory and then and all TTL entries in memory and then. To store instantiated contract code in to store instantiated contract code in to store instantiated contract code in. Memory now contract data and contract memory now contract data and contract memory now contract data and contract. TTL uh the thing that we store is the TTL uh the thing that we store is the TTL uh the thing that we store is the. Same size as the entry on disk so for same size as the entry on disk so for same size as the entry on disk so for. Instance like if you have a contract instance like if you have a contract instance like if you have a contract. Data on diss that's uh The Ledger entry data on diss that's uh The Ledger entry data on diss that's uh The Ledger entry. Is you know 64 bytes then we store 64 is you know 64 bytes then we store 64 is you know 64 bytes then we store 64. Bytes in memory so there's a one to one bytes in memory so there's a one to one bytes in memory so there's a one to one. Ratio for data and TTL for contract code ratio for data and TTL for contract code. Ratio for data and TTL for contract code this is not the case because of the this is not the case because of the. This is not the case because of the module instantiation cach changes or the module instantiation cach changes or the. Module instantiation cach changes or the instantiated module cache we are not instantiated module cache we are not. Instantiated module cache we are not actually storing just the contract code actually storing just the contract code. Actually storing just the contract code bytes in memory but we're storing an bytes in memory but we're storing an. Bytes in memory but we're storing an instantiated model and this model can be instantiated model and this model can be. Instantiated model and this model can be up to 40 times the size of the on disk up to 40 times the size of the on disk. Up to 40 times the size of the on disk wasm bites in the worst case and so what wasm bites in the worst case and so what. Wasm bites in the worst case and so what we're doing instead is that uh for we're doing instead is that uh for. We're doing instead is that uh for contract code in particular instead of contract code in particular instead of. Contract code in particular instead of using the size of the contract code using the size of the contract code. Using the size of the contract code entry um for uh fees which is what we' entry um for uh fees which is what we'. Entry um for uh fees which is what we' been doing up to this point you're going been doing up to this point you're going. Been doing up to this point you're going to instead use the size of the memory uh. To instead use the size of the memory uh to instead use the size of the memory uh. Given um by the instantiated contract given um by the instantiated contract given um by the instantiated contract. Code module and so in the worst case code module and so in the worst case code module and so in the worst case. This is a 40 times increase but in the this is a 40 times increase but in the this is a 40 times increase but in the. Average case this is only a 10 to 15 15 average case this is only a 10 to 15 15 average case this is only a 10 to 15 15. Um times increase over the size of the um times increase over the size of the um times increase over the size of the. Contract code as it's calculated today contract code as it's calculated today contract code as it's calculated today. And so that's change number one is that and so that's change number one is that and so that's change number one is that. Essentially because we need to account essentially because we need to account essentially because we need to account. For the in memory uh size of state now for the in memory uh size of state now for the in memory uh size of state now. Instead of the on disk size we need to instead of the on disk size we need to instead of the on disk size we need to. Make this adjustment in the contract make this adjustment in the contract make this adjustment in the contract. Code um size calculation now the other code um size calculation now the other code um size calculation now the other. Adjustment we're making is with r fees adjustment we're making is with r fees adjustment we're making is with r fees. So for rent fees essentially you are so for rent fees essentially you are so for rent fees essentially you are. Renting um under you know protocol 23 renting um under you know protocol 23 renting um under you know protocol 23. You are renting space in the uh in you are renting space in the uh in you are renting space in the uh in. Memory cach of the network that's memory cach of the network that's memory cach of the network that's. Essentially what rent is doing now and essentially what rent is doing now and essentially what rent is doing now and. So we uh the rent fee will remain so we uh the rent fee will remain so we uh the rent fee will remain. Unchange how we still have like this unchange how we still have like this unchange how we still have like this. Target um live State size and then the target um live State size and then the target um live State size and then the. Rent fee uh will you know increase very rent fee uh will you know increase very rent fee uh will you know increase very. Rapidly if the of Life State increases rapidly if the of Life State increases rapidly if the of Life State increases. This for right this for right this for right fees doesn't really make sense to have. Fees doesn't really make sense to have fees doesn't really make sense to have the right fee um. The right fee um the right fee um a function of the current amount of Life a function of the current amount of Life. A function of the current amount of Life State because State because State because. We're to um using memory based bounds we're to um using memory based bounds we're to um using memory based bounds. Instead of dis based bounds in the Life instead of dis based bounds in the Life instead of dis based bounds in the Life. State um we a dynamic wrry doesn't make State um we a dynamic wrry doesn't make State um we a dynamic wrry doesn't make. Sense and so what we're proposing is sense and so what we're proposing is sense and so what we're proposing is. That we still need to have a right fee that we still need to have a right fee that we still need to have a right fee. Um but you are not uh it doesn't need to um but you are not uh it doesn't need to. Um but you are not uh it doesn't need to be based on the current size of the be based on the current size of the. Be based on the current size of the bucket list rather it just needs to be bucket list rather it just needs to be. Bucket list rather it just needs to be based on the computational cost of doing based on the computational cost of doing. Based on the computational cost of doing a right while you're applying the a right while you're applying the. A right while you're applying the transaction and so um we're making a transaction and so um we're making a. Transaction and so um we're making a change that right fees are now a flat change that right fees are now a flat. Change that right fees are now a flat fee uh per BTE or per kilobyte rather fee uh per BTE or per kilobyte rather. Fee uh per BTE or per kilobyte rather and so instead of having like this curve and so instead of having like this curve. And so instead of having like this curve um the rent fees will still have that um the rent fees will still have that. Um the rent fees will still have that curve but the right fees there'll be a curve but the right fees there'll be a. Curve but the right fees there'll be a network config setting which is uh fee network config setting which is uh fee. Network config setting which is uh fee per 1 kilobyte R and then uh this will per 1 kilobyte R and then uh this will. Per 1 kilobyte R and then uh this will be um applied based on the size of the be um applied based on the size of the. Be um applied based on the size of the entry you're writing and this will be entry you're writing and this will be. Entry you're writing and this will be applied to both sorbon entries you write applied to both sorbon entries you write. Applied to both sorbon entries you write as well as classic entries you write um as well as classic entries you write um. As well as classic entries you write um so that's that's the primary changes so that's that's the primary changes. So that's that's the primary changes essentially we are changing the way we essentially we are changing the way we. Essentially we are changing the way we calculate contract wasm size uh respect calculate contract wasm size uh respect. Calculate contract wasm size uh respect to fees rent fee is still variable based to fees rent fee is still variable based. To fees rent fee is still variable based on the amount of Life state right fees on the amount of Life state right fees. On the amount of Life state right fees are now are now are now flapped uh any questions or or concerns. Morgan's question about the the cheap Morgan's question about the the cheap storage um uh we don't it's not so much. Storage um uh we don't it's not so much storage um uh we don't it's not so much that the storage is cheap and then non-e. That the storage is cheap and then non-e that the storage is cheap and then non-e. It's that um before you hit the target it's that um before you hit the target it's that um before you hit the target. The storage is reasonable reasonably the storage is reasonable reasonably the storage is reasonable reasonably. Priced and then past the target uh the priced and then past the target uh the priced and then past the target uh the. Storage is like very very ridiculously storage is like very very ridiculously storage is like very very ridiculously. Priced uh so the idea is that you know priced uh so the idea is that you know priced uh so the idea is that you know. We still even before you hit the target we still even before you hit the target we still even before you hit the target. We still charge fees and the intention we still charge fees and the intention we still charge fees and the intention. Of this fees is to uh dissuade people of this fees is to uh dissuade people of this fees is to uh dissuade people. Who aren't using um like who aren't who aren't using um like who aren't who aren't using um like who aren't. Legitimate apps using the space um but legitimate apps using the space um but legitimate apps using the space um but. Essentially the reason that we have this essentially the reason that we have this. Essentially the reason that we have this target is that we don't want a Dos angle. Target is that we don't want a Dos angle target is that we don't want a Dos angle. Where an attacker could just write you where an attacker could just write you where an attacker could just write you. Know gigabytes and gigabytes of state know gigabytes and gigabytes of state know gigabytes and gigabytes of state. That we all out store memory and then that we all out store memory and then that we all out store memory and then. Oom kill them nodes and so I don't think oom kill them nodes and so I don't think. Oom kill them nodes and so I don't think the distinction is cheap versus non- the distinction is cheap versus non-. The distinction is cheap versus non- cheap it's you know reasonable versus cheap it's you know reasonable versus. Cheap it's you know reasonable versus like ridiculous pricing that we only you like ridiculous pricing that we only you. Like ridiculous pricing that we only you know resort to in kind of the to protect. Know resort to in kind of the to protect know resort to in kind of the to protect. Ourselves from malicious attack uh see any numbers for the threshold um uh see any numbers for the threshold um. I think exact numbers are TBD uh for I think exact numbers are TBD uh for I think exact numbers are TBD uh for. Reference um we're are so currently um reference um we're are so currently um reference um we're are so currently um. The we use bucket list total size and so the we use bucket list total size and so. The we use bucket list total size and so I think it's like 12 and a half gigs or I think it's like 12 and a half gigs or. I think it's like 12 and a half gigs or something like that the target something something like that the target something. Something like that the target something in that range but because we're in that range but because we're. In that range but because we're switching to only uh meter the life switching to only uh meter the life. Switching to only uh meter the life sorbon State it'll probably be something sorbon State it'll probably be something. Sorbon State it'll probably be something on the scale of hundreds of megabytes on the scale of hundreds of megabytes. On the scale of hundreds of megabytes just because today the total sore on just because today the total sore on. Just because today the total sore on state size is like 40 or 50 megabytes um state size is like 40 or 50 megabytes um. State size is like 40 or 50 megabytes um so that still gives us you know lots of so that still gives us you know lots of. So that still gives us you know lots of growing room um but is a very small you growing room um but is a very small you. Growing room um but is a very small you know value requirement as far as memory know value requirement as far as memory. Know value requirement as far as memory but again you know we we still need to but again you know we we still need to. But again you know we we still need to think about these numbers a bit more as think about these numbers a bit more as. Think about these numbers a bit more as it's kind of you know uh on the range of it's kind of you know uh on the range of. It's kind of you know uh on the range of what we're looking at yeah to add to that since vasm kind. At yeah to add to that since vasm kind of takes more space now than it used to of takes more space now than it used to. Of takes more space now than it used to take in the database um yes we need to take in the database um yes we need to. Take in the database um yes we need to re-evaluate this in memory State size re-evaluate this in memory State size. Re-evaluate this in memory State size including the module cache and uh I including the module cache and uh I. Including the module cache and uh I don't think they have done this yet so don't think they have done this yet so. Don't think they have done this yet so but the it is I don't think it will be but the it is I don't think it will be. But the it is I don't think it will be uh significantly bigger uh significantly bigger. Uh significantly bigger than tens or hundreds of megabytes and than tens or hundreds of megabytes and. Than tens or hundreds of megabytes and uh threshold to be set I think quite uh threshold to be set I think quite. Uh threshold to be set I think quite High compared to that probably it can High compared to that probably it can. High compared to that probably it can easily be a few times higher um that you easily be a few times higher um that you. Easily be a few times higher um that you know uh we didn't get that much dat in a. Know uh we didn't get that much dat in a know uh we didn't get that much dat in a. Year I don't think um like if you said year I don't think um like if you said year I don't think um like if you said. It to 2x 3x of the current state um I it to 2x 3x of the current state um I it to 2x 3x of the current state um I. Don't think we'll run out of space don't think we'll run out of space don't think we'll run out of space. Anytime anytime anytime soon yeah and uh to just to make it soon yeah and uh to just to make it. Soon yeah and uh to just to make it clear uh for for Morgan's question like clear uh for for Morgan's question like. Clear uh for for Morgan's question like we like the purpose of these limits is we like the purpose of these limits is. We like the purpose of these limits is not to you know limit good users um so not to you know limit good users um so. Not to you know limit good users um so you know if we see a Dap that has 100K you know if we see a Dap that has 100K. You know if we see a Dap that has 100K daily activ users I mean that's not daily activ users I mean that's not. Daily activ users I mean that's not going to happen overnight there's going going to happen overnight there's going. Going to happen overnight there's going to be a ramp up but we would definitely to be a ramp up but we would definitely. To be a ramp up but we would definitely probably you know um introduce the slip probably you know um introduce the slip. Probably you know um introduce the slip SL SLP to raise those limit so the SL SLP to raise those limit so the. SL SLP to raise those limit so the intention is not to you know reduce intention is not to you know reduce. Intention is not to you know reduce actual um good good usage of network yeah and I guess um Nico pointed out a. Yeah and I guess um Nico pointed out a good point that I forgot to mention is good point that I forgot to mention is. Good point that I forgot to mention is that because we are switching from on that because we are switching from on. That because we are switching from on disk metering of contract code to in disk metering of contract code to in. Disk metering of contract code to in memory metering uh the size uh of the memory metering uh the size uh of the. Memory metering uh the size uh of the current instantiation model is protocol current instantiation model is protocol. Current instantiation model is protocol dependent uh and so for instance if in dependent uh and so for instance if in. Dependent uh and so for instance if in the future we change to a um like a g uh the future we change to a um like a g uh. The future we change to a um like a g uh instead of interpreter then the size of instead of interpreter then the size of. Instead of interpreter then the size of the instantiated model will increase um the instantiated model will increase um. The instantiated model will increase um and so I didn't mention this but well uh and so I didn't mention this but well uh. And so I didn't mention this but well uh for fees uh we are for the rent fee uh for fees uh we are for the rent fee uh. For fees uh we are for the rent fee uh in particular we are using the uh in particular we are using the uh. In particular we are using the uh inmemory size um of the contract code uh inmemory size um of the contract code uh. Inmemory size um of the contract code uh but for limits and for the right fee we but for limits and for the right fee we. But for limits and for the right fee we using the on disk size um and we have to using the on disk size um and we have to. Using the on disk size um and we have to do this because for instance like we do this because for instance like we. Do this because for instance like we have like a a maximum contract size um have like a a maximum contract size um. Have like a a maximum contract size um config setting and if you can assume config setting and if you can assume. Config setting and if you can assume that you know a contract today uh has that you know a contract today uh has. That you know a contract today uh has the maximum size we wouldn't want want the maximum size we wouldn't want want. The maximum size we wouldn't want want to break that contract in a future to break that contract in a future. To break that contract in a future protocol upgrade if the inmemory size protocol upgrade if the inmemory size. Protocol upgrade if the inmemory size just happen to change and so yeah I just happen to change and so yeah I. Just happen to change and so yeah I think that's that's a good point I think that's that's a good point I. Think that's that's a good point I forgot to to mention is that um only the forgot to to mention is that um only the. Forgot to to mention is that um only the rent fee is dependent on the uh contract. Rent fee is dependent on the uh contract rent fee is dependent on the uh contract. In memory size um and that means that in memory size um and that means that in memory size um and that means that. Like a and that's and the target sorond like a and that's and the target sorond like a and that's and the target sorond. Life State size is also calculated using life State size is also calculated using. Life State size is also calculated using the inmemory size of contract code um the inmemory size of contract code um. The inmemory size of contract code um but as far as write fees and uh but as far as write fees and uh. But as far as write fees and uh transaction WR limits and contract code transaction WR limits and contract code. Transaction WR limits and contract code size limits those are still determined size limits those are still determined. Size limits those are still determined by the wasum and we have to do that by the wasum and we have to do that. By the wasum and we have to do that because only the actual on disk you know because only the actual on disk you know. Because only the actual on disk you know wasm size is consistent protocol to protocol actually so my comment was. Protocol actually so my comment was actually a little bit different like uh actually a little bit different like uh. Actually a little bit different like uh because I had a chat with grer about because I had a chat with grer about. Because I had a chat with grer about this and it sounds like the current uh P this and it sounds like the current uh P. This and it sounds like the current uh P request we have request we have request we have. For cap 65 is actually caching per host for cap 65 is actually caching per host for cap 65 is actually caching per host. Basically so um like if you have like basically so um like if you have like basically so um like if you have like. Two host uh like core can be configured two host uh like core can be configured two host uh like core can be configured. Right with multiple uh host to support right with multiple uh host to support right with multiple uh host to support. Multiple protocol versions and right now multiple protocol versions and right now. Multiple protocol versions and right now um we keep in um we keep in um we keep in. Memory um the version of the WM memory um the version of the WM memory um the version of the WM. Basically like the the the the basically like the the the the basically like the the the the. Pre-processed version uh per host so it pre-processed version uh per host so it pre-processed version uh per host so it. It gets basically like if you have like it gets basically like if you have like it gets basically like if you have like. Two H in memory is going to have two two H in memory is going to have two two H in memory is going to have two. Versions of the wesm cache per versions of the wesm cache per versions of the wesm cache per. Contract um and that's kind of a to make contract um and that's kind of a to make. Contract um and that's kind of a to make it easier it easier it easier to to to reason about but at the same. To to to reason about but at the same to to to reason about but at the same time that means that the overhead in. Time that means that the overhead in time that means that the overhead in memory is actually dependent on how core. Memory is actually dependent on how core memory is actually dependent on how core. Is is compiled yeah I think this is I agree compiled yeah I think this is I agree. There something to look out for but I there something to look out for but I there something to look out for but I. Think this is primarily an think this is primarily an think this is primarily an implementation detail at this point. Implementation detail at this point implementation detail at this point because I think in the. Because I think in the because I think in the yeah no it's totally is it's just like. Yeah no it's totally is it's just like yeah no it's totally is it's just like that's why I said there needs to be an. That's why I said there needs to be an that's why I said there needs to be an SLP to to kind of discuss that because. SLP to to kind of discuss that because SLP to to kind of discuss that because the your memory limit. The your memory limit the your memory limit basically um that you you pick is has to. Basically um that you you pick is has to basically um that you you pick is has to. Take into account the fact that you have take into account the fact that you have. Take into account the fact that you have basically a overhead of two or basically a overhead of two or. Basically a overhead of two or 3x uh for you know for the resident 3x uh for you know for the resident. 3x uh for you know for the resident wiom uh that maybe is not as trivial as wiom uh that maybe is not as trivial as. Wiom uh that maybe is not as trivial as you know if you look at calibration you know if you look at calibration. You know if you look at calibration while like if you're asking one host how while like if you're asking one host how. While like if you're asking one host how much memory you know are you using right. Much memory you know are you using right much memory you know are you using right. Now that's actually not the truth you now that's actually not the truth you now that's actually not the truth you. You need to uh to basically uh lie you need to uh to basically uh lie you need to uh to basically uh lie. Through the through the network settings through the through the network settings. Through the through the network settings that you know you actually are are going. That you know you actually are are going that you know you actually are are going. To count um was them in memory let's say to count um was them in memory let's say. To count um was them in memory let's say with a 3X you know a multiplier on top with a 3X you know a multiplier on top. With a 3X you know a multiplier on top of what's actually using per per of what's actually using per per. Of what's actually using per per host does that make sense it's basically host does that make sense it's basically. Host does that make sense it's basically the yeah the calibration uh the yeah the calibration uh. The yeah the calibration uh settings yeah yeah I think I think settings yeah yeah I think I think. Settings yeah yeah I think I think longterm like a like so longterm when we longterm like a like so longterm when we. Longterm like a like so longterm when we actually have like large amounts of actually have like large amounts of. Actually have like large amounts of States say like in the gigabytes then I States say like in the gigabytes then I. States say like in the gigabytes then I think we can probably avoid this issue think we can probably avoid this issue. Think we can probably avoid this issue by doing something clever like you know by doing something clever like you know. By doing something clever like you know like if we are armed for an upgrade then like if we are armed for an upgrade then. Like if we are armed for an upgrade then we can like um you know like do the we can like um you know like do the. We can like um you know like do the compiling for the new the new protocol compiling for the new the new protocol. Compiling for the new the new protocol version in the background laely and then version in the background laely and then. Version in the background laely and then serialize it such that we don't have serialize it such that we don't have. Serialize it such that we don't have like the double memory overhead but but like the double memory overhead but but. Like the double memory overhead but but I agree as like as far as like I agree as like as far as like. I agree as like as far as like short-term and medium-term plan goes I short-term and medium-term plan goes I. Short-term and medium-term plan goes I mean I think like the state size is mean I think like the state size is. Mean I think like the state size is still small enough that like we can set still small enough that like we can set. Still small enough that like we can set limits like with these assumptions it' limits like with these assumptions it'. Limits like with these assumptions it' be be be fine but yeah I agree that we should we. Fine but yeah I agree that we should we fine but yeah I agree that we should we should have these uh these uh this like. Should have these uh these uh this like should have these uh these uh this like 3x factor in. Mind cool I guess if we don't have any mind cool I guess if we don't have any other questions or comments about this. Other questions or comments about this other questions or comments about this we can uh I'll hand it off to the next. We can uh I'll hand it off to the next we can uh I'll hand it off to the next cap right thanks Garen for presenting. Cap right thanks Garen for presenting cap right thanks Garen for presenting this and um yes the next thing we have. This and um yes the next thing we have this and um yes the next thing we have on our agenda today is uh cap 6 to7 and. On our agenda today is uh cap 6 to7 and on our agenda today is uh cap 6 to7 and specifically the issues um that concern. Specifically the issues um that concern specifically the issues um that concern uh handling of transaction memers and. Uh handling of transaction memers and uh handling of transaction memers and maxed uh accounts in the uh event um not. Maxed uh accounts in the uh event um not maxed uh accounts in the uh event um not. Sure if cap is even an appropriate link sure if cap is even an appropriate link sure if cap is even an appropriate link. To share right now because most of to share right now because most of to share right now because most of. The uh revant stuff is uh captured uh in the uh revant stuff is uh captured uh in. The uh revant stuff is uh captured uh in the the the discussions to the cap um and um I think. Discussions to the cap um and um I think discussions to the cap um and um I think. The the point of contention during the the the point of contention during the the the point of contention during the. Previous meeting was how exactly can we previous meeting was how exactly can we previous meeting was how exactly can we. Enable maxed accounts in soran and after enable maxed accounts in soran and after. Enable maxed accounts in soran and after spiking a few spiking a few spiking a few. Options considering the fact that it is options considering the fact that it is options considering the fact that it is. Likely for pretty much any custom token likely for pretty much any custom token likely for pretty much any custom token. To be interested in being listed in to be interested in being listed in to be interested in being listed in. Centralized exchanges and as being centralized exchanges and as being centralized exchanges and as being. Compatible with custo Vols that uh compatible with custo Vols that uh compatible with custo Vols that uh. Centralized exchange may use for centralized exchange may use for centralized exchange may use for. Multiplexing multiplexing multiplexing um it seems like this is something that um it seems like this is something that. Um it seems like this is something that most of the tokens will want will want most of the tokens will want will want. Most of the tokens will want will want and I think this is one of the key and I think this is one of the key. And I think this is one of the key requirements that kind of made um the requirements that kind of made um the. Requirements that kind of made um the whole discussion pretty uh hard to whole discussion pretty uh hard to. Whole discussion pretty uh hard to converge on um but since um kind of came converge on um but since um kind of came. Converge on um but since um kind of came to an agreement that this is probably a to an agreement that this is probably a. To an agreement that this is probably a reasonable feature to have and um reasonable feature to have and um. Reasonable feature to have and um contracts will need to deal with Max contracts will need to deal with Max. Contracts will need to deal with Max addresses addresses addresses anyways um the current preference is to. Anyways um the current preference is to anyways um the current preference is to go with an option of add in uh simulus. Go with an option of add in uh simulus go with an option of add in uh simulus support of Max addresses to the SDK and. Support of Max addresses to the SDK and support of Max addresses to the SDK and to the environment and what uh tokens. To the environment and what uh tokens to the environment and what uh tokens extend well not extend but update the uh. Extend well not extend but update the uh extend well not extend but update the uh. Transfer function interface to be able transfer function interface to be able transfer function interface to be able. To accept Mark addresses um I don't know to accept Mark addresses um I don't know. To accept Mark addresses um I don't know you do want to add something we di into you do want to add something we di into. You do want to add something we di into details you asked to details you asked to. Details you asked to speak yeah I think uh maybe it's just speak yeah I think uh maybe it's just. Speak yeah I think uh maybe it's just worth calling out for people who worth calling out for people who. Worth calling out for people who listening of the conversation last week listening of the conversation last week. Listening of the conversation last week I think an assumption we were making to I think an assumption we were making to. I think an assumption we were making to be really clear it was an assumption uh be really clear it was an assumption uh. Be really clear it was an assumption uh that this needed to be an that this needed to be an. That this needed to be an extension um and I think you know to has extension um and I think you know to has. Extension um and I think you know to has sort of pointed out that it's safe to sort of pointed out that it's safe to. Sort of pointed out that it's safe to assume that pretty much every token assume that pretty much every token. Assume that pretty much every token would be interested in being listed in would be interested in being listed in. Would be interested in being listed in an exchange you know if if that was if an exchange you know if if that was if. An exchange you know if if that was if that was to happen um and so there's that was to happen um and so there's. That was to happen um and so there's little reason to make this an extension little reason to make this an extension. Little reason to make this an extension where it's sort of targeting a very where it's sort of targeting a very. Where it's sort of targeting a very small number of tokens um like really small number of tokens um like really. Small number of tokens um like really just sort of all tokens should should be just sort of all tokens should should be. Just sort of all tokens should should be able to handle the case where they're able to handle the case where they're. Able to handle the case where they're given a Max address or a given a Max address or a. Given a Max address or a memo um and so much of the complexity I memo um and so much of the complexity I. Memo um and so much of the complexity I think in some of the spikes sort of think in some of the spikes sort of. Think in some of the spikes sort of disappears once we don't try to make disappears once we don't try to make. Disappears once we don't try to make this an extension right so um to summarize like. Extension right so um to summarize like what we are currently going to do with a what we are currently going to do with a. What we are currently going to do with a protocol is that uh we will add a new protocol is that uh we will add a new. Protocol is that uh we will add a new object type to soran um specifically for object type to soran um specifically for. Object type to soran um specifically for handling maxed addresses handling maxed addresses. Handling maxed addresses um max accounts currently Max accounts um max accounts currently Max accounts. Um max accounts currently Max accounts currently but I'm actually not sure if currently but I'm actually not sure if. Currently but I'm actually not sure if you want to do contracts or not but we you want to do contracts or not but we. You want to do contracts or not but we could we wanted to and the interesting could we wanted to and the interesting. Could we wanted to and the interesting thing about it is that since it's in the thing about it is that since it's in the. Thing about it is that since it's in the protocol um well the primary reason for protocol um well the primary reason for. Protocol um well the primary reason for why we are doing this work is uh for the why we are doing this work is uh for the. Why we are doing this work is uh for the tokens to be able to support this um tokens to be able to support this um. Tokens to be able to support this um basically any basically any basically any protocol uh will be able to use them if. Protocol uh will be able to use them if protocol uh will be able to use them if they want to so if um custodial. They want to so if um custodial they want to so if um custodial Solutions are necessary some other. Solutions are necessary some other Solutions are necessary some other protocols basically the solutions for. Protocols basically the solutions for protocols basically the solutions for single address um that can have multiple. Single address um that can have multiple single address um that can have multiple. Sub virtual sub accounts um they will be sub virtual sub accounts um they will be. Sub virtual sub accounts um they will be able to implement this and I think this able to implement this and I think this. Able to implement this and I think this is one of the benefits of this it hasn't is one of the benefits of this it hasn't. Is one of the benefits of this it hasn't been discussed um before um even though been discussed um before um even though. Been discussed um before um even though like we don't have limited obvious use like we don't have limited obvious use. Like we don't have limited obvious use case uh but know folks may come up with case uh but know folks may come up with. Case uh but know folks may come up with something I definitely recall having uh something I definitely recall having uh. Something I definitely recall having uh recall seen some discussions here on recall seen some discussions here on. Recall seen some discussions here on Discord um regarding um virtual accounts Discord um regarding um virtual accounts. Discord um regarding um virtual accounts for multiplexing support for multiplexing support. For multiplexing support so yeah we we had this new new object so yeah we we had this new new object. So yeah we we had this new new object type and also at the SDK level we make type and also at the SDK level we make. Type and also at the SDK level we make it so um the regular address type and it so um the regular address type and. It so um the regular address type and this new Multiplex address type are this new Multiplex address type are. This new Multiplex address type are wrapped in the same SDK type which means wrapped in the same SDK type which means. Wrapped in the same SDK type which means that um for example if uh contract uh that um for example if uh contract uh. That um for example if uh contract uh just operates on the addresses and it just operates on the addresses and it. Just operates on the addresses and it doesn't know exit your token started doesn't know exit your token started. Doesn't know exit your token started except in multiplexed addresses for the except in multiplexed addresses for the. Except in multiplexed addresses for the transfer um as will break um so for transfer um as will break um so for. Transfer um as will break um so for example if contract a calls a token example if contract a calls a token. Example if contract a calls a token contract uh and passes a regular address contract uh and passes a regular address. Contract uh and passes a regular address non Max address to it um things will non Max address to it um things will. Non Max address to it um things will keep working even the token contract keep working even the token contract. Keep working even the token contract updates to this new proposed uh feature updates to this new proposed uh feature. Updates to this new proposed uh feature um which is to allow uh transfers to um which is to allow uh transfers to. Um which is to allow uh transfers to have multiplexed destinations and have multiplexed destinations and. Have multiplexed destinations and sources um and this is what what has sources um and this is what what has. Sources um and this is what what has been spiked and uh this seems to kind of been spiked and uh this seems to kind of. Been spiked and uh this seems to kind of work and in terms of complexity on the work and in terms of complexity on the. Work and in terms of complexity on the token side it doesn't seem like there is token side it doesn't seem like there is. Token side it doesn't seem like there is too much it's um few additional lines of. Too much it's um few additional lines of too much it's um few additional lines of. Code to convert from multiple addresses code to convert from multiple addresses code to convert from multiple addresses. Back to uh normal addresses that can do back to uh normal addresses that can do back to uh normal addresses that can do. All the interesting things that all the interesting things that all the interesting things that. Addresses can addresses can addresses can do um that's kind of a hell level thing. Do um that's kind of a hell level thing do um that's kind of a hell level thing um I am not sure if uh they need to go. Um I am not sure if uh they need to go um I am not sure if uh they need to go too deep into details right now I guess. Too deep into details right now I guess too deep into details right now I guess the conclusion from the discussions for. The conclusion from the discussions for the conclusion from the discussions for is really that um seems like we have a. Is really that um seems like we have a is really that um seems like we have a way of making this work in a non. Way of making this work in a non way of making this work in a non disruption non-disruptive fashion. Disruption non-disruptive fashion disruption non-disruptive fashion meaning that um the existing contracts. Meaning that um the existing contracts meaning that um the existing contracts will not be. Will not be will not be broken and it is also possible for the broken and it is also possible for the. Broken and it is also possible for the clients to discover if a contract clients to discover if a contract. Clients to discover if a contract reports multiplexed addresses at all or reports multiplexed addresses at all or. Reports multiplexed addresses at all or not um which may be relevant in some not um which may be relevant in some. Not um which may be relevant in some context right so I think this part is context right so I think this part is. Context right so I think this part is more or less clear uh part is still more or less clear uh part is still. More or less clear uh part is still unclear and I wanted to talk about a bit unclear and I wanted to talk about a bit. Unclear and I wanted to talk about a bit more is um how exactly are we going to more is um how exactly are we going to. More is um how exactly are we going to represent the multiplex destinations and represent the multiplex destinations and. Represent the multiplex destinations and the events and the option of just the events and the option of just. The events and the option of just putting them into topic is problematic putting them into topic is problematic. Putting them into topic is problematic because it would break uh index if they because it would break uh index if they. Because it would break uh index if they don't do anything special this Multiplex don't do anything special this Multiplex. Don't do anything special this Multiplex addresses break in a sense that they addresses break in a sense that they. Addresses break in a sense that they will have too many virtual destinations will have too many virtual destinations. Will have too many virtual destinations that they really shouldn't be caring that they really shouldn't be caring. That they really shouldn't be caring about um so in the link I posted about um so in the link I posted. About um so in the link I posted uh yeah thanks Le for posting other uh yeah thanks Le for posting other. Uh yeah thanks Le for posting other discussions um yeah in the discussion discussions um yeah in the discussion. Discussions um yeah in the discussion the da post ly has listed different the da post ly has listed different. The da post ly has listed different approaches um approaches um approaches um to actually how to handle the events. To actually how to handle the events to actually how to handle the events with mlex. With mlex with mlex destinations and destinations and destinations and uh I think we haven't reached the full. Uh I think we haven't reached the full uh I think we haven't reached the full agreement on this but again it seems. Agreement on this but again it seems agreement on this but again it seems like from my own preference and I see. Like from my own preference and I see like from my own preference and I see Alex has commented on. Alex has commented on Alex has commented on this this this um seems like what we could do is um you. Um seems like what we could do is um you um seems like what we could do is um you. Could just could just could just converge uh yeah I say want to talk but converge uh yeah I say want to talk but. Converge uh yeah I say want to talk but I guess the current preference is to I guess the current preference is to. I guess the current preference is to converge all the possible memo that we converge all the possible memo that we. Converge all the possible memo that we currently have um support in the currently have um support in the. Currently have um support in the transaction converge everything into the transaction converge everything into the. Transaction converge everything into the single Multiplex address uh data single Multiplex address uh data. Single Multiplex address uh data structure uh so that for the classic structure uh so that for the classic. Structure uh so that for the classic transactions you will be able to transactions you will be able to. Transactions you will be able to generate Multiplex destination based on generate Multiplex destination based on. Generate Multiplex destination based on the transaction memo even of this the transaction memo even of this. The transaction memo even of this transaction mem is non ID and for s b transaction mem is non ID and for s b. Transaction mem is non ID and for s b use cases um you only support ID MERS to use cases um you only support ID MERS to. Use cases um you only support ID MERS to kind of ruce the potential amount of kind of ruce the potential amount of. Kind of ruce the potential amount of confusion I know Alex if you want confusion I know Alex if you want. Confusion I know Alex if you want to okay Alex doesn't want to talk uh I to okay Alex doesn't want to talk uh I. To okay Alex doesn't want to talk uh I don't know if you want to yeah no I I just you know my comment. To yeah no I I just you know my comment was basically uh my preference uh just was basically uh my preference uh just. Was basically uh my preference uh just as one point of view on like which one as one point of view on like which one. As one point of view on like which one we should use uh I guess I do have a we should use uh I guess I do have a. We should use uh I guess I do have a question now thinking about it like question now thinking about it like. Question now thinking about it like would this cause any breakage to how would this cause any breakage to how. Would this cause any breakage to how people parse M addresses if we were to people parse M addresses if we were to. People parse M addresses if we were to expand M addresses to actually cover all expand M addresses to actually cover all. Expand M addresses to actually cover all types of memos well it depends on where exactly. Memos well it depends on where exactly we put it uh in the sketch I've posted we put it uh in the sketch I've posted. We put it uh in the sketch I've posted above the above in the same discussion above the above in the same discussion. Above the above in the same discussion um I'm actually only extending SC um I'm actually only extending SC. Um I'm actually only extending SC address address address type uh which means that classic Max. Type uh which means that classic Max type uh which means that classic Max account data structure will stay as is. Account data structure will stay as is account data structure will stay as is and the reason to keep it as is is that. And the reason to keep it as is is that and the reason to keep it as is is that it's kind of over the place in the. It's kind of over the place in the it's kind of over the place in the protocol like a lot of transactions have. Protocol like a lot of transactions have protocol like a lot of transactions have. Maxed accounts as uh sources or maxed accounts as uh sources or maxed accounts as uh sources or. Destinations and um yes there is really destinations and um yes there is really destinations and um yes there is really. No good reason to kind of uh no good reason to kind of uh no good reason to kind of uh. Retroactively Plum all this memos uh retroactively Plum all this memos uh retroactively Plum all this memos uh. Into the classic Max account type and into the classic Max account type and into the classic Max account type and. Yeah this m will just remain in address yeah this m will just remain in address yeah this m will just remain in address. And it will be just yet another special and it will be just yet another special and it will be just yet another special. SC address uh as the remainder of with SC address uh as the remainder of with SC address uh as the remainder of with. Cap 67 we introduced like chable balance cap 67 we introduced like chable balance. Cap 67 we introduced like chable balance address and liquidity po C address and address and liquidity po C address and. Address and liquidity po C address and both can only appear in the context of both can only appear in the context of. Both can only appear in the context of this uh unified events sources of or this uh unified events sources of or. This uh unified events sources of or destinations of payments and this is destinations of payments and this is. Destinations of payments and this is basically the Third special address kind basically the Third special address kind. Basically the Third special address kind that only appears in unified events that only appears in unified events. That only appears in unified events coming from classic um I cannot say this coming from classic um I cannot say this. Coming from classic um I cannot say this will definitely not cause any breakage will definitely not cause any breakage. Will definitely not cause any breakage because well we are kind of in order to because well we are kind of in order to. Because well we are kind of in order to achieve this we need to uh not well kind achieve this we need to uh not well kind. Achieve this we need to uh not well kind of break right the token events uh by of break right the token events uh by. Of break right the token events uh by converting the data field from a single converting the data field from a single. Converting the data field from a single integer to a map there is definitely integer to a map there is definitely. Integer to a map there is definitely this breakage and you know if someone this breakage and you know if someone. This breakage and you know if someone there something to address um they may there something to address um they may. There something to address um they may or may not be broken so PR definitely or may not be broken so PR definitely. Or may not be broken so PR definitely some cost to it but it's not really some cost to it but it's not really. Some cost to it but it's not really specific to this proposal of uh adding specific to this proposal of uh adding. Specific to this proposal of uh adding this uh this uh this uh maxed address with memo whatever new. Maxed address with memo whatever new maxed address with memo whatever new type because we kind of already have. Type because we kind of already have type because we kind of already have have this issue. Have this issue have this issue um so yeah uh I hope the breaker scope um so yeah uh I hope the breaker scope. Um so yeah uh I hope the breaker scope is really minimal especially if like we is really minimal especially if like we. Is really minimal especially if like we support this iny libraries and whoever support this iny libraries and whoever. Support this iny libraries and whoever is using string key library to just is using string key library to just. Is using string key library to just convert to and from a c address they convert to and from a c address they. Convert to and from a c address they will just need to update the version and will just need to update the version and. Will just need to update the version and hopefully everything just works hopefully everything just works. Hopefully everything just works um yeah George you turn stage yeah yeah um yeah George you turn stage yeah yeah. Um yeah George you turn stage yeah yeah I just wanted to add that um yeah I 100% I just wanted to add that um yeah I 100%. I just wanted to add that um yeah I 100% agree that we should minimize or we agree that we should minimize or we. Agree that we should minimize or we should try not to make any changes to should try not to make any changes to. Should try not to make any changes to the actual mxed account xdr address or the actual mxed account xdr address or. The actual mxed account xdr address or like the M string key format because like the M string key format because. Like the M string key format because there's deep assumptions in a lot of there's deep assumptions in a lot of. There's deep assumptions in a lot of places um Downstream both in platform places um Downstream both in platform. Places um Downstream both in platform products and Beyond in the ecosystem products and Beyond in the ecosystem. Products and Beyond in the ecosystem about the M string key specifically about the M string key specifically. About the M string key specifically having the integer as the ID so uh yeah having the integer as the ID so uh yeah. Having the integer as the ID so uh yeah if we can isolate that to SC address if we can isolate that to SC address. If we can isolate that to SC address that sounds that sounds great right that is option four right or. Great right that is option four right or option yeah four right option yeah four right. Option yeah four right yeah or it's it's more like it's not yeah or it's it's more like it's not. Yeah or it's it's more like it's not option three I think option three is the option three I think option three is the. Option three I think option three is the only one that modifies the um string only one that modifies the um string. Only one that modifies the um string key yeah I think option two is the key yeah I think option two is the. Key yeah I think option two is the closest yeah like using M wherever closest yeah like using M wherever. Closest yeah like using M wherever possible but not trying to shoehorn text possible but not trying to shoehorn text. Possible but not trying to shoehorn text and hash into an M address as long as and hash into an M address as long as. And hash into an M address as long as we're talking about the stry we're talking about the stry. We're talking about the stry representation not some other representation not some other. Representation not some other representation yes yeah I think that's right um yeah I. Yes yeah I think that's right um yeah I understand that concern I I I I understand that concern I I I I. Understand that concern I I I I personally when I look at these four personally when I look at these four. Personally when I look at these four options and I think there's more than options and I think there's more than. Options and I think there's more than these four options so I think you know these four options so I think you know. These four options so I think you know if people have other ideas like please if people have other ideas like please. If people have other ideas like please post them to this thread um these are post them to this thread um these are. Post them to this thread um these are just the first four that came to Wine um just the first four that came to Wine um. Just the first four that came to Wine um the attractive thing about the first the attractive thing about the first. The attractive thing about the first option and the third option is option and the third option is. Option and the third option is that it's very consistent with what you that it's very consistent with what you. That it's very consistent with what you see going into a see going into a see going into a. Transaction um for I think for transaction um for I think for transaction um for I think for. Exchangers at least or for legacy users exchangers at least or for legacy users exchangers at least or for legacy users. So if somebody puts in a memo that's a so if somebody puts in a memo that's a so if somebody puts in a memo that's a. String it comes out as being labeled string it comes out as being labeled string it comes out as being labeled. This is the here's the string in in this is the here's the string in in this is the here's the string in in. Exact like it looks exactly the same so exact like it looks exactly the same so exact like it looks exactly the same so. If somebody's using developer tooling if somebody's using developer tooling if somebody's using developer tooling. They see they decode a transaction they they see they decode a transaction they they see they decode a transaction they. See this transaction had a particular see this transaction had a particular see this transaction had a particular. Memo they decode the event they can see memo they decode the event they can see memo they decode the event they can see. The memo right there like they look the memo right there like they look the memo right there like they look. Exactly the same um and then the same exactly the same um and then the same exactly the same um and then the same. Thing if you know if the mammo is an thing if you know if the mammo is an thing if you know if the mammo is an. Integer it looks exactly the same um and integer it looks exactly the same um and. Integer it looks exactly the same um and because we need to decode the M into a g. Because we need to decode the M into a g because we need to decode the M into a g. For the topics I don't think it's such a for the topics I don't think it's such a. For the topics I don't think it's such a stretch for option one to to like break stretch for option one to to like break. Stretch for option one to to like break it apart and for even in the MX case the it apart and for even in the MX case the. It apart and for even in the MX case the integer to come out at least there's integer to come out at least there's. Integer to come out at least there's some consistency there um the concern I some consistency there um the concern I. Some consistency there um the concern I have with the two case um is that have with the two case um is that. Have with the two case um is that because uh it's sort of a little bit because uh it's sort of a little bit. Because uh it's sort of a little bit less consistent less consistent less consistent. You can create a transaction with a Max you can create a transaction with a Max you can create a transaction with a Max. Address and you get an m on the other address and you get an m on the other address and you get an m on the other. Side which makes a lot of sense um but side which makes a lot of sense um but side which makes a lot of sense um but. Then you create a transaction with a g then you create a transaction with a g then you create a transaction with a g. In a memo and some memos result in an m in a memo and some memos result in an m in a memo and some memos result in an m. And some memos don't result in an and some memos don't result in an and some memos don't result in an. M so yeah this might just m so yeah this might just m so yeah this might just be maybe this is an edge case we. Be maybe this is an edge case we be maybe this is an edge case we shouldn't worry too much about but just. Shouldn't worry too much about but just shouldn't worry too much about but just that inconsistency seems surprising to. That inconsistency seems surprising to that inconsistency seems surprising to me I think it will be surprising to. Me I think it will be surprising to me I think it will be surprising to somebody uh just to clarify real quick isn't it. Uh just to clarify real quick isn't it normally the case that when people use normally the case that when people use. Normally the case that when people use the ID for um the ID for um the ID for um differentiation on uh like Omni bus or. Differentiation on uh like Omni bus or differentiation on uh like Omni bus or custodial accounts that they would use. Custodial accounts that they would use custodial accounts that they would use the ID form like text and hash don't. The ID form like text and hash don't the ID form like text and hash don't seem like they would apply necessarily. Seem like they would apply necessarily seem like they would apply necessarily there so it might be like an edge case. There so it might be like an edge case there so it might be like an edge case that um you know they're attaching it as. That um you know they're attaching it as that um you know they're attaching it as. A piece of text that is supposed to like a piece of text that is supposed to like. A piece of text that is supposed to like display something so putting that into a. Display something so putting that into a display something so putting that into a. Memo would be um it's not intended to memo would be um it's not intended to memo would be um it's not intended to. Differentiate yeah we should I mean we differentiate yeah we should I mean we differentiate yeah we should I mean we. Should use we should use the big query should use we should use the big query should use we should use the big query. Data set just to validate um just to data set just to validate um just to data set just to validate um just to. Make sure we got these numbers exactly make sure we got these numbers exactly make sure we got these numbers exactly. Right but when I've looked at this in right but when I've looked at this in right but when I've looked at this in. The past I have seen plenty of text the past I have seen plenty of text the past I have seen plenty of text. Usage actually um but a lot of the text usage actually um but a lot of the text usage actually um but a lot of the text. Usages exchanges um placing numbers into usages exchanges um placing numbers into. Usages exchanges um placing numbers into text form and then using the text the text form and then using the text the. Text form and then using the text the memo text memo text memo text I see so kind of a misuse of the text. I see so kind of a misuse of the text I see so kind of a misuse of the text form yeah I think Jake has just. Form yeah I think Jake has just form yeah I think Jake has just commented on that I think just our. Commented on that I think just our commented on that I think just our comments about what most exchanges are. Comments about what most exchanges are comments about what most exchanges are doing we just need to validate that. Doing we just need to validate that doing we just need to validate that because I know like one exchange that. Because I know like one exchange that because I know like one exchange that actually does use MOX counts uh well. Actually does use MOX counts uh well actually does use MOX counts uh well they support both moxed and non-med for. They support both moxed and non-med for they support both moxed and non-med for the non-med they use text and then for. The non-med they use text and then for the non-med they use text and then for the moxed they're obviously using the ID. The moxed they're obviously using the ID the moxed they're obviously using the ID. Um which is interesting I think one of the advantages of option I think one of the advantages of option. Three which three which three which modifies the M string key format so that modifies the M string key format so that. Modifies the M string key format so that it can contain more it can contain more it can contain more. Information information information um is that it sort of um is that it sort of um is that it sort of. Pushes everything towards that MOX pushes everything towards that MOX pushes everything towards that MOX. Address format um I I don't know if that address format um I I don't know if that. Address format um I I don't know if that would really change adoption of it would really change adoption of it. Would really change adoption of it probably probably probably not um but it does create like a single. Not um but it does create like a single not um but it does create like a single unified View and the data that comes out. Unified View and the data that comes out unified View and the data that comes out. The other end I'd be interested in Simon the other end I'd be interested in Simon. The other end I'd be interested in Simon if he's here on like you know what the if he's here on like you know what the. If he's here on like you know what the perspective is from like a data consumer perspective is from like a data consumer. Perspective is from like a data consumer perspective like a future data consumer perspective like a future data consumer. Perspective like a future data consumer perspective assuming that the network perspective assuming that the network. Perspective assuming that the network will always have more users tomorrow will always have more users tomorrow. Will always have more users tomorrow than it does today um yeah like which of than it does today um yeah like which of. Than it does today um yeah like which of these approaches makes the most sense these approaches makes the most sense. These approaches makes the most sense for future users and future consumers hello um I would actually say. Consumers hello um I would actually say for I guess from like a big data or like for I guess from like a big data or like. For I guess from like a big data or like olab perspective I don't think any of olab perspective I don't think any of. Olab perspective I don't think any of these would cause a problem for these would cause a problem for. These would cause a problem for scalability um yeah I'm not sure if that's helpful or. Yeah I'm not sure if that's helpful or not but I think um the amount of users not but I think um the amount of users. Not but I think um the amount of users that uh unless it gets into I guess like that uh unless it gets into I guess like. That uh unless it gets into I guess like the billions of something range which the billions of something range which. The billions of something range which um I guess is the like possible won't be um I guess is the like possible won't be. Um I guess is the like possible won't be an issue for like the next decade or so an issue for like the next decade or so. An issue for like the next decade or so um I don't think this would be a problem um I don't think this would be a problem. Um I don't think this would be a problem from like an olap perspective what about from the perspective of your. What about from the perspective of your a data engineer trying to represent this a data engineer trying to represent this. A data engineer trying to represent this data and so you're looking at a lot of data and so you're looking at a lot of. Data and so you're looking at a lot of the data and a lot of the data has just the data and a lot of the data has just. The data and a lot of the data has just a single value for this destination and a single value for this destination and. A single value for this destination and then in some cases oh this value is then in some cases oh this value is. Then in some cases oh this value is actually a combination of multiple actually a combination of multiple. Actually a combination of multiple fields or or something like that does fields or or something like that does. Fields or or something like that does that um make it more or less difficult that um make it more or less difficult. That um make it more or less difficult when integrating into other systems or when integrating into other systems or. When integrating into other systems or would that be like a concern or would that be like a concern or. Would that be like a concern or something that could be like a foot something that could be like a foot. Something that could be like a foot gun um like something that'd be easy to gun um like something that'd be easy to. Gun um like something that'd be easy to make a mistake make a mistake make a mistake. With I think for our use case um I don't with I think for our use case um I don't. With I think for our use case um I don't really have a concern with that I think really have a concern with that I think. Really have a concern with that I think the concern would be more for whoever is the concern would be more for whoever is. The concern would be more for whoever is ingesting from like RPC or creating like. Ingesting from like RPC or creating like ingesting from like RPC or creating like. Some Horizon like end point so I don't know if I'm the best to point so I don't know if I'm the best to. Speak on that yeah from from Horizon so from Horizon's yeah from from Horizon so from Horizon's. Perspective because we already support M perspective because we already support M. Perspective because we already support M addresses in their current addresses in their current. Addresses in their current form um it would be like the format form um it would be like the format. Form um it would be like the format itself would break right because you itself would break right because you. Itself would break right because you would need a way to distinguish what would need a way to distinguish what. Would need a way to distinguish what kind of memo it is now and so anybody kind of memo it is now and so anybody. Kind of memo it is now and so anybody who's relying on the current string key who's relying on the current string key. Who's relying on the current string key format would know longer be open be able format would know longer be open be able. Format would know longer be open be able to use the same string key format right to use the same string key format right. To use the same string key format right any existing you know queries or um any existing you know queries or um. Any existing you know queries or um lookups or parsing routines uh anyone lookups or parsing routines uh anyone. Lookups or parsing routines uh anyone who's trying to find stuff in Hubble who's trying to find stuff in Hubble. Who's trying to find stuff in Hubble right they would have to reformulate right they would have to reformulate. Right they would have to reformulate their M address as far as I understand their M address as far as I understand. Their M address as far as I understand it I mean it depends on how it gets it I mean it depends on how it gets. It I mean it depends on how it gets formatted in the xdr I guess or how the formatted in the xdr I guess or how the. Formatted in the xdr I guess or how the shinky definition defines it but uh yeah shinky definition defines it but uh yeah. Shinky definition defines it but uh yeah it seems like this would uh cause a lot it seems like this would uh cause a lot. It seems like this would uh cause a lot of pain for Downstream if we extended it of pain for Downstream if we extended it. Of pain for Downstream if we extended it to be more than just strictly integer to be more than just strictly integer. To be more than just strictly integer IDs I think it can when I had to look at IDs I think it can when I had to look at. IDs I think it can when I had to look at I I did a quick Spike having a look at I I did a quick Spike having a look at. I I did a quick Spike having a look at what would need a change about the M what would need a change about the M. What would need a change about the M string key and it's 100% extendable string key and it's 100% extendable. String key and it's 100% extendable without breaking existing string keys so without breaking existing string keys so. Without breaking existing string keys so without confusion so like existing without confusion so like existing. Without confusion so like existing string Keys string Keys string Keys would um continue to decode to the exact. Would um continue to decode to the exact would um continue to decode to the exact. Same value and for any existing same value and for any existing same value and for any existing. Decoder um that follows the back any new decoder um that follows the back any new. Decoder um that follows the back any new string key wouldn't overlap with any string key wouldn't overlap with any. String key wouldn't overlap with any existing string key so that every new existing string key so that every new. Existing string key so that every new string key that didn't follow a string key that didn't follow a. String key that didn't follow a different format would definitely fail different format would definitely fail. Different format would definitely fail um like say like when I say new I mean um like say like when I say new I mean. Um like say like when I say new I mean like the text the return and the hash like the text the return and the hash. Like the text the return and the hash typ of MOT types so I think we typ of MOT types so I think we. Typ of MOT types so I think we definitely could do that but um without definitely could do that but um without. Definitely could do that but um without breaking existing systems breaking existing systems. Breaking existing systems but you know whether that's the right but you know whether that's the right. But you know whether that's the right way still to do that is another question way still to do that is another question. Way still to do that is another question you know based you know based you know based. On on on um there will be systems that probably um there will be systems that probably. Um there will be systems that probably won't upgrade to the new format and they won't upgrade to the new format and they. Won't upgrade to the new format and they might assume that there's nothing to might assume that there's nothing to. Might assume that there's nothing to change and then they become broken yeah change and then they become broken yeah. Change and then they become broken yeah I don't know I'm interested to hear like I don't know I'm interested to hear like. I don't know I'm interested to hear like Nico you were just talking about Nico you were just talking about. Nico you were just talking about exchangers will crack open the M address exchangers will crack open the M address. Exchangers will crack open the M address for case three so that's strictly worse for case three so that's strictly worse. For case three so that's strictly worse um as a use case um could you unpack um as a use case um could you unpack. Um as a use case um could you unpack that a little bit yeah I mean it's that a little bit yeah I mean it's. That a little bit yeah I mean it's basically like you know in in the in basically like you know in in the in. Basically like you know in in the in their inje system what they are looking their inje system what they are looking. Their inje system what they are looking at is deposits to their hot at is deposits to their hot. At is deposits to their hot wallet and then they and then the memo wallet and then they and then the memo. Wallet and then they and then the memo that's how they you know ingest the that's how they you know ingest the. That's how they you know ingest the data um like I don't data um like I don't data um like I don't. See like why they would want to see like why they would want to see like why they would want to. Basically track like M addresses as the basically track like M addresses as the basically track like M addresses as the. Kind of the the deposit key kind of the the deposit key kind of the the deposit key. For for you know separate from the hot for for you know separate from the hot for for you know separate from the hot. Wet wet wet basically um yeah that's a good point basically um yeah that's a good point. Basically um yeah that's a good point also for for exchanges that use Define also for for exchanges that use Define. Also for for exchanges that use Define those identifiers like per customer too those identifiers like per customer too. Those identifiers like per customer too um like you're you are really interested um like you're you are really interested. Um like you're you are really interested in that identifier whether it be an ID in that identifier whether it be an ID. In that identifier whether it be an ID or a string um I I or a string um I I or a string um I I. Think I think what I hear you saying is think I think what I hear you saying is think I think what I hear you saying is. Exchangers actually don't really care exchangers actually don't really care exchangers actually don't really care. About the M address after that import about the M address after that import about the M address after that import. Other than using it as an input so that other than using it as an input so that other than using it as an input so that. Users can just enter that one value when users can just enter that one value when. Users can just enter that one value when they're ingesting syst doesn't really they're ingesting syst doesn't really. They're ingesting syst doesn't really am I guess you can still argue that um am I guess you can still argue that um. Am I guess you can still argue that um as a someone who's we're basically as a someone who's we're basically. As a someone who's we're basically deciding what is going to be P published deciding what is going to be P published. Deciding what is going to be P published as an event but you can always uh go as an event but you can always uh go. As an event but you can always uh go back and forth between the M or the back and forth between the M or the. Back and forth between the M or the address plus memo right and you can address plus memo right and you can. Address plus memo right and you can abtract that away in the SDK or even abtract that away in the SDK or even. Abtract that away in the SDK or even like as an indexer was actually like as an indexer was actually. Like as an indexer was actually ingesting this data and converting and ingesting this data and converting and. Ingesting this data and converting and serving at however you want right so serving at however you want right so. Serving at however you want right so does it really matter I I think the does it really matter I I think the. Does it really matter I I think the point about breakage though is very point about breakage though is very. Point about breakage though is very important right CU I feel like you first important right CU I feel like you first. Important right CU I feel like you first said it wouldn't cause any breakage but said it wouldn't cause any breakage but. Said it wouldn't cause any breakage but for anyone uh who is parsing currently M for anyone uh who is parsing currently M. For anyone uh who is parsing currently M current M addresses and they don't current M addresses and they don't. Current M addresses and they don't upgrade their implementation to the new upgrade their implementation to the new. Upgrade their implementation to the new thing if they see an address that uh thing if they see an address that uh. Thing if they see an address that uh is using the extended version they would is using the extended version they would. Is using the extended version they would probably break probably break probably break. Right yeah in that in that case they're right yeah in that in that case they're right yeah in that in that case they're. Not going to be able to decode it not going to be able to decode it not going to be able to decode it. Because it's it'll be a different because it's it'll be a different because it's it'll be a different. Format yeah I I think it's really some format yeah I I think it's really some format yeah I I think it's really some. Confusion because I think we might be confusion because I think we might be confusion because I think we might be. Reading this proposals reading this proposals reading this proposals differently I do not think any proposal. Differently I do not think any proposal differently I do not think any proposal assumes didn't shink keiss anywhere in. Assumes didn't shink keiss anywhere in assumes didn't shink keiss anywhere in the. Events yeah that's actually exactly what events yeah that's actually exactly what. I was about to ask like what when we say I was about to ask like what when we say. I was about to ask like what when we say from M and to M right in the in the from M and to M right in the in the. From M and to M right in the in the transfer topic from G and 2G is an transfer topic from G and 2G is an. Transfer topic from G and 2G is an address yes basically basically in my address yes basically basically in my. Address yes basically basically in my mind from G2 g means that from SC mind from G2 g means that from SC. Mind from G2 g means that from SC address account address account address account. Ed25 whatever to C address account and ed25 whatever to C address account and ed25 whatever to C address account and. From M to m means address maxed account from M to m means address maxed account from M to m means address maxed account. Which I have introduced in my Spike rate which I have introduced in my Spike rate. Which I have introduced in my Spike rate and address Max account variant has the and address Max account variant has the. And address Max account variant has the max account XD payload U which is max account XD payload U which is. Max account XD payload U which is existing Max account which it doesn't existing Max account which it doesn't. Existing Max account which it doesn't even have to to be frankly it could be even have to to be frankly it could be. Even have to to be frankly it could be just you know Ed plus ID uh there is no just you know Ed plus ID uh there is no. Just you know Ed plus ID uh there is no additional level of neration additional level of neration. Additional level of neration um and the same goes for this new uh um and the same goes for this new uh. Um and the same goes for this new uh memo account uh from z x j point it can memo account uh from z x j point it can. Memo account uh from z x j point it can be just uh a variant of a c address that be just uh a variant of a c address that. Be just uh a variant of a c address that contains um G uh well contains um G uh well. Contains um G uh well ed25 uh key and uh ed25 uh key and uh ed25 uh key and uh memo um which is just the transaction. Memo um which is just the transaction memo um which is just the transaction memo tapee for example um so this key. Memo tapee for example um so this key memo tapee for example um so this key discussion is rather like how how do we. Discussion is rather like how how do we discussion is rather like how how do we like like if we want to convert to. Like like if we want to convert to like like if we want to convert to string key or not but you know the event. String key or not but you know the event string key or not but you know the event. Structure does not change I think I structure does not change I think I structure does not change I think I. Think well I think there is an impact think well I think there is an impact think well I think there is an impact. Here so yes string keys are not part of here so yes string keys are not part of here so yes string keys are not part of. The protocol and they're not part of the the protocol and they're not part of the. The protocol and they're not part of the xdr but they are part of the developer xdr but they are part of the developer. Xdr but they are part of the developer experience and um how we structure this experience and um how we structure this. Experience and um how we structure this will impact it to a degree so um you will impact it to a degree so um you. Will impact it to a degree so um you know we you I agree that you know we can know we you I agree that you know we can. Know we you I agree that you know we can bundle these two pieces of information bundle these two pieces of information. Bundle these two pieces of information the address the actual address and the the address the actual address and the. The address the actual address and the the memo separately or together in the memo separately or together in. The memo separately or together in different structures the same structures different structures the same structures. Different structures the same structures um but we do need to make a decision in um but we do need to make a decision in. Um but we do need to make a decision in the event if it's a top like if it's if the event if it's a top like if it's if. The event if it's a top like if it's if if this event the data section is going if this event the data section is going. If this event the data section is going to become a map um is one of these to become a map um is one of these. To become a map um is one of these fields going to be something that we fields going to be something that we. Fields going to be something that we expect to be a single unit or we going expect to be a single unit or we going. Expect to be a single unit or we going to expect them to be separate units and to expect them to be separate units and. To expect them to be separate units and so and that affects how it's going to so and that affects how it's going to. So and that affects how it's going to render in things like the developer render in things like the developer. Render in things like the developer Tooling in the RPC Json API um because Tooling in the RPC Json API um because. Tooling in the RPC Json API um because that's yeah like that's where we that's yeah like that's where we. That's yeah like that's where we actually do map things to string keys actually do map things to string keys. Actually do map things to string keys and they either map or they don't map and they either map or they don't map. And they either map or they don't map well if if we make them like separate well if if we make them like separate. Well if if we make them like separate fields in the data nothing that we built fields in the data nothing that we built. Fields in the data nothing that we built today for developer tooling is going to today for developer tooling is going to. Today for developer tooling is going to be able to map those things to a string be able to map those things to a string. Be able to map those things to a string key we want them to be a string key if key we want them to be a string key if. Key we want them to be a string key if we put them in a single field then we we put them in a single field then we. We put them in a single field then we have that option um but that may or may have that option um but that may or may. Have that option um but that may or may not be a good idea and we're also not be a good idea and we're also. Not be a good idea and we're also talking about redundant data too so does talking about redundant data too so does. Talking about redundant data too so does it you know if the G is in the topic it you know if the G is in the topic. It you know if the G is in the topic does it really make sense to spend does it really make sense to spend. Does it really make sense to spend another 32 bytes and actually keep that another 32 bytes and actually keep that. Another 32 bytes and actually keep that g in the data as well that's unclear to me right yeah yeah I just want to point. Me right yeah yeah I just want to point out that like basically for the out that like basically for the. Out that like basically for the exchanges I don't think any option is exchanges I don't think any option is. Exchanges I don't think any option is specifically like bad or inefficient specifically like bad or inefficient. Specifically like bad or inefficient because like still have a because like still have a. Because like still have a somewhere in the event um so they you somewhere in the event um so they you. Somewhere in the event um so they you never need to like par this out of never need to like par this out of. Never need to like par this out of strink key um as for the overhead yeah I strink key um as for the overhead yeah I. Strink key um as for the overhead yeah I think it's a think it's a think it's a valid concern. Valid concern valid concern um yeah I think I think like number one um yeah I think I think like number one. Um yeah I think I think like number one I think niik sort of pointed out that I think niik sort of pointed out that. I think niik sort of pointed out that that was an option that was is like low that was an option that was is like low. That was an option that was is like low risk of doing the wrong thing with um risk of doing the wrong thing with um. Risk of doing the wrong thing with um like option one is so simple you know like option one is so simple you know. Like option one is so simple you know that everything's pulled apart you've that everything's pulled apart you've. That everything's pulled apart you've got everything in the event the really got everything in the event the really. Got everything in the event the really only downside of option one where only downside of option one where. Only downside of option one where everything's broken apart is the everything's broken apart is the. Everything's broken apart is the developer experience isn't quite the developer experience isn't quite the. Developer experience isn't quite the same so when you're looking at a human same so when you're looking at a human. Same so when you're looking at a human readable version of an event you're readable version of an event you're. Readable version of an event you're going to see this memo and a g address going to see this memo and a g address. Going to see this memo and a g address you're not going to see that M that was you're not going to see that M that was. You're not going to see that M that was in the original um but this already in the original um but this already. In the original um but this already happens everywhere you know when you go happens everywhere you know when you go. Happens everywhere you know when you go to uh stella. expert or other explorers to uh stella. expert or other explorers. To uh stella. expert or other explorers and you drop in an M address it and you drop in an M address it. And you drop in an M address it immediately drops you into a page about immediately drops you into a page about. Immediately drops you into a page about the G address so I I don't actually the G address so I I don't actually. The G address so I I don't actually think we need to have complete think we need to have complete. Think we need to have complete consistency with madress goes in madress consistency with madress goes in madress. Consistency with madress goes in madress comes out comes out comes out um yeah yeah I guess I just generally. Um yeah yeah I guess I just generally um yeah yeah I guess I just generally say I'm generally for option one I think. Say I'm generally for option one I think say I'm generally for option one I think. It's simple the messages it's simple the messages it's simple the messages smaller. Smaller smaller um yeah um yeah um yeah I yeah I think this may be fine and also I yeah I think this may be fine and also. I yeah I think this may be fine and also like for the consistency part like at like for the consistency part like at. Like for the consistency part like at least like if you can have M addresses least like if you can have M addresses. Least like if you can have M addresses in the contract invocations um things in the contract invocations um things. In the contract invocations um things are immediately much less confusion are immediately much less confusion. Are immediately much less confusion because you know if you wanted to check because you know if you wanted to check. Because you know if you wanted to check your your your transaction uh like there is a very good. Transaction uh like there is a very good transaction uh like there is a very good. Chance that block Explorer will chance that block Explorer will chance that block Explorer will. Correctly say that you actually have correctly say that you actually have correctly say that you actually have. Performed the transfer to an M address performed the transfer to an M address performed the transfer to an M address. And you know not some pair which was my and you know not some pair which was my and you know not some pair which was my. Concern for for the input but for the concern for for the input but for the concern for for the input but for the. Events I agree it may be not as events I agree it may be not as events I agree it may be not as. Important and events are generally much important and events are generally much important and events are generally much. Less human reable so maybe yeah it's not less human reable so maybe yeah it's not. Less human reable so maybe yeah it's not worth to optimize for exactly the same worth to optimize for exactly the same. Worth to optimize for exactly the same range range range as rendering as we would have expected. As rendering as we would have expected as rendering as we would have expected from the signature of the function. From the signature of the function from the signature of the function um um um so. Fine okay so it sounds like we're fine okay so it sounds like we're leaning towards option one. Leaning towards option one leaning towards option one no one's opposed to no one's opposed to. No one's opposed to that if so we can we can move on to uh that if so we can we can move on to uh. That if so we can we can move on to uh the next topic yeah I'm good all right um the. Topic yeah I'm good all right um the next uh thing I think we should discuss next uh thing I think we should discuss. Next uh thing I think we should discuss is what to do about the TX memo if we is what to do about the TX memo if we. Is what to do about the TX memo if we should admit that as a separate event uh should admit that as a separate event uh. Should admit that as a separate event uh because you know for example if you're because you know for example if you're. Because you know for example if you're replaying if if an exchange is replaying replaying if if an exchange is replaying. Replaying if if an exchange is replaying using Classic Events and someone sent a using Classic Events and someone sent a. Using Classic Events and someone sent a you know a payment to you know a payment to. You know a payment to coinbase with TX memo and the M uh and a coinbase with TX memo and the M uh and a. Coinbase with TX memo and the M uh and a m account we don't have space in the in m account we don't have space in the in. M account we don't have space in the in the current events as there as they the current events as there as they. The current events as there as they defined uh to include both like both the defined uh to include both like both the. Defined uh to include both like both the txl and the MX information so an option txl and the MX information so an option. Txl and the MX information so an option that Dio mentioned is we could just emit that Dio mentioned is we could just emit. That Dio mentioned is we could just emit a system event similar to how we cap 67 a system event similar to how we cap 67. A system event similar to how we cap 67 emits a fee event and that event will emits a fee event and that event will. Emits a fee event and that event will just contain the uh the the TX memo if just contain the uh the the TX memo if. Just contain the uh the the TX memo if one existed that I mean I you're saying sorry sorry. That I mean I you're saying sorry sorry like so you're saying like you would not like so you're saying like you would not. Like so you're saying like you would not evit emit a m or whatever like know this. Evit emit a m or whatever like know this evit emit a m or whatever like know this. Um destination um destination um destination memo event if you have a transaction. Memo event if you have a transaction memo event if you have a transaction memo no so when I'm saying is uh like on. Memo no so when I'm saying is uh like on memo no so when I'm saying is uh like on. A payment if you use a MOX account you a payment if you use a MOX account you a payment if you use a MOX account you. Will have a des station memo in the will have a des station memo in the will have a des station memo in the. Transfer event right transfer event right transfer event right but if that transaction also had a TX. But if that transaction also had a TX but if that transaction also had a TX memo set what do you do yeah but but. Memo set what do you do yeah but but memo set what do you do yeah but but first of all like I'd like to understand. First of all like I'd like to understand first of all like I'd like to understand. What happens if you only have a what happens if you only have a what happens if you only have a. Transaction memo and not a Max transaction memo and not a Max transaction memo and not a Max. Destination yeah so the cap currently destination yeah so the cap currently destination yeah so the cap currently. That says that you there's like an order that says that you there's like an order. That says that you there's like an order of Precedence so you would pull the TX of Precedence so you would pull the TX. Of Precedence so you would pull the TX memo and put it into the event but if memo and put it into the event but if. Memo and put it into the event but if you emitted the TX you emitted the TX you emitted the TX. Memo uh separately it would probably memo uh separately it would probably memo uh separately it would probably. Make sense to ignore ignore that order make sense to ignore ignore that order make sense to ignore ignore that order. Of Precedence and have the consumer pull of Precedence and have the consumer pull. Of Precedence and have the consumer pull the information that they want right no the information that they want right no. The information that they want right no that's mistake yeah because we saw with that's mistake yeah because we saw with. That's mistake yeah because we saw with Horizon right like the this model where Horizon right like the this model where. Horizon right like the this model where you let clients kind of you let clients kind of. You let clients kind of decide um we I think this is the decide um we I think this is the. Decide um we I think this is the opportunity to opportunity to opportunity to actually fully specify this precedence. Actually fully specify this precedence actually fully specify this precedence order so that you don't have. Order so that you don't have order so that you don't have ambiguity right because uh I'm pretty. Ambiguity right because uh I'm pretty ambiguity right because uh I'm pretty sure I mean I don't know I don't want to. Sure I mean I don't know I don't want to sure I mean I don't know I don't want to. Put you know exchanges in in you know in put you know exchanges in in you know in. Put you know exchanges in in you know in trouble but I I imagine that the trouble but I I imagine that the. Trouble but I I imagine that the uh um This president's order is not uh um This president's order is not. Uh um This president's order is not actually respected because it's actually actually respected because it's actually. Actually respected because it's actually fairly complicated no what well let's fairly complicated no what well let's. Fairly complicated no what well let's let's I step back for a second is is the let's I step back for a second is is the. Let's I step back for a second is is the ability to re for an exchange to replay ability to re for an exchange to replay. Ability to re for an exchange to replay from Genesis using events a requirement from Genesis using events a requirement. From Genesis using events a requirement because if it is then you you can't make because if it is then you you can't make. Because if it is then you you can't make assumptions about if they care like you assumptions about if they care like you. Assumptions about if they care like you know certain exchanges May care about know certain exchanges May care about. Know certain exchanges May care about the TX Momo and some may care about the the TX Momo and some may care about the. The TX Momo and some may care about the M information M information M information. Right I think this is a new event stream right I think this is a new event stream. Right I think this is a new event stream so we get to do what makes sense if uh I. So we get to do what makes sense if uh I so we get to do what makes sense if uh I. I think yes you don't want to lose the I think yes you don't want to lose the I think yes you don't want to lose the. Information that there was a TX memo information that there was a TX memo information that there was a TX memo. Yeah at the same time I do think that yeah at the same time I do think that yeah at the same time I do think that. The transfer events should contain the the transfer events should contain the the transfer events should contain the. Uh you know what we think is the uh I uh you know what we think is the uh I uh you know what we think is the uh I. Mean as as per specific as per the mean as as per specific as per the mean as as per specific as per the. Specification of transfer specification of transfer specification of transfer events what we believe is the uh the. Events what we believe is the uh the events what we believe is the uh the right um you know destination memo in. Right um you know destination memo in right um you know destination memo in this case. Yeah and I think on that point it yeah and I think on that point it doesn't I'm not actually sure if reap. Doesn't I'm not actually sure if reap doesn't I'm not actually sure if reap like we can't we change this this is a. Like we can't we change this this is a like we can't we change this this is a new event Stream So the replay can use. New event Stream So the replay can use new event Stream So the replay can use the new. The new the new semantics while the previous versions of semantics while the previous versions of. Semantics while the previous versions of meta and the transactions still describe. Meta and the transactions still describe meta and the transactions still describe. The old semantics yeah the the events can uh you semantics yeah the the events can uh you. Know do whatever we can be specified know do whatever we can be specified know do whatever we can be specified. However we want them to be maybe I however we want them to be maybe I however we want them to be maybe I. Wasn't clear like like what I was wasn't clear like like what I was wasn't clear like like what I was. Initially saying is that the the TX memo initially saying is that the the TX memo. Initially saying is that the the TX memo would be in this new event and the would be in this new event and the. Would be in this new event and the transfer event would only have any it transfer event would only have any it. Transfer event would only have any it only have MOX account information and only have MOX account information and. Only have MOX account information and and I think ni you're saying that in and I think ni you're saying that in. And I think ni you're saying that in some some cases we should uh push the TX some some cases we should uh push the TX. Some some cases we should uh push the TX memo into the into the transfer event as. Memo into the into the transfer event as memo into the into the transfer event as. Well I think for yeah like if we well I think for yeah like if we well I think for yeah like if we. Are going forward like it's more like are going forward like it's more like are going forward like it's more like. Yeah what do we want the those events to yeah what do we want the those events to. Yeah what do we want the those events to look like for Classic Events I think we look like for Classic Events I think we. Look like for Classic Events I think we want them to properly represent the want them to properly represent the. Want them to properly represent the destination and uh therefore you need to destination and uh therefore you need to. Destination and uh therefore you need to see the transfer event with the proper see the transfer event with the proper. See the transfer event with the proper destination plus memo like you know like destination plus memo like you know like. Destination plus memo like you know like option one let's say option one let's say. Option one let's say right even if the memo is actually at right even if the memo is actually at. Right even if the memo is actually at the trans has been specified at the the trans has been specified at the. The trans has been specified at the transac only at the transaction transac only at the transaction. Transac only at the transaction layer okay so if the if the account layer okay so if the if the account. Layer okay so if the if the account wasn't moxed then for the uh the memo wasn't moxed then for the uh the memo. Wasn't moxed then for the uh the memo into the transfer uh event and into the transfer uh event and. Into the transfer uh event and the M basically the M basically the M basically indistinguishable if you have like only. Indistinguishable if you have like only indistinguishable if you have like only the transaction level memo only the. The transaction level memo only the the transaction level memo only the destination uh you know um M account on. Destination uh you know um M account on destination uh you know um M account on either transaction or operation right. Either transaction or operation right either transaction or operation right those three cases should all end up with. Those three cases should all end up with those three cases should all end up with. The right U you know transfer event with the right U you know transfer event with. The right U you know transfer event with the added memo information as far as the added memo information as far as. The added memo information as far as like the you know do we need a an event like the you know do we need a an event. Like the you know do we need a an event for the memo I don't know what the use for the memo I don't know what the use. For the memo I don't know what the use cases for that are so cases for that are so. Cases for that are so yeah like like yeah like like yeah like like people you can already get that by um by. People you can already get that by um by people you can already get that by um by. Pulling the transaction itself and you pulling the transaction itself and you pulling the transaction itself and you. Know cracking it open basically if you know cracking it open basically if you know cracking it open basically if you. Want if you really that but uh I agree that that you can do that but uh I agree that that you can do. That that that but like didn't didn't we want uh but like didn't didn't we want uh. But like didn't didn't we want uh consumers to not have to do consumers to not have to do. Consumers to not have to do that I guess I guess it depends on if that I guess I guess it depends on if. That I guess I guess it depends on if that's a requirement or not we care that's a requirement or not we care. That's a requirement or not we care about in the context of if I think the about in the context of if I think the. About in the context of if I think the context of the cap was context of the cap was. Context of the cap was transfers in the context of transfers transfers in the context of transfers. Transfers in the context of transfers this sound seems to be out of sorry I'm I'm not totally tracking with. Sorry I'm I'm not totally tracking with with what we've just said so uh Nico is saying that the that. Said so uh Nico is saying that the that that the emitting an event purely for that the emitting an event purely for. That the emitting an event purely for the TX memo like a separate event is out the TX memo like a separate event is out. The TX memo like a separate event is out of scope in in terms in in the context of scope in in terms in in the context. Of scope in in terms in in the context of transfers I'm not sure about this spe of transfers I'm not sure about this spe. Of transfers I'm not sure about this spe I'm specifically thinking about the the I'm specifically thinking about the the. I'm specifically thinking about the the replay case uh for exchanges replay case uh for exchanges. Replay case uh for exchanges uh cuz I you know if you what what what uh cuz I you know if you what what what. Uh cuz I you know if you what what what is what happens if you have a is what happens if you have a. Is what happens if you have a transaction of the TX memo and MX MX transaction of the TX memo and MX MX. Transaction of the TX memo and MX MX destination account uh because without destination account uh because without. Destination account uh because without the TX memo event you can only show one the TX memo event you can only show one. The TX memo event you can only show one right but in that case the thing is that right but in that case the thing is that. Right but in that case the thing is that if people have like complex logic they if people have like complex logic they. If people have like complex logic they will have to actually derive it from the will have to actually derive it from the. Will have to actually derive it from the transaction they have to know exactly transaction they have to know exactly. Transaction they have to know exactly okay did we which combination of things okay did we which combination of things. Okay did we which combination of things right uh where they into I think that's right uh where they into I think that's. Right uh where they into I think that's why I'm saying like the the transaction why I'm saying like the the transaction. Why I'm saying like the the transaction memo is not sufficient if you if you're memo is not sufficient if you if you're. Memo is not sufficient if you if you're get if you're starting to pull that get if you're starting to pull that. Get if you're starting to pull that thread like you have to do transaction thread like you have to do transaction. Thread like you have to do transaction memo two second on the transac I mean memo two second on the transac I mean. Memo two second on the transac I mean destination oh actually no this one I destination oh actually no this one I. Destination oh actually no this one I guess the override can only happen on guess the override can only happen on. Guess the override can only happen on the two so it there's only one place but the two so it there's only one place but. The two so it there's only one place but if it's the if it's the if it's the source uh that's where you have like the. Source uh that's where you have like the source uh that's where you have like the. Transaction Source or the operation transaction Source or the operation transaction Source or the operation. Source right that are on yeah yeah the Source right that are on yeah yeah the Source right that are on yeah yeah the. Source does make this more source does make this more source does make this more complicated this is well I'm actually. Complicated this is well I'm actually complicated this is well I'm actually not sure if the source makes it though. Not sure if the source makes it though not sure if the source makes it though much more complicated does it isn't. Much more complicated does it isn't much more complicated does it isn't isn't the complexity that an exchange. Isn't the complexity that an exchange isn't the complexity that an exchange might be reading the TX memo today and. Might be reading the TX memo today and might be reading the TX memo today and actually ignoring the M the MOX address. Actually ignoring the M the MOX address actually ignoring the M the MOX address and just using the G part of the max. And just using the G part of the max and just using the G part of the max address isn't that the complex part yeah. Address isn't that the complex part yeah address isn't that the complex part yeah. Well so that's the that's scenario that well so that's the that's scenario that well so that's the that's scenario that. I like this event might help you solve I like this event might help you solve I like this event might help you solve. Maybe right because I'm sure that I'm maybe right because I'm sure that I'm maybe right because I'm sure that I'm. Guessing that happens today like if I guessing that happens today like if I guessing that happens today like if I. Send a uh an a payment to coinbase with send a uh an a payment to coinbase with send a uh an a payment to coinbase with. The MOX account set and a TX memo like the MOX account set and a TX memo like the MOX account set and a TX memo like. They if they they probably just I'm they if they they probably just I'm they if they they probably just I'm. Guessing they treat it as if the account guessing they treat it as if the account. Guessing they treat it as if the account wasn't mxed right no that's why we don't know. Right no that's why we don't know because it's uh yeah under specified okay I guess for this we'll uh. Specified okay I guess for this we'll uh like to me that yeah like the we this like to me that yeah like the we this. Like to me that yeah like the we this discussion is more like I I see the discussion is more like I I see the. Discussion is more like I I see the historical stuff as more like as a best historical stuff as more like as a best. Historical stuff as more like as a best effort because really like exchanges in effort because really like exchanges in. Effort because really like exchanges in particular are they really I mean do you particular are they really I mean do you. Particular are they really I mean do you really want people to to be reinges uh really want people to to be reinges uh. Really want people to to be reinges uh you know from Genesis or something like you know from Genesis or something like. You know from Genesis or something like uh they already ingested already uh they already ingested already. Uh they already ingested already reconcile all these data in their back reconcile all these data in their back. Reconcile all these data in their back end yeah that's a good end yeah that's a good. End yeah that's a good point okay there's also the additional um okay there's also the additional um. Ambiguity of if someone's sending to a m ambiguity of if someone's sending to a m. Ambiguity of if someone's sending to a m address and has a memo at the address and has a memo at the. Address and has a memo at the transaction level you shouldn't transaction level you shouldn't. Transaction level you shouldn't necessarily assume that that transaction necessarily assume that that transaction. Necessarily assume that that transaction memo is a specification of a user on the. Memo is a specification of a user on the memo is a specification of a user on the. Destination side right it could just be destination side right it could just be destination side right it could just be. Some free text just for the purposes of some free text just for the purposes of some free text just for the purposes of. Describing the transaction yeah the point of this event transaction yeah the point of this event. Was just to you know show all the was just to you know show all the was just to you know show all the. Information and have the consumers deal information and have the consumers deal information and have the consumers deal. With it um but it sounds like we we we with it um but it sounds like we we we with it um but it sounds like we we we. Don't need to deal with this right now don't need to deal with this right now don't need to deal with this right now. Um also we're out of time the last thing um also we're out of time the last thing. Um also we're out of time the last thing we were going to discuss we we can maybe. We were going to discuss we we can maybe we were going to discuss we we can maybe. Do this offline is that we don't we no do this offline is that we don't we no do this offline is that we don't we no. Longer need cap 64 longer need cap 64 longer need cap 64 um but uh I don't know Deo if you want. Um but uh I don't know Deo if you want um but uh I don't know Deo if you want to say anything about that yeah I guess. To say anything about that yeah I guess to say anything about that yeah I guess the consensus of the discussions has. The consensus of the discussions has the consensus of the discussions has been that yeah cap 64 is not needed and. Been that yeah cap 64 is not needed and been that yeah cap 64 is not needed and yeah this is just an official. Yeah this is just an official yeah this is just an official announcement that we Are CL on it. Announcement that we Are CL on it announcement that we Are CL on it because MOS will be implemented. Because MOS will be implemented because MOS will be implemented differently um yeah that's. It all right then uh we're out of time it all right then uh we're out of time for today uh thank thank you for joining. For today uh thank thank you for joining for today uh thank thank you for joining. And thanks everyone for participating.
