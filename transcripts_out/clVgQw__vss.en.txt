okay let's get started so uh happy
okay let's get started so uh happy
Thursday everyone this is soroban design
Thursday everyone this is soroban design
Thursday everyone this is soroban design
discussion an open protocol meeting in
discussion an open protocol meeting in
discussion an open protocol meeting in
which we discuss uh design decisions for
which we discuss uh design decisions for
which we discuss uh design decisions for
the Thor law and smart contracts
the Thor law and smart contracts
the Thor law and smart contracts
platform to be launched very soon uh
platform to be launched very soon uh
platform to be launched very soon uh
today we're going to be talking about uh
today we're going to be talking about uh
today we're going to be talking about uh
State exploration uh so without further
State exploration uh so without further
State exploration uh so without further
Ado I'm gonna hand it over to Garand
yeah so um I know we haven't talked
yeah so um I know we haven't talked
about the expiration in a second but I
about the expiration in a second but I
about the expiration in a second but I
think before we were kind of talking
think before we were kind of talking
think before we were kind of talking
high level uh what the interface wanted
high level uh what the interface wanted
high level uh what the interface wanted
to be and then now we're actually
to be and then now we're actually
to be and then now we're actually
starting to implement pieces of it and
starting to implement pieces of it and
starting to implement pieces of it and
so kind of the timeline for this is
so kind of the timeline for this is
so kind of the timeline for this is
first we're going to start charging for
first we're going to start charging for
first we're going to start charging for
rent on futurenet but not actually have
rent on futurenet but not actually have
rent on futurenet but not actually have
any penalties for a rent balance of zero
any penalties for a rent balance of zero
any penalties for a rent balance of zero
or negative just so that we can make
or negative just so that we can make
or negative just so that we can make
sure that you know the uh the rent is
sure that you know the uh the rent is
sure that you know the uh the rent is
being charged correct and that sort of
being charged correct and that sort of
being charged correct and that sort of
stuff uh Next Step will then be to add
stuff uh Next Step will then be to add
stuff uh Next Step will then be to add
ways to a bump rent uh but again still
ways to a bump rent uh but again still
ways to a bump rent uh but again still
with no consequences on futurenet and
with no consequences on futurenet and
with no consequences on futurenet and
then once we have the um the rent bump
then once we have the um the rent bump
then once we have the um the rent bump
and the rent charging correctly
and the rent charging correctly
and the rent charging correctly
implemented will actually uh enable uh
implemented will actually uh enable uh
implemented will actually uh enable uh
consequences and essentially what that
consequences and essentially what that
consequences and essentially what that
means is that an entry will need to have
means is that an entry will need to have
means is that an entry will need to have
a non-zero or non-negative rent balance
a non-zero or non-negative rent balance
a non-zero or non-negative rent balance
to be usable but we still won't actually
to be usable but we still won't actually
to be usable but we still won't actually
be sending entries to the archive and
be sending entries to the archive and
be sending entries to the archive and
doing them from The Ledger for some time
doing them from The Ledger for some time
doing them from The Ledger for some time
still in addition to that once the rent
still in addition to that once the rent
still in addition to that once the rent
system is in place we'll then roll out
system is in place we'll then roll out
system is in place we'll then roll out
temporary entries which are the entry
temporary entries which are the entry
temporary entries which are the entry
types that have a TTL that expire after
types that have a TTL that expire after
types that have a TTL that expire after
a certain amount of ledgers and the CTL
a certain amount of ledgers and the CTL
a certain amount of ledgers and the CTL
is variable and so I know we've talked
is variable and so I know we've talked
is variable and so I know we've talked
about kind of like at a high level
about kind of like at a high level
about kind of like at a high level
um but we're actually starting to
um but we're actually starting to
um but we're actually starting to
implement this rent stuff and so there's
implement this rent stuff and so there's
implement this rent stuff and so there's
a couple of open questions both in the
a couple of open questions both in the
a couple of open questions both in the
rent proposal and in the temporary
rent proposal and in the temporary
rent proposal and in the temporary
storage proposal that we want to talk
storage proposal that we want to talk
storage proposal that we want to talk
about in detail
about in detail
about in detail
so when we initially talked we didn't
so when we initially talked we didn't
so when we initially talked we didn't
have automatic rent payments on access
have automatic rent payments on access
have automatic rent payments on access
and this was an implementation issue
and this was an implementation issue
and this was an implementation issue
with the way the bucket list is
with the way the bucket list is
with the way the bucket list is
structured however now we've changed the
structured however now we've changed the
structured however now we've changed the
way in which we actually record rent
way in which we actually record rent
way in which we actually record rent
balances on Ledger and so we can bump
balances on Ledger and so we can bump
balances on Ledger and so we can bump
rent on every access and so with that in
rent on every access and so with that in
rent on every access and so with that in
mind we've changed the way that we
mind we've changed the way that we
mind we've changed the way that we
structure run payments how it currently
structure run payments how it currently
structure run payments how it currently
looks is every data accessed in a smart
looks is every data accessed in a smart
looks is every data accessed in a smart
contract call receives some small
contract call receives some small
contract call receives some small
Baseline rent bump
Baseline rent bump
Baseline rent bump
um this isn't expected to be a very
um this isn't expected to be a very
um this isn't expected to be a very
large rent bump but it's something small
large rent bump but it's something small
large rent bump but it's something small
and automatic now this includes not only
and automatic now this includes not only
and automatic now this includes not only
contract data that's accessed but also
contract data that's accessed but also
contract data that's accessed but also
the contract instance itself and also
the contract instance itself and also
the contract instance itself and also
the contract wasm code and so this also
the contract wasm code and so this also
the contract wasm code and so this also
allows you to bump the smart contract
allows you to bump the smart contract
allows you to bump the smart contract
itself and the smart contract code
itself and the smart contract code
itself and the smart contract code
without needing any extra intervention
without needing any extra intervention
without needing any extra intervention
or anything
or anything
or anything
and because this is a small incremental
and because this is a small incremental
and because this is a small incremental
bump that's bumped automatically it
bump that's bumped automatically it
bump that's bumped automatically it
means that smart contracts and entries
means that smart contracts and entries
means that smart contracts and entries
that are used frequently don't really
that are used frequently don't really
that are used frequently don't really
need to worry about rent you know
need to worry about rent you know
need to worry about rent you know
something like usdc that's used every
something like usdc that's used every
something like usdc that's used every
day will have enough rent balance via
day will have enough rent balance via
day will have enough rent balance via
these automatic bumps to never have to
these automatic bumps to never have to
these automatic bumps to never have to
worry about doing a manual run bump
worry about doing a manual run bump
worry about doing a manual run bump
and so this automatic interface is a lot
and so this automatic interface is a lot
and so this automatic interface is a lot
easier and covers a lot of the weird
easier and covers a lot of the weird
easier and covers a lot of the weird
cases in ux
cases in ux
cases in ux
um kind of pain points that we were
um kind of pain points that we were
um kind of pain points that we were
seeing before when we didn't have these
seeing before when we didn't have these
seeing before when we didn't have these
automatic ram pumps now the open
automatic ram pumps now the open
automatic ram pumps now the open
question here is with regards is what do
question here is with regards is what do
question here is with regards is what do
we want to do
we want to do
we want to do
um to in addition to having these
um to in addition to having these
um to in addition to having these
automatic ramp bumps what interface do
automatic ramp bumps what interface do
automatic ramp bumps what interface do
we want to expose for the quote-unquote
we want to expose for the quote-unquote
we want to expose for the quote-unquote
manual rent bumps
manual rent bumps
manual rent bumps
and so this we have two kind of fields
and so this we have two kind of fields
and so this we have two kind of fields
of thought here
of thought here
of thought here
so what a manual run bump is is say you
so what a manual run bump is is say you
so what a manual run bump is is say you
have an entry that's not accessed very
have an entry that's not accessed very
have an entry that's not accessed very
often so you have like a token balance
often so you have like a token balance
often so you have like a token balance
that you only use every six months or
that you only use every six months or
that you only use every six months or
one year but when you use it you want it
one year but when you use it you want it
one year but when you use it you want it
to be accessible very fast and so you
to be accessible very fast and so you
to be accessible very fast and so you
want to be I'm not in the archive and
want to be I'm not in the archive and
want to be I'm not in the archive and
remain on The Ledger so automatic rent
remain on The Ledger so automatic rent
remain on The Ledger so automatic rent
bumps are not sufficient for this use
bumps are not sufficient for this use
bumps are not sufficient for this use
case because you're not accessing it
case because you're not accessing it
case because you're not accessing it
very often and so the automatic rent
very often and so the automatic rent
very often and so the automatic rent
bumps aren't large enough to keep this
bumps aren't large enough to keep this
bumps aren't large enough to keep this
uh wallet or this token balance on The
uh wallet or this token balance on The
uh wallet or this token balance on The
Ledger and so we want an interface where
Ledger and so we want an interface where
Ledger and so we want an interface where
a user can do a explicit manual rent
a user can do a explicit manual rent
a user can do a explicit manual rent
bump instead of doing the small
bump instead of doing the small
bump instead of doing the small
incremental run bump say I want uh six
incremental run bump say I want uh six
incremental run bump say I want uh six
months or one year or 10 years or
months or one year or 10 years or
months or one year or 10 years or
something like that of rent for this
something like that of rent for this
something like that of rent for this
entry
entry
entry
and so kind of the two ways to do that
and so kind of the two ways to do that
and so kind of the two ways to do that
are either a via a manual operation
are either a via a manual operation
are either a via a manual operation
where the invoker of the operation
where the invoker of the operation
where the invoker of the operation
specifies the set of keys that they want
specifies the set of keys that they want
specifies the set of keys that they want
to bump
to bump
to bump
and so this is the the most manual
and so this is the the most manual
and so this is the the most manual
approach but it's also
approach but it's also
approach but it's also
has some benefits one of the significant
has some benefits one of the significant
has some benefits one of the significant
drawbacks though is that the user
drawbacks though is that the user
drawbacks though is that the user
calling this function needs to know what
calling this function needs to know what
calling this function needs to know what
key belongs to them which isn't always
key belongs to them which isn't always
key belongs to them which isn't always
easy so in for instance in a token
easy so in for instance in a token
easy so in for instance in a token
contract you may be able to have just
contract you may be able to have just
contract you may be able to have just
one entry and one key for each user's
one entry and one key for each user's
one entry and one key for each user's
balance that's relatively easy to
balance that's relatively easy to
balance that's relatively easy to
discover you know like whatever my um
discover you know like whatever my um
discover you know like whatever my um
balance key is on usdc but there may be
balance key is on usdc but there may be
balance key is on usdc but there may be
other entries that are also associated
other entries that are also associated
other entries that are also associated
with your account in addition to that
with your account in addition to that
with your account in addition to that
balance entry so for instance a token
balance entry so for instance a token
balance entry so for instance a token
contract may also have a nonce that's
contract may also have a nonce that's
contract may also have a nonce that's
required to do transactions with your
required to do transactions with your
required to do transactions with your
token balance and if a user only knows
token balance and if a user only knows
token balance and if a user only knows
about the token balance ID but doesn't
about the token balance ID but doesn't
about the token balance ID but doesn't
know about the non-sid they may pay a
know about the non-sid they may pay a
know about the non-sid they may pay a
bunch of rent on their token balance and
bunch of rent on their token balance and
bunch of rent on their token balance and
have that active on The Ledger but then
have that active on The Ledger but then
have that active on The Ledger but then
in six months when they want to do their
in six months when they want to do their
in six months when they want to do their
transaction they didn't pay rent on the
transaction they didn't pay rent on the
transaction they didn't pay rent on the
non-century and so they still have to
non-century and so they still have to
non-century and so they still have to
wait to get the nonce value out of the
wait to get the nonce value out of the
wait to get the nonce value out of the
archive
archive
archive
and so one approach to this is to allow
and so one approach to this is to allow
and so one approach to this is to allow
the contract to Define rent bump
the contract to Define rent bump
the contract to Define rent bump
behavior and we do this by exposing a
behavior and we do this by exposing a
behavior and we do this by exposing a
rep bump host function to the smart
rep bump host function to the smart
rep bump host function to the smart
contracts and what this allows contracts
contracts and what this allows contracts
contracts and what this allows contracts
to do is to codify on the contract
to do is to codify on the contract
to do is to codify on the contract
itself rent bump behavior in addition to
itself rent bump behavior in addition to
itself rent bump behavior in addition to
the automatic rent bumps and so in our
the automatic rent bumps and so in our
the automatic rent bumps and so in our
token contract example say that there is
token contract example say that there is
token contract example say that there is
both a rent balance and also a nonce
both a rent balance and also a nonce
both a rent balance and also a nonce
that are have separate Keys now I'm not
that are have separate Keys now I'm not
that are have separate Keys now I'm not
saying this is a the most efficient
saying this is a the most efficient
saying this is a the most efficient
approach but this is an approach
approach but this is an approach
approach but this is an approach
and so what the contract could do is it
and so what the contract could do is it
and so what the contract could do is it
could Define a bump my account function
could Define a bump my account function
could Define a bump my account function
and this bumped my account function I
and this bumped my account function I
and this bumped my account function I
will use the host function to bump both
will use the host function to bump both
will use the host function to bump both
the token balance and also the nonce
the token balance and also the nonce
the token balance and also the nonce
value associated with the user and so in
value associated with the user and so in
value associated with the user and so in
this way the user can just call the bump
this way the user can just call the bump
this way the user can just call the bump
my account or about my account function
my account or about my account function
my account or about my account function
and then bump their account by six
and then bump their account by six
and then bump their account by six
months a year the specified amount or
months a year the specified amount or
months a year the specified amount or
however much is codified in the smart
however much is codified in the smart
however much is codified in the smart
contract and this allows the smart
contract and this allows the smart
contract and this allows the smart
contract developers to abstract away a
contract developers to abstract away a
contract developers to abstract away a
lot of the Run interface to the user and
lot of the Run interface to the user and
lot of the Run interface to the user and
so the user still can bump run manually
so the user still can bump run manually
so the user still can bump run manually
but doesn't need to know exactly what
but doesn't need to know exactly what
but doesn't need to know exactly what
entries belong to them exactly what keys
entries belong to them exactly what keys
entries belong to them exactly what keys
belong to them so it's a significantly
belong to them so it's a significantly
belong to them so it's a significantly
easier user experience and also allows
easier user experience and also allows
easier user experience and also allows
the contract to Define some sort of uh
the contract to Define some sort of uh
the contract to Define some sort of uh
automatic behavior in addition to that
automatic behavior in addition to that
automatic behavior in addition to that
supplied by the protocol so for instance
supplied by the protocol so for instance
supplied by the protocol so for instance
the protocol might say a bump every
the protocol might say a bump every
the protocol might say a bump every
access by 10 ledgers worth of rent but
access by 10 ledgers worth of rent but
access by 10 ledgers worth of rent but
then the smart contract developer might
then the smart contract developer might
then the smart contract developer might
say oh for my use case I want to
say oh for my use case I want to
say oh for my use case I want to
automatically Bump by a 100 or a
automatically Bump by a 100 or a
automatically Bump by a 100 or a
thousand Ledger entries and so they can
thousand Ledger entries and so they can
thousand Ledger entries and so they can
use this rent bump host function to
use this rent bump host function to
use this rent bump host function to
Define additional rent bump behavior in
Define additional rent bump behavior in
Define additional rent bump behavior in
addition to that automatic rent bump
addition to that automatic rent bump
addition to that automatic rent bump
that the protocol has
that the protocol has
that the protocol has
now even the the benefits that this can
now even the the benefits that this can
now even the the benefits that this can
provide a better user experience but
provide a better user experience but
provide a better user experience but
this opens the door to either malicious
this opens the door to either malicious
this opens the door to either malicious
griefing or just accidental overspending
griefing or just accidental overspending
griefing or just accidental overspending
of fees
of fees
of fees
this is kind of dangerous because it
this is kind of dangerous because it
this is kind of dangerous because it
allows the contract to Define arbitrary
allows the contract to Define arbitrary
allows the contract to Define arbitrary
rent to take from the user's transaction
rent to take from the user's transaction
rent to take from the user's transaction
fee
fee
fee
and so this can't be gamed in a
and so this can't be gamed in a
and so this can't be gamed in a
malicious way because there's no
malicious way because there's no
malicious way because there's no
Financial benefit
Financial benefit
Financial benefit
um to paying a bunch of rent for other
um to paying a bunch of rent for other
um to paying a bunch of rent for other
entries
entries
entries
like there is no way for the attacker to
like there is no way for the attacker to
like there is no way for the attacker to
steal rent fees in any way but this
steal rent fees in any way but this
steal rent fees in any way but this
could be a griefing aspect where a
could be a griefing aspect where a
could be a griefing aspect where a
contract call could say pay one year
contract call could say pay one year
contract call could say pay one year
rent for all these unrelated entries
rent for all these unrelated entries
rent for all these unrelated entries
that aren't important to you but still
that aren't important to you but still
that aren't important to you but still
take that from your refundable fee
take that from your refundable fee
take that from your refundable fee
now again uh code audits could catch
now again uh code audits could catch
now again uh code audits could catch
these attacks
these attacks
these attacks
um but it could be very difficult
um but it could be very difficult
um but it could be very difficult
because for instance they could name an
because for instance they could name an
because for instance they could name an
entry such as like they could give an
entry such as like they could give an
entry such as like they could give an
entry in a inconspicuous name like um
entry in a inconspicuous name like um
entry in a inconspicuous name like um
author entry and have every call pay one
author entry and have every call pay one
author entry and have every call pay one
year of rent to an off entry where it
year of rent to an off entry where it
year of rent to an off entry where it
could be actually a different entry type
could be actually a different entry type
could be actually a different entry type
that's used maliciously and so even
that's used maliciously and so even
that's used maliciously and so even
though exposing this host function could
though exposing this host function could
though exposing this host function could
provide a better user experience it also
provide a better user experience it also
provide a better user experience it also
opens the door to these um kind of large
opens the door to these um kind of large
opens the door to these um kind of large
fees that contracts can Define and so I
fees that contracts can Define and so I
fees that contracts can Define and so I
guess that's our first open question is
guess that's our first open question is
guess that's our first open question is
regardless of if the host function is
regardless of if the host function is
regardless of if the host function is
accessible via Smart contracts it will
accessible via Smart contracts it will
accessible via Smart contracts it will
be accessible as a manual operation call
be accessible as a manual operation call
be accessible as a manual operation call
regardless and so the question is do we
regardless and so the question is do we
regardless and so the question is do we
want to just have that manual operation
want to just have that manual operation
want to just have that manual operation
call where the invoker has to specify
call where the invoker has to specify
call where the invoker has to specify
every single key to bump or do we want
every single key to bump or do we want
every single key to bump or do we want
to also open up this host function to
to also open up this host function to
to also open up this host function to
the smart contracts and allow smart
the smart contracts and allow smart
the smart contracts and allow smart
contracts to Define their own rent bump
contracts to Define their own rent bump
contracts to Define their own rent bump
Behavior
I have an opinion on this that I want to
I have an opinion on this that I want to
talk about about everyone else thinking
talk about about everyone else thinking
talk about about everyone else thinking
because I've been thinking a person can
because I've been thinking a person can
because I've been thinking a person can
involve this and I'm really biased
involve this and I'm really biased
involve this and I'm really biased
towards just doing a single post
towards just doing a single post
towards just doing a single post
operation as it is invoked in a
operation as it is invoked in a
operation as it is invoked in a
standalone fashion and not go with
standalone fashion and not go with
standalone fashion and not go with
contractifying pump Behavior at least
contractifying pump Behavior at least
contractifying pump Behavior at least
41. because as Grant has mentions right
41. because as Grant has mentions right
41. because as Grant has mentions right
really a lot of issues with houses can
really a lot of issues with houses can
really a lot of issues with houses can
be misused
be misused
be misused
um but also really even if you think
um but also really even if you think
um but also really even if you think
about the ux aspect of it
about the ux aspect of it
about the ux aspect of it
um like we are talking about some
um like we are talking about some
um like we are talking about some
abstract user here uh I'm not sure it's
abstract user here uh I'm not sure it's
abstract user here uh I'm not sure it's
an abstract user who does the bump it's
an abstract user who does the bump it's
an abstract user who does the bump it's
rather some
rather some
rather some
program in between that does that which
program in between that does that which
program in between that does that which
is probably evolved right and for
is probably evolved right and for
is probably evolved right and for
example if you are talking about the
example if you are talking about the
example if you are talking about the
token balances
token balances
token balances
um I don't see any significant technical
um I don't see any significant technical
um I don't see any significant technical
difference between implementing bumping
difference between implementing bumping
difference between implementing bumping
your balance
your balance
your balance
entries rent why it's a great
entries rent why it's a great
entries rent why it's a great
operational a separate contract call
operational a separate contract call
operational a separate contract call
it's some sense it needs to be
it's some sense it needs to be
it's some sense it needs to be
coded in the board
coded in the board
coded in the board
interface right and then provide it to
interface right and then provide it to
interface right and then provide it to
the user like hey you know what your
the user like hey you know what your
the user like hey you know what your
interests are about to expire
interests are about to expire
interests are about to expire
and another thing is that I really don't
and another thing is that I really don't
and another thing is that I really don't
think there are too many entries that
think there are too many entries that
think there are too many entries that
user should ever
user should ever
user should ever
care about about pumping them I'd say
care about about pumping them I'd say
care about about pumping them I'd say
this must be just balances and nfts and
this must be just balances and nfts and
this must be just balances and nfts and
you know even if you have this Ledger
you know even if you have this Ledger
you know even if you have this Ledger
key based approach it doesn't seem
key based approach it doesn't seem
key based approach it doesn't seem
overly complicated to have support for
overly complicated to have support for
overly complicated to have support for
them and have some basic white braces
them and have some basic white braces
them and have some basic white braces
just builds the correct bump transaction
just builds the correct bump transaction
just builds the correct bump transaction
for a given contract interface for
for a given contract interface for
for a given contract interface for
example so
example so
example so
I don't see this as a pqx issue but I do
I don't see this as a pqx issue but I do
I don't see this as a pqx issue but I do
see a lot of issues with no exposing
see a lot of issues with no exposing
see a lot of issues with no exposing
this to the contracts and
this to the contracts and
this to the contracts and
it just doesn't seem like a super
it just doesn't seem like a super
it just doesn't seem like a super
straightforward feature to communicate
straightforward feature to communicate
straightforward feature to communicate
with how contract developers should use
with how contract developers should use
with how contract developers should use
it like I I don't think they have a good
it like I I don't think they have a good
it like I I don't think they have a good
strategy for this now
strategy for this now
strategy for this now
so yeah that's my opinion here
so yeah that's my opinion here
so yeah that's my opinion here
it feels a bit or slightly inconsistent
it feels a bit or slightly inconsistent
it feels a bit or slightly inconsistent
the fact that the the current storage
the fact that the the current storage
the fact that the the current storage
model uh definitely
model uh definitely
model uh definitely
encourage access through host functions
encourage access through host functions
encourage access through host functions
rather than directly through uh through
rather than directly through uh through
rather than directly through uh through
like Ledger entry keys and so to have
like Ledger entry keys and so to have
like Ledger entry keys and so to have
this additional system that does
this additional system that does
this additional system that does
encourage access directly to the Ledger
encourage access directly to the Ledger
encourage access directly to the Ledger
entry keys that uh that sounds a bit
entry keys that uh that sounds a bit
entry keys that uh that sounds a bit
inconsistent to me
inconsistent to me
inconsistent to me
well we kind of abstract to let your
well we kind of abstract to let your
well we kind of abstract to let your
excess away right to you like this adapt
excess away right to you like this adapt
excess away right to you like this adapt
developers to need to care about uh with
developers to need to care about uh with
developers to need to care about uh with
your Footprints
your Footprints
your Footprints
um and basically rent can be improved
um and basically rent can be improved
um and basically rent can be improved
with some ideas floating around those
with some ideas floating around those
with some ideas floating around those
were like maybe allow to specify pumps
were like maybe allow to specify pumps
were like maybe allow to specify pumps
uh on the footprint for example or as
uh on the footprint for example or as
uh on the footprint for example or as
Pro to the awake as a parallel entry to
Pro to the awake as a parallel entry to
Pro to the awake as a parallel entry to
the footprint to that you know you can
the footprint to that you know you can
the footprint to that you know you can
do it as a transactional basically I
do it as a transactional basically I
do it as a transactional basically I
think it's the main uh
think it's the main uh
think it's the main uh
and then the question is yeah whether we
and then the question is yeah whether we
and then the question is yeah whether we
put this responsibility on the contract
put this responsibility on the contract
put this responsibility on the contract
developers or on the engineers that
developers or on the engineers that
developers or on the engineers that
builds the transactions and uh
builds the transactions and uh
builds the transactions and uh
I'm saying that probably it should be on
I'm saying that probably it should be on
I'm saying that probably it should be on
the side of whoever is paying for the
the side of whoever is paying for the
the side of whoever is paying for the
transaction right because that's
transaction right because that's
transaction right because that's
them who are pins are in and really for
them who are pins are in and really for
them who are pins are in and really for
a lot of contracts there is no single
a lot of contracts there is no single
a lot of contracts there is no single
strategies the contract Trader can raise
strategies the contract Trader can raise
strategies the contract Trader can raise
realistically Define in terms of how the
realistically Define in terms of how the
realistically Define in terms of how the
bump should be defined well kind of same
bump should be defined well kind of same
bump should be defined well kind of same
stamping to do that right but in the end
stamping to do that right but in the end
stamping to do that right but in the end
it's the entity that pays for the
it's the entity that pays for the
it's the entity that pays for the
transaction who needs to decide what to
transaction who needs to decide what to
transaction who needs to decide what to
do with the rent pumps
do with the rent pumps
do with the rent pumps
Delaney bumps at home right but it's a
Delaney bumps at home right but it's a
Delaney bumps at home right but it's a
contract developer that has uh the full
contract developer that has uh the full
contract developer that has uh the full
understanding of what in the contract
understanding of what in the contract
understanding of what in the contract
State actually relates to a specific
State actually relates to a specific
State actually relates to a specific
account
account
account
right so where where will this
right so where where will this
right so where where will this
information be captured
well yes but
well yes but
you know I'm not sure like it needs to
you know I'm not sure like it needs to
you know I'm not sure like it needs to
do anything this is a bumps like
do anything this is a bumps like
do anything this is a bumps like
I can see the functions just expose the
I can see the functions just expose the
I can see the functions just expose the
entries that need to be pumped but I'm
entries that need to be pumped but I'm
entries that need to be pumped but I'm
really concerned about just doing the
really concerned about just doing the
really concerned about just doing the
pumps myself from the contract like
pumps myself from the contract like
pumps myself from the contract like
having some metadata that says hey you
having some metadata that says hey you
having some metadata that says hey you
need to bump that for a given address is
need to bump that for a given address is
need to bump that for a given address is
fine
fine
fine
but fully programmatic access seems to
but fully programmatic access seems to
but fully programmatic access seems to
to be able to do much more and a lot of
to be able to do much more and a lot of
to be able to do much more and a lot of
this doesn't seem like the right thing
this doesn't seem like the right thing
this doesn't seem like the right thing
to do
to do
to do
also it's been like you know pumpkin for
also it's been like you know pumpkin for
also it's been like you know pumpkin for
thousands of ledgers then this might not
thousands of ledgers then this might not
thousands of ledgers then this might not
be a user intention and yeah this just
be a user intention and yeah this just
be a user intention and yeah this just
creates some pretty confusion ux for the
creates some pretty confusion ux for the
creates some pretty confusion ux for the
contract users
contract users
contract users
yeah current question
yeah current question
yeah current question
so a I do like the the concept that the
so a I do like the the concept that the
so a I do like the the concept that the
end user oh no I should say the con the
end user oh no I should say the con the
end user oh no I should say the con the
smart contract author can can write his
smart contract author can can write his
smart contract author can can write his
own function to modify the default
own function to modify the default
own function to modify the default
Behavior I think that's great
Behavior I think that's great
Behavior I think that's great
I'm a little bit concerned that
I'm a little bit concerned that
I'm a little bit concerned that
the smart contract developer would need
the smart contract developer would need
the smart contract developer would need
to write that method
to write that method
to write that method
it's something that I kind of like not
it's something that I kind of like not
it's something that I kind of like not
feel very comfortable around because it
feel very comfortable around because it
feel very comfortable around because it
guarantees a user errors
guarantees a user errors
guarantees a user errors
and ideally if we could do anything that
and ideally if we could do anything that
and ideally if we could do anything that
would provide out of box experience
would provide out of box experience
would provide out of box experience
where it would just walk
where it would just walk
where it would just walk
then it would be much better
then it would be much better
then it would be much better
even if they just walk wouldn't be the
even if they just walk wouldn't be the
even if they just walk wouldn't be the
optimal solution well I think in either
optimal solution well I think in either
optimal solution well I think in either
case
case
case
um whether we expose the host function
um whether we expose the host function
um whether we expose the host function
or not it will not be necessary to
or not it will not be necessary to
or not it will not be necessary to
define the sore function because we do
define the sore function because we do
define the sore function because we do
have the protocol
have the protocol
have the protocol
um floor automatic bump rent which
um floor automatic bump rent which
um floor automatic bump rent which
happens regardless and so this is just
happens regardless and so this is just
happens regardless and so this is just
for if you want in addition to the
for if you want in addition to the
for if you want in addition to the
automatic a small incremental rent
automatic a small incremental rent
automatic a small incremental rent
payments do you want additional control
payments do you want additional control
payments do you want additional control
over how you bump and I also won't
over how you bump and I also won't
over how you bump and I also won't
clarify that this doesn't overwrite the
clarify that this doesn't overwrite the
clarify that this doesn't overwrite the
default Behavior the default Behavior
default Behavior the default Behavior
default Behavior the default Behavior
will happen whether you use the host
will happen whether you use the host
will happen whether you use the host
function or not so say like the for
function or not so say like the for
function or not so say like the for
instance just for an example the default
instance just for an example the default
instance just for an example the default
behavior is to bump every entry by 10
behavior is to bump every entry by 10
behavior is to bump every entry by 10
Ledger's worth of rent if you also in
Ledger's worth of rent if you also in
Ledger's worth of rent if you also in
addition to that say use the rent bomb
addition to that say use the rent bomb
addition to that say use the rent bomb
function to add another 100 ledgers
function to add another 100 ledgers
function to add another 100 ledgers
worth of rent to a token balance the
worth of rent to a token balance the
worth of rent to a token balance the
resulting rent bump would be 110. the 10
resulting rent bump would be 110. the 10
resulting rent bump would be 110. the 10
ledgers that were automatically bumped
ledgers that were automatically bumped
ledgers that were automatically bumped
and the 100 ledgers added on top of that
and the 100 ledgers added on top of that
and the 100 ledgers added on top of that
by the host function and so you're
by the host function and so you're
by the host function and so you're
answer your question the automatic rent
answer your question the automatic rent
answer your question the automatic rent
bump interface attempts to kind of give
bump interface attempts to kind of give
bump interface attempts to kind of give
the best out of the box solution as
the best out of the box solution as
the best out of the box solution as
possible with the thinking being that
possible with the thinking being that
possible with the thinking being that
the most accessed entries will have the
the most accessed entries will have the
the most accessed entries will have the
most rent and be the most readily
most rent and be the most readily
most rent and be the most readily
available and so this is an addition to
available and so this is an addition to
available and so this is an addition to
that default Behavior if that answers
that default Behavior if that answers
that default Behavior if that answers
your question
okay yes let's answer my question thank
okay yes let's answer my question thank
you now I think
you now I think
you now I think
um one one interesting point that moods
um one one interesting point that moods
um one one interesting point that moods
um is bringing up in the chat uh Dima
um is bringing up in the chat uh Dima
um is bringing up in the chat uh Dima
for you in particular is that should we
for you in particular is that should we
for you in particular is that should we
allow contracts to Define initial rent
allow contracts to Define initial rent
allow contracts to Define initial rent
balances
balances
balances
um because if we don't of newly created
um because if we don't of newly created
um because if we don't of newly created
entries
entries
entries
um because this kind of has the same
um because this kind of has the same
um because this kind of has the same
attack surface or I guess attack service
attack surface or I guess attack service
attack surface or I guess attack service
isn't the right word but perhaps the
isn't the right word but perhaps the
isn't the right word but perhaps the
same um accidental or purposeful misuse
same um accidental or purposeful misuse
same um accidental or purposeful misuse
issue of exposing the rent bump function
issue of exposing the rent bump function
issue of exposing the rent bump function
but it's a really poor interface if
but it's a really poor interface if
but it's a really poor interface if
every newly created entry just has the
every newly created entry just has the
every newly created entry just has the
minimum amount of rent and you need to
minimum amount of rent and you need to
minimum amount of rent and you need to
immediately do a host function operation
immediately do a host function operation
immediately do a host function operation
if you're calling to create to bump the
if you're calling to create to bump the
if you're calling to create to bump the
rent so I guess what do you think with
rent so I guess what do you think with
rent so I guess what do you think with
respect to newly created entries and
respect to newly created entries and
respect to newly created entries and
should we special case that even if we
should we special case that even if we
should we special case that even if we
don't expose the rent on post function
again like I'll try to answer quickly
again like I'll try to answer quickly
because we wanted to say something but
because we wanted to say something but
because we wanted to say something but
uh I'm
uh I'm
uh I'm
still not sure if it's a good idea
still not sure if it's a good idea
still not sure if it's a good idea
either I feel like I should think more
either I feel like I should think more
either I feel like I should think more
in terms of how can say
in terms of how can say
in terms of how can say
contract user provides a needed brand
contract user provides a needed brand
contract user provides a needed brand
pump
pump
pump
maybe as an additional fear as I said
maybe as an additional fear as I said
maybe as an additional fear as I said
like maybe some annotation on footprint
like maybe some annotation on footprint
like maybe some annotation on footprint
or something because really if you think
or something because really if you think
or something because really if you think
about it as a contract writer like
about it as a contract writer like
about it as a contract writer like
you're writing a token contract what
you're writing a token contract what
you're writing a token contract what
should be the initial
should be the initial
should be the initial
rent balance on a new balance entry
rent balance on a new balance entry
rent balance on a new balance entry
I cannot really answer this question for
I cannot really answer this question for
I cannot really answer this question for
every user
every user
every user
I'm not sure anyone anyone can so my
I'm not sure anyone anyone can so my
I'm not sure anyone anyone can so my
intuition is that for entries where we
intuition is that for entries where we
intuition is that for entries where we
actually want to ever bump the rent
actually want to ever bump the rent
actually want to ever bump the rent
balance
balance
balance
it's highly likely that it's easier to
it's highly likely that it's easier to
it's highly likely that it's easier to
decide how much does it want to pump it
decide how much does it want to pump it
decide how much does it want to pump it
so yeah I'm I'm really not sure like how
so yeah I'm I'm really not sure like how
so yeah I'm I'm really not sure like how
contract writers would Define this
contract writers would Define this
contract writers would Define this
initial balance in the same way
initial balance in the same way
initial balance in the same way
that's my opinion here
yeah
yeah
um so first of all I just want to say it
um so first of all I just want to say it
um so first of all I just want to say it
is interesting that we have that we are
is interesting that we have that we are
is interesting that we have that we are
discussing like these multiple
discussing like these multiple
discussing like these multiple
approaches to essentially automatic for
approaches to essentially automatic for
approaches to essentially automatic for
the user bumping the rim and I think
the user bumping the rim and I think
the user bumping the rim and I think
whenever we do have like multiple things
whenever we do have like multiple things
whenever we do have like multiple things
at play like this uh we do have this
at play like this uh we do have this
at play like this uh we do have this
potential for it to become very
potential for it to become very
potential for it to become very
confusing for developers about you know
confusing for developers about you know
confusing for developers about you know
when do they need to make get involved
when do they need to make get involved
when do they need to make get involved
and do something themselves versus when
and do something themselves versus when
and do something themselves versus when
can they rely on the automatic
can they rely on the automatic
can they rely on the automatic
um so maybe just something to keep in
um so maybe just something to keep in
um so maybe just something to keep in
mind like
mind like
mind like
if we are going to have these multiple
if we are going to have these multiple
if we are going to have these multiple
approaches
approaches
approaches
um
um
um
that that's just something we need to
that that's just something we need to
that that's just something we need to
think about like complexity but to the
think about like complexity but to the
think about like complexity but to the
idea of having you know the contract
idea of having you know the contract
idea of having you know the contract
um do the bumping it sounds to me like
um do the bumping it sounds to me like
um do the bumping it sounds to me like
it's sort of owning two responsibilities
it's sort of owning two responsibilities
it's sort of owning two responsibilities
and I'm not we're talking about those
and I'm not we're talking about those
and I'm not we're talking about those
two responsibilities together and maybe
two responsibilities together and maybe
two responsibilities together and maybe
we can split them apart and so the first
we can split them apart and so the first
we can split them apart and so the first
one is
one is
one is
um knowledge about the keys
um knowledge about the keys
um knowledge about the keys
and that does really sound clearly to me
and that does really sound clearly to me
and that does really sound clearly to me
like something that the contract is is
like something that the contract is is
like something that the contract is is
responsible for contracts decide you
responsible for contracts decide you
responsible for contracts decide you
know what storage how to arrange their
know what storage how to arrange their
know what storage how to arrange their
storage it's not really in the user
storage it's not really in the user
storage it's not really in the user
domain to you know to know that
domain to you know to know that
domain to you know to know that
information and so it does really that
information and so it does really that
information and so it does really that
makes sense to me that okay contract
makes sense to me that okay contract
makes sense to me that okay contract
should be responsible and sort of
should be responsible and sort of
should be responsible and sort of
telling a user somehow that you know
telling a user somehow that you know
telling a user somehow that you know
these are the keys that relate to
these are the keys that relate to
these are the keys that relate to
um
um
um
uh you know you know I guess I guess I
uh you know you know I guess I guess I
uh you know you know I guess I guess I
sort of we sort of expose it already
sort of we sort of expose it already
sort of we sort of expose it already
through Footprints um I guess you know
through Footprints um I guess you know
through Footprints um I guess you know
you can look at the footprint from your
you can look at the footprint from your
you can look at the footprint from your
transaction and say like oh I've I've
transaction and say like oh I've I've
transaction and say like oh I've I've
affected these entries and so you know
affected these entries and so you know
affected these entries and so you know
if I want these entries to live on past
if I want these entries to live on past
if I want these entries to live on past
some
some
some
future point I probably want to bump
future point I probably want to bump
future point I probably want to bump
them
them
them
um and you know what the footprint is
um and you know what the footprint is
um and you know what the footprint is
ahead of the transaction because you
ahead of the transaction because you
ahead of the transaction because you
have to provide it so
have to provide it so
have to provide it so
um you know that that's maybe an
um you know that that's maybe an
um you know that that's maybe an
interesting thing we can utilize
interesting thing we can utilize
interesting thing we can utilize
um and then the second part of the
um and then the second part of the
um and then the second part of the
contract function is decisioning about
contract function is decisioning about
contract function is decisioning about
how much to bump or at least that's one
how much to bump or at least that's one
how much to bump or at least that's one
of my understanding Karen that the
of my understanding Karen that the
of my understanding Karen that the
contract would actually decide how much
contract would actually decide how much
contract would actually decide how much
the month and that seems less clear to
the month and that seems less clear to
the month and that seems less clear to
me about where the responsibility lies
me about where the responsibility lies
me about where the responsibility lies
because I agree with Dima like if I'm if
because I agree with Dima like if I'm if
because I agree with Dima like if I'm if
I'm a contract developer running
I'm a contract developer running
I'm a contract developer running
contract or token contract or any sort
contract or token contract or any sort
contract or token contract or any sort
of contract I don't really know how long
of contract I don't really know how long
of contract I don't really know how long
this user needs this data you know you
this user needs this data you know you
this user needs this data you know you
might be using the token contract for
might be using the token contract for
might be using the token contract for
just this one transaction or for a short
just this one transaction or for a short
just this one transaction or for a short
period of time or maybe you're you know
period of time or maybe you're you know
period of time or maybe you're you know
you're locking up an asset for a long
you're locking up an asset for a long
you're locking up an asset for a long
period of time it's really unclear to
period of time it's really unclear to
period of time it's really unclear to
the contract developer so I feel like
the contract developer so I feel like
the contract developer so I feel like
um if we can find a way to
um if we can find a way to
um if we can find a way to
uh keep the decision about how much to
uh keep the decision about how much to
uh keep the decision about how much to
bump in the hands of the user while not
bump in the hands of the user while not
bump in the hands of the user while not
needing the user to have knowledge about
needing the user to have knowledge about
needing the user to have knowledge about
the keys or maybe using the footprint in
the keys or maybe using the footprint in
the keys or maybe using the footprint in
some ways so that users or applications
some ways so that users or applications
some ways so that users or applications
that users are using uh
that users are using uh
that users are using uh
you know can use the footprint
you know can use the footprint
you know can use the footprint
um to
um to
um to
um
um
um
you know to discover those keys
you know to discover those keys
you know to discover those keys
yeah I think one interesting thing might
yeah I think one interesting thing might
yeah I think one interesting thing might
be like uh say like we have like this
be like uh say like we have like this
be like uh say like we have like this
automatic bump and just allow that to be
automatic bump and just allow that to be
automatic bump and just allow that to be
a user-defined field
a user-defined field
a user-defined field
um in the footprint so for instance we
um in the footprint so for instance we
um in the footprint so for instance we
could say like um it must be at least 10
could say like um it must be at least 10
could say like um it must be at least 10
ledgers just for the health of the
ledgers just for the health of the
ledgers just for the health of the
network no one should be able to you
network no one should be able to you
network no one should be able to you
know avoid automatic payments but then
know avoid automatic payments but then
know avoid automatic payments but then
you can Define
you can Define
you can Define
an arbitrary number
an arbitrary number
an arbitrary number
um now the issue is I think that that
um now the issue is I think that that
um now the issue is I think that that
might be a little too
might be a little too
might be a little too
um not granular enough so for instance
um not granular enough so for instance
um not granular enough so for instance
say if I want to if I'm praying a token
say if I want to if I'm praying a token
say if I want to if I'm praying a token
or creating a um a balance for the first
or creating a um a balance for the first
or creating a um a balance for the first
time for a wallet and I want to last six
time for a wallet and I want to last six
time for a wallet and I want to last six
months I say okay I want my default rent
months I say okay I want my default rent
months I say okay I want my default rent
bump to be six months and so that would
bump to be six months and so that would
bump to be six months and so that would
handle you know all the keys I touch in
handle you know all the keys I touch in
handle you know all the keys I touch in
the creating of that new entry but if we
the creating of that new entry but if we
the creating of that new entry but if we
just have that one number to encapsulate
just have that one number to encapsulate
just have that one number to encapsulate
everything I would also be bumping the
everything I would also be bumping the
everything I would also be bumping the
wasm by six months in the contract
wasm by six months in the contract
wasm by six months in the contract
instance by six months because I touched
instance by six months because I touched
instance by six months because I touched
those two as well which is probably not
those two as well which is probably not
those two as well which is probably not
what the user intended and so I think
what the user intended and so I think
what the user intended and so I think
um I I kind of agree with how you put it
um I I kind of agree with how you put it
um I I kind of agree with how you put it
that there's knowledge of the keys
that there's knowledge of the keys
that there's knowledge of the keys
that's the contract responsibility and
that's the contract responsibility and
that's the contract responsibility and
then there's the um knowledge of how
then there's the um knowledge of how
then there's the um knowledge of how
much you want to bump which is a use
much you want to bump which is a use
much you want to bump which is a use
case specific thing
case specific thing
case specific thing
um based on the invoker and the issue is
um based on the invoker and the issue is
um based on the invoker and the issue is
like if we just have one parameter that
like if we just have one parameter that
like if we just have one parameter that
for the default rent bump that doesn't
for the default rent bump that doesn't
for the default rent bump that doesn't
encapsulate knowledge about the keys but
encapsulate knowledge about the keys but
encapsulate knowledge about the keys but
then the issue is if you want to say say
then the issue is if you want to say say
then the issue is if you want to say say
uh have Define a rent bump for every key
uh have Define a rent bump for every key
uh have Define a rent bump for every key
in the read write footprint that again
in the read write footprint that again
in the read write footprint that again
is putting in this that's putting
is putting in this that's putting
is putting in this that's putting
um essentially like the knowledge of the
um essentially like the knowledge of the
um essentially like the knowledge of the
keys on the invoker again which is kind
keys on the invoker again which is kind
keys on the invoker again which is kind
of something we want to get away from
of something we want to get away from
of something we want to get away from
well
well
well
yeah I mean the invoker is potentially
yeah I mean the invoker is potentially
yeah I mean the invoker is potentially
multiple parties because there's the you
multiple parties because there's the you
multiple parties because there's the you
know user uh to the consumer the end
know user uh to the consumer the end
know user uh to the consumer the end
user and then there's an application
user and then there's an application
user and then there's an application
that they're using uh to interact with
that they're using uh to interact with
that they're using uh to interact with
the contract and that application
the contract and that application
the contract and that application
they're using could potentially make
they're using could potentially make
they're using could potentially make
some sort of broad assumptions you know
some sort of broad assumptions you know
some sort of broad assumptions you know
maybe for token contracts
maybe for token contracts
maybe for token contracts
um a an application Level Up or might uh
um a an application Level Up or might uh
um a an application Level Up or might uh
be able to handle that granularity like
be able to handle that granularity like
be able to handle that granularity like
as you're pointing out they might be
as you're pointing out they might be
as you're pointing out they might be
able to identify okay the balances
able to identify okay the balances
able to identify okay the balances
um look like this uh you know have this
um look like this uh you know have this
um look like this uh you know have this
key maybe I
key maybe I
key maybe I
it doesn't really it doesn't really
it doesn't really it doesn't really
it doesn't really it doesn't really
extend well to other contracts though
so I don't know do we have any like key
so I don't know do we have any like key
takeaways then I mean because I agree
takeaways then I mean because I agree
takeaways then I mean because I agree
that
that
that
and I just feel like the barrier to
and I just feel like the barrier to
and I just feel like the barrier to
to exposing the rent interface to users
to exposing the rent interface to users
to exposing the rent interface to users
can be somewhat High
can be somewhat High
can be somewhat High
um and I don't know if it's a good
um and I don't know if it's a good
um and I don't know if it's a good
interface
interface
interface
um now again like this might be you know
um now again like this might be you know
um now again like this might be you know
acceptable if you know like
acceptable if you know like
acceptable if you know like
every like uh people are interacting
every like uh people are interacting
every like uh people are interacting
with the network primarily through
with the network primarily through
with the network primarily through
wallets and sophisticated um kind of l2s
wallets and sophisticated um kind of l2s
wallets and sophisticated um kind of l2s
like that but I don't know it just seems
like that but I don't know it just seems
like that but I don't know it just seems
like a high onus to put on a user to
like a high onus to put on a user to
like a high onus to put on a user to
essentially have to
essentially have to
essentially have to
invoke periodic
invoke periodic
invoke periodic
um hose function operations in order to
um hose function operations in order to
um hose function operations in order to
maintain state that they are accessing
maintain state that they are accessing
maintain state that they are accessing
through smart contract calls it just
through smart contract calls it just
through smart contract calls it just
seems like the most reasonable interface
seems like the most reasonable interface
seems like the most reasonable interface
for the caller of the contract is for
for the caller of the contract is for
for the caller of the contract is for
the contractor to take care of of the
the contractor to take care of of the
the contractor to take care of of the
contract state
contract state
contract state
um
um
um
is it possible that maybe we could um
is it possible that maybe we could um
is it possible that maybe we could um
find some
find some
find some
uh
some uh okay so
some uh okay so
um I agree with what you're saying and
um I agree with what you're saying and
um I agree with what you're saying and
so I'm wondering uh when we discover
so I'm wondering uh when we discover
so I'm wondering uh when we discover
what the footprint for contracts are I
what the footprint for contracts are I
what the footprint for contracts are I
wonder if there's a way for us to
wonder if there's a way for us to
wonder if there's a way for us to
include without some sort of this is
include without some sort of this is
include without some sort of this is
what the contract recommends you use um
what the contract recommends you use um
what the contract recommends you use um
and maybe this is this might get too
and maybe this is this might get too
and maybe this is this might get too
complicated but uh you know if a token
complicated but uh you know if a token
complicated but uh you know if a token
contract could say to a user
contract could say to a user
contract could say to a user
um this is somehow defined like this is
um this is somehow defined like this is
um this is somehow defined like this is
the recommended
the recommended
the recommended
rent pump for my contract but usually
rent pump for my contract but usually
rent pump for my contract but usually
still in control or maybe that's
still in control or maybe that's
still in control or maybe that's
pointless because then you know
pointless because then you know
pointless because then you know
everybody's just going to do what the
everybody's just going to do what the
everybody's just going to do what the
contract says and we're essentially
contract says and we're essentially
contract says and we're essentially
building something that we don't really
building something that we don't really
building something that we don't really
need the flexibility around well maybe
need the flexibility around well maybe
need the flexibility around well maybe
what we could do actually say
what we could do actually say
what we could do actually say
um
um
um
actually okay I kind of so I think
actually okay I kind of so I think
actually okay I kind of so I think
the best of the Both Worlds is we want
the best of the Both Worlds is we want
the best of the Both Worlds is we want
the contractor to be able to define the
the contractor to be able to define the
the contractor to be able to define the
keys we want the user to define the
keys we want the user to define the
keys we want the user to define the
amount so maybe what we can do is
amount so maybe what we can do is
amount so maybe what we can do is
instead of having the footprint
instead of having the footprint
instead of having the footprint
parameter be the global footprint pump
parameter be the global footprint pump
parameter be the global footprint pump
what we can do is we can define a new
what we can do is we can define a new
what we can do is we can define a new
parameter called auxiliary rent bump
parameter called auxiliary rent bump
parameter called auxiliary rent bump
it's just a single value inside the
it's just a single value inside the
it's just a single value inside the
footprint and then
footprint and then
footprint and then
um I guess we could expose this to the
um I guess we could expose this to the
um I guess we could expose this to the
smart contract in some way
smart contract in some way
smart contract in some way
um and then the smart contract could
um and then the smart contract could
um and then the smart contract could
call the rent bump host function but the
call the rent bump host function but the
call the rent bump host function but the
value of the ledgers to bump must be the
value of the ledgers to bump must be the
value of the ledgers to bump must be the
auxiliary value provided by the user
auxiliary value provided by the user
auxiliary value provided by the user
um and so I think this still has some
um and so I think this still has some
um and so I think this still has some
potential gamification or griefing if
potential gamification or griefing if
potential gamification or griefing if
the contract would use that to bump keys
the contract would use that to bump keys
the contract would use that to bump keys
that are not relevant to the user I mean
that are not relevant to the user I mean
that are not relevant to the user I mean
I feel like that's just a that's a class
I feel like that's just a that's a class
I feel like that's just a that's a class
of bug that just needs to be audited and
of bug that just needs to be audited and
of bug that just needs to be audited and
I think that's kind of you know there
I think that's kind of you know there
I think that's kind of you know there
are many smart contract bugs that fall
are many smart contract bugs that fall
are many smart contract bugs that fall
into that area but then I think this
into that area but then I think this
into that area but then I think this
might provide you like a good middle
might provide you like a good middle
might provide you like a good middle
ground where the contract can still say
ground where the contract can still say
ground where the contract can still say
what keys need to be bumped and the user
what keys need to be bumped and the user
what keys need to be bumped and the user
can supply the value and so say um this
can supply the value and so say um this
can supply the value and so say um this
value could default to zero just for
value could default to zero just for
value could default to zero just for
safety reasons but then say if a user is
safety reasons but then say if a user is
safety reasons but then say if a user is
accessing their contract or their um
accessing their contract or their um
accessing their contract or their um
their token wallet they could say that I
their token wallet they could say that I
their token wallet they could say that I
want to rent Bump by six months
want to rent Bump by six months
want to rent Bump by six months
um everything that the contract deems uh
um everything that the contract deems uh
um everything that the contract deems uh
should be bumped which they signify by
should be bumped which they signify by
should be bumped which they signify by
calling like this auxiliary rent bump
calling like this auxiliary rent bump
calling like this auxiliary rent bump
done inside the smart contract
done inside the smart contract
done inside the smart contract
some thoughts on this approach
some thoughts on this approach
some thoughts on this approach
yeah I think I think something like that
yeah I think I think something like that
yeah I think I think something like that
uh
uh
uh
I think something like that could could
I think something like that could could
I think something like that could could
work pretty well um and either
work pretty well um and either
work pretty well um and either
presenting that how you just described
presenting that how you just described
presenting that how you just described
as you know you just provide one Valley
as you know you just provide one Valley
as you know you just provide one Valley
in the transaction or maybe you could
in the transaction or maybe you could
in the transaction or maybe you could
actually just provide a value next to
actually just provide a value next to
actually just provide a value next to
every footprint
every footprint
every footprint
um which they'd functionally worked the
um which they'd functionally worked the
um which they'd functionally worked the
same way but you know it would give you
same way but you know it would give you
same way but you know it would give you
a little bit of flexibility for some
a little bit of flexibility for some
a little bit of flexibility for some
power use cases where maybe you
power use cases where maybe you
power use cases where maybe you
uh maybe a
uh maybe a
uh maybe a
a power user is wanting to
a power user is wanting to
a power user is wanting to
um
um
um
specify explicit footprint entries is
specify explicit footprint entries is
specify explicit footprint entries is
having more
having more
having more
um
but I did I think that I think that ID
but I did I think that I think that ID
does start to shift the responsibilities
does start to shift the responsibilities
does start to shift the responsibilities
into the right places
yeah I'm not necessarily against the
yeah I'm not necessarily against the
footprints and it's always the same
footprints and it's always the same
footprints and it's always the same
wondering about is
wondering about is
wondering about is
how much
how much
how much
more useful reads than let's say yeah
more useful reads than let's say yeah
more useful reads than let's say yeah
separate cost functions it does the same
separate cost functions it does the same
separate cost functions it does the same
Plus
the contract
the contract
um and just a little bit worried about
um and just a little bit worried about
um and just a little bit worried about
mix in a lot of things together right so
mix in a lot of things together right so
mix in a lot of things together right so
you have a transaction with a plus
you have a transaction with a plus
you have a transaction with a plus
something useful make a payment for
something useful make a payment for
something useful make a payment for
example right but then you also have
example right but then you also have
example right but then you also have
this another completely unrelated
this another completely unrelated
this another completely unrelated
operation this transaction which is Bump
operation this transaction which is Bump
operation this transaction which is Bump
rent instead of relevant entries by
rent instead of relevant entries by
rent instead of relevant entries by
kind of like by time periods you have
kind of like by time periods you have
kind of like by time periods you have
defined so
defined so
defined so
doesn't really need to be the same
doesn't really need to be the same
doesn't really need to be the same
operation maybe it is okay to just have
operation maybe it is okay to just have
operation maybe it is okay to just have
this as two separate operations it can
this as two separate operations it can
this as two separate operations it can
be composed needed well I mean what
be composed needed well I mean what
be composed needed well I mean what
would that look like then because I mean
would that look like then because I mean
would that look like then because I mean
I think the the issue is the the set of
I think the the issue is the the set of
I think the the issue is the the set of
the knowledge of the set of keys that
the knowledge of the set of keys that
the knowledge of the set of keys that
needs to be bound right where I think I
needs to be bound right where I think I
needs to be bound right where I think I
agree that like the the per like the per
agree that like the the per like the per
agree that like the the per like the per
key approach could be good for power
key approach could be good for power
key approach could be good for power
users I still think we need like a you
users I still think we need like a you
users I still think we need like a you
know one size fits all I want to bump by
know one size fits all I want to bump by
know one size fits all I want to bump by
this amount because I could see from a
this amount because I could see from a
this amount because I could see from a
user perspective saying
user perspective saying
user perspective saying
um you know bump this set of keys by six
um you know bump this set of keys by six
um you know bump this set of keys by six
months you have to define the set of
months you have to define the set of
months you have to define the set of
keys and all that sort of stuff but if
keys and all that sort of stuff but if
keys and all that sort of stuff but if
you're sending transactions and be like
you're sending transactions and be like
you're sending transactions and be like
I want all my things to live for six
I want all my things to live for six
I want all my things to live for six
months so I can say send this
months so I can say send this
months so I can say send this
transaction
transaction
transaction
um rent amount six months
um rent amount six months
um rent amount six months
um and then the smart contract uh
um and then the smart contract uh
um and then the smart contract uh
developers determine what is important
developers determine what is important
developers determine what is important
to that user to fill into that auxiliary
to that user to fill into that auxiliary
to that user to fill into that auxiliary
space I feel like that works for most
space I feel like that works for most
space I feel like that works for most
use cases again we are kind of mixing up
use cases again we are kind of mixing up
use cases again we are kind of mixing up
what user is like
what user is like
what user is like
do people really like if they think
do people really like if they think
do people really like if they think
about how
about how
about how
our contracts would be used right
our contracts would be used right
our contracts would be used right
chances are probably there is some Gap
chances are probably there is some Gap
chances are probably there is some Gap
that like with some web apps that
that like with some web apps that
that like with some web apps that
actually builds the transactions for you
actually builds the transactions for you
actually builds the transactions for you
like whereas the rain should fit it like
like whereas the rain should fit it like
like whereas the rain should fit it like
I'm writing so you had decks right today
I'm writing so you had decks right today
I'm writing so you had decks right today
really expose rent bumps in my UI to the
really expose rent bumps in my UI to the
really expose rent bumps in my UI to the
users like how's it would work
so I think that there's I think that's a
so I think that there's I think that's a
really good question Dima and and I
really good question Dima and and I
really good question Dima and and I
think there's there there are two
think there's there there are two
think there's there there are two
answers to this
answers to this
answers to this
um I think there's one class of
um I think there's one class of
um I think there's one class of
interactions that come directly from
interactions that come directly from
interactions that come directly from
adapt front end and and from that
adapt front end and and from that
adapt front end and and from that
perspective you're right like the DAP
perspective you're right like the DAP
perspective you're right like the DAP
knows exactly what Ledger Keys an
knows exactly what Ledger Keys an
knows exactly what Ledger Keys an
account refers to because it's the same
account refers to because it's the same
account refers to because it's the same
developer who wrote the smart contract
developer who wrote the smart contract
developer who wrote the smart contract
um there's another class of interactions
um there's another class of interactions
um there's another class of interactions
that's like more generalized
that's like more generalized
that's like more generalized
interactions uh these happen either
interactions uh these happen either
interactions uh these happen either
through
through
through
um either through uh like wallet
um either through uh like wallet
um either through uh like wallet
interface like General wallet interfaces
interface like General wallet interfaces
interface like General wallet interfaces
um or they happen maybe through
um or they happen maybe through
um or they happen maybe through
um you know various compositions like
um you know various compositions like
um you know various compositions like
I'm not using I'm not using an amm
I'm not using I'm not using an amm
I'm not using I'm not using an amm
directly but I'm using it through some
directly but I'm using it through some
directly but I'm using it through some
sort of like an aggregator
sort of like an aggregator
sort of like an aggregator
or through like a balancer uh like
or through like a balancer uh like
or through like a balancer uh like
um uh contract that actually splits my
um uh contract that actually splits my
um uh contract that actually splits my
uh my my liquidity between different
uh my my liquidity between different
uh my my liquidity between different
contracts so I think the like what
contracts so I think the like what
contracts so I think the like what
you're describing
you're describing
you're describing
uh it like directly interacting with
uh it like directly interacting with
uh it like directly interacting with
Ledger keys that only happens in like
Ledger keys that only happens in like
Ledger keys that only happens in like
the one case where the the origin of the
the one case where the the origin of the
the one case where the the origin of the
transaction is you know is kind of
transaction is you know is kind of
transaction is you know is kind of
developed by the same developer of the
developed by the same developer of the
developed by the same developer of the
smart contract but that's not the
smart contract but that's not the
smart contract but that's not the
general use case
oh what I mean is actually not who knows
oh what I mean is actually not who knows
the keys what I mean is
the keys what I mean is
the keys what I mean is
uh what is the UI or ux for actually
uh what is the UI or ux for actually
uh what is the UI or ux for actually
setting up zero so let's say we go for
setting up zero so let's say we go for
setting up zero so let's say we go for
this idea whenever you know you can uh
this idea whenever you know you can uh
this idea whenever you know you can uh
somehow pass some additional rent
somehow pass some additional rent
somehow pass some additional rent
balance as a part of your transaction
balance as a part of your transaction
balance as a part of your transaction
that does something else
that does something else
that does something else
then the question is like no matter like
then the question is like no matter like
then the question is like no matter like
who knows the keys um
who knows the keys um
who knows the keys um
how the user would actually Supply this
how the user would actually Supply this
how the user would actually Supply this
number
number
number
um
um
um
like I really feel like this should be
like I really feel like this should be
like I really feel like this should be
progress about responsibility most of
progress about responsibility most of
progress about responsibility most of
the time that's really sometimes it you
the time that's really sometimes it you
the time that's really sometimes it you
need to bump probably has something to
need to bump probably has something to
need to bump probably has something to
do with something your own and this is
do with something your own and this is
do with something your own and this is
something your voltage is responsible
something your voltage is responsible
something your voltage is responsible
for
for
for
um
um
um
so I'm
so I'm
so I'm
yeah I'm not sure if it works well it's
yeah I'm not sure if it works well it's
yeah I'm not sure if it works well it's
a model or some
a model or some
a model or some
other entities and wallet builds a
other entities and wallet builds a
other entities and wallet builds a
transaction because as I said like
transaction because as I said like
transaction because as I said like
you're doing something completely
you're doing something completely
you're doing something completely
unrelated
unrelated
unrelated
um leads like especially when you are
um leads like especially when you are
um leads like especially when you are
talking about some more complex religion
talking about some more complex religion
talking about some more complex religion
scenarios right uh how would you even
scenarios right uh how would you even
scenarios right uh how would you even
expose some brand pumps to the user leak
expose some brand pumps to the user leak
expose some brand pumps to the user leak
just I'm sorry arbitrary they are about
just I'm sorry arbitrary they are about
just I'm sorry arbitrary they are about
to trade these tokens okay how about
to trade these tokens okay how about
to trade these tokens okay how about
bumping some random major entries
bumping some random major entries
bumping some random major entries
I don't know doesn't seem like they're
I don't know doesn't seem like they're
I don't know doesn't seem like they're
right you asked to me which is why I was
right you asked to me which is why I was
right you asked to me which is why I was
kind of arguing about this idea about
kind of arguing about this idea about
kind of arguing about this idea about
just having a standalone process for
just having a standalone process for
just having a standalone process for
this
this
this
um which I agree has its own issues but
um which I agree has its own issues but
um which I agree has its own issues but
at least you know the your story is
at least you know the your story is
at least you know the your story is
pretty clear here that hey you have a
pretty clear here that hey you have a
pretty clear here that hey you have a
vote for example and
vote for example and
vote for example and
my interests you know balance lifetime
my interests you know balance lifetime
my interests you know balance lifetime
very connectors
very connectors
very connectors
um
um
um
maybe I'm missing something fundamental
maybe I'm missing something fundamental
maybe I'm missing something fundamental
about what you like how things work but
about what you like how things work but
about what you like how things work but
he just really seems like two different
he just really seems like two different
he just really seems like two different
things that we want to bundle together
things that we want to bundle together
things that we want to bundle together
in the same transaction and one of the
in the same transaction and one of the
in the same transaction and one of the
things is not completely obvious to
things is not completely obvious to
things is not completely obvious to
think to that main use case as I think
think to that main use case as I think
think to that main use case as I think
I think regardless of uh of whether we
I think regardless of uh of whether we
I think regardless of uh of whether we
bundle it or not the problem that you're
bundle it or not the problem that you're
bundle it or not the problem that you're
presenting you know who's responsible
presenting you know who's responsible
presenting you know who's responsible
for it you know does the wallet just do
for it you know does the wallet just do
for it you know does the wallet just do
it for you that problem exists so if we
it for you that problem exists so if we
it for you that problem exists so if we
bundle it the problem exists if we don't
bundle it the problem exists if we don't
bundle it the problem exists if we don't
bundle it problem still exists
bundle it problem still exists
bundle it problem still exists
um and to Thomas point about you know
um and to Thomas point about you know
um and to Thomas point about you know
the different use cases and your point
the different use cases and your point
the different use cases and your point
about wood wallages too and I think
about wood wallages too and I think
about wood wallages too and I think
that's that's fair like consumer wallets
that's that's fair like consumer wallets
that's that's fair like consumer wallets
are probably going to make some
are probably going to make some
are probably going to make some
default decision around you want to have
default decision around you want to have
default decision around you want to have
six months or a year for your balance
six months or a year for your balance
six months or a year for your balance
and then you can recover from the
and then you can recover from the
and then you can recover from the
archive
archive
archive
um and it's those other power users that
um and it's those other power users that
um and it's those other power users that
are maybe gonna or those other
are maybe gonna or those other
are maybe gonna or those other
composition use cases where
composition use cases where
composition use cases where
um
um
um
the rent is going to become more
the rent is going to become more
the rent is going to become more
interesting because maybe in a
interesting because maybe in a
interesting because maybe in a
composition use case you don't need that
composition use case you don't need that
composition use case you don't need that
balance to have a starting rent of it
balance to have a starting rent of it
balance to have a starting rent of it
six months that's it might be a waste of
six months that's it might be a waste of
six months that's it might be a waste of
ease
ease
ease
maybe you only need it for a day
maybe you only need it for a day
maybe you only need it for a day
um
um
um
the thing is like from the for the wild
the thing is like from the for the wild
the thing is like from the for the wild
example I think the issue is that if we
example I think the issue is that if we
example I think the issue is that if we
don't Define or if we don't allow
don't Define or if we don't allow
don't Define or if we don't allow
contracts to Define rental Behavior
contracts to Define rental Behavior
contracts to Define rental Behavior
the issue is token or wallet speak erc20
the issue is token or wallet speak erc20
the issue is token or wallet speak erc20
which is an interface whereas rent bumps
which is an interface whereas rent bumps
which is an interface whereas rent bumps
aren't an interface issue they're an
aren't an interface issue they're an
aren't an interface issue they're an
implementation issue
implementation issue
implementation issue
so two different tokens could just be
so two different tokens could just be
so two different tokens could just be
erc20 compliant but Implement erc20 in
erc20 compliant but Implement erc20 in
erc20 compliant but Implement erc20 in
different ways so token a might have two
different ways so token a might have two
different ways so token a might have two
entries you need to bump whereas token B
entries you need to bump whereas token B
entries you need to bump whereas token B
just has one entry you need to bump so I
just has one entry you need to bump so I
just has one entry you need to bump so I
feel like just kind of saying oh hey the
feel like just kind of saying oh hey the
feel like just kind of saying oh hey the
you know middle the middleware software
you know middle the middleware software
you know middle the middleware software
is sophisticated enough to know how to
is sophisticated enough to know how to
is sophisticated enough to know how to
bump I don't know if that's an
bump I don't know if that's an
bump I don't know if that's an
assumption that can be made I mean I
assumption that can be made I mean I
assumption that can be made I mean I
think we'd essentially like for wallets
think we'd essentially like for wallets
think we'd essentially like for wallets
we'd need like an erc20 rent version
we'd need like an erc20 rent version
we'd need like an erc20 rent version
that defines rent behavior in a way
that defines rent behavior in a way
that defines rent behavior in a way
because I feel like
because I feel like
because I feel like
I just think that just like the the key
I just think that just like the the key
I just think that just like the the key
structure is just so integral and so
structure is just so integral and so
structure is just so integral and so
implementation specific I'm skeptical
implementation specific I'm skeptical
implementation specific I'm skeptical
of leaving that up to anyone other than
of leaving that up to anyone other than
of leaving that up to anyone other than
the contract developer
as long as there was an interesting
as long as there was an interesting
question from what's in the chapter
question from what's in the chapter
question from what's in the chapter
regardings uh something like a liability
regardings uh something like a liability
regardings uh something like a liability
balance and uh I think and as we're end
balance and uh I think and as we're end
balance and uh I think and as we're end
goal we haven't been talking much about
goal we haven't been talking much about
goal we haven't been talking much about
this weather
this weather
this weather
um
um
um
some cases the rent payments are needed
some cases the rent payments are needed
some cases the rent payments are needed
at all because well interest can be
at all because well interest can be
at all because well interest can be
unarchived and in case of this liability
unarchived and in case of this liability
unarchived and in case of this liability
balance for example yes it's maybe not
balance for example yes it's maybe not
balance for example yes it's maybe not
in the user interest for this entry to
in the user interest for this entry to
in the user interest for this entry to
leave one kinds of Ledger
leave one kinds of Ledger
leave one kinds of Ledger
um but if you are using the unique
um but if you are using the unique
um but if you are using the unique
storage
storage
storage
right it shouldn't be possible to at
right it shouldn't be possible to at
right it shouldn't be possible to at
least recreate the sanction
least recreate the sanction
least recreate the sanction
um which the contract developer could
um which the contract developer could
um which the contract developer could
leverage I I'm not really familiar with
leverage I I'm not really familiar with
leverage I I'm not really familiar with
this liability bones use cases like how
this liability bones use cases like how
this liability bones use cases like how
to force the user to actually
to force the user to actually
to force the user to actually
pay your availability but you know if
pay your availability but you know if
pay your availability but you know if
you want them to continue their contract
you want them to continue their contract
you want them to continue their contract
you can just benefit from the unique
you can just benefit from the unique
you can just benefit from the unique
entry and it doesn't really matter if it
entry and it doesn't really matter if it
entry and it doesn't really matter if it
got archived right because it won't be
got archived right because it won't be
got archived right because it won't be
recreatable and users just won't be able
recreatable and users just won't be able
recreatable and users just won't be able
to reuse the contract I don't know what
to reuse the contract I don't know what
to reuse the contract I don't know what
is the other unfortunately
is the other unfortunately
is the other unfortunately
mechanisms but basically the point I
mechanisms but basically the point I
mechanisms but basically the point I
wanted to make it's
wanted to make it's
wanted to make it's
probably not super bad if interest
probably not super bad if interest
probably not super bad if interest
sometimes get evicted from the ledgers
sometimes get evicted from the ledgers
sometimes get evicted from the ledgers
this is kind of by Design especially if
this is kind of by Design especially if
this is kind of by Design especially if
it's rarely accessible and it's a
it's rarely accessible and it's a
it's rarely accessible and it's a
downside hopefully isn't is that huge so
downside hopefully isn't is that huge so
downside hopefully isn't is that huge so
probably that while we are talking here
probably that while we are talking here
probably that while we are talking here
about how bumps work we should recognize
about how bumps work we should recognize
about how bumps work we should recognize
that
that
that
you know
you know
you know
we should make sure that the ux for
we should make sure that the ux for
we should make sure that the ux for
actually uh
actually uh
actually uh
restoring the entry in Ledger is saying
restoring the entry in Ledger is saying
restoring the entry in Ledger is saying
now so that even if you cannot mess up
now so that even if you cannot mess up
now so that even if you cannot mess up
the pump project you still uh not
the pump project you still uh not
the pump project you still uh not
In Too Deep of a trouble
In Too Deep of a trouble
In Too Deep of a trouble
which
which
which
I don't know if anything something else
I don't know if anything something else
I don't know if anything something else
for the liability use case
in the liability case uh you know the
in the liability case uh you know the
the library still exists right just it
the library still exists right just it
the library still exists right just it
may not be unledgeable because it
may not be unledgeable because it
may not be unledgeable because it
expired
expired
expired
um so and anyone can recreate it so I
um so and anyone can recreate it so I
um so and anyone can recreate it so I
don't know if it's a
don't know if it's a
don't know if it's a
uh is that an actual concern
uh is that an actual concern
uh is that an actual concern
right as long as you understand that the
right as long as you understand that the
right as long as you understand that the
liability is there like you know you
liability is there like you know you
liability is there like you know you
could anyone can recreate it and put it
could anyone can recreate it and put it
could anyone can recreate it and put it
back in the Ledger or I think uh
back in the Ledger or I think uh
back in the Ledger or I think uh
recreate's not the the correct word here
recreate's not the the correct word here
recreate's not the the correct word here
but restore it because like in Europe in
but restore it because like in Europe in
but restore it because like in Europe in
the example you gave essentially what
the example you gave essentially what
the example you gave essentially what
would happen is uh if it expired
would happen is uh if it expired
would happen is uh if it expired
um and a user tried to do it it's you
um and a user tried to do it it's you
um and a user tried to do it it's you
you if you use the unique storage
you if you use the unique storage
you if you use the unique storage
interface which you should for this
interface which you should for this
interface which you should for this
particular use case then the contract
particular use case then the contract
particular use case then the contract
knows that the thing is in the archive
knows that the thing is in the archive
knows that the thing is in the archive
um because that's one of the benefits of
um because that's one of the benefits of
um because that's one of the benefits of
unique storage is that it essentially
unique storage is that it essentially
unique storage is that it essentially
provides information if the entries in
provides information if the entries in
provides information if the entries in
the archive are not and so through the
the archive are not and so through the
the archive are not and so through the
unique storage interface you know that
unique storage interface you know that
unique storage interface you know that
the liability exists somewhere and so
the liability exists somewhere and so
the liability exists somewhere and so
the transaction just fails but the
the transaction just fails but the
the transaction just fails but the
liabilities not live because you can't
liabilities not live because you can't
liabilities not live because you can't
check it and so I don't think there's a
check it and so I don't think there's a
check it and so I don't think there's a
security risk in the rent because I
security risk in the rent because I
security risk in the rent because I
think uh rent should never be used for
think uh rent should never be used for
think uh rent should never be used for
like lifetime management or something
like lifetime management or something
like lifetime management or something
like that that's a temporary entry
like that that's a temporary entry
like that that's a temporary entry
concern
concern
concern
um so I think like concerns as to like
um so I think like concerns as to like
um so I think like concerns as to like
expiration are handled via the
expiration are handled via the
expiration are handled via the
recreatable and unique interface rent is
recreatable and unique interface rent is
recreatable and unique interface rent is
just more of a convenience factor
just more of a convenience factor
just more of a convenience factor
um because how you pay rent shouldn't
um because how you pay rent shouldn't
um because how you pay rent shouldn't
have any functional differences it might
have any functional differences it might
have any functional differences it might
just make your operation slower if you
just make your operation slower if you
just make your operation slower if you
need to go restore something
but I think high level here I think
but I think high level here I think
kind of what I'm understanding is we
kind of what I'm understanding is we
kind of what I'm understanding is we
probably want to investigate rent
probably want to investigate rent
probably want to investigate rent
information the footprint I think
information the footprint I think
information the footprint I think
whether that looks like a per key rent
whether that looks like a per key rent
whether that looks like a per key rent
or an overall rent bump or something
or an overall rent bump or something
or an overall rent bump or something
like that
like that
like that
is still TBD but I think if I understand
is still TBD but I think if I understand
is still TBD but I think if I understand
correctly that's kind of
correctly that's kind of
correctly that's kind of
um demo uh that is that kind of like I
um demo uh that is that kind of like I
um demo uh that is that kind of like I
don't know fulfills your
don't know fulfills your
don't know fulfills your
you're not allowing smart contracts to
you're not allowing smart contracts to
you're not allowing smart contracts to
game the system but kind of still
game the system but kind of still
game the system but kind of still
allowing smart contracts to Define some
allowing smart contracts to Define some
allowing smart contracts to Define some
behaviors at
behaviors at
behaviors at
I guess investing is something the
I guess investing is something the
I guess investing is something the
footprint is that kind of um the idea we
footprint is that kind of um the idea we
footprint is that kind of um the idea we
want to go forward with on this issue
want to go forward with on this issue
want to go forward with on this issue
yeah and is that the way like I'm not
yeah and is that the way like I'm not
yeah and is that the way like I'm not
necessarily against this but like I see
necessarily against this but like I see
necessarily against this but like I see
some issues with this approach but
some issues with this approach but
some issues with this approach but
probably it makes more sense than just
probably it makes more sense than just
probably it makes more sense than just
you know asking contract developer to
you know asking contract developer to
you know asking contract developer to
um to write the manual pumps it's uh
um to write the manual pumps it's uh
um to write the manual pumps it's uh
both complicated and those are wrong
both complicated and those are wrong
both complicated and those are wrong
yeah and I I think we really need to
yeah and I I think we really need to
yeah and I I think we really need to
think about the initial balances like
think about the initial balances like
think about the initial balances like
even though as I mentioned lately it
even though as I mentioned lately it
even though as I mentioned lately it
might be kind of problematic to Define
might be kind of problematic to Define
might be kind of problematic to Define
it in a general case we
it in a general case we
it in a general case we
we should think about what what is the
we should think about what what is the
we should think about what what is the
same default value very easily like even
same default value very easily like even
same default value very easily like even
if it's not customizable because it's
if it's not customizable because it's
if it's not customizable because it's
kind of an interesting problem as well
kind of an interesting problem as well
kind of an interesting problem as well
right like you don't want to create an
right like you don't want to create an
right like you don't want to create an
entry that lives like for a really short
entry that lives like for a really short
entry that lives like for a really short
period of time that you don't want to
period of time that you don't want to
period of time that you don't want to
overcharge users well we actually have a
overcharge users well we actually have a
overcharge users well we actually have a
implementation specific value for this
implementation specific value for this
implementation specific value for this
um which is I think at the bottom of the
um which is I think at the bottom of the
um which is I think at the bottom of the
rent proposal which is based on the
rent proposal which is based on the
rent proposal which is based on the
structure of the bucket list and how
structure of the bucket list and how
structure of the bucket list and how
archiving Works
archiving Works
archiving Works
um minimum rent balance has to be enough
um minimum rent balance has to be enough
um minimum rent balance has to be enough
rent for the entry to live into level
rent for the entry to live into level
rent for the entry to live into level
six
six
six
um which I believe is 4 000 ledgers
um which I believe is 4 000 ledgers
um which I believe is 4 000 ledgers
um and so we can make the default higher
um and so we can make the default higher
um and so we can make the default higher
than that
than that
than that
um but that is the absolute minimum just
um but that is the absolute minimum just
um but that is the absolute minimum just
from an implementation standpoint uh the
from an implementation standpoint uh the
from an implementation standpoint uh the
minimum has to be at least four thousand
minimum has to be at least four thousand
minimum has to be at least four thousand
ledgers
ledgers
ledgers
um if that value is too low then if like
um if that value is too low then if like
um if that value is too low then if like
I think that's
I think that's
I think that's
uh what four thousand times five seconds
uh what four thousand times five seconds
uh what four thousand times five seconds
I think that's like a day or something
I think that's like a day or something
I think that's like a day or something
maybe 12 hours
maybe 12 hours
maybe 12 hours
exactly but I mean if that's too low we
exactly but I mean if that's too low we
exactly but I mean if that's too low we
can increase it but uh we can't we can't
can increase it but uh we can't we can't
can increase it but uh we can't we can't
go lower than that
go lower than that
go lower than that
and but that's kind of interesting right
and but that's kind of interesting right
and but that's kind of interesting right
because if you think about something you
because if you think about something you
because if you think about something you
can balance you would think like about
can balance you would think like about
can balance you would think like about
months of life and five hours is like
months of life and five hours is like
months of life and five hours is like
why less than that so yeah that's what
why less than that so yeah that's what
why less than that so yeah that's what
I'm saying like I guess we will need to
I'm saying like I guess we will need to
I'm saying like I guess we will need to
see what's the actual prices will be
see what's the actual prices will be
see what's the actual prices will be
because
because
because
it seems really counterintuitive that
it seems really counterintuitive that
it seems really counterintuitive that
the entries that are kind of supposed to
the entries that are kind of supposed to
the entries that are kind of supposed to
be permanent entries in The Ledger
be permanent entries in The Ledger
be permanent entries in The Ledger
are at the same time very short Cliff
are at the same time very short Cliff
are at the same time very short Cliff
because we hopefully will be able to
because we hopefully will be able to
because we hopefully will be able to
create temporary entries that are alive
create temporary entries that are alive
create temporary entries that are alive
for let's say weeks right
for let's say weeks right
for let's say weeks right
but at the same time I think there's
but at the same time I think there's
but at the same time I think there's
also a valid use case for a qualm quote
also a valid use case for a qualm quote
also a valid use case for a qualm quote
short-lived
short-lived
short-lived
um for instance like if I just want to
um for instance like if I just want to
um for instance like if I just want to
initialize a cold store wallet I like
initialize a cold store wallet I like
initialize a cold store wallet I like
initialize it transfer a million usdc
initialize it transfer a million usdc
initialize it transfer a million usdc
and then don't want to use it for 10
and then don't want to use it for 10
and then don't want to use it for 10
years I mean it makes sense to just give
years I mean it makes sense to just give
years I mean it makes sense to just give
the minimum rent balance pay that and
the minimum rent balance pay that and
the minimum rent balance pay that and
then let go into the archive because I'm
then let go into the archive because I'm
then let go into the archive because I'm
not going to use it for a while
not going to use it for a while
not going to use it for a while
um so I think that there's still I think
um so I think that there's still I think
um so I think that there's still I think
keeping the minimum low probably
keeping the minimum low probably
keeping the minimum low probably
provides the most flexibility
provides the most flexibility
provides the most flexibility
um but I guess kind of what I was
um but I guess kind of what I was
um but I guess kind of what I was
imagining from a functional standpoint
imagining from a functional standpoint
imagining from a functional standpoint
is you would probably want to just
is you would probably want to just
is you would probably want to just
create all entries with the minimum rent
create all entries with the minimum rent
create all entries with the minimum rent
balance initially
balance initially
balance initially
um but then be able to essentially like
um but then be able to essentially like
um but then be able to essentially like
bundle
bundle
bundle
um and immediately run bump was kind of
um and immediately run bump was kind of
um and immediately run bump was kind of
what I had in mind
what I had in mind
what I had in mind
um from a from an implementation
um from a from an implementation
um from a from an implementation
standpoint that would probably be
standpoint that would probably be
standpoint that would probably be
easiest now if we don't provide a host
easiest now if we don't provide a host
easiest now if we don't provide a host
function or if we don't provide a
function or if we don't provide a
function or if we don't provide a
footprint approach
footprint approach
footprint approach
that becomes challenging because you
that becomes challenging because you
that becomes challenging because you
essentially have to bundle operations at
essentially have to bundle operations at
essentially have to bundle operations at
that point which I don't think would be
that point which I don't think would be
that point which I don't think would be
really possible to implement you'd have
really possible to implement you'd have
really possible to implement you'd have
to implement that
to implement that
to implement that
um not in
um not in
um not in
the sore bomb but somewhere else
the sore bomb but somewhere else
the sore bomb but somewhere else
um but I think
um but I think
um but I think
if we have some sort of footprint
if we have some sort of footprint
if we have some sort of footprint
approach I think that would probably be
approach I think that would probably be
approach I think that would probably be
the best way is just to default
the best way is just to default
the best way is just to default
initialize every restorable entry with
initialize every restorable entry with
initialize every restorable entry with
the four thousand letters worth of rent
the four thousand letters worth of rent
the four thousand letters worth of rent
and then if the footprint defines any
and then if the footprint defines any
and then if the footprint defines any
additional bumps uh provide those Bumps
additional bumps uh provide those Bumps
additional bumps uh provide those Bumps
by the footprint interface
yeah I think I think that sounds really
yeah I think I think that sounds really
good I I and I just sort of lean further
good I I and I just sort of lean further
good I I and I just sort of lean further
on it I do think I I assume we're still
on it I do think I I assume we're still
on it I do think I I assume we're still
talking about the contract still is the
talking about the contract still is the
talking about the contract still is the
one that can do that auxiliary bump so
one that can do that auxiliary bump so
one that can do that auxiliary bump so
ideally you know in the best case
ideally you know in the best case
ideally you know in the best case
scenario the contract developer has
scenario the contract developer has
scenario the contract developer has
given this thought and they're acting in
given this thought and they're acting in
given this thought and they're acting in
good faith
good faith
good faith
um sorry they're doing the right thing
um sorry they're doing the right thing
um sorry they're doing the right thing
and they're just using that auxiliary
and they're just using that auxiliary
and they're just using that auxiliary
bump for the records that need to be
bump for the records that need to be
bump for the records that need to be
used so they might not exactly re-bump
used so they might not exactly re-bump
used so they might not exactly re-bump
everything
everything
everything
um but the worst case scenario is that
um but the worst case scenario is that
um but the worst case scenario is that
they do
they do
they do
you know they don't really think about
you know they don't really think about
you know they don't really think about
it and they do bump everything in the
it and they do bump everything in the
it and they do bump everything in the
footprint so as a user you do sort of
footprint so as a user you do sort of
footprint so as a user you do sort of
have a some boundaries in place it's not
have a some boundaries in place it's not
have a some boundaries in place it's not
like a malicious user can do
like a malicious user can do
like a malicious user can do
lots of damage
lots of damage
lots of damage
um they can at worse only bump
um they can at worse only bump
um they can at worse only bump
everything that's in the footprint which
everything that's in the footprint which
everything that's in the footprint which
would be of limited size anyway
would be of limited size anyway
would be of limited size anyway
yeah and in the case that the contract
yeah and in the case that the contract
yeah and in the case that the contract
is malicious
is malicious
is malicious
um then like a a powerful a power user
um then like a a powerful a power user
um then like a a powerful a power user
or if a power user just thought they
or if a power user just thought they
or if a power user just thought they
knew better than the contract they could
knew better than the contract they could
knew better than the contract they could
always just set their you know auxiliary
always just set their you know auxiliary
always just set their you know auxiliary
bump to zero and then even if the smart
bump to zero and then even if the smart
bump to zero and then even if the smart
contract tried to bump everything in the
contract tried to bump everything in the
contract tried to bump everything in the
footprint
footprint
footprint
um you wouldn't you wouldn't be screwed
um you wouldn't you wouldn't be screwed
um you wouldn't you wouldn't be screwed
and you could just essentially get
and you could just essentially get
and you could just essentially get
around the auxiliary Behavior if you had
around the auxiliary Behavior if you had
around the auxiliary Behavior if you had
motivation to do so
motivation to do so
motivation to do so
um I think oh sorry timer no I just
um I think oh sorry timer no I just
um I think oh sorry timer no I just
wanted to say that I I wouldn't put too
wanted to say that I I wouldn't put too
wanted to say that I I wouldn't put too
much effort into protecting against like
much effort into protecting against like
much effort into protecting against like
malicious smart contracts uh you know if
malicious smart contracts uh you know if
malicious smart contracts uh you know if
a smart contract is malicious there's
a smart contract is malicious there's
a smart contract is malicious there's
like plenty of other ways that it can
like plenty of other ways that it can
like plenty of other ways that it can
screw you over uh and so trying to
screw you over uh and so trying to
screw you over uh and so trying to
protect the uh against malicious smart
protect the uh against malicious smart
protect the uh against malicious smart
contractors trying to protect against
contractors trying to protect against
contractors trying to protect against
like buggy smart contracts is you know
like buggy smart contracts is you know
like buggy smart contracts is you know
it's it's a
it's it's a
it's it's a
it's a fight you can't win
it's a fight you can't win
it's a fight you can't win
yeah I actually yeah I think that's
yeah I actually yeah I think that's
yeah I actually yeah I think that's
yeah I I wanted to say I I don't fully
yeah I I wanted to say I I don't fully
yeah I I wanted to say I I don't fully
agree with this because really if you
agree with this because really if you
agree with this because really if you
think about us
think about us
think about us
um like any token operations need to be
um like any token operations need to be
um like any token operations need to be
explicitly signed
explicitly signed
explicitly signed
and uh wait wait my concern about all
and uh wait wait my concern about all
and uh wait wait my concern about all
this uh customizable pump stuff is that
this uh customizable pump stuff is that
this uh customizable pump stuff is that
basically you kind of are doing very
basically you kind of are doing very
basically you kind of are doing very
implicit operation on a token which is
implicit operation on a token which is
implicit operation on a token which is
much added to interpret because other
much added to interpret because other
much added to interpret because other
reason that really things that kind of
reason that really things that kind of
reason that really things that kind of
can impact the user are probably out
can impact the user are probably out
can impact the user are probably out
authorized explicitly while here you
authorized explicitly while here you
authorized explicitly while here you
have something implicit which is why I'm
have something implicit which is why I'm
have something implicit which is why I'm
more concerned about that than about the
more concerned about that than about the
more concerned about that than about the
contracts they just trying to please
contracts they just trying to please
contracts they just trying to please
show like 100 xlm from you uh for no
show like 100 xlm from you uh for no
show like 100 xlm from you uh for no
good reason because that's at least very
good reason because that's at least very
good reason because that's at least very
easy to trace and explain whereas like
easy to trace and explain whereas like
easy to trace and explain whereas like
you know with you're paying rent for
you know with you're paying rent for
you know with you're paying rent for
something you shouldn't be paying rent
something you shouldn't be paying rent
something you shouldn't be paying rent
for much harder to evaluate
you'll be able to print everything but
you'll be able to print everything but
I wouldn't just dismiss the same it
I wouldn't just dismiss the same it
I wouldn't just dismiss the same it
cannot do anything I think we kind of
cannot do anything I think we kind of
cannot do anything I think we kind of
can try to be a bit more conservative
can try to be a bit more conservative
can try to be a bit more conservative
here
here
here
I mean like it's not like this is you're
I mean like it's not like this is you're
I mean like it's not like this is you're
signing a transaction this is coming out
signing a transaction this is coming out
signing a transaction this is coming out
of your wallet I mean all of these fees
of your wallet I mean all of these fees
of your wallet I mean all of these fees
are coming from refundable fee right
are coming from refundable fee right
are coming from refundable fee right
like even if you do like the you know
like even if you do like the you know
like even if you do like the you know
auxiliary rent bump uh auxiliary rent
auxiliary rent bump uh auxiliary rent
auxiliary rent bump uh auxiliary rent
bump is still coming out refundable fee
bump is still coming out refundable fee
bump is still coming out refundable fee
and so you have an upper bound right and
and so you have an upper bound right and
and so you have an upper bound right and
so I guess feel like if a contract is
so I guess feel like if a contract is
so I guess feel like if a contract is
malicious or buggy I mean you pre-flight
malicious or buggy I mean you pre-flight
malicious or buggy I mean you pre-flight
and you're like oh wow this refundable
and you're like oh wow this refundable
and you're like oh wow this refundable
fee is like absurdly high you're not
fee is like absurdly high you're not
fee is like absurdly high you're not
going to submit that transaction and so
going to submit that transaction and so
going to submit that transaction and so
I think because we kind of have like
I think because we kind of have like
I think because we kind of have like
this safe bound both if we provide a
this safe bound both if we provide a
this safe bound both if we provide a
parameter in the footprint to Define
parameter in the footprint to Define
parameter in the footprint to Define
um the amount of bump to rent that's one
um the amount of bump to rent that's one
um the amount of bump to rent that's one
bound plus just the amount of fees you
bound plus just the amount of fees you
bound plus just the amount of fees you
have is another Bound in refundable fee
have is another Bound in refundable fee
have is another Bound in refundable fee
so I feel like those two things
so I feel like those two things
so I feel like those two things
bound the damage pretty well such that I
bound the damage pretty well such that I
bound the damage pretty well such that I
think that the rewards uh the ux rewards
think that the rewards uh the ux rewards
think that the rewards uh the ux rewards
outweigh the potential drawbacks just
outweigh the potential drawbacks just
outweigh the potential drawbacks just
because it's so bounded and because it's
because it's so bounded and because it's
because it's so bounded and because it's
fee based and not token based
yeah I mean if he exposes refundable fee
yeah I mean if he exposes refundable fee
in explicit Fashions and great kind of
in explicit Fashions and great kind of
in explicit Fashions and great kind of
voluminous same book yeah just to be
voluminous same book yeah just to be
voluminous same book yeah just to be
clear all all rent payments come from a
clear all all rent payments come from a
clear all all rent payments come from a
fundable fee both the automatic payments
fundable fee both the automatic payments
fundable fee both the automatic payments
and the auxiliary rent bump host
and the auxiliary rent bump host
and the auxiliary rent bump host
function would also draw the funds from
function would also draw the funds from
function would also draw the funds from
refundable fee
cool I think
cool I think
just responding to China's comment about
just responding to China's comment about
just responding to China's comment about
you know let's not focus too heavily on
you know let's not focus too heavily on
you know let's not focus too heavily on
malicious
malicious
malicious
um uh I get it I I think this design
um uh I get it I I think this design
um uh I get it I I think this design
does
does
does
um lender itself well to just just
um lender itself well to just just
um lender itself well to just just
separating the responsibility so they
separating the responsibility so they
separating the responsibility so they
land on you know the response to parties
land on you know the response to parties
land on you know the response to parties
that are best
that are best
that are best
uh equipped to handle those
uh equipped to handle those
uh equipped to handle those
responsibilities uh the fact and I think
responsibilities uh the fact and I think
responsibilities uh the fact and I think
just naturally out of that you know we
just naturally out of that you know we
just naturally out of that you know we
get a slightly better story for what can
get a slightly better story for what can
get a slightly better story for what can
a contract do malicious for you but I
a contract do malicious for you but I
a contract do malicious for you but I
don't think this is really
don't think this is really
don't think this is really
um fully solves that problem like you
um fully solves that problem like you
um fully solves that problem like you
said so
said so
said so
and nor do we nor can we
I mean I think it puts sufficient
I mean I think it puts sufficient
boundaries in place that
boundaries in place that
boundaries in place that
um any sort of malicious behavior
um any sort of malicious behavior
um any sort of malicious behavior
wouldn't
wouldn't
wouldn't
wouldn't be outrageous
so I think I think we
so I think I think we
probably have a pretty good feel of
probably have a pretty good feel of
probably have a pretty good feel of
the rent pump issue uh if if there are
the rent pump issue uh if if there are
the rent pump issue uh if if there are
any final comments I think we have like
any final comments I think we have like
any final comments I think we have like
10 minutes left if we want to move on to
10 minutes left if we want to move on to
10 minutes left if we want to move on to
a second topic any last parting words so
a second topic any last parting words so
a second topic any last parting words so
we don't actually have a second topic
we don't actually have a second topic
we don't actually have a second topic
for today um or I mean it might be a
for today um or I mean it might be a
for today um or I mean it might be a
second rent topic I mean sorry oh okay
second rent topic I mean sorry oh okay
second rent topic I mean sorry oh okay
there's the second one topic and then
there's the second one topic and then
there's the second one topic and then
the third and the fourth sorry
the third and the fourth sorry
the third and the fourth sorry
um yeah I think like it's it's very
um yeah I think like it's it's very
um yeah I think like it's it's very
clear that a it sounds like in terms of
clear that a it sounds like in terms of
clear that a it sounds like in terms of
like implementing and move forward uh
like implementing and move forward uh
like implementing and move forward uh
you know obviously it's the uh bumping
you know obviously it's the uh bumping
you know obviously it's the uh bumping
by Ledger key is is a building block
by Ledger key is is a building block
by Ledger key is is a building block
that we need anyway so uh we can uh you
that we need anyway so uh we can uh you
that we need anyway so uh we can uh you
know keep in implementing in that
know keep in implementing in that
know keep in implementing in that
direction and it does sound like we need
direction and it does sound like we need
direction and it does sound like we need
uh to potentially like enumerate all the
uh to potentially like enumerate all the
uh to potentially like enumerate all the
options for how the contract exposes
um you know more fine great information
um you know more fine great information
about you know what Ledger keys are
about you know what Ledger keys are
about you know what Ledger keys are
actually associated with an account uh
actually associated with an account uh
actually associated with an account uh
whether it's through
whether it's through
whether it's through
the host function you describe whether
the host function you describe whether
the host function you describe whether
it's through the Ledger footprint maybe
it's through the Ledger footprint maybe
it's through the Ledger footprint maybe
it's even just uh I don't know like an
it's even just uh I don't know like an
it's even just uh I don't know like an
ecosystem standard for you know there's
ecosystem standard for you know there's
ecosystem standard for you know there's
a function you can call that gives you
a function you can call that gives you
a function you can call that gives you
all the Ledger keys that are associated
all the Ledger keys that are associated
all the Ledger keys that are associated
with an account
with an account
with an account
um so I think we just need to like
um so I think we just need to like
um so I think we just need to like
enumerate over all of these and probably
enumerate over all of these and probably
enumerate over all of these and probably
like revisit them
no I think that makes sense I think um
no I think that makes sense I think um
we probably need to iterate on this
we probably need to iterate on this
we probably need to iterate on this
design a little bit but I think we have
design a little bit but I think we have
design a little bit but I think we have
some good building blocks from the
some good building blocks from the
some good building blocks from the
conversation
conversation
conversation
now um yeah so I guess uh we all have a
now um yeah so I guess uh we all have a
now um yeah so I guess uh we all have a
ton of time but I'll introduce this I'm
ton of time but I'll introduce this I'm
ton of time but I'll introduce this I'm
kind of the second rent related issue
kind of the second rent related issue
kind of the second rent related issue
and we also have a a temporary entry
and we also have a a temporary entry
and we also have a a temporary entry
related issue that we won't get to today
related issue that we won't get to today
related issue that we won't get to today
um but for rent there's also an issue of
um but for rent there's also an issue of
um but for rent there's also an issue of
outstanding rent balance when things are
outstanding rent balance when things are
outstanding rent balance when things are
deleted so I think I don't know how
deleted so I think I don't know how
deleted so I think I don't know how
often
often
often
um this will actually come up in
um this will actually come up in
um this will actually come up in
practice as two entries being deleted
practice as two entries being deleted
practice as two entries being deleted
with large amounts of outstanding rent
with large amounts of outstanding rent
with large amounts of outstanding rent
balance
balance
balance
um but initially it seems reasonable to
um but initially it seems reasonable to
um but initially it seems reasonable to
refund
refund
refund
um the rent balance to the invoker of
um the rent balance to the invoker of
um the rent balance to the invoker of
the delete operation
the delete operation
the delete operation
um this kind of provides Network
um this kind of provides Network
um this kind of provides Network
incentive to delete entries which we do
incentive to delete entries which we do
incentive to delete entries which we do
want to have because we want you know if
want to have because we want you know if
want to have because we want you know if
an entry is not going to be used we want
an entry is not going to be used we want
an entry is not going to be used we want
to provide incentives somehow for it to
to provide incentives somehow for it to
to provide incentives somehow for it to
be deleted before it hits the archive
be deleted before it hits the archive
be deleted before it hits the archive
because once it hits the archive it
because once it hits the archive it
because once it hits the archive it
stored in the archive indefinitely Or
stored in the archive indefinitely Or
stored in the archive indefinitely Or
Intel restored at least and so to keep
Intel restored at least and so to keep
Intel restored at least and so to keep
the archive size small even though it's
the archive size small even though it's
the archive size small even though it's
not as big of an issue as having a large
not as big of an issue as having a large
not as big of an issue as having a large
Mouse and The Ledger we still want to
Mouse and The Ledger we still want to
Mouse and The Ledger we still want to
incentivize deletion
incentivize deletion
incentivize deletion
the issue is if you provide rent balance
the issue is if you provide rent balance
the issue is if you provide rent balance
refunds on deletion
refunds on deletion
refunds on deletion
you open the door to some sophisticated
you open the door to some sophisticated
you open the door to some sophisticated
tax and to some kind of patterns so the
tax and to some kind of patterns so the
tax and to some kind of patterns so the
issue is that even though many different
issue is that even though many different
issue is that even though many different
users might be contributing to the rent
users might be contributing to the rent
users might be contributing to the rent
fund or many different accounts might be
fund or many different accounts might be
fund or many different accounts might be
funding the rent balance only a single
funding the rent balance only a single
funding the rent balance only a single
account redeems the rewards when it's
account redeems the rewards when it's
account redeems the rewards when it's
deleted and especially since we are
deleted and especially since we are
deleted and especially since we are
defining this automatic rent bump at the
defining this automatic rent bump at the
defining this automatic rent bump at the
protocol layer uh this could lead open
protocol layer uh this could lead open
protocol layer uh this could lead open
the door to some interesting attacks so
the door to some interesting attacks so
the door to some interesting attacks so
for instance say um you have like a
for instance say um you have like a
for instance say um you have like a
contract that's used very often like an
contract that's used very often like an
contract that's used very often like an
amm or a big decks what they could do is
amm or a big decks what they could do is
amm or a big decks what they could do is
they could just touch one key um on
they could just touch one key um on
they could just touch one key um on
every invocation and it could have like
every invocation and it could have like
every invocation and it could have like
an innocuous name it could be called
an innocuous name it could be called
an innocuous name it could be called
like um off entry or like auth check or
like um off entry or like auth check or
like um off entry or like auth check or
something like that something that would
something like that something that would
something like that something that would
be difficult to detect in the code
be difficult to detect in the code
be difficult to detect in the code
auditing
auditing
auditing
um and then they could just like
um and then they could just like
um and then they could just like
essentially have 10 xlm or whatever like
essentially have 10 xlm or whatever like
essentially have 10 xlm or whatever like
or 10 letters worth of rent or the
or 10 letters worth of rent or the
or 10 letters worth of rent or the
minimum rent balance just continually be
minimum rent balance just continually be
minimum rent balance just continually be
added to this object and then
added to this object and then
added to this object and then
periodically the admin could then call
periodically the admin could then call
periodically the admin could then call
an admin function that just deletes and
an admin function that just deletes and
an admin function that just deletes and
recreates this object essentially
recreates this object essentially
recreates this object essentially
getting all the rent balance
getting all the rent balance
getting all the rent balance
um this is kind of a malicious attack
um this is kind of a malicious attack
um this is kind of a malicious attack
but even a non-malicious attack you
but even a non-malicious attack you
but even a non-malicious attack you
could imagine where many different users
could imagine where many different users
could imagine where many different users
are contributing to like um some swap or
are contributing to like um some swap or
are contributing to like um some swap or
something like that the swap has a large
something like that the swap has a large
something like that the swap has a large
amount of rent and then whoever like uh
amount of rent and then whoever like uh
amount of rent and then whoever like uh
liquidates the swap
liquidates the swap
liquidates the swap
um or liquidates or
um or liquidates or
um or liquidates or
um drains liquidity pull and deletes the
um drains liquidity pull and deletes the
um drains liquidity pull and deletes the
entry can also get this additional rent
entry can also get this additional rent
entry can also get this additional rent
balance that was paid for by many
balance that was paid for by many
balance that was paid for by many
different users and so because of these
different users and so because of these
different users and so because of these
two issues it seems that we don't want
two issues it seems that we don't want
two issues it seems that we don't want
to refund rent balance on deletion just
to refund rent balance on deletion just
to refund rent balance on deletion just
have any outstanding rent balance be
have any outstanding rent balance be
have any outstanding rent balance be
burned whenever you delete something
burned whenever you delete something
burned whenever you delete something
um that doesn't seem like a great
um that doesn't seem like a great
um that doesn't seem like a great
interface but there doesn't seem to be a
interface but there doesn't seem to be a
interface but there doesn't seem to be a
good way of refunding rent without
good way of refunding rent without
good way of refunding rent without
running into these weird edge cases that
running into these weird edge cases that
running into these weird edge cases that
can be gamed so I guess uh thoughts in
can be gamed so I guess uh thoughts in
can be gamed so I guess uh thoughts in
General on rent refunds and if we should
General on rent refunds and if we should
General on rent refunds and if we should
think about this in a different way
think about this in a different way
think about this in a different way
just wanted to mention that we have
just wanted to mention that we have
just wanted to mention that we have
considered an alternative for
considered an alternative for
considered an alternative for
um we would record which account has
um we would record which account has
um we would record which account has
created the entry and then refunds that
created the entry and then refunds that
created the entry and then refunds that
account
account
account
um but besides the fact that it doesn't
um but besides the fact that it doesn't
um but besides the fact that it doesn't
avoid all the possible issues
avoid all the possible issues
avoid all the possible issues
um the problem with this approach is
um the problem with this approach is
um the problem with this approach is
that
that
that
um it's really like adding a significant
um it's really like adding a significant
um it's really like adding a significant
amount of Ledger space and it's not
amount of Ledger space and it's not
amount of Ledger space and it's not
obvious whether the additional fee
obvious whether the additional fee
obvious whether the additional fee
incurred by the fact that you are
incurred by the fact that you are
incurred by the fact that you are
writing bigger entries will be offset
writing bigger entries will be offset
writing bigger entries will be offset
enough with your refunds I mean we have
enough with your refunds I mean we have
enough with your refunds I mean we have
discussed this in a bit different
discussed this in a bit different
discussed this in a bit different
context but I think it still applies
context but I think it still applies
context but I think it still applies
here like we are increasing entries
here like we are increasing entries
here like we are increasing entries
sometimes quite significantly
sometimes quite significantly
sometimes quite significantly
and we want to refund someone so it's
and we want to refund someone so it's
and we want to refund someone so it's
not clear if this is not positive or not
not clear if this is not positive or not
not clear if this is not positive or not
which is why that's probably not a good
which is why that's probably not a good
which is why that's probably not a good
option I would also say that the um that
option I would also say that the um that
option I would also say that the um that
particular alternative was in the
particular alternative was in the
particular alternative was in the
context of temporary entries which have
context of temporary entries which have
context of temporary entries which have
a single pair I don't think that
a single pair I don't think that
a single pair I don't think that
approach would work in
approach would work in
approach would work in
um the restorable entries with rent
um the restorable entries with rent
um the restorable entries with rent
balances because uh many different users
balances because uh many different users
balances because uh many different users
in addition to the user that created
in addition to the user that created
in addition to the user that created
could be paying into rent fees so for
could be paying into rent fees so for
could be paying into rent fees so for
instance you can imagine like the um the
instance you can imagine like the um the
instance you can imagine like the um the
contract admin created the entry with
contract admin created the entry with
contract admin created the entry with
the minimum balance and then every user
the minimum balance and then every user
the minimum balance and then every user
the contract bumps it up to a very high
the contract bumps it up to a very high
the contract bumps it up to a very high
state or to a very large amount of rent
state or to a very large amount of rent
state or to a very large amount of rent
because it was used frequently in touch
because it was used frequently in touch
because it was used frequently in touch
frequently it doesn't make sense that
frequently it doesn't make sense that
frequently it doesn't make sense that
the outstanding balance should go to the
the outstanding balance should go to the
the outstanding balance should go to the
original Creator who only paid them rent
original Creator who only paid them rent
original Creator who only paid them rent
so yeah context of 10 Ventures that
so yeah context of 10 Ventures that
so yeah context of 10 Ventures that
works but doesn't really work in the
works but doesn't really work in the
works but doesn't really work in the
restorable entry context
restorable entry context
restorable entry context
yes it's kind of fair but
yes it's kind of fair but
yes it's kind of fair but
also I want to say that you do not allow
also I want to say that you do not allow
also I want to say that you do not allow
the leading contracts currently and they
the leading contracts currently and they
the leading contracts currently and they
I don't think people so or this is not
I don't think people so or this is not
I don't think people so or this is not
this is for contract data not for
this is for contract data not for
this is for contract data not for
contract instances right yeah but but
contract instances right yeah but but
contract instances right yeah but but
yeah I imagine like the most common
yeah I imagine like the most common
yeah I imagine like the most common
shared data is through the contract
shared data is through the contract
shared data is through the contract
instance but but yeah anyway I just
instance but but yeah anyway I just
instance but but yeah anyway I just
wanted to say that the alternative was
wanted to say that the alternative was
wanted to say that the alternative was
out there and yeah as you said it
out there and yeah as you said it
out there and yeah as you said it
doesn't solve those issues and it also
doesn't solve those issues and it also
doesn't solve those issues and it also
has a significant cost attached to it
has a significant cost attached to it
has a significant cost attached to it
which is why
yeah I guess are there any objections to
yeah I guess are there any objections to
burning rent or outstanding rent
burning rent or outstanding rent
burning rent or outstanding rent
balances
balances
balances
um because it seems on paper to not be a
um because it seems on paper to not be a
um because it seems on paper to not be a
great interface but I think it's
great interface but I think it's
great interface but I think it's
probably the best and most Fair way to
probably the best and most Fair way to
probably the best and most Fair way to
go about things
Garen how is this uh handled in uh other
Garen how is this uh handled in uh other
networks or is this just in the context
networks or is this just in the context
networks or is this just in the context
of the state inspiration uh this is just
of the state inspiration uh this is just
of the state inspiration uh this is just
in the context of State expiration no
in the context of State expiration no
in the context of State expiration no
other network has like rent balances
other network has like rent balances
other network has like rent balances
like this so I don't think there's
like this so I don't think there's
like this so I don't think there's
really any pre uh pre-context or right
really any pre uh pre-context or right
really any pre uh pre-context or right
but on the evm you do get a refund for
but on the evm you do get a refund for
but on the evm you do get a refund for
clearing space right
clearing space right
clearing space right
yeah so you'd still like get Base
yeah so you'd still like get Base
yeah so you'd still like get Base
reserve back and stuff like that
reserve back and stuff like that
reserve back and stuff like that
um but I think it's difficult because I
um but I think it's difficult because I
um but I think it's difficult because I
mean on the evm there's still like one
mean on the evm there's still like one
mean on the evm there's still like one
pair uh and then the refund is
pair uh and then the refund is
pair uh and then the refund is
relatively small whereas here the rent
relatively small whereas here the rent
relatively small whereas here the rent
balance could be a somewhat significant
balance could be a somewhat significant
balance could be a somewhat significant
value
value
value
um potentially and there's also multiple
um potentially and there's also multiple
um potentially and there's also multiple
payers which complicate things a little
payers which complicate things a little
payers which complicate things a little
bit more
okay
okay
um so I think we're at time and
um so I think we're at time and
um so I think we're at time and
obviously
obviously
obviously
um
um
um
I think we all need to think about that
I think we all need to think about that
I think we all need to think about that
some more so maybe uh start a thread in
some more so maybe uh start a thread in
some more so maybe uh start a thread in
sorobondev on uh on refunds and we can
sorobondev on uh on refunds and we can
sorobondev on uh on refunds and we can
uh revisit that later
sounds good well thank you all
sounds good well thank you all
foreign
foreign
foreign
thank you all and see you next week
