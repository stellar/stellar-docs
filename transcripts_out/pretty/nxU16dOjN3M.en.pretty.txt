Hello and welcome everyone to this.Week's Stella developer meeting.This.Week we are talking to Open Seelin and.Uh the primary focus of of this week's.Meeting is the the relayer service.So.Uh yeah please introduce yourself and um.And we'll get get into it.&gt;&gt; Yeah.Hi thank you.Um thanks for having.Us.So my name is Dylan Kilkenny.um a.Software engineer at Open Zeppelin and.The past couple of months mainly working.On the the relay infrastructure, the.Plug-in systems and specifically the the.Stellar integrations.&gt;&gt; Hi.Hi, my name is Sai.I'm the.Engineering manager managing relays and.Monitors at opening.Hi, my name is Collins um a site.Reliability engineer supporting the uh.Relayer u plugins that you are about to.Present.&gt;&gt; Great.Thank you.So we already talked a.Little bit about uh a little bit about.Relayer uh just very high level overview.Uh in one of the previous talks we had.With open selein.So, I'm I'm excited.About diving deeper into what it is, how.It works, and and uh and what you can do.With it on Stella.So, please uh share.Your screen and let's get get started.&gt;&gt; Okay, perfect.Okay, you can see my screen.Yeah.What we've been working on the past few.Months what's kind of worked.[clears throat] towards is this manage.Stellar relayer service and like in a.Nutshell what this offers is a scalable.High throughput transaction service for.The stellar network and there are a few.Components that uh were involved in the.Making of this and of course the first.Of all is the open zeppelin reer so I'm.Just going to go through like a few of.The things that got us here and like.What it took to to build this um like.First of all you've you've mentioned.You've already spoken about like the.Relayer service but just to go over.Quickly again uh the open zeppelin.Relayer is an open source tool and it it.Simplifies the transaction management.For multiple different networks.Including stellar and what that means is.Like it'll handle the gas it will handle.The sequence numbers the reliability.Like the retries uh if a transaction.Fails um so like this is useful for a.Number of reasons um such as gasless.Transactions or automating transactions.Or like scalable workloads.But one of the one of the valuable.Aspects of this type of tool is uh that.It's secure and secure key management is.One of the most important features.And.Uh in the case of Stellar, we support uh.KMS signing, turnkey signing, uh or.Local signers even.Um.So yeah a couple of months ago or a few.Months ago we started working on a.Stellar integration for this tool and in.Doing so uh we now offer full sorban.Smart contract functionality.So it.Allows users to deploy contracts through.The open zeppelin relayer.They can.Invoke contracts then standard uh.Stellar xlm payments.Um and like as I.Mentioned this offers this is included.With uh KMS signing and turnkey signing.Um but there there are some limitations.To um how you can send transactions.Through the stellar network and and one.Of which would be uh the the sequence.Number having uh I'm not sure how to put.This clearly but causing issues with uh.Scalability like high throughput.Transactions.And so we were working.Towards um developing some features.Within the relayer that will allow the.Stellar relayers to scale uh larger.One of the the features that enabled us.To do this was the relayer plug-in.System.So in a nutshell what this does.Is allows us to extend a standard uh.Relayer with ex with uh further.Functionality.So from a developer's.Perspective, what you would do is write.Some TypeScript code and inside this.Plug-in, you would have access to the.Relay system for submitting.Transactions, signing transactions, uh.Querying state, etc.And you would still.Communicate to the to the open zeppelin.Relayer through the the rest API, but.You would be calling this plug-in.Directly.And in the case of Stellar,.We've used this system for developing a.Channels plug-in.So the channels.Plug-in allows allows users to submit.Transactions in parallel and the the key.Workflow here is that we use channel.Accounts for building the transaction.So in this plug-in system in this spec.Specific plug-in called the channels.Plug-in we manage a pool of channel.Channel accounts and the user sends a.Request and we acquire a channel.Account.We sign the user's transaction.With that channel account and then we.Submit it to the stellar network uh with.A fee bump transaction as well.So it's.Also gasless.Um so yeah parallel.Transaction processing automatic fee.Bumping and this includes uh an SDK.Client so that users can uh quickly send.Transactions or pain painlessly and I'll.Give a demo of that at the end of this.Anyway but just to walk through the the.Flow of of what happens here.So from.The client the user will send a request.The request goes to the relayer and the.Reer invokes the plug-in.The plugin.Then acquires a channel account.Channel account is managed by the realer.That I must say all of these accounts.Are managed by the realer but the.Plug-in is able to lock one and then.Sign a transaction with that channel.And that transaction is the one.That the user sent.And we then wrap.That in a fee bump and submit it to the.Stellar network.Once the transaction.Confirms, we release the lock and we.Send the result back to the user.So the.The system is is scalable by the number.Of uh channel accounts that we have to.Offer.So if we if we if we put 200.Channel accounts in the system, you can.Send 200 transactions in parallel with.With one user account.Um and just.Quickly on the on the account pooling.System we have here.So uh the plug-in.System behind the scenes is using Reddus.To manage the the pool of accounts.An incoming request comes in, we try to.Lock the account.If it's available, we.Can acquire it, process transaction.If.It's not, we try again on the next.So um it's it's it's it's.Pretty straightforward.Quickly on.The SD SDK client itself.So this is.What it would look like for sending.Transaction.Um so we have this channels.Client and right now the the base URL is.Pointing at uh channels.openzeppland.com.Which isn't live yet.We're still.Working on getting that live either.Tomorrow or by Monday.But this could.Also be uh you can also send this these.Requests to your own self-hosted relay.Right?
So this doesn't have to go.Through the through the managed service.That we provide.So this plug-in is all.Open source.The open reception relay is.So uh anyone can just spin.Up their own instance and manage their.Own channel accounts.But we will be.Offering this as a service and man.Managing it all uh for you as well.It's quite simple.um set up the client.And to submit a transaction you in this.Case we're submitting a sorbent.Transaction so you just provide the the.Function XDR and the attached XDR and an.Example of the response would be like so.So this is the transaction ID for the.Relayer and the hash um for the.Transaction itself.So in the case of someone who is running.A self-hosted version they would want to.Manage uh the channel accounts.So there.Is uh some methods in the SDK that will.Allow you to list what channel accounts.Are available on the service and also.Add new ones.So if you needed to.Increase the throughput you could you.Could add more channel accounts or if.There's uh some issue you can remove.Some etc.Um so yeah in a nutshell all.Of these things have come together and.Uh we're offering a stellar relays.Managed service.So this would include.The the relayer service itself and the.Channel accounts plugin the SDK but also.Uh the cloud infrastructure.So just a.Bit of a like a peak into um what it.Takes to to run this on the cloud.So we.Are.We are using AWS Fargate for managing.Diff v a v various number of tasks.Running the relayer service and uh a.Shared reddus instance.So we have the.Same pool of channel accounts across.Tasks.Um and the client's SDK goes up.Through the the Cloudflare proxy sends.It down to the load balance balancer.Which then um distributes it to to.Whichever task is free.Um so yeah.That's pretty much the overview and I.Can just give you a quick uh demo right.Now.But first,.Yes.So like this is just a demo script.As we've already seen um how you would.Instantiate the client and I have a.Little helper function here for building.A sorbent transaction and here we pass.The function in a to the client itself.Just want to point out first though that.In order to use the service you need to.Get a API key.So you can just call uh.The domain channels.open.com/gen.To get an API key.And for the sake of this.Demo, I'm just going to.Add the API key here.And call the demo script.So this is going through the staging.Environment that we have for the managed.Service right now.Okay.So the transaction is confirmed.Uh just to.Double check that.Yeah transaction was successful.Just to demonstrate the the parallel.Processing of this I also have a.Parallel uh demo.So, this is sending 10 transactions uh.At the same time with uh the exact same.Account that I sent the the demo.Transaction with previously.It's just.One account.And uh yeah, that's pretty.Much it.Any questions, let me know.So, I'm I'm a little bit curious.About the the managed uh service um.Because it seems like uh of course.Depending on your use case that uh.Especially for maybe testing it out, it.It it seems like a lot more convenient.To just uh try it out with the with the.How how does that work?
Managed service.How how does that work?
How do I get set up with that?
How do I get set up with that?
How do I get set up with that?
So we are finalizing the the.So we are finalizing the the.Documentation and the the SDK.Um today.So once we have.All of that documentation published on.Our uh site the your community will be.Able to access it and it's a pretty.Straightforward.Um setup like as as you seen with the.Demo.Um [snorts].&gt;&gt; yeah.&gt;&gt; Okay.Great.And and if I want to run.This on it is open sourced.I see that I.I can run it on my own uh.&gt;&gt; environment.Uh what do I need?
I saw.You mentioned the Reddus Reddus.Database.Is there anything else I need.To to set up to to run it?
To to set up to to run it?
To to set up to to run it?
&gt;&gt; Yeah, it's a good question.So we in the.&gt;&gt; Yeah, it's a good question.Documentation we actually have all of.This listed out and we provided uh in.The open zeppelin repo open zeppelin.Relay repo an example configuration uh.Using docker.So all with what someone.Would need to do is go into.The repo and run that docker config and.It would spin up the service with the.Channels plugin already installed and.Everything's ready to go like all you.Need to do is start sending requests to.It.Um but the open zeppelin.Real air like reddus is required of.Course you need the real air installed.And all the all the various other.Dependencies but um there are some.Example configs that get you up and.Running pretty quickly.&gt;&gt; Okay, great.Sounds pretty easy though.Um what are the the use cases where who.Do you think are going to use this the.Most?
Uh any specific DAP types or any.Any use cases that you have in mind that.You think will adopt this?
You think will adopt this?
You think will adopt this?
&gt;&gt; Yeah, look, I think it's it's super good.&gt;&gt; Yeah, look, I think it's it's super good.For someone who needs high throughput.Transaction processing.Um and also the.Ga the gasless aspect of it is super.Convenient as well.So users don't have.To worry about gas, they don't have to.Worry about sequence numbers.Um, so you.Can see.Apps like games or various other.Services that might want to use it.But.Even you someone who wants to self-host.This themselves, the the it's open.Source.So you can extend this any way.You want like the core the core uh.Primitives are there which is.Gaslessness uh high throughput like.Sequence number management etc.And you.Can build on top of that like whatever.You need.Do you have any uh I I know you.You you mentioned that the the.Documentation and everything for the the.Managed service is going to to be.Available very soon, but do you have any.Examples of how to use it?
I know you.Showed one, but do you have like a.GitHub repo or an example library?
GitHub repo or an example library?
GitHub repo or an example library?
So,.So,.We have a plug-in repo up right now.Just one second.So there are some examples in this repo.I'm just going to share it in where.Should I share it?
Should I share it?
Should I share it?
&gt;&gt; Uh can you share it in the uh post it as.&gt;&gt; Uh can you share it in the uh post it as.A comment?
A comment?
A comment?
&gt;&gt; Okay.Comments.I shared it in the private chat because.I don't think I'm logged in.&gt;&gt; I'll just I'll just copy it over.So yeah, there's um a pretty extensive.Overview of in the readme of this um.Repo of how the plug-in system works for.Uh the channels the channel account.Once.Once the service is live in production.Like it's it's only a case of being of.Substituting your local um relay local.Host with the the production URL and.Also I'm just going to share the.Examples from the relay repo as well and.That should give.Honestly with just these two things you.Can get up and running locally uh pretty.Quickly.Um, and this is the example in the relay.Repo.And there's also um a read me in.That as well, which.Is.Extensive and um it should get people up.And running.&gt;&gt; Yeah, I I have I have actually gone.Through the the read me and and taking a.Look at it and it does look it looks.Like the it's very detailed.Uh, so I.Just haven't I haven't tried to set it.Up myself yet.&gt;&gt; Looking looking forward to that.Well, let me know if you have any.Feedback.Um,.I hope that it's uh it's simple even.Though I think it is.Any any questions from anyone.Watching then uh feel free to to post it.In the comments.Carson, I just posted uh the.Documentation uh which should be.Available on docs.openszprint.com.So, I just sent the link.&gt;&gt; Yeah, I posted it.&gt;&gt; Thanks.Well, if there's no comments or.Any questions from Let me just check one.More time.Doesn't seem to be the case.But it was.Great to uh to get to get a little bit.More information about the the relayer.And to see an example of how to use it.I think it's it's a super helpful tool.And and um I think for now uh I think I.Will I will try using the manage version.First u when it goes live.It seems like.An easy way for me to test out the the.The tool.I I don't necessarily need to.To spin up my own infrastructure for.Uh so I'll look forward to have an.Opportunity to play with it.And uh.Thank you everyone for for watching and.Thank you all three of you for for.Joining today.And please go check out.The links uh take a look look at it and.Um yeah, thank you all for joining.Bye.
