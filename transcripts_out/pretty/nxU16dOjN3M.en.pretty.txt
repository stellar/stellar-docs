Hello and welcome everyone to this.Week's Stellar Developer Meeting.This.Week we are talking to Open Seelin and. the primary focus of of this week's.Meeting is the the relayer service.So. yeah please introduce yourself and .And we'll get get into it. Yeah.Hi thank you. thanks for having.Us.So my name is Dylan Kilkenny. a.Software engineer at OpenZeppelin and.The past couple of months mainly working.On the the relay infrastructure, the.Plug-in systems and specifically the the.Stellar integrations. Hi.Hi, my name is Sai.I'm the.Engineering manager managing relays and.Monitors at opening.Hi, my name is Collins a site.Reliability engineer supporting the .Relayer u plugins that you are about to.Present. Great.Thank you.So we already talked a.Little bit about a little bit about.Relayer just very high level overview. in one of the previous talks we had.With open selein.So, I'm I'm excited.About diving deeper into what it is, how.It works, and and and what you can do.With it on Stella.So, please share.Your screen and let's get get started. Okay, perfect.Okay, you can see my screen.Yeah.What we've been working on the past few.Months what's kind of worked.[clears throat] towards is this manage.Stellar relayer service and like in a.Nutshell what this offers is a scalable.High throughput transaction service for.The Stellar network and there are a few.Components that were involved in the.Making of this and of course the first.Of all is the OpenZeppelin reer so I'm.Just going to go through like a few of.The things that got us here and like.What it took to to build this like.First of all you've you've mentioned.You've already spoken about like the.Relayer service but just to go over.Quickly again the OpenZeppelin.Relayer is an open source tool and it it.Simplifies the transaction management.For multiple different networks.Including Stellar and what that means is.Like it'll handle the gas it will handle.The sequence numbers the reliability.Like the retries if a transaction.Fails so like this is useful for a.Number of reasons such as gasless.Transactions or automating transactions.Or like scalable workloads.But one of the one of the valuable.Aspects of this type of tool is that.It's secure and secure key management is.One of the most important features.And. in the case of Stellar, we support .KMS signing, turnkey signing, or.Local signers even..So yeah a couple of months ago or a few.Months ago we started working on a.Stellar integration for this tool and in.Doing so we now offer full Soroban.Smart contract functionality.So it.Allows users to deploy contracts through.The OpenZeppelin relayer.They can.Invoke contracts then standard .Stellar xlm payments. and like as I.Mentioned this offers this is included.With KMS signing and turnkey signing. but there there are some limitations.To how you can send transactions.Through the Stellar network and and one.Of which would be the the sequence.Number having I'm not sure how to put.This clearly but causing issues with .Scalability like high throughput.Transactions.And so we were working.Towards developing some features.Within the relayer that will allow the.Stellar relayers to scale larger.One of the the features that enabled us.To do this was the relayer plug-in.System.So in a nutshell what this does.Is allows us to extend a standard .Relayer with ex with further.Functionality.So from a developer's.Perspective, what you would do is write.Some TypeScript code and inside this.Plug-in, you would have access to the.Relay system for submitting.Transactions, signing transactions, .Querying state, etc.And you would still.Communicate to the to the OpenZeppelin.Relayer through the the rest API, but.You would be calling this plug-in.Directly.And in the case of Stellar,.We've used this system for developing a.Channels plug-in.So the channels.Plug-in allows allows users to submit.Transactions in parallel and the the key.Workflow here is that we use channel.Accounts for building the transaction.So in this plug-in system in this spec.Specific plug-in called the channels.Plug-in we manage a pool of channel.Channel accounts and the user sends a.Request and we acquire a channel.Account.We sign the user's transaction.With that channel account and then we.Submit it to the Stellar network with.A fee bump transaction as well.So it's.Also gasless. so yeah parallel.Transaction processing automatic fee.Bumping and this includes an SDK.Client so that users can quickly send.Transactions or pain painlessly and I'll.Give a demo of that at the end of this.Anyway but just to walk through the the.Flow of of what happens here.So from.The client the user will send a request.The request goes to the relayer and the.Reer invokes the plug-in.The plugin.Then acquires a channel account.Channel account is managed by the realer.That I must say all of these accounts.Are managed by the realer but the.Plug-in is able to lock one and then.Sign a transaction with that channel.And that transaction is the one.That the user sent.And we then wrap.That in a fee bump and submit it to the.Stellar network.Once the transaction.Confirms, we release the lock and we.Send the result back to the user.So the.The system is is scalable by the number.Of channel accounts that we have to.Offer.So if we if we if we put 200.Channel accounts in the system, you can.Send 200 transactions in parallel with.With one user account. and just.Quickly on the on the account pooling.System we have here.So the plug-in.System behind the scenes is using Reddus.To manage the the pool of accounts.An incoming request comes in, we try to.Lock the account.If it's available, we.Can acquire it, process transaction.If.It's not, we try again on the next.So it's it's it's it's.Pretty straightforward.Quickly on.The SD SDK client itself.So this is.What it would look like for sending.Transaction. so we have this channels.Client and right now the the base URL is.Pointing at channels.openzeppland.com.Which isn't live yet.We're still.Working on getting that live either.Tomorrow or by Monday.But this could.Also be you can also send this these.Requests to your own self-hosted relay.Right?
So this doesn't have to go.Through the through the managed service.That we provide.So this plug-in is all.Open source.The open reception relay is.So anyone can just spin.Up their own instance and manage their.Own channel accounts.But we will be.Offering this as a service and man.Managing it all for you as well.It's quite simple. set up the client.And to submit a transaction you in this.Case we're submitting a sorbent.Transaction so you just provide the the.Function XDR and the attached XDR and an.Example of the response would be like so.So this is the transaction ID for the.Relayer and the hash for the.Transaction itself.So in the case of someone who is running.A self-hosted version they would want to.Manage the channel accounts.So there.Is some methods in the SDK that will.Allow you to list what channel accounts.Are available on the service and also.Add new ones.So if you needed to.Increase the throughput you could you.Could add more channel accounts or if.There's some issue you can remove.Some etc. so yeah in a nutshell all.Of these things have come together and. we're offering a Stellar relays.Managed service.So this would include.The the relayer service itself and the.Channel accounts plugin the SDK but also. the cloud infrastructure.So just a.Bit of a like a peak into what it.Takes to to run this on the cloud.So we.Are.We are using AWS Fargate for managing.Diff v a v various number of tasks.Running the relayer service and a.Shared reddus instance.So we have the.Same pool of channel accounts across.Tasks. and the client's SDK goes up.Through the the Cloudflare proxy sends.It down to the load balance balancer.Which then distributes it to to.Whichever task is free. so yeah.That's pretty much the overview and I.Can just give you a quick demo right.Now.But first,.Yes.So like this is just a demo script.As we've already seen how you would.Instantiate the client and I have a.Little helper function here for building.A sorbent transaction and here we pass.The function in a to the client itself.Just want to point out first though that.In order to use the service you need to.Get a API key.So you can just call .The domain channels.open.com/gen.To get an API key.And for the sake of this.Demo, I'm just going to.Add the API key here.And call the demo script.So this is going through the staging.Environment that we have for the managed.Service right now.Okay.So the transaction is confirmed. just to.Double check that.Yeah transaction was successful.Just to demonstrate the the parallel.Processing of this I also have a.Parallel demo.So, this is sending 10 transactions .At the same time with the exact same.Account that I sent the the demo.Transaction with previously.It's just.One account.And yeah, that's pretty.Much it.Any questions, let me know.So, I'm I'm a little bit curious.About the the managed service .Because it seems like of course.Depending on your use case that .Especially for maybe testing it out, it.It it seems like a lot more convenient.To just try it out with the with the.How how does that work?
Managed service.How how does that work?
How do I get set up with that?
How do I get set up with that?
How do I get set up with that?
So we are finalizing the the.So we are finalizing the the.Documentation and the the SDK. today.So once we have.All of that documentation published on.Our site the your community will be.Able to access it and it's a pretty.Straightforward. setup like as as you seen with the.Demo. [snorts]. yeah. Okay.Great.And and if I want to run.This on it is open sourced.I see that I.I can run it on my own . environment. what do I need?
I saw.You mentioned the Reddus Reddus.Database.Is there anything else I need.To to set up to to run it?
To to set up to to run it?
To to set up to to run it?
 Yeah, it's a good question.So we in the. Yeah, it's a good question.Documentation we actually have all of.This listed out and we provided in.The OpenZeppelin repo OpenZeppelin.Relay repo an example configuration .Using docker.So all with what someone.Would need to do is go into.The repo and run that docker config and.It would spin up the service with the.Channels plugin already installed and.Everything's ready to go like all you.Need to do is start sending requests to.It. but the OpenZeppelin.Real air like reddus is required of.Course you need the real air installed.And all the all the various other.Dependencies but there are some.Example configs that get you up and.Running pretty quickly. Okay, great.Sounds pretty easy though. what are the the use cases where who.Do you think are going to use this the.Most?
any specific DAP types or any.Any use cases that you have in mind that.You think will adopt this?
You think will adopt this?
You think will adopt this?
 Yeah, look, I think it's it's super good. Yeah, look, I think it's it's super good.For someone who needs high throughput.Transaction processing. and also the.Ga the gasless aspect of it is super.Convenient as well.So users don't have.To worry about gas, they don't have to.Worry about sequence numbers., so you.Can see.Apps like games or various other.Services that might want to use it.But.Even you someone who wants to self-host.This themselves, the the it's open.Source.So you can extend this any way.You want like the core the core .Primitives are there which is.Gaslessness high throughput like.Sequence number management etc.And you.Can build on top of that like whatever.You need.Do you have any I know you.You you mentioned that the the.Documentation and everything for the the.Managed service is going to to be.Available very soon, but do you have any.Examples of how to use it?
I know you.Showed one, but do you have like a.GitHub repo or an example library?
GitHub repo or an example library?
GitHub repo or an example library?
So,.So,.We have a plug-in repo up right now.Just one second.So there are some examples in this repo.I'm just going to share it in where.Should I share it?
Should I share it?
Should I share it?
 can you share it in the post it as. can you share it in the post it as.A comment?
A comment?
A comment?
 Okay.Comments.I shared it in the private chat because.I don't think I'm logged in. I'll just I'll just copy it over.So yeah, there's a pretty extensive.Overview of in the readme of this .Repo of how the plug-in system works for. the channels the channel account.Once.Once the service is live in production.Like it's it's only a case of being of.Substituting your local relay local.Host with the the production URL and.Also I'm just going to share the.Examples from the relay repo as well and.That should give.Honestly with just these two things you.Can get up and running locally pretty.Quickly., and this is the example in the relay.Repo.And there's also a read me in.That as well, which.Is.Extensive and it should get people up.And running. Yeah, I have I have actually gone.Through the the read me and and taking a.Look at it and it does look it looks.Like the it's very detailed., so I.Just haven't I haven't tried to set it.Up myself yet. Looking looking forward to that.Well, let me know if you have any.Feedback.,.I hope that it's it's simple even.Though I think it is.Any any questions from anyone.Watching then feel free to to post it.In the comments.Carson, I just posted the.Documentation which should be.Available on docs.openszprint.com.So, I just sent the link. Yeah, I posted it. Thanks.Well, if there's no comments or.Any questions from Let me just check one.More time.Doesn't seem to be the case.But it was.Great to to get to get a little bit.More information about the the relayer.And to see an example of how to use it.I think it's it's a super helpful tool.And and I think for now I think I.Will I will try using the manage version.First u when it goes live.It seems like.An easy way for me to test out the the.The tool.I I don't necessarily need to.To spin up my own infrastructure for. so I'll look forward to have an.Opportunity to play with it.And .Thank you everyone for for watching and.Thank you all three of you for for.Joining today.And please go check out.The links take a look look at it and. yeah, thank you all for joining.Bye.
