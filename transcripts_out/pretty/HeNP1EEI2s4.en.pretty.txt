Everyone and Welcome to our weekly.Soroban design discussion it sounds like. Justin has some AV issues so. I think we're gonna get started.Without him today we have two main.Topics to discuss there is metadata and.There is changes to the Token interface. I think we're just gonna jump right.Into it with metadata sit are you.Gonna take this.Yeah oh yeah so. you know broadly metadata is just.A static data that can be read by.Consumers without calling it without..Calling contract function and invoking a.Awesome VM. so there are two levels of contract.Metadata one is the code metadata.Right in sorbine we have this concept of.These code entries that have like the.Contain wasn't and then we have.Instances. that are tied to specific contract.IDs and those instances instances .Will also have some metadata tied to.Them so for contract metadata our plan.Is to.Put them at it into a wasm custom.Section and just add support in the SDK.To allow for this. so for example you can you know when.You build a contract you can the SK can.Put in. like build related information. the questions we still need to answer.Are more around instance metadata so the.Easy option is to not add any explicit.Protocol support instead of instead have.An ecosystem standard on how.Metadata should be stored in contract.Data so you know whoever creates the.Contract can follow the standard and.Just put you know a certain information.Into the Sentry and you users will know.Where to look just based off of the.Standard on the SDK we can build tooling.Around in the SDK to allow for this. there's the one question here is.How would paying rent on this entry look.Because this entry is not expected to be.Accessed on chain so.If that if you know for no access is.Unchained then it would be very easy for.It to expire.So.You know one solution to this is we can.Provide a mechanism to tie the contract.Instance to any contract data keys that.The contract developer wants so whenever.You pay rent for the instance it.Would also pay rent for those keys that.Are attached to it. that's one option and then another.Option for instance metadata is to.Include an explicit metadata field in.The contract instance. and the the contract developer can.Write into that this is still only.Standardizes how like where metadata is.Stored not how it actually looks like in.The protocol. but this would also if we do this we.Can also .Allow contracts to access metadata for.Other contracts without calling it to a.Awesome VM like we could we could expose.That that information. because right now contracts are.Not allowed to look at and look at data.From other contracts without calling.Into a wazen VM like you have to go.Through or contract function so you have.To go through the interface of the.Contract we could instead allow.Contracts just load directly the.Metadata field from another contract.Instance allowing you to you know look.At you know information like for their.Example in the token you can look at the.Decimals or the token name if you want.To without. calling a contract function. so yeah that's that's like the that's.The one thing where we're still thinking.About for metadata but I think that's.That once we figure that out we should.We should be able to.Move forward on this.Any questions.What are some examples of scenarios in.Which contracts need access to other.Contracts is metadata.So it's not a.Yeah this won't be like a common.Scenario but if a contract wants say the.Token's decibel number for some reason.Right like we expose that in the token.Interface right we have the name the.Decimal function. and the token function and we did.That because there is no other way to.Get that right we don't because we don't.Have metadata right now but if a.Contract wants that for some reason.Right this would be a way to get it I I.Don't think this this I don't think.We need to optimize for the scenario.Where.You know you want to call into metadata.In a contract without calling through a.Contract function because it will be.Rare and because of that you know it's.Fine to expose that in the interface and.Call into a contract function but. yeah like that's one example.It yeah but my like I'd love to learn.About like concrete uses for this.Because it looks like all the metadata. uses that we've been discussing are.Mostly for Downstream systems it's not.For other contracts to consume. and if if that's the case then you.Know I definitely agree that having just.A standard metadata. you know Ledger entry and a way to.Access it is kind of like makes the most.Sense for everyone the question is.Like are we losing anything are we.Losing like this important optimization.Here.Yeah I'm looking at the Oracle consumer.Interface precept let's try it in the.Store Dev I don't know if everybody.Has seen it here. it basically tries to come up with.A standardized historical interface and.You know it has a bunch of functions.Like base asset the list of supported.Assets decimals resolution that.I suspect may be useful. when you use the machine for the.Oracle users correct me if I'm.Running as into modes and OrbitLens .Here so yeah let me know what what you.Think about contracts for example like.It seems to me like this property seemed.To be useful for some function.Operations and you know optimizing just.Cases would be generally beneficial. if you are talking about the Oracle.Contract interface in particular I think.That. we need to Define.. Define the.Validity of those values for example .If we.Expose decimals and other let's say.Static properties of the contract.In the contract itself via methods in.The interface all.All other consumers can.Pretty easily fetch this data but for.All other options I don't see that.It will be as optimal for example if I.Understand correctly.Contract code can be upgraded and in.Fact during the upgrade we can lose.Those values or they they can be.Replaced with some other values so.From what I'm seeing right now .I don't I don't like see any .Benefits from providing .Some external.External access to this metadata in.Vasmo contractor entry or data laser.Entries.And definitely it shouldn't be installed.On because store Tom is bringing is.Bringing the logic outside of the system.And it really has a lot of problems in.Terms of.Usage from the from the consumer.Perspective if if a token that store.Tomb is is one of the options on the.Table then we can just.Just expose the static values on the.Project website and that's it because.Even in in that way it will be probably.More more reliable than using Stellar.Tool yeah I don't think store Thomas.On the table so my question is rather.Like what do you think as a user of an.Oracle contract for example as a.Contract user as it is. would you be ever interested in.Calling functions like base asset or.Decimals or list of assets I say modes.Has posted on the.CAD that contracts are expected for.Example to fetch decimals from tokens. which might be the case as well right.I think it's probably like one time only.Calls because most of this methods. functions you mentioned they are.Actually a static right.But anyways I think that for consistency.They should be there if we can for.Example expose some some of this values.In bathroom custom section Etc that's.Good but.Still I think the easiest way.From the perspective of Downstream.Systems is to just pull or pull this.Information directly from the contract.Via the contract function call.I I think it's possible.To come up with.Some special cases where.This. where these functions will be called. like much .Much more regularly for example if.The. if there is some proxy contract that.Aggregates data from let's say a.Dozen of different Oracles and then.This functions.Can be called for example on every.Access to the underlying systems.But I don't really.See whether or other.Like storage options for example.Control entry will be better than a.Control.In this regard because it's more.Flexible.I mean it's more flexible and less.Efficient rate. you know you need to make n plus one.Or n plus two contract calls instead of.N you are spending quite a bit of gas.And that so against Thomas question was.Whether we ever meet this data machine.It seems like yes this sometimes. just like just explain where I'm.Coming from I just feel a bit of.Disconnected we like a lot of the.Contract interface isn't exposed a bunch.Of this meta data-ish functions and .You know there are usable both on chain.And off chain and it's not really.Efficient to use them either on chain or.Off chain. which I would consider a swipe.Slightly.Yeah an argument towards like you know.Having this instead exposures static.Metadata that is readable by anyone.Writable by the owner contract but I.Have a strong opinion on this but it.Just feels weird to me that we like have.A bunch of this static contract methods.That are kind of tied to the contract.Instance. and you know they will always.Just fetch an entry from The Ledger.Like it seems like in his optimization.For me but you know I don't feel like it.So it sounds EMA like what you're.Suggesting is like a step towards. you know basically like exposing.Kind of like API by shared memory. which I think.For like non-meta-data use cases is is.You know is a is a bit dangerous like.Maybe the the contract.Shouldn't actually expose you know.Data through like like a shared.Memory structure. and and if I look at the functions.Right now especially on like in the.Token contract they're mostly there.For Downstream systems and I did want to.Ask moots.Can you give us examples of when other.Contracts actually need the decimals .That sounds a bit idiosyncratic to me.Yeah. yeah I guess probably the.Best example I can think of is in any.System that has to attempt to Value some.Collection of tokens that.May or may not be like fully defined and.Or can change in the future. an example of this would be Ave at.Any point in time in the future it can.Choose to add a new token. they probably don't want to assume.That in the ethereum case all tokens.Have 18 decimals for example they.Have usdc which I think in ethereum only.Has six. so in that event if you are trying to.Consume some common common price to.Compare all these Assets in you'd have.To take the decimals into account.Otherwise your price would either be.Severely inflated or deflated based on.Whatever number of decimals you've been.Assuming so that would be kind of like.Trying or I suppose trying to Value.Some set of tokens would be really the.Only case I can think of that decimals.Would be needed Unchained but it's a.Fairly common one.And Ave actually does that.It calls the decimals function yeah. you'll some people like.For example balancer does something kind.Of interesting where they actually.Normalize all the all the decimal values.And just assume they're 18.Which is an option too if you want to.Avoid trying to call decimals but. just because oracles don't always.List prices in.Normal like the same denomination.You would need to use decimals to ensure.That you're actually getting the correct.One.Got it so it's mostly kind of like.Normalizing data coming from oracles.Correct yeah.Yeah it just feels a little bit weird to.Me that well like the functions for.Example are metadata conceptually right.And .You know it is urge that we expose it as.A function but we are not going to use a.Tone chain whereas we are proposing and.Just you know hey let's use some.Standard like we have this Ledger.Entries is the metadata to use of chain. so actually what I mean here so.Basically we have functions but we don't.Use them on chain and then for off chain.We have standardized metadata entries.Then there is a question like why do we.Even expose this functions in the first.Place or maybe vice versa why we buzzer.With defining the.Standard structure for metadata at all.If we provide functions for that we say.Like hey just you know if you want to.Expose any metadata exposure to this is.A static function it's hopefully.Reasonably cheap to call off-chain.Anyway.Well I think the answer is the exposed.Functions today because we don't have.The concept of metadata right so the.Question is like if we do have the.Concept of metadata then we will.Probably reduce the number of functions.To those that are actually usable.On chain and you know things like you.Know the name of the token probably not.Usable on chain I don't I don't see a.Reason to expose that. like I you know I would error on on.The side of like not introducing new.Mechanics then then introducing your.Mechanics.And whatever we can do with with.Defining ecosystem standards is better.Than making you know protocol change.That we need to live in Forever.Yeah definitely I like I'm all for like.You know letting more stuff to be.Resolved like of protocol of chain. just that it's a little bit weird.That we have two ways of doing the same.Thing but you know if our guidance is.Hey like if you don't ever expect this.To be accessed unchanged just use a.Ledger key to unplug the interface and.Things that's probably good enough.Yeah and I do think it's an optimization.For Downstream systems right like we.Don't want wallets to like constantly be.Calling you know running like wasn't.Code to determine like you know decimals.And and asset names.I think that if if we are going. with any of the. let's say . with any static storage for this.Metadata.It should be read only so it's like.It's set for once and never changed.Because otherwise.From the consumer perspective I don't.Really .Don't really understand when this data.Can be updated for example.And.Many ways if it's stored not in the.Contract data but in Contra closure.Entry or somewhere else.I think that.In most cases.Consumers will have to.Call it like every time I understand.That it's cheaper but still if we are.Decoupling this from the standard. standard contract storage so it's.Probably makes sense.To ensure that these values are you know.For example if they're created in.Contractual entities and they should be.Created . well during creation and the never.Changed .So that's an interesting point because.We we will allow for updating.Contract instances or sorry you updated.Contract instance to point to a.Different contract code entry and now.I think ideally you would update in a.Way where the metadata still holds true.But. yeah it's a completely coupled like.No matter how metadata is stored with.Shouldn't touch it when the source is.Being updated and to be clear the sort.Of metadata we've been talking about.That is attributed to the bathroom.Source this is not like the data about.Like decimals or anything because it's.Not an instance it's more like this has.Been built this version of sdkx or this.Implements interface Y and not merging.That so you know when we update it yes.It will be updated but like it is.Expected like when we updated yes it.Will be updated but like it is expected.We give the implementation migrated to a.New SDK version on you send it to.Interface I think this is what you want.To observe.You're talking about code metadata right.I I thought yeah yeah but but I think.Yeah yeah there was a question about.Like hey what what if he updates the.Contract implementation so what I'm.Saying is that you do not touch instance.Metadata and old metadata itself is.Expected to be updated because it just.Describes the code so but but do you.Allow for updating the instance metadata.I get the contract the code metadata it.Depends it depends on the approach right.If you go for the contract storage .Just the normal contract data Ledger.Entries it is updatable.And the same is true for the current.Functions it exposes right click that.Prevents you from changing the token.Name currently. if you go for.Yeah another approach we can make a.Trade only if you want.Okay because I think that's what orbit.Just brought up.Okay.So it doesn't sound like we've .Like decided on you know if this.Information so like you know we can.Actually yeah someone mentioned that the.Metadata we don't have metadata at the.Moment but technically you can still.Look at the token and figure out where.The balance entry or sorry where the.Decimal entry is stored right and what.We're saying is if you do this all .Off protocol then you would just then we.Would just figure out a set ecosystem.Standard for where the decimal entry.Will be stored because they'd already.Exists today we would ideally put the.Decimal name and token all into a single.Metadata entry. that that that's like determined by.The ecosystem not by the protocol. right so it's not like we're we're.Going to you know add Like A New Concept.Of like a new type of Entry or add.Information that doesn't exist today.It's more about where we where we put.The information that already exists on.Chain today and just in a way where we.Can where it would make where it's.Easier to retrieve right.Yeah and if I if I if I try to.Paraphrase what Dima said earlier at.That point I think that the the the.Argument here is is like not whether or.Not to add this to the contract entry.Itself.But assuming that we're not like do we.Actually need to standardize this.Or you know do we just use what we have.Right now which is functions because. you know like more ways to access.Data is like more dangerous or it's it.Creates like a bifurcation there.Yeah and that's specifically for the .Like your question is specifically about.The cross-contract case right.To be clear I think the cross-contract.Case is actually like I recognize that.There are use cases for that but I think.They're like fairly minimal and I think.Most metadata that we've been talking.About is never going to be consumed by.Another contract.I I think we need to consider the.Separation of.Security for this to Value so let's say.If we talk about the value that is.Stored and Modified by the contract.Itself then the security.Lies entirely in the field of .The code written by the developer but if.Introduce another way to store some.Metadata would be randomly or some other.Let's say editable metadata we need.To think about security considerations.Here as well so we need to.Provide information and strictly Define.When can will be changed and under which.Conditions because again if you are.Talking about oracle's price modify as.Decimals may have like disasters.Effects for all consumers.Orbit I didn't understand from that what.Your perspective as you said if we're.Introducing a new mechanism for.Accessing metadata do you think we.Should add we should introduce like a.Separate mechanism for Access I think we.Can introduce and it's okay but we can.We should Define . very strictly under which condition. it changes so there are like a.Few options described in the prairie dog.I should probably .Focus on these options that as I provide.A reasonably access to this metadata or.At least provide.Strict security .Guarantees that this metadata won't be.Changed by someone.In the runtime because contracts for.Example can have like.Other more Street security grantees then.The deployer.The deployer contract or deployer.Account for example it's something.That should be .Should be considered.The like the more we talk about this .The more I feel strongly that we.Shouldn't introduce like a protocol.Feature specifically for this and. I think that the functions.Yeah the cross contract calls facilitate.All of our anshay needs and an ecosystem.Standard for metadata can help.Downstream systems just know where.Something is instead of calling for it.I I don't think we should introduce new.Protocol mechanics here.Yeah and to add to the concerns that Sid.Has mentioned at the very beginning.Regarding the rent payments for those.Entries that are never going to be.Attached on genes supposedly I think.That the current iteration of the Ring.Proposal kind of takes care of that.In less reasonable fashion because you.Can pump print and arbitrary entries.So you know if you really care about.Your token contract you can just bump.The rent on its metadata every once in a.While and the good thing is that.Metadata is not like something that .Has to be there to make your contract.Upgrade so not critical to maintain rent.A bit but it should be possible so it's.Not a concern as well.Well it does have to be a manual process.Though and so I'm wondering like if it.Would be wise to maybe some outside the.Metadata to the contract instance itself.Because right now you currently have a.Rent bump whenever you access either.Read access or read write access and so.I can imagine a scenario where like the.Contract is used on chain a lot but.Then you know if you don't manually call.This bump then even though it's being.Used on chain the metadata can get.Archived and default on rent so I'm.Wondering if we should tie metadata.Somehow to the contract instance such.That if the contract is actively being.Used the metadata won't get sent to the.Archive and you don't have to have this.Manual intervention but Garen is isn't.This problem. relevant for any like Global state.That a contract has like this is not.Something unique for metadata even like. you know like pool values and a.Liquidity pool will will you know.We'll need similar mechanisms now.This is true but I feel like mad data is.Just somewhat unique because it's just.Never used on chain right and like if.I feel like for most contract data types. if they're being touched or if they.Are like relevant for onshine operations.Then they'll be accessed and they'll.Have the rent bump. and so I feel like that's like the.One issue with the metadata is that.Because it doesn't have an on-chain use.It will never. have this automatic bump because it.Should never be accessed by an on-chain.Contract.That's a good point.It's like in the liquidity pool thing.Like it will be accessed so it will have.This automatic bomb and so I'm just.Worried that you know it's like a weird.Interface where we have like essentially. you know especially in the new brand.Proposal where we have automatic rent.Payments. it just feels weird that rent is paid.Automatically for you know anything.That's relevant but a very popular.Contract instance would still not.Automatically update the Mad data.Entries and so it just feels like a poor.User experience.Oh I mean in the current proposal.Right you still can Bounce Around.Manually rate for any Ledger entry you.Want which is what I refer to by saying.That we have a solution for that. I'm not saying it is perfect but you.Know since we say that hey this sort of.Metadata is for the off-chain usage.Anyway I don't see this too offensive.That you know you need to craft rent.Bumps of chain as well as opposed to the.Automated months I mean yeah it's.Probably not the best ux but since like.The cost of defaulting our rent is.Really low here.Not impossible to.Recreate this entry if needed from the.Archive so I feel like.Well it may be of a minor annoyance it.Doesn't seem like.I'm super critical.But I mean.You can also get creative and do the.Merging of the data that is being.Accessed and chain and that is purely.Metadata just by implementing it in a.Certain fashion in the contract like you.Can have a single entry that mixes both.Used and then use data and then.Everything will get pumped together.Which is good I guess.We have a great like this can be.Developed.Off protocol if needed.Yeah like my general sentiment is if is.If this you know if this thing is.Still alive there would be at least one.Entity that you know that cares enough.To put. you know quarters in this meter.Okay so it sounds like we where we are.At the moment is that we that the the.Metadata won't be exposed directly on.Chain and.Though we will say for now that rent.Will just be manually bumped on these.Entries is that right.Yes.All right I don't think there are.Any other.Questions around this. so we can if no one else has any.Other questions we can move on to .The next topic. so this took an interface I don't.Have much do exposes but .Basically it's a couple of things that.We haven't still done with the token.Things right across next. and.Some of these things are pretty and.Uncontroversial I think like for.Example all the admin interface doesn't.Require admin address anymore to be.Passed to it because we need to fetch.Admin from the storage anyway so we can.Directly call request it. the next thing that is slightly.More controversial I guess and.Interesting is.This is next it is much easier to make.Outright subcontract course on behalf of.Someone so you can.The user can call a contract that calls.A token transfer for example.It is a useful feature but regular.Transfer. is quite Limited in the sense that.You can only send a preset amount and.This is the exact amount that you have.Signed so if the example if you have.Some trading contracts that.Doesn't perform a full trade it will.Need to come up with a custom refund.Logic for example like if the price has.Dropped down compared to what you have.Authorized.And so that cases we want to introduce a.Function like X for Max or maybe expert.Contracting proposals welcome.And this function would basically allow.Sign-in as maximum amount and signing.Address that is all tries to transfer up.To that amount.But then the call itself accepts the.Actual recipient and the actual amount.That of course have to be not have to.Not exceed the amount that has been.Signed by the user that allows to do.Something like Xavier has signed.Transfer of 100 to xlm and during a.Trade we figure that actually they need.To spend just 95 xlm to perform the.Trade so the contract can do just a.Single token call.X4 Max with 100xl and authorized and 95.Xlm sexual value.So I guess interesting question like.The proposal like that seems a.Reasonable at least from the previous.Discussions.I guess the question for this particular.Proposal is .How many extra functions are we going to.Have because currently they already have.Week two x four and extra from. this using allowance which is like. but you know maybe we should try.Conversion.For example have the normal extra.Behavior to be always like this extra.Max I have described like.You know you always sign the.Actual value of the transfer but then .Like if you are doing just a simple.Payment you can bypass Romanian.Arguments or duplicates and something.And then you know combination from.Contract you can decide or we can have.Two functions so I guess that is the.Question here I'm interested in some.Opinions so I guess the trade-off here.Is either more complex interface or.Simpler interface with less functional.But this function itself is like more.Complex.Just to make sure we're all on the.Same page in in current semantics if.You want to do like a trade that is a.You know a strict send then the current.Expert.Function is enough right yes.Okay so if you want to do like a strict.Receive in which like the other side of.The trade is guaranteed then the like.The send amount can be flexible yes.Got it out of curiosity what is.Common in the world of. you know popular a m's on on ethereum.For example do they work on like strict.Send or strict receive semantics.That's anyone or no.It's not really either sadly you kind of.Put in a price and you put in a slippage.Tolerance. so it's likely more .It's I guess yeah no it's definitely.Strict send with the slippage tolerance.Got it but the amount you send is set.Yeah it's just the the amount you.Receive is is undefined up to some limit.Yeah I think this is function of.Requirements or is this a function of.The you know for example token.Interface and Improvement and interface.Yes like I can see eyes relate.Because I know that some things are.Definitely by product of the current.Design restrictions. certain blockchains so I wonder if.Here this is a really business.Requirement or. just something that is a product of.Token Heaven only strict sense.Yeah I hear you and and it is.Difficult to know I this is anecdotal.But I can tell you that throughout the. the the beginning of Stellar we only.Had like strict receive semantics and.That was extremely confusing and when.We've added stricts and most people kind.Of like migrated to that because it is. and and this is an assumption I think.It's it's it's a bit easier to perceive.You know I'm gonna put this amount in.And I recognize that the amount coming.Out can be like dependent on market.Conditions the opposite and like the.Other side I think is a bit more.Confusing to people.So I don't necessarily think that having.Only strict sense semantics is is that.Bad I am concerned about having an.Interface that is a bit convoluted and.Has you know too many expert functions.By the way can we please stop saying.Expert and like move to transfer.Functions will that happen soon.Yeah yeah yeah yeah actually as a pair.Of token in European discussion I.Think we should. migrate to longer function names I.Know that we allow up to 32 bytes we.Should collects for transfer and you.Know rename also terribly named.Functions that they're trying to fit.Into that character so yeah I think this.Should happen yeah I think in the chat.Everyone is excited about this yes let's.Have more understandable longer function.Names please.So is there a proposal here is just not.Do it at all and.Live with only a strict send transfer.Because it is true that it is not.Impossible to just like even if you need.Restrict received behavior and even if.You don't use allowance you still can do.It by for a transfer of the whole.Amount and then refunding. so that that's an option as well and.It keeps things simpler and you know.You find this useful we can extend the.Token interface eventually.Yeah especially because this is you know.This is you know we're not talking about.Just a standard token right this is the.Token interface right so this is you.Know every implementer is going to have.To implement this and I do think that.We need to.To as much as possible keep it simple.And you know say what you want about the.Erc20 interface it is fairly simple and.I think there's something to learn from.Like this whole thing came up during.Those next discussions and things like a.Lot of people were interested like what.If I need to send a volatile amount of.Token. but if that's really more of a.Hypothetical case and in reality it.Doesn't really matter much. yeah I agree that we can just keep.Interfaces important.So unless someone has a very strong use.Case for transfer Max what's profit for.Now.Does everyone agree.Yeah any supporters of transfer Max want.To speak now. and then the next topic is allowances.And yeah I think there was some.Controversy about this but.Basically what I like to have in the end. which we may not necessarily achieve. but or anything that things like.Persistent and limited nuances are.Inherently dangerous and I mean the.Luxury some data about millions of.Dollars was.A persistent limited alliances on other.Blockchains so.I think there is some evidence that this.Is not the best pattern. to use.But that said like series seemingly a.Pretty narrow slice of cases where it.Might be useful it is still dangerous.But it could be useful like the case of.Recurring payment or subscription. for that cases I think that.Using account obstruction is.The correct quote-unquote solution.Because it enforces. the actual recordings like when you.Are doing a recurring payment the actual.Requirement is not I allows this.Contract to spend as much token on my.Behalf of the font but I allow this.Token to spend up to X token during the.Time period of and weeks or months or.Something right.The question here is like if we want to..Still have persistent allowances at all.In the token interface. given that they count with certain.Risks and another thing is.Again another proposal I had is just.Temporary allowance that exists only.During the contract called execution and.That's mostly useful for the cases.Similar to like which receive or.Maybe even something not converted than.That for.You want to.Take the token from the user and.It between several parties for.Example again I recognize that's.Probably not the most useful use case.Necessarily and I have seen I have exact.Concerns about the need for the temp.Storage now but.I feel like.At least if you are talking about all.Answers they will do much more.Comfortable with like temporary.Allowances because the main issue is.Persistent tolerances is that well.People just forget about them and then.You know it's .In some way compromises and you would.Lose your token without.Much actions from you whereas like when.We are talking about something temporary.It exists only business scope of a.Single transaction. so yeah basically two questions wait.Do you have any arguments for and.Against persistent allowances in.Token interface and if you have.Something against or maybe for. the temporary allowances at all and.Then we can decide like what do we do.Close.The Nema around this concept of like.Persistent using account abstraction. instead of persistent allowances for.Things like subscriptions can you ex can.You like further explain how this how.This might work I don't fully understand.That yeah. so I kind of abstraction allows you.To basically do signature OS.Transactions so instead of.Making like like you know signing every.Operation done with your account what.You can have is that your account may.Have a function that you need to all.Tray such as for example at subscription.Or add your current payment. is whatever requirements that .Seem useful right for example span.Token X up to certain amount is in.Certain 10th window then may have.Certain options right how this time.Window. it's been applied so I guess this.Totally depends on the business.Requirements those opinions which is.Why. like an alternative to that would be.To do some timed approvals for the token.But it seems really complicated for.Something as simple as token interface.Right because. there may be different requirements.For this and typically are like.Recurring payments is just one example.Like there are other examples where you.Can have a session or something but. so you have a function that says add.A subscription right you authorize it.And write an entry owned by your account.To The Ledger then describes this.Subscription.And then when someone tries to authorize.Something on behalf of your account. depending likely to arguments maybe.Whatever your contract decides to do but.The point is that instead of verifying.Some signature it would expect. the code to have no signature at all.But instead it would expect a certain.Entry being present in so edgers for.Example in case of the recurrent payment.You would expect that if a contract.Tries to call a token transfer on your.Behalf without any signatures and it.Must have a subscription and then it.Would fetch a subscription from The.Ledger verifies that the send amount.Does not exceed the remaining balance.For the subscription.And if so it would allows it .Would it be fair to say the advantage of.Doing the.Account abstraction approach to.Subscriptions is it lets the code live.In the actual wallet and be more.Complicated that way versus just being.Implemented as like an approval.Mechanism in the token which is a bit.Yeah yeah so there's already a couple of.NHS one is customization like you.Don't need to attach the token interface.And you don't need to restrict yourself.To tokens right you might also you know.I'll try some text to trade your.Entities or something like like I'm.Making this happen it's a bad example.But you get the idea it's not limited to.Token and it's not yeah like like .Certain way of defining the time balance.For example.And another Advantage is that you are.The owner of the account. which again in case of .Persistent allowances for example the.Allowance is delegated to a third party. you have no control over it and if.It's compromised you're in that.Situation here. you will be screwed only if your.Account is compromised but I mean that's.A general problem of any account but at.Least you do not put any additional.Trust to the third party like you just.Define rules that for the third party to.Use your funds.Sorry go ahead. like for this it sounds like you need.Special accounts that can actually .Handle the logic for like.Understanding subscriptions but also.You're kind of like delegated you're.Moving the responsibility of like the.Subscription logic.From the you know from the merchant to.The account like what do we expect that.Merchants are going to program accounts.For users to do this I'm a bit confused. yeah that's definitely a general.Issue. while account obstruction seems like.A nice idea like in reality they have.Already a ton of Stellar accounts .Answer right that you know I would.Imagine the apps would want to build for. which is why.I'm not saying necessarily this is a.Only Solution I'm just saying that it is.An architecturally good solution and.It's good from the security standpoint.And in order to kind of mitigate the.Issue of you know for example Quest.Extra account not supporting anything.Like that I had another proposal here on.This card code extensible accounts and.What it comes down to is that.You basically kind of can add.Delegations for your account to delegate.Authorization from your main account to.Another account and think of it way.Because adding a module for example you.Can have a classic store account with a.Subscriptions module obviously someone.Needs to write this module account. doesn't have to be Merchant it can be.You know one library that provides it. so it is an unzero amount of work.Obviously but if shareable is one is.There a some standards like hey it's.Module standards allows to do.Subscriptions for example so anyone who.Can or who wants to do subscriptions.Just needs to make sure that kind of has.This module. again this is just a proposal I.Had and I think it's also applicable.To the more broad case of a I want to.Do something interesting with custom.Account contracts but I'm worried about.And working so these extensions it is.Possible you know you don't require a.User to just migrate to your account.Implementation necessarily but. you you just allows them to reuse.Their main account address but benefit.From some new features. which I think maybe generally useful.Thing to have or adoption of customer.Accounts the.Extensible accounts thing is super.Interesting. I think it ties in really closely.With contract upgrades.Because accounts are generally you know.Really long-lived and you want to be.Able to upgrade like if the subscription.Interface is a new thing.Or there's like subscription to V2 right.You don't want to be stuck with your.Smart contract wallet being.On a previous version yeah.And yeah and I guess the good thing.About it that kind of allows for.Experimentation because I.To be completely honest I have my doubts.About like.General adoption of account abstraction.If you just say hey you are the store.Account but you can also build your own.Things it seems like a pretty daunting.Task and you know if you can at least.Build things in a model or fashion.Hopefully there will be more use for. yeah that's that I realized like this.Might be a separate discussion week if.Not everyone has read this proposal. I.Would feel okay ish it's just leaving.The persistent alone Soldier and adding.A disclaimer about wait don't use this.Unless you after. as a simplest solution but you know.My last tense is basically that I really.Sooner or later we should just get rid.Of that and provide on abstraction for.That yeah it's just it custom.Inexpensable accounts.Yeah it sounds like there's a tension.Here between like what is kind of.Like secure and has like you know.Proper architecture elegant and like.Extensible versus what is. you know kind of like simple and.Generalizable which is like what we have.Right now with .The persistent allowances my my vote is.To keep persistent allowances there. because. if we're going to.You know rely on people implementing.Their own account abstraction or account.Abstraction like modules for.Subscriptions then I think that's a bit.Of a high barrier of Entry.I wonder how popular subscriptions are.In general how comfortable I have people.With them especially when it's done in.The form of I just given a limited.Allowance to this contract so I'm not.Necessarily convinced that this is like.A super strong use case in general but.You know as I said like.If you add some disclaimers and say that.You know like this is us next and visits.Our us framework whatever. you should be able to avoid this in.Like 95 of the cases. hopefully that's good enough because.Really the the kissing like why I.Started this topic at all is that in.Reality you shouldn't need allowances at.All like most of the time right.Yeah I would say that subscriptions.Right now in crypto are definitely not.There yet but in the world of merchant.Payments they're huge and we can't we.Can't ignore it if if we do believe.In kind of like you know wide adoption.Of yeah definitely but but I guess the.Question is here rather like would.You want a simple but insecure solution.Or you know should be right let's try.For providing proper secure support. and and I don't think they're not.They're necessarily like mutually.Exclusive right if you know if we do.Have persistent allowances and we come.Up with like a better mechanism through.Like. you know abstraction that's great. but I think just having something.That is kind of like a simple.Catch-all mechanism is still worth.Having.Yeah it just means we need to support.Persistent approvals forever and.Everyone implements a token does as well.Because it's part of the token interface.Yeah which is which is you know For.Better or For Worse is an established.Practice like across.The ecosystem right yeah again coming.Back to the collection of requirements.Versus limitations and reasonably.Certain that persistent allowances.Are a result of the limitations of.Experiment right Reliance on that.Single subscribers single signer and.A single call right. they really are not needed most of.The time so my main concern would be.Really not about the subscriptions.Necessarily but about just people music.Out of an art of habit again they are.Not needed most of the time I think.That's.That's an important point about sort of.One knows right it shouldn't make.Balances and there generally and so.But I mean as long as you can make this.Clear. hopefully that's okay yeah I.Definitely agree and I think that both.In the documentation and in wallets that.Implement signing these there needs to.Be there needs to be kind of like .You know huge big red warnings whatever.You sign you actually sign in allowance.Because users.Shouldn't be doing this on a regular.Basis.Yeah yeah as long as you say that yeah.It's reserved for some specific use.Cases.I was gonna say yeah I agree the smart.Contract subscription model smart.Contract wallet model for that is.Definitely better.And it's nicer. but it opens a huge can of worms in.Particular around like.You've approved.With the approval model you can say to.The user you've approved this amount for.These wallet transfers right which is.Kind of easy to understand. but if you're getting into like more.Advanced logic within the smart contract.Well that's a big ux.Challenge to explain that to users in a.Way they can understand which like we're.Not going to solve in the next six.Months.Given everything else we have to do.Yeah I mean that's definitely about a.Week.That's the same right right there is.Some upfront cost before we get nice.Things.Yeah yeah I'm sure people in the.Community are looking into that. could be a pretty nice to build on.Top of this account obstruction.Framework but yeah I definitely.Recognize that it is a pretty high entry.Cost right because I mean those wallet.Support and punching support so yeah not.Sure how we will perseverance. so it sounds it looks like we're on. we're on time. I would say I think for now it.Sounds like we're leaning towards.Keeping persistent. approvals.Precision allowances and we probably.Need to further discuss the idea of.Temporary allowances. but. we'll push that to next week. cool well thank you so much have a.Great day y'all see you next week.
