Hi everyone we are now. live so I just want to say welcome to.The first.Stellar Stellar protocol meeting of 2021..So in a minute we're going to do some.Quick introductions but first.I just want to take a second to give a.Quick overview .What are we here for so the Stellar.Protocol is designed to evolve.To meet the changing needs of the.Growing ecosystem all the different.Projects that are building on Stellar.And actually the proposals that we'll.Discuss today are kind of a perfect.Example of how that works right they.Make it easier to issue regulated assets.On Stellar.So the purpose of this meeting is to.Discuss and plan for those changes. in case you're not aware protocol.Changes which are implemented in Stellar.Core.They're submitted as core advancement.Proposals or caps for short.And they have a very specific like life.Cycle .They generally start with a discussion.On the Stellar death mailing list.And then they're like drafted and.Further discussed on that list and kind.Of when they baked a bit.We bring them to this meeting where we.Raise issues and address key questions.Really start to hammer out the details. the draft of a CAP goes through.Several stages before it's.Accepted and ultimately implemented into.A new version of the protocol.And validators have to actually vote to.Accept that new version of the protocol.In order to upgrade the network so.There's a lot of steps I want to also.Say that.Every step in that process is public so.If you're.Interested in keeping up with or even.Participating in.Discussions about the future of the.Stellar protocol I definitely urge you.To check out the Stellar protocol repo.On github.And also to join the Stellar dev mailing.List that's where discussions about.These things originate.There are links in the meeting.Description so anyone listening you can.Join right in.In case it wasn't clear from that.Overview what follows is going to be a.Pretty. specific and pretty technical.Discussion we're mostly going to.Focus on CAP 29.Which would make some modifications to.The allow trust operation in order to.Better support regulated assets.And then we're going to talk about cap.35 which is what the real.Probably the bulk of this meeting will.Be about about CAP 35.Asset clawback which provides an issuer.With a means to claw back assets from a.Holder in order to support regulatory.Requirements.There are links to the proposals and to.The discussion threads of those.Proposals.In the show description and if you.Really want to follow follow along you.Should probably check those out.It's again there's there's a lot there.But.It will really help you if you're sort.Of looking at the nitty-gritty details.While we have this discussion so that's.Kind of my overview but before we.Actually.Start let's do some just quick.Introductions so when I call on you just.Say your name your title and your.Affiliation.I will start I am justin rice head of.Ecosystem at the Stellar development.Foundation.Tomer told me weller head of .Integration. Stellar development foundation dan.I'm dan doney the ceo of secureancy.We're a blockchain-based financial.Service.Infrastructure company awesome lee.Hi I'm lee principal software engineer.At.The Stellar development foundation.Jonathan hi I'm jonathan jove I'm a.Senior software engineer at the seller.Development foundation. nicola yeah nico berry I'm.Sq get up on the.Great eric my name is eric saunders. I'm a horizon engineering manager at.Stuller development foundation.Siddharth hi I'm siddharth suresh I'm a.Software engineer at the startup.Great karen. oh we didn't hear karen but.Can you try it one more time I think.Your audios there's something up with.Your audio but and.We'll figure it out but and finally.I believe david hi I'm david maciers.I'm chief scientist at Stellar.Okay great so.Let's get started in sort of a.Last-minute decision we flipped.The agenda and we decided to talk about.Cap 29 first. it's a it's a smaller discussion and.There's less to work out in a way and.Also it sort of logically makes sense.Because.Cap 29 has to do with the existing .Authorization flags on accounts so cap.29.Has the catchy title allow trust when.Not auth required. basically a trustline authorization.It's an important feature of the Stellar.Protocol.It allows issuers to handle various.Regulatory requirements.Currently there are two flags that you.Can set on an account auth required.And auth revocable however the way they.Allow trust operation works with those.Two flags.Probably needs a bit of tweaking so the.Goal is to kind of clean it up. basically the idea is that issuers.Should be able to authorize a trust line.Even if their account doesn't currently.Have an auth required flag set.And they should also be able to revoke.Trust.If they have the auth revocable flag set.On their account.Even if they don't have the auth.Required flag set so right now you have.To have them both set. that would basically allow them to.Deny list certain accounts.Which again is is valuable for issuing.Regulated assets.So this CAP it introduces two changes to.The allowed trust.Operation in order to achieve those.Goals so that's the summary. I think you know.Anyone can kick off the discussion I i.Think this this.This CAP originated with tomer so tomer.Do you have any thoughts.Yeah just quickly discussing the use.Cases that. we have an issues with we have an.Issue with right now. one is that .What happens when an issuer changes.Authorization. flag so let's say that I issued .The tomer asset.With an auth required flag to begin.With justin created a trust line.That trust line is by default.Unauthorized until I allow off to. but let's say that later on I changed.My authorization flags I removed the.Authorization the auth required.And now I want to elevate justin's.Trust line to be authorized I can't do.That because.The .Off required flag is not set so.It creates like a bit of a weirdness i.Need to reset it in order.To set justin's proper authorization.Flags. so this is one case that we want.To fix the other.Case is what if an issuer wants to have.A blacklist asset that means that by.Default.The authorization state is true is.Authorized.But if the issue wants to disallow.That they can.De-authorize the state right now they.Can only.Invoke the allow trust operation with.Authorized false.If the auth required flag is there. so this is a pretty unoffensive cap.It just fixes the semantics to make.Sense. yeah that's it .First kind of obvious question why did.The issuer.Onset their flag why not just leave it. are you talking about the case when.When an issuer modifies their.Their their authorization flags I mean.This stuff doesn't work.This stuff doesn't work if the issuer.Turned their flags off but I guess I'm.Wondering why they did that. maybe the you know the authorization.Requirements changed maybe they started.You know when they did the first.Distribution of tokens. it needed to be regulated but for.Some reason down the road. it doesn't have to be so you know.The idea is that right now. you know like we don't want you.Know as long as.Issuers don't set the authorization.Flags to immutable.We want them to have the freedom to move.Between these things and this currently. gets in the way.I feel like there also have been cases.Where someone started with an auth.Required asset and realized.That it wasn't necessary and and so they.They essentially made an error when they.Initially.Created set the flag on the account.I mean I'm all in favor of consistency.And this just seems to make our.Our transactions semantics more.Consistent.So why have weird little rules that.Disallow certain things in certain.Corner cases in certain situations if if.We don't need to.So it just seems like an obviously.Good idea.Yeah I'm with david on that and .Following up on.That it's like we're making the rules.Simpler in a way that you know anybody.Who is relying on.These rules I mean there's no sensible.Way in which you could have.Been like oh my business is based on.These particular.Rules being in effect you know my.Application is designed to take these.Things into account there's no.Compatibility risk to changing this.Stuff.I I don't see how you could have relied.On this.Is this the shortest CAP discussion.We've ever had.I guess my question is why is it like.This I mean presumably we had an idea.Excellent question eric I don't I wasn't.Here for the origins of this but.From studying the code I have some good.Hypotheses about this. and I think there were some other.Things in the code that we've already.Changed. siddharth did did the work on it i.Think it was cap.28 maybe but basically like.This name auth required is very.Misleading .Like from my perspective the name should.Be something like .Auth like off default or something like.That like.Do you default to true or default to.False and that's what the flag.Actually does inside of Stellar core.But because of that this name auth.Required there were lots of places in.The.Code where there were things that we.Were doing that looked like we were.Going to check this flag on the issuer's.Account.But we don't actually do that and so i.Think that this.This behavior kind of originates from.This very very misleading name.More than anything else I don't know.People.Like nikola might have a perspective on.Why it was written like this originally.If you can remember back that far.A lot of things happened very quickly .You know last year.Yeah no I don't remember.So it seems like no one no one has an.Objection.To this CAP I mean is that correct does.Anyone have an objection i'd say if so.Now is the time. what I object to is like.Psychologically I think we all feel like.There needs to be some minimum.Discussion time for any proposal but if.It's just an obviously good idea let's.Just.Like get it over with it done.Great then i.Stuck to his word and this is 15 minutes.Or less so that's.That's impressive yeah it's it's eerie.Okay great I mean it's it's are there.Are there any follow-up.Like questions that we need to address.Before we move on just in terms of.Thinking about the implementation of.This CAP or we just we just move on to.Cap 35.So one last point following on what john.Said.Do we think we should take the.Opportunity and rename.These flags.I discussed this with liabit and I i.Pitched that same thing.Relevant this came up in the discussion.Of cap35 as well and lee kind of.Convinced me that like from an ecosystem.Perspective renaming this would be.Nightmarish i'll let lee chime in on.That if he wants to.But I was pretty convinced that it's not.A good idea.Yeah so these names they obviously.Exist in the protocol.They also exist in horizons api.And that consistency is elegant.That you can look at the horizon api and.You can see a flag name.You can read documentation that.Discusses the protocol.And that's the same so if we were to.Change it in one place.It would be ideal to change it in other.Places to maintain that consistency but.That would break horizons api. because the actual name auth.Underscore required.Authors are revocable they show up in.The api.As field names.I think the cost that weighs the benefit.Of changing the name personally.Just take the victory let's okay we're.Moving on.Thank you that that's the right way to.Do it david .Okay then we're going to move on to cap.35..So as I mentioned at the top of this.Meeting CAP 35 defines a method for.Allowing an issuer to claw back an asset.In order to support regulatory.It could be used for instance to recover.Assets that have been fraudulently.Fraudulently obtained to respond to.Regulatory actions.And to enable someone who can prove.Their identity to recover an asset in.The event of key loss or theft.So this proposal which was updated very.Recently.It currently introduces a new account.Flag.A new trustline flag a new claimable.Balance flag.And two new operations one to claw back.An asset and one to claw back a.Claimable balance. dan I think you understand the need.For this change more than anyone.Is there anything you'd like to add just.A little background.On this we are doing a series of.Experiments.With a number of prominent regulators.From around the world.And we've we did a a pretty significant.Experiment.Demonstrating the ability to enforce .Regulatory rule sets from different.Jurisdictions in.Using Stellar's decks and it was very.Well received by.By regulators in in that particular.Setting.That is the ability to enforce policy in.A decentralized setting.Using the SEP 8 pattern.And out of that discussion came a second.Discussion that the regulators are.Particularly interested in.That has to do with custody and you see.Assets in general falling into one of.Two patterns.One which is a bearer instrument pattern.Bearer instrument patterns.Have certain benefits in the marketplace.In terms of being censorship free.But they also have certain downsides to.Their nature.And this is one that makes them much.More difficult to regulate.And from a regulator's perspective.There's a particular record keeper.Role which has certain responsibilities.Into the marketplace.Known as a transfer agent the transfer.Agent if they fail to execute their.Responsibilities can be sued.But they keep the official record.In the absence of the transfer agent.Being able to correct the record.You can't have records on blockchain for.Securities.But it turns out it with a clawback.Mechanism you can actually empower.A transfer agent that is a licensed.Entity with this responsibility.To correct the record and why would it.Do that.And the big thing that for example the.Sec worries about is.The case of the canadian exchange.Operator who.Disappears or dies and loses custody of.A number of their clients assets.And there's nothing that the marketplace.Can do about that scenario.The sec sees for.Trillions of dollars worth of securities.Writing in these.Ledgers that that would mean that they.Have to be securities experts for.Everyone who performs a broker role.In the marketplace and that to them is.Just frightening and no one would ever.Get through would be just way too much.Of a responsibility.Not trying to discount the sec's.Position on these things but they see.The ability to correct the record.As an essential component the central.Piece of correcting the record.Is executing a clawback if someone has.Made a mistaken or.Illicit transaction if you can pull back.That asset.And put it to its rightful owner you.Have the means to. to correct the record so this is the.Nature of this.Element came down to regulated assets as.We've interacted with regulators.Globally virtually all of them require.Some form of this.Which we'll easily fall into we believe.The structure of what's been produced.Here.With the with CAP 35.hopefully that.Provides some background.And i'd be happy to answer questions if.There's any .Anything else on this we happen to be.Going in and showing the regulators this.In the near future and that's why.There's some pressure to.To show that Stellar can be used in a.Way that satisfies.The world's regulators very prominent.Regulators.That Stellar suitable for securities.I just want to clarify when you say we.You mean so currency correct.Correct great cool I mean I mean.There's already been a lot of back and.Forth on the mailing list about this.Proposal. and it seems like there is there are.Specific issues to discuss.And I think the first one that's that.Came up is about.The immutability of clawback capability.And how it relates to trust lines and.Claimable balances. lee could you tell us a little bit.More about what that means what the.Issue is.Yeah so it's important to be transparent.With an investor.Or that is a token holder as to what.Rights they have.And what rates can be removed so so you.Want it to be absolutely clear.If they're holding one of these.Regulated assets versus a bearer.Instrument.That this is an asset that that can be.Clawed back.Because ultimately that's an investor's.Choice if you don't want to have assets.That have this kind of regulatory.Oversight that's your right so you need.To. as you look at the asset have the.Indicators that are going to tell you.That that either is or isn't in this.Category.And what follows from that is even if it.Is not.In that this category it can't be placed.In this category against their will.So once you have designated an asset as.Regula.Regulated even if it or if you have.Designated it as.As a bearer instrument there's no way.That someone can backdoor you. on this and so that was an important.Part of the shape.Of the the discussion around the cap.Yeah so to experience immutable or.You're saying this anyway. so there's there's a couple of ways.That we address .Well what dan what dan is talking about.So the the verse is yeah author mutable.Exists.Author mutable exists so and still.Applies to this new.Flag on the issuer account so if.Somebody is using that.They can't enable clawback enabled in.The same way that they can't enable.Auth required or auth revocable if.They're not set.The second way is of the proposal CAP 35.Snapshots the state of the issuer.Accounts clawback enabled.Onto the trustline when the trust line.Is created.And the claimable balance snapshots the.State of the trustlands.Clawback enabled flag onto itself as.Well.So it sort of inherits that state so.When.An account trusts an issuer. today if the issue enables clawback.Tomorrow it doesn't apply to accounts.That have already trusted that issuer. they they get that they get the state.From when they trusted.And then claimable balances are the same.So a user or an account.Holder can have some confidence that.If they create a claimable balance.Tomorrow.It will still not be clawed back.Enabled and yeah I think this is.Something that.We want to discuss is is this.Appropriate.Should it be possible to change it.That's actually one yeah.Sorry go ahead yeah I know like the the.Thing I was going to play is like one of.The thing I wanted to and I think the.Current version of the CAP actually.Reflects that one of the things I really.Wanted to get.In this CAP was as a property that.If we do have assets on the network.Today.That do not rule this all that do not.Expect this kind of capability to exist.They should.Basically not care and.I think yeah like right now we are.Actually achieving that.Yeah so what this actually would mean.For all accounts or for all trust lines.That already exist on the network.All trust lines would start with this.Cap.Clawback disabled so this would have.No impact on existing trust lines or.Accounts holding those trust lines. and therefore no impact on any.Claimant balances they.Created from existing trust lines either.But so one problem with the so so i.Agree with that.Idea in general but one problem i.Have with the specific implementation is.That.What if you do want to set or clear.The flag on a truss line right so i.Could think of like several. scenarios where the current.Proposal would.Not work so for example let's say that.The issuer revokes authorization from a.Trust line. and offers to restore it in exchange.For adding the clawback.Flag so this would be like a a very.Realistic thing to do in response to.Some kind of regulatory change where.You're like okay.I'm freezing your assets because you.Kind of ignored my requests you either.Have to like sell these assets back to.Me right now or.Like you know comply with like the new.Regulation. another example would be that you.Have different clawback policies for.Like individual.For institutional versus like individual.Accounts right.And now there's no way to .It's very hard to create these.Institutional accounts you'd have to.Create these sandwich transactions and.Those sandwich transactions would not.Work if you added. off immutable right. I mean another thing you might want.To do is have clawback only for.You know depending on like the limit of.The trust line so like.Although I guess people can actually.Raise their limits after a trust line.Has been authorized but you know.It might be nice to say like you know.What I don't care for people to store a.Hundred dollars right. but you know if anybody's gonna store.Like millions of dollars like.I need to be able to claw that back.Because maybe they stole it or something.Yeah david this this is a piece where if.You take the two capabilities in.Combination I think you get the outcomes.That you want without a change that is.Except that there's no way to.Tell me how to add the clawback enabled.Flag or remove it from an account. from a trustline that already exists.That seems to be missing.Either a description of it is missing.From the CAP or the mechanism.It's a fair point the desire to. potentially freeze an account using a.Mechanism.And then basically force the party to.Either fall into the new regime. or maintain their account as frozen.Let me let me separate that thought for.A second.And address the second point that you.Raised regarding.Hey there's there may be some difference.Between a wallet that it's an.Institution.An account that's a institutional party.Versus a retail party.Or a range of different options we.Handle that through the policy component.Of a regulated asset so we're able to.Tag.To addresses or wallets specific.Characteristics and one might be.A characteristic or an attribute of.Being an institutional party.And that then affects the rules on how.That that wallet transacts.With this specific asset and so in this.We're able to set limits like if it's.Not more than a thousand then the.Following things can.Happen or if this party has certain.Rights they can transact with parties.Who have.Other rights and we do that at the.Movement of value.Using the SEP 8 strategy and there the.Policy's gonna know but hold on.But back the problem is this is not a.Step problem it's a CAP problem right so.Imagine a situation.Where you know I like you know.There's some central bank issues much.Digital currency somebody else you know.Like I'm gonna buy like a billion.Dollars worth of your asset.But it can't be clawed back right so.Everybody else has clawback you want.That billion dollar investment.Right so you're willing to do that to me.So we could collaborate together and.Sign a transaction but the the current.Doesn't provide us any way of doing that.Right if you want.Everybody else to to have the.Clawback flag.On the clawback enabled flag on their.Trust lines there's no way to sort of.Create.A particular special account that.Doesn't have this flag.Particularly if you have auth immutable.Here's how we handle that scenario but.I'm just.If you know if this were the challenge.That was presented to me I would handle.It this way.I'd actually issue two different share.Classes one.With author revocable and and one.Could not be clawed back okay so now.I have two.And so those exist and they that's not.The same that's not what I'm asking for.What.Like you still I want to be able to.Trade I'm going to buy a million dollars.Worth of your asset.I want to be able to trade that on the.Open market you want to be able to claw.It back from people who steal the assets.But you know part of our special you.Know bespoke deal is that you're not.Going to be able to claw this back for.Me because I'm laying.Out a lot of money right so this is a.Very realistic thing to do.We you know if we could set the bits to.The right values we would be able to do.That there's no reason why.The issuer if both the issuer and the.Owner of the trustline consent they.Shouldn't be able to configure this.But the mechanism proposed here does.Not allow them to do that and i.I don't see a justification for for.Not.Having a mechanism to do that when.Everybody's on board.With the fact that that should happen.Okay david so let me offer you two.Options here.Well let me offer you one option but.That addresses these two things like.I think that going in the downgrade.Direction taking.An asset that's clawbackable and making.It non-club active that's completely.Unoffensive. I actually have already spoken with.Siddharth about how we would implement. you know we're pretty clear on what.We would need to do it's not hard.But the other direction is not cool you.Can't take.Something that's not call backable and.Make it claw. well I think that the why shouldn't.The owner of the trust line be able to.Do it I think the.The issue of the asset should be able to.Remove the clawback flag.And the owner of a trustline should be.Allowed to add the clawback flag.But the owner like if the owner is going.To cooperate they can already do this.How do you do it wow so all you have to.Do is.Make a like a cosign transaction between.The issuer and the asset and the holder.The issuer the holder sends the money.Back to the issuer.Deletes their trust line recreates their.Trust line and the issuer sends the.Money right back.And now no okay okay so hold on hold on.So first of all. one thing there's another I have a.Bunch of comments on this so one comment.Is that I think that.The CAP should make some suggestions for.The ecosystem.And the like horizon should keep track.Of how many times clawback has been used.On.Any given asset and like how much has.Been called back because this is gonna.Be information people are gonna want. and it is it is one thing.To to like you know allow someone to.Claw something back it's another thing.To like.Actually send them the payment because.Then they could you know when this comes.To court this is gonna be a mess right.They're gonna be like you sent the money.Back to us because of this other.Agreement or whatever.This is very it it it very much.Weakens.The the negotiating hand of.The of the person.Of the person who owns the trust line if.They have to like literally like.Send all the money back and and delete.Their trust line.What if they just think about.Implementing this it's like.It's it's much more of a mess right no i.Think it's a mess if you actually allow.People to.To to go from something that is.Not that that cannot grow back to can be.Club bad because.Think about it basically breaks any kind.Of assumption you can. you know you can imagine in terms of.Like pre-signed transactions and all.That stuff because at this point.Like the issuer gets full control on any.Kind of intermediate step.Wait a second I can if I can send them.If I can send the coins back to the.Issuer. why shouldn't I be allowed to add the.Clawback enabled flag like that's.Clearly like less of a.Thing to do right I mean I guess I don't.Have any.Wait am I yeah okay I don't have any.Material opposition to doing it it's.Just like.Since I can give you a way to do it with.Without.Changing the protocol like why should i.Change the protocol but it's not the.Same thing.Right like it's not atomic it's no that.Is atomic that's a single transaction.Sorry sorry yeah it's it like.You know requires me to like cancel all.My. orders and stuff like I mean it's.It's just it's it's it's some total mess.Right like look.In in one month because of this.Regulatory change we're going to require.All our customers to either add the.Or or we're gonna like freeze it by.Revoking.The the authorization on the trust line.Right and so now the customers.They have a month and at their leisure.They should be able to do this they.Shouldn't have to coordinate with us.Like send the money back to us and like.Trust us to send it back to them or like.Do some complicated protocol where we.Like pre-sign.Some transaction this.This sounds like you know like.A far-fetched scenario to basically say.Hey I have this asset.I'm going to make it now.Do a book go up like a far back or.Whatever.Yeah because like I think like what then.You're saying like I think the more.Realistic. way to do this would actually to.Issue a new asset and then ask people.To just move over like it it's way.Cleaner.Like it's you know you don't have like.This mix mode.I mean it's not like what I'm asking for.What I'm asking for is not.Complicated it's kind of more consistent.Right like it's just gonna.We already have operations to like set.Flags on our on on truss lines right and.But not on yourself that would be a new.Thing I don't think you can control your.Own flights today.Well in in in as an issue you can hold.Let me look at change trust as an issue.You can but but like .Those are like authorization flags right.They'll differ I guess.For me david like the main thing that i.Want to kind of bring up here is like.We don't have to do this now like we.We could do it now there's nothing.Stopping us like I agree it's a cleaner.Way to implement this.If it's something that people really.Actually want but I'm.I'm like hey not convinced it's.Something that people would actually do.Based on what dan was saying. and if it is something that people.Really do want to do.As we just agreed it's easy so like it's.A change in semantics like we don't.Allow.Anything like this to say but there's.Nothing stopping us from allowing it in.The future. it'd be an easy thing to do at any.Time if the need for it actually comes.Up.We could just do it but I don't think we.Need to I don't think we need to do it.Now basically.Okay but we do need to remove we need to.Remove the flag yeah right I see a lot.Of compelling reasons to have the remove.Part. the move is that seems right. another thing to consider here.Regarding john's .Previous suggestion of co-signing a.Transaction and and doing.With the issuer these issuers are.Interactive. right now okay like they're.Probably doing kappa 18 sandwich.Transactions they're.Co-signing every transaction so the.Interactivity by the issuer.Is not a big hurdle here it's already.There.I mean it's just like massively like.Like sending someone all your money like.It just like who knows maybe are there.Like tax implications for this.Like are you because you've like.Actually given someone.The money I don't know I just it's just.A bit like there's clearly no.Security issue like it it's it is a bit.That something that's this.Someone owns a trust line should be able.To consent to so like why not.Provide them a mechanism for that .And just to be clear you think that.There might be a way to basically.Load that mechanism into change trust.Into the change trust.No I guess we don't we don't have we.We don't.It wouldn't it wouldn't work and change.Trust so it needs to be.A new one it would have to be in like.Allow trust with a different signer but.That's a mess so yeah I guess it would.Need another operation.So I'm sorry dude.What we frequently issue assets.That represent different rights so.This would be tranches or share classes.So for example you have. an instrument denoted xyz and that is.Absolutely not what I'm talking about.Here right like.So I'm talking about a situation where.You need to have the same asset as.Everybody else because you need to be.Like participating in the decks.With this asset so it needs to you need.To have fungibility.So I'm only concerned about the case.Where you need fungibility but you have.Different.Classes of asset holder just not.Different classes of.Of asset right yeah i.Actually think those represent different.Rights in.In a way that's me is maybe subtle but.Meaningful.And of course on the decks you can.Always trade one set of rights for.Another. so you can trade if if both assets.Exist.One with clawback and one without.Clawback there's a yeah.Again I think we're we're just going.Down a rat hole it's not productive I do.Not care about the case.I understand that that's a valid case.But that's already supported so we don't.Need to discuss it.Right that's fair I you're you're.Talking about something different from.From what I'm talking about I'm.Saying like you know I'm.Like some I'm hiring someone to to you.Know like I have this.Bespoke deal where I'm going to give.Someone a lot of something that a lot.A lot of individuals have a little bit.Of and because of that I'm willing to.Give them more rights.So so that so it seems like there's.Agreement that we can at least support.Scenario and we'll have to wait for the.Other one.So so I have a couple of other .Critiques so first of all I think that.We have this mentality that we've like.Made this mistake of putting the.Extension switches at the end.Of of structures like so many times.Like well.Why not do it one more time but it's.Still a mistake so I really think that.We should put the union at the top of.The structures the ext union at the top.Of the structures and not at the end i.I don't just because we made the mistake.10 times like that doesn't mean we.Should make it an 11th time there's just.No justification for adding for like.Tying our hands in terms of like future.Extensibility. by not allowing us to union the whole.Data structure so.You know sorry to sound like a broken.Right structure are you talking about.Here sorry.Well any of them like anytime there's. let's see let me actually have the.Thing in front of me so if I pull up.Just search for like ext .Because we have these these are.Operations right like you're talking.Operations then because operations we.Don't need that we.We already have the entry claimable.Balance entry extension v1.The switch is at the end.Oh and you're saying to move that right.Yeah okay that's fine I don't care.Okay great is that what benefit to just.Gives you many many more options for.Future upgradeability like you could.Decide to version the whole data.Structure instead of just keep.Like appending like you know more and.More nested things and so it makes. potentially makes source code.Compatibility a lot easier like.Because we didn't have this on.Transaction we had to like jump through.Some like pretty gross hoops when we.Wanted to . extend the transaction format .It sounds like there's no objection to.That very specific idea is that true.Fantastic fantastic because I feel very.Strongly about it so if nobody else.Cares please humor me and do that. I do want to make sure also I know.That there's some other stuff about the.Way that.That this that that .Like how how CAP 35 deals with claimable.Balances that I believe there's some.Discussion that needs to happen is that.Correct john.Oh you mean classic sorry what was the.Topic I was looking at the .At the proposal while you were talking.To me oh sorry clawbacks and.Claimable balances I know that there is.Some.Discussion around how they interact is.That correct.Yeah there's a little bit of discussion.And there's also some interesting topics.About like .About what flags we should be using or.Reusing .Depending on how many more comments.David has I think we can go I have two.More.I'll make them i'll try to make them .Quick well one one is quick and the.Other.Well maybe we can defer so the the.Quick one is please give the data.Structure for an asset code.A name because it appears also in the.Allow trust stop thing.And this is a particularly a kind of.Data structure that you want a special.Case when you're like rendering it in.Text and stuff and so to have it like a.Single data structure called like.Asset code or asset code name or.Something.You know there's a knowledge you mean.The non.Non-native assets right basically yeah.Exactly that's.Truck yeah yeah yeah I think lee already.Is.Making the change perfect yeah. and then the other thing is just.Kind of to plant the seed that there's.An issue this this issue comes up in a.Lot of other contexts or people have.Complained to me that.They want to create a fixed number of an.Asset .And then continue to manage it with like.An auth required.And and it's a it's a bummer because.What happens is you basically create.This account you throw away the.The signing with a kind of high signing.Weight and you keep only low signing.Weight so you can authorize trust lines.But then you have no way to rotate the.Keys .And so this situation is going to get.Worse and that you'll you'll also have.No way to. you know fiddle with like the stuff i.Was talking about before where you.Change off immutable so we're not going.To fix that.For this but there's something we should.Keep in mind when we do these proposals.That someday we should solve that.Problem okay i'll shut up and let.Other people you also now have no way of.Fixing the supply. so yeah that's exactly I was thinking.Tomer.We've got a lot of people that's right.You oh that's right you also can't fix.The supply exactly.So so it'd be cool if you could like.Delegate to some other account so it.Can't.Create the asset but it can revoke it.And it can issue trust lines we'll add a.Level of indirection that's not for this.Cap that's just an idea to put in tool.Sets okay we can move on.John I think you had some questions.About clay mobile balances.Is that correct no I think that we.Should move and let lee talk a little.Bit about like.The different types of flag options that.We have available to us I think that.Based on some discussions that we've had.That's kind of one of.The things that we if you look through.That that thread on the seller dev.Mailing list we have cycled through that.Topic like four separate times. and it's it's pretty key to.Actually getting an implementation ready.So I think we should go there.First yeah so what we're talking about.Specifically.Is the proposal right now adds a new.Flag to the.Account flags auth clawback enabled.And what we want to talk about is should.Is that.Make sense does that deliver a lot of.Value or should we.Reuse the auth revocable flag because.Clawback.And revocal conceptually they're very.Similar like one freezes.And essentially you can't use it the.Other one takes it away so you can't use.It.I mean both cases the account is losing.Control over the asset.And in a lot of cases we think.If you have clawback enabled you're.Probably also going to have revocable.Enabled.Or vice versa so in.Sort of inspired by CAP 29 in an attempt.To like clean up flags.Or to make flags simple and make it.Harder to shoot yourself on the foot. with them does it make sense just.To simplify this.And attach it to the existing auth.Revocable flag.What do people think about that.I'll say from our perspective we can't.Imagine a scenario where those rights.Would be.Distinct so we can easily see those.Collapsing into the same right it it.From a regulatory perspective.That authority is held by the same party. I think we I think it doesn't.Hurt to to keep them separate. and at the very least there's .There's a sort of. an .Benefit for appearances so so it.Goes back a while but there's definitely.This things like this have been like.Really.Touchy subjects in the past where people.Have gotten like really.Upset at the idea that you know. that you could like revoke things and.I think it could be. even if I sort of think that there.There may be like a transition.Argument anyway where like you you.Initially issue an asset and then.Later decide that you actually want it.To be. clawbackable. and so I actually think there's value.In that.But I also think that we don't want. we don't want people to feel in any.Way that Stellar is.Trying to you know force people to like.Consent to like have their.Assets revoked and so by taking.A piece of functionality that people.Might already be using and saying okay.Now you can only use this functionality.If in addition you're willing to give up.These extra rights.I don't feel good about that and I don't.Think.And I think there might be people even.If it's a kind of a subtle .Change and maybe even if you could argue.That well you could sort of do other.Things that would be bad to someone too.That they've already consented to i.Don't like the idea of kind of it feels.Too much like a power grab.To me that's fair look we don't have a.Dog in the fight in the politics of this.Of course. only just for the sake of simplicity.From our perspective.And just as one of your many users .The right to freeze assets is the only.Distinction between the right to freeze.And claw back.Is just the mess that you leave behind.When you freeze and you don't claw back.So from our perspective again from a.Regulatory perspective.If you can do one you really can do.Effectively do the other.The only difference is that but it sort.Of it also depends like how you.How you wha what what.What sort of real world interpretation.People give.To these values on the ledger so.Maybe you have a company that's only.Authorized to issue some number of.Shares and so. you could freeze shares that people.Have but that doesn't allow you to issue.More shares without.You know amending your bylaws or.Whatever whereas you know you could.Argue well if you call them back then.You can just give them to someone else.So even though like.Yes we could just kind of by convention.Agree that these things are.Are equivalent I think what it looks.Like on the blockchain.And how easy it is to map that to what.You actually.How you actually interpret that in the.Real world I think it's just.Cleaner and easier if you have two.Separate options and again it doesn't.It doesn't cost us much to have these.Two separate flags.It just seems less objectionable is.There a downside to having two separate.Flags and if so what is it.Well one of the things that lee and i.Kept talking about was this .This weird scenario where imagine that.You are some kind of.Guy I don't know what to call you.Because as dan pointed out like.It's probably not reasonable to do this.But you're some kind of entity that.Wants to be able to clawback but not.Revoke.Suppose and you were like okay well.Like I look at the flags this is pretty.Obvious all I have to do is set the.Clawback flag and not set the auth.The revoke flag problem solved right not.So.Because if you do this you are almost.Surely in a situation where you're about.To shoot yourself in the foot.Because if you are used if your asset.Holders.Then create a bunch of offers you will.Not be able to claw back the assets that.Are tied up in the liabilities of those.Offers.The reason for that is that in order the.Only way to cancel.The offers for an account is to use.So this is kind of one of those things.Where it's like it seems like really cut.And dry and you know we could.Paste the biggest reddest sign that you.Can think of in our docs.But I guarantee you somebody will shoot.Themselves in the foot anyway.Yeah you're right there's four.Possibilities and three of them are.Useful.Are plausibly useful right and one of.Them probably means you're doing.Something you don't intend to do well.That that isn't it but that's it.That isn't an argument to have two flags.Or one flag though because you can just.Disallow callback on this revocable is.Also set right.So I mean I get they're tied together.And it seems useless but you could have.Yeah I mean it it increases the.Implementation burden and the mental.Modeling burden.For users but like I agree there's.Nothing .There's nothing stopping us from doing.That I mean.It seems to be a trade-off between the.Mental model or overhead of the issuer.Versus the mental model and overhead of.People that want to understand whether.Things can be clawed back.The thing about though about separating.Clawback from from authorization I think.The one area where this makes a big.Difference is in the.Balance entry actually because you know.As you think about the.Ways those things work authorization.Actually is.Completely async in balanced countries.Like you have those two part payments.Right you have the.When you create the balance entry you.Need to be authorized.And then later to claim it you have to.Be authorized. but then what happens in in between.Is kind of this funny thing right like..And having this as a separate flag.Allows you to.Kind of deal with situations like you.Know about what we are talking about.Earlier.When like if you want to handle for.Example the.Different downgraded accounts or.That don't have that you cannot go back.I mean basically you still need to.Propagate this flag somehow.And if you're going to propagate in.Balanced entries.You could say well I'm propagating.Authorization that's kind of funny. because you know you're always.Authorized so.What does that really mean .Yeah one clarification about the.Proposal is that we wouldn't be. propagating the auth flag would be.Propagating.Like everywhere in the CAP where the.Auth claw back enabled or whatever the.Name of that really.That flag is you just sub in the word.Auth revocable.So basically it's like you know the.Clawback enabled flag on a truss line.Would be set.Based on the auth revocable flag.Of the issuer at the time the trust sign.Is created and similarly for the.Claimable balance entry it then inherits.The flag from the so I it's not so bad.In.In this like it doesn't really contact.That but that's strictly less powerful.Than what we are where right now where.You.You can actually don't like remove.That flag on.One account and then you have this icon.That basically can do.You know all sorts of things including.That are that cannot be called back.Right.Because maybe they are part of like nice.Smart contracts or whatever where it's.Very clear that basically that thing is.Cannot be messed with by the issuer so.You're talking about.You're talking about the value of an.Account where revoking is still sensible.But clawing back is bad.That that's what you're saying yeah yeah.Yeah I can see that argument. yeah I think the big the big issue.Oh sorry I think my audio just cut out.No no please go ahead I don't know i.Was interrupting you john.No I wasn't you're good. yes I think I think the big negative.So really the only big negative that.I've heard people say about having two.Is just that that.You can you cannot accidentally.Misunderstand how to use them and you.Can set one.And then you can't actually claw back.Because somebody has offers.So is that is that an issue that we need.To revisit like the fact that.You can have club enabled but you can't.Really call back.Because somebody has offers like is that.I know we defined it to work that way.Because from an implementation point of.View it's simple.Or simpler for.For core and the protocol but do we need.To revisit that.Could we have two flags but just not.Allow one of the four combinations.To be set on an account I would prefer.That over.The thing that lee was saying from from.An implementation perspective that's way.Easier than moving how the offer.Destruction gets done which is.Not good and I don't want to do that.Would you be okay with that lee I mean.Like I'm okay with basically saying like.Hey like we're not going to let you do.The combination that's almost surely a.Mistake. it doesn't bother me I think.I think we could.Be possible for us to say with cap35.That they both have to be certain.But if in the future we discover that.Actually there is a really important use.Case where we don't want them to be set.That we had a proposal that then removed.That constraint.Or would it be are we if we sign up for.This constraint is this constraint.Something that we need to be supporting.Forever.No because we can just allow you to set.The account flags that way right so this.We're just saying that then you know.That I'm.Then I'm fine I think that's so you can.Set the revocable flag or you can set.Both flags you can't.Set the clawback flag but clear the.This also means that for a.Line that has revocable.Set and clawback set.At the time it was created that it won't.Be possible to use allow trust to clear.The revocable flag.So fun wait we don't have we don't have.A flag revocable on the trust line.Oops yeah.So it seems like the solution is have.Two flags only allow.Three combos disallow the fourth. combo that shoots you in the foot.That's brilliant.So we've got five minutes left is.There any other.Is there any other issue that anyone.Wants to bring up if not lee is offering.To give a quick summary which I think.Would be helpful.Great lee take it away.Okay so I think I think we have five.Takeaways relating to cap.35 .There's some discussion around xdrs and.Moving extensions at the top.Of any new structures that we're.Creating which is an easy one.We need some definition for non-native.Asset code which is an easy one.We agreed to not reuse auth revocable to.Keep the separate flag.To require that both author revocable.And north claude accuse that.At the same time if callback is enabled.And then finally there was some.Discussion earlier at the beginning.About.A need for the issuer to be able to.Remove clawback enabled.For a trustline is that. and there's going to be a common data.Structure between allow trust stop.And the clawback right.For like asset code or asset code name.Or something.Oh yes yes yep that was yeah sorry the.Non-native asset code.We will introduce some non-native asset.Code structure.That's common between them I think out.Of all of it most of these.Things that I just summarized are all.Very straightforward.I think the one that maybe is not super.Straightforward is.The ability for the issue to remove the.Clawback flag because there is some.Issues with us adding that to the.Existing allowed trial stop.Which we might need to think about.Siddharth was actually the one who.Originally brought that to my attention.And I think to your attention as well.Lisa maybe starts can talk about that.For a second and kind of talk about what.We had.Presented as an opera as an option for.How to kind of do that.Yeah so the the issue with the loud.Trust right now is. it requires you to know. which which flags are already set.Because it currently just sets.The trustline flags to the parameter.That's passed into our trust. and this was fine when there was only.One value but as you add more flags. it becomes a burden on the user .Ideally it would work the way set.Options works where we specify which.Bit which flags you want to set and.Which flags you want to.Or which bits you want to set which bits.You want to clear .So the the what we would like to do.In the future is create another.Operation. that works the way set options works.Where you you can actually you know you.Can enable cloudback if you want.Or you can disable cloud without.Without knowing what the other. with the other flags are.I mean you could just turn authorized.Into a union right there's only two.Values currently used.That's not true there.Are already three possible values for.Authorize. and with this there would now be six.Well yeah I think six now.That all makes sense right now we're not.Saying you don't put the six instead you.Have a union where the three existing.Values are just. void cases and there's a there's.Another case which says set bits in.Another case which says clear bits.And and then has a like a 32-bit integer.As the field..I mean whatever this is bike shedding.Like.Whoever influenced this should make the.Decision I'm just pointing out that.They're.They're lighter weight options than .Creating a new operation although you.Know.Maybe they're gross enough that you want.To create a new operation.That's definitely an interesting.Proposal though I hadn't even considered.So I think my question here so it.Sounds like you know there's more ways.We go about this and we can explore that. my question is does this need to be a.Part of CAP 35.The ability to it should be if we're.Going to do it.It should be yeah if it's .It would be better for it to be if it's.Gonna like completely derail CAP 35.Because we.Argue over the details of how to do.Something that there's two ways to do.Then i.Guess maybe not but.Well I feel like that's like next camp.Something yeah I think we're out of time.For this meaning I feel like we did make.A lot of progress on CAP 35 and CAP 29.Too and so yeah I'm getting into.Those super super fun details I think.Can happen.Next time and I just want to thank.Everyone for being here. yeah and welcome back protocol.Meetings hello 2021.Thanks everybody thanks bye bye.Everybody.
