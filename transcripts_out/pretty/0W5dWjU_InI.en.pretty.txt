 so these protocol discussions are.Where we have go over caps which are.Core advancement proposals these are.Basically specifications for how to.Update Stellar core and the Stellar.Protocol in order to implement new.Features and make major changes. any CAP actually goes through a.Process where it's drafted it's.Discussed in open on the Stellar Dev.Mailing list which you can join and then.Eventually it's brought to this meeting.When it's time for a synchronous.Discussion all caps go through a review.Process get vetted and eventually before.They're approved there there's.A pretty lengthy engagement with the the.Greater Stellar ecosystem. finally when they are approved they.Actually get bundled up into a new major.Protocol release and before that.Protocol release actually hits the.Network goes live on the network.Validators have to agree to accept that.Change so there is also a validator.Governance. step that's required before the.Actual turning on of a new feature on.Stellar. So lately we have not had that many.Protocol meetings and that's because.We've been I'm just gonna see if I can.Invite some people up to speak . and that is because the the Caps.That we've been working on relate to.Sorobon which is the smart contracts.Platform that we're building that will.Bring smart contracts to Stellar and a.Lot of work has been done on the.Implementation side right so earlier.This year we were talking through about.Eight caps and for now we've sort of.Worked on implementation of those we.Have launched them on the futurenet so.If you're listening to this and you want.To experiment with saurabhan you can on.A Dev Network a Dev test Network that.Exists right now. but today we do have a discussion.That we want to have around a CAP which.Hit the mailing list there were some.Changes that hit the mailing list.Earlier actually I think yesterday.And so that CAP is capped 46-06 smart.Contract standardized asset there's a.Link to the actual CAP in the show notes.Or in the event description so if you.Want to follow this discussion which.Will be technical I definitely advise.Reading the CAP we're going to get into.The details today.And so I is there anyone else who needs.To be brought up to the stage I guess we.Can go ahead and start and we can bring.People on stage as necessary I think to.Start with CAP 4606. so Darth do you want to just start.Out by talking a little bit about the.Cap by walking through the changes and. just sort of set up the discussion.For the rest of the meeting.Yeah I can do that so this CAP is.About a standardized token contract .On Soroban or what we call now the the.Built-in token contract. and you know we already have an.Initial implementation of this that.People are using on feature net and this.Cap has been out for a while but I'll go.Over the recent changes at a high level. so the most significant one is that.The token balances have been updated.From. bigint to u128 and again these.Are just updates of the CAP not the.Actual implementation yet. approve the approved function was.Replaced with increased allowance and.Decreased allowance methods there are.Some naming changes to make sore Bond.Terminology match up with Stellar.Classic like burn was change the.Cloud back for use of the authorize.Unfreeze to authorize. we allow the admin to disable.Clawback along with rules on how it's.Set for wrapped assets.And then there's this wasn't explicitly.Out of the CAP it was in the mailing.List discussions around how auth.Required should be handled and I had two.Ideas there that we can discuss. and it sounds like author bride is.Something that we will need to handle. yeah so does anyone have any.Questions.Russians comments.Yeah.It started something simple the.Naming conventions I understand they.Align with with Stellar classic do.They also align with. the you know the greater kind of like.Cryptocurrency ecosystem and equivalent.Contracts on say. ethereum.So the burn to clavac the that that.Actually matches up with erc20 for.Example just burn on the OpenZeppelin.Erc20.Standard actually refers to a user.Burning their own balance which is not.What burn does it does in the total.Contract today in the sermon tone.Contract that matches clawback. for freeze unfreeze.. it.This is a question we had it was like I.I switched it to authorized the author.Just because we want to be we want.Clawback to be able to be used on Frozen.Balances and we didn't want someone to.Make the assumption that a you know a.Frozen balance can change because it can.Through callback.I believe on on the ethereum side.It's actually called I think it's blue.It's not possible and you unpause it .So it's a little different from that .Do you have concerns over those.Differences. yeah I think the.The the blacklistable contracts that for.Example uscc adheres to actually use as.A completely different language which is. blacklisting. which yeah its own issues.Yeah that's unique to usdc right that's.Not even you know.Like like a common erc20 implementation. that's a good question I haven't.Looked at others.I'll I'll take a look at that.Okay yeah I definitely think that it.Makes sense to just like choose.Something and then go with it but.Maybe just like survey the ecosystem and.And make sure that there are no.Standards that were.Overlooking it doesn't look like we have.Okay. you mentioned some. the the issue with auth required and.Potential Solutions can you talk a.Bit about. a what the issue is to reiterate.That and what are some potential.Solutions.Yeah so currently on solar classic if.The issuer has has the auth required.Flag set any new trust line will be.Deauthorized by default. and the reason for this is that you.Know the issuer may want to verify the.The owner of the trust line to make sure.That you know they can go they go.Through kyc and you know you go through.You pass whatever regulations that they.Need to and then you enable the the.Trust line and they can do what they.Want that concept does not exist at.The moment in the built-in token.Contract so if you've sent to a New.Balance if you send an asset that is.Author card on the classic side that's.Wrapped and so our body you send it to a.New balance that this new entity can.Receive it and this breaks the you know.The author required semantics so the one.Idea I had was that in in the Tome.Contract.There are no balances by default in the.Beginning.And they only exist once they are you.Know once it's actually written into.A ledger entry.And so you can kind of you can treat.That right as.The initialization of the balance.My idea was to tie like when you do that.New like the when you create this New.Balance you check the issuer.And if it does exist then you block it.And you require the issue explicitly.Proves that trust all right it's not.That trust line approves that balance or.That identifier before it's created. there are some issues around this.Related to. how you would actually indicate that.It's authorized but this is like that's.That's the best idea I have so far the.Other one is to just not allow it's just.Disable add-on controls or not admin.Controls on sarban contract. for wrapped assets that that have .Auth required set but this makes it much.More difficult for author guard.Assets to be used on seller I'm sorry.But I'm sorry.There's also an maybe an ax-like.Approach in which we just don't enable.Sorobond. like importing exporting at all to.Off acquired assets.That's true but I.Jake has mentioned that there are.Some partners that are off the choir.That want to participate in Soroban so.That wouldn't be possible in that case. it depend you know it depends on what.We what we want to do with those assets.Are there drawbacks to the first.Approach that you outlined.It adds it just adds some complexity .Like for example how do you store this I.Made this change in the CAP but it.Actually isn't ideal where before we had.This a flag for when things are frozen.Which is not the normal case so.If you never freeze the balance in the.Current tone contract you never write.This extra Ledger entry but that writes.A specific flag but I changed the CAP to.Write the authorized flag so every.Balance will have a new entry that says.Authorized so which is not necessary .By default for.Non-auth required assets I have an idea.To fix this you know you can tie the.Balance and this flag in a single Ledger.Entry. but it just it just adds some.Complexity but I but I think we do.Need to either not allow author required.Assets in Soroban or.You know allow them using using a.Mechanism like this. so I feel like if you want to allow.Author required that's a story about.Like this is probably the best or.Something similar is the best thing we.Can do it I said just to be on the same.Page this means we effectively increase.The complexity of the these rap token.Contracts but the standard token.Contract that you can still. you know like issue that's pure.Sorobond does it also inherit these.Complexities. I think we can we can do it in a way.Where it doesn't right like it if.Because you can if you can tell that.It's a wrap token contract and in that.Case then you can. check the issuer and check them out.The required but if if it's not a.Wrapped token then you can ignore all of.This right.And from a contract developer's.Perspective that wants to interact .From their perspective it's just the.Standard like are we changing the.Standard token interface. or from their perspective it's just.Another erc20 like standard token. implementer. the interface shouldn't have to.Change maybe the semantics around.Authorization the authorization would I.Think we can do it in a way where it.Wouldn't it would be transparent to .Soroban tokens.That make sense.Yes.One thing I'll just say quickly is that.You know in today's today on the.Network the assets that use author.Required they. there are a lot of account holders.But we are seeing organizations that are.Looking to have health required assets.Be used on soar bomb balls so used by a.Fairly large audience so I would.I don't know if you know going forward.With an approach where.Arth required assets just simply aren't.Usable on Soroban is is I mean we could.Do it. but it's going to cut off some some.Use cases or for organizations that. you know from a Regulatory Compliance.Perspective like need to have that.This requirement kyc like holders before.Holding their asset.So Jake just to be on the same page like.You're saying that there is a group of.Issuers that is growing and is. author required or planning to issue.Author card assets. and out of this group there is a.Non-trivial..Subgroup that is interested in having.Their assets.Available and and for like Defiance.Orban exactly yeah we have a partner.Today that's looking to. you know participate in like amms.And. and other like deep iconstructs on.Sorbon but the asset they would like to.To use. they are planning on using author.Required.Okay one one aspect of this which I.Think is a good thing but it's good to.Know is if you go to the first approach.I mentioned the issuer will need to.Approve any address and any any.Identifier on SOROBAN that wants to.Accept the balance so even if it's like.A liquidity pool the issuer must you.Know approve that that liquidity pool's.Address in the token contract.Yeah understood I think that's actually.Exactly what they're looking for yeah.There are a couple questions in the live.Chat too I don't know if you want to.Take a look at them sit or you want me.To just read them out.Let's see.So where's the .Yeah I well one is oh yeah yeah.And then if you look below that there's.Some there's three there's a yeah two.Questions so for Quebec.Sorry tomorrow do you wanna go.Yep.Okay clawback is .I think it's it's something we wanted to.Support because it's supported on the .The classic side and right if you have a.An asset that is clawbackable. on classic and you move it over to.Sorbon then you know it's a control you.Want to give the issue and it can be it.Can be disabled. I do agree that quadak versus Burns.Is a little confusing we don't actually.Like the CAP doesn't specify a burn in.The ERC 20 cents. and maybe it should right now.I think that like what you could do is.Send to a zero u25519 address but maybe.That's not sufficient. but I agree maybe we can I can.Think about like naming differences.There a little more. so for the.So vermouth's question for the decimals.I agree so yeah the CAP is actually.Missed I believe it's missing decimals.For the.The non-wrapped case. and the idea there was that you.Know you the user could specify whatever.Whatever they want but we should specify. a standard and I don't we haven't.Discussed that yet this still depends on.The discussion that you know we moved.From big into U1 128 but I think there's.Still some .Discussions have to go on there with.What we think a default decimal should.Be. so.Maybe we can start by is there anyone.That objects to u128 as the as a.Standard token contract. number type.Okay going gone.Okay and so that's moot's next question.For the auth required Solutions when we.Run into weird situations where only.Stellar accounts can participate or.Other non-auth required built-in tokens.Support Stellar accounts contracts and.Basic 825519 keys.I.I can't think of a reason why this would.Happen off the top of my head there's.No.Difference.You know this author required mechanism.That I mentioned and a identifier that.Is.Is the authorized so I'm not I can't.Think of an example like this if you.Have one let me know and I can.Think about that. what about looking at wrapped smart.Contract as an on off ramp I'm not sure. what that what that means.Lee.Yeah I'm just thinking about the term.Callback and and you know if that is a.Problematic term I mean it's I feel like.The term is understood in other.Financial. ecosystems but maybe yeah if it if.It's not a good term to be using sort of.Going forward in a in a blockchain world.Here would it be termed because do you.Think if if we said that the admin could.Do a transfer from one from any account.To any account like it's sort of the.Same thing as clawback. and it's sort of maybe bad to do that.Because we're overloading an operation.That can suddenly do.Something that might be surprising. yeah I'm one way to like try to.Eliminate that term without needing to.Replace it.Yeah I mean that sounds. like a little more complex right. it's not even the same thing because.In club in the cloud back the balance.Gets burned right which is how it works.On classic and currently in the token. in your example it wouldn't get.Burned right it would get sent to.Another address I guess you could send.It to the zero eighty two five five one.Nine key. I think this is something we should.Discuss because to me you know clawback.Already exists on Stellar right so and.It works.Almost the same on Soroban so it made.Sense to me to to change the name but .If enough people it like I think it's.Something we should discuss.Yeah I'm yeah I'm not I personally think.Clawback's probably fine because we.Already have that definition and I think.It sounds like the folks who are.Planning to use. this today already understand what it.Means. sorry I have a bit of a question on a.Tangent to why you just mentioned you.Said that. so callback.What so on Stellar if you transfer to the.Issuer you're essentially burning.Because the answer disappears because.The issue can't hold the balance of the.Asset the issue what happens if you.Transfer to the admin I get the or.Transferred to the issuer. on the sorbin.Ation.It doesn't get burnt it just it updates.The issue with balance like the issue or.The admin account doesn't have.Any exception when it comes to like.Transfers or anything like that.Big other things.So.Authorized trust and inheritance classic.In case you need a slower account detain.Authorized flag so that that is how it.Works on classic like you need the.Trust line to to get authorized by the.Issuer. and on Soroban we would imitate the.Same at the the admin or the the admin.On sorbond would need to explicitly.Authorize.On Soroban we'll have we have this.Method called authorize and we'll.Authorize that balance.Does that answer your question oops.And I the the naming there.Like maybe you need to think about that.Some more about the fact that there's.You know you have you can authorize it.On classic I mean also authorize on.Sorbond but server authorization doesn't.Work the same like it's much simpler.Than.Design.Could you elaborate what's the.Differences just so we're all clear on.That yeah so you know in classic you.Can there's a lot of different levels.Of authorization that's what I mean.You can have you know fully.Authorized through the authorized you.Can be .You can authorize to maintain.Liabilities right maintain offers and.Liquidity pool deposits but you can't.Do anything with your balance.And I believe there's also a flag that.Says you can actually cloud back from.The.Trust line and that flag is.Maintained.Currently in the proposal in Soroban.Like the clawback flag but it's at the.Contract level and not at a balanced.Level because my the thought process.Was I don't think it needs to be at the.Balance level and it would add a lot.More complexity. but yeah those are the differences.All right any any other questions any.Concerns.Do you have the answers that you need to.Move forward.I believe I do so before the author.Choir solution I think I need to.Rework what I have a little bits to make.Sure that the. the non-wrap scenario doesn't doesn't.Change or get any worse. other than that it doesn't sound like.Oh that and I need I should like naming.Right looking at burnt versus clawback.In the ecosystem. yeah about other than those two.Things I don't think there's anything.Else.I need to look at.Well I think there is maybe like a.Symmetry question there right like .That I was just thinking about that is.When I think of the building token.Contract versus the more generic .Interface right that we are exposing.That people can use when they. implement the the contract.Isn't there like if we have like this.Auth required thing right like it.Basically limits.The the the way you can. do payments right from the outside.So like is.Is that pointing to like a.I don't know like having .It's basically an implicit. like .Like yeah like hook you know I know the.Original CAP had like this like.Section on cooks are evil you know we.Should never do that but at the same.Time this looks like actually like a.Hook to me that happens to be a.Classic hook. and I'm just wondering like when we.Say also that people that are that.Are today. looking at implementing Earth.Required assets want to.Move some of the functionality into.Soroban.Are they really going to be satisfied.With those limited semantics as opposed.To I know like a lot of the the things.That people were asking in the past.Around programmatic you know being able.To basically control the flow of assets.Was hey I want to put limits you know on. on transaction on transactions.Like you know you can only move ten.Thousand dollars a day or whatever right.Like things like that.So yeah wondering about that where.Does that fit in this picture.The you know the first requirement at.Least I was that I was following is that.You you'd like to be able to support.Anything that can happen on classic. in SOROBAN right in the bold and tone.Contract which is the you know the goal.Of adding support throughout the.Acquired and clawback. what you're saying is an interesting.Idea adding hooks to soak admin's .Can customize what happens but one.You know one concern there is.You would you would end up executing.Like the the one of the nice things.With the built-in tone contract is built.In right it doesn't execute wasn't but.If you have these hooks they would be in.Wasm right so you would you take the.Performance set. and in that case I don't know you.Could argue that.They should you should be using a.Different tone contract altogether like.One that just adheres to the interface. do you agree on that.You mean like yeah yeah I guess like as.Soon as you have hooks you can't do like.A classic payment for example because.You're bypassing the hook is that what.You're talking about.I'm I'm not sure what you mean by that.I'm saying that if you add a hook the.Hook would be in wasn't right.Like you've called into another contract.Yeah so for the built-in yeah I guess.For like the default Behavior you.Would yeah he would just call the.Built-in token contract that would have.A default implementation right to.Implement those what required type of.Semantics but.I could see.Like the need for maybe like final.Control in general and .Oh the Fire Control that we would.Provide later on.Or that like anything issuers would want.To yeah to have.I guess maybe those end up just being.Like separate you know they are not.Using the built-in token contract at.That point so that's kind of what I'm.Trying to wonder I'm wondering about is.Like those use cases without required.Assets in suraban.They are not people are not going to be.Able to actually implement.I think the type of things that I'm.Looking after that is like like I.Said like people asked before the the.Feature requests are on the the hooks.Were things like maximum our.Conditions on the transaction right like. not just it was not just a flag it.Was basically like you know open-ended.Type of conditions.And then use the built-in token contract.Which may be okay but you know I then.I'm kind of questioning the.Are you talking about from the.Perspective on net new issuers or from.The perspective of existing issuers that.Want to introduce. new constraints or like new yeah.That's kind of I'm just wondering like.Like the people that have like those .Like as out required assets.If they think that they can basically.Over time add more conditions this is.Actually not going to work.Right you got it so to some extent I.Hear like a question to Jake if it's.Still here which is. you know these new issuers that are.Coming on board and are interesting and.Auth required assets maybe the.Solution for them.Is to actually issue a custom contract.On SOROBAN rather than.An off-acquired acid on classic and kind.Of like trying to constrain it to be.What they want it to be.Yeah we we've talked about you know.Something similar with like regulated.Assets assets that need much more.Defined Grant control. and in those cases I think it makes.Sense to to use a new token contract.All right the middle to the built-in.Tone contract can't do everything right.And I don't think adding these I don't.Think adding these hooks is a good idea.Into the built-in token contract. yeah just my opinion.Yeah I think their position should be.That if you want these type of .Conditions and restraints you should.Definitely deploy your own. contract that adheres to the standard.Token interface you know assembly that.We're seeing in ethereum and other.Ecosystems.Okay so let me. you know said I think we're we're at.A relatively good place with this with.This cap. I do think there's a.There's like this parallel discussion.That probably hasn't matured to bringing.It up right now on. you know this versus like a more.Discussions you know we we abandoned.A few months ago to make progress but we.Need to go back to in terms of. you know single balance versus two.Balance approach. but I think we need to have a better.Understanding of what the.Possibilities are there. before we can actually.Make like a. you know like the go-ahead decision.With regards to this specific cap.Yeah I agree.Anything else anyone wants to discuss or.Are we done for the day.Okay cool I think.We might be done. I'm just checking the live chat to.See if there are any unanswered.Questions there's one more from moods.Which is in the event issuers are pushed.To write a custom token contract would.There be any core support to migrate.Between a classic slash custom token.I would I would say no .That's an interesting question but my.Intuition would be that you know you're.Trying to do something that.You know it isn't even supported in.Classic.So it makes sense to be a separate token. but that's something that we need to.Think about more yeah I haven't thought.Much about how you know how these.Custom. token contracts would work.And so this isn't and .Responds to mooch's question on how.These if there would be core support.Between.Class and custom tokens.Yeah I think this is an interesting.Question because with the built-in.Contract that we have now you there.Is a swap essentially a swap capability.You have the import export.Functions which you know allow you to.Essentially swap.A token in classic with one in Soroban.And if we are if the story that we're.Developing. is that if you want to you know be.Able to build.A custom token that provides all these.Custom auth auth required type.Capabilities. I think we do need to have some sort.Of story for how do you replicate that.Import export how do you swap something.That's on classic with something that is.Over on Sovereign so that. because I can imagine that issuers.Even if they want that more custom.Capability on sarban they probably still.Want to get access to things like the.Things on classic like they probably.Don't want to be siled into only the.Sorrow and ecosystem.Yeah that's a good point.And without something without some sort.Of swap capability and without the.Ability to.Because we're not we're not going to.Allow classic operations and solvent.Operations to run in the same.Transaction I think we're talking about.Some sort of off-chain.Swap capability which sort of it's not.Great.Yeah this is something to think about.Like we you know you and I'm not sure.How this would work but you could offer. import export big host functions but.That.That doesn't sound like a good idea to.Me.But .Or do it off chain as like you mentioned. yeah it's something to think about.Any other thoughts.Okay it looks like there's.On.One new one in the live chat from.Demetrio Stellar why not just have.The same sort of one-to-one swap between.The rap classic asset token and the new.Token.Not the best ux but it's doable right.Now. I think you'd have I gotta think.About this you might have issues with.Like how would you do a lot like that.Would have to exist as a.Wait no I'm not I'm not sure how if that.Would work like you would have to call.Import export. and like and like if I write a.Contract right now Custom Contract I.Wouldn't be able to call that right.Well I think the the issuer there would.Be the contract right. kind of .Yeah yeah.Right so you don't actually need special.Anything it just happens that yeah.Like the.That that's true you would have complete.Control over it well it's yeah complete.Control now because you can get the.Authorized but yeah that's true.Okay yeah let me let me think about this.Okay it feels like we're sort of winding.Down here. so I think we're done for the day. thanks Sid for for putting this out.There thanks for answering the questions.Thanks for thinking about it and to.Everyone else. I realized that today's protocol.Discussion was sort of ad hoc and popped.Out of nowhere next year or after.Thanksgiving as as we start to have.These meetings I'll try to be better.About just setting them up more in.Advance. and just being a little bit more.Making people a little bit more aware of.What we're doing what we're talking.About so that everyone can sort of.Get a bit of context for the discussion.Starts but for today. again if you want to sort of keep up.With these discussions join the Stellar.Dev mailing list if you want to read.This particular CAP it's in the cap.Repository which you can find on GitHub.This is CAP 4606 the smart contract.Standardized asset.And with that I will say goodbye to all.Of you thanks.
