hello everyone and welcome to this
hello everyone and welcome to this
week's uh Stella developer meeting today
week's uh Stella developer meeting today
week's uh Stella developer meeting today
um we have the team from blend joining
um we have the team from blend joining
um we have the team from blend joining
us uh for a code walkr in support of
us uh for a code walkr in support of
us uh for a code walkr in support of
their exciting news security Initiative
their exciting news security Initiative
their exciting news security Initiative
for the Stell ecosystem I'm Carson as
for the Stell ecosystem I'm Carson as
for the Stell ecosystem I'm Carson as
usual from the SDF Dev team and um and
usual from the SDF Dev team and um and
usual from the SDF Dev team and um and
Alex will join us from script 3 and amen
Alex will join us from script 3 and amen
Alex will join us from script 3 and amen
from Satur uh to set the stage here uh
from Satur uh to set the stage here uh
from Satur uh to set the stage here uh
blend is getting ready to launch their
blend is getting ready to launch their
blend is getting ready to launch their
blend V2 and in preparation for that
blend V2 and in preparation for that
blend V2 and in preparation for that
they're opening up that code and for
they're opening up that code and for
they're opening up that code and for
groundbreaking
groundbreaking
groundbreaking
$125,000 in usdc competition focused on
$125,000 in usdc competition focused on
$125,000 in usdc competition focused on
securing lend V2 through both a
securing lend V2 through both a
securing lend V2 through both a
competitive auditing and a formal
competitive auditing and a formal
competitive auditing and a formal
verification this is the first ever open
verification this is the first ever open
verification this is the first ever open
competition competitive audit and formal
competition competitive audit and formal
competition competitive audit and formal
uh verification competition within the
uh verification competition within the
uh verification competition within the
Stella ecosystem so it's an amazing
Stella ecosystem so it's an amazing
Stella ecosystem so it's an amazing
opportunity for Stella devs to try their
opportunity for Stella devs to try their
opportunity for Stella devs to try their
hand on competing to find bugs and write
hand on competing to find bugs and write
hand on competing to find bugs and write
formal verification rules I just get
formal verification rules I just get
formal verification rules I just get
more familiar with blend in general so
more familiar with blend in general so
more familiar with blend in general so
um I'll post a link to how to sign up
um I'll post a link to how to sign up
um I'll post a link to how to sign up
for the competition the competition
for the competition the competition
for the competition the competition
started this Monday so it is open uh but
started this Monday so it is open uh but
started this Monday so it is open uh but
let me now introduce
let me now introduce
let me now introduce
Alex hello thanks for having me welcome
Alex hello thanks for having me welcome
Alex hello thanks for having me welcome
Alex
um do you just let me know when I am
um do you just let me know when I am
ready to get running go ahead you are
ready to get running go ahead you are
ready to get running go ahead you are
all right perfect your screen all right
all right perfect your screen all right
all right perfect your screen all right
thank you uh so yeah I am Alex you might
thank you uh so yeah I am Alex you might
thank you uh so yeah I am Alex you might
see me online as mots2 and I'm the lead
see me online as mots2 and I'm the lead
see me online as mots2 and I'm the lead
developer at script 3 and we developed
developer at script 3 and we developed
developer at script 3 and we developed
uh blend which is a universal liquidity
uh blend which is a universal liquidity
uh blend which is a universal liquidity
protocol primitive uh just a quick
protocol primitive uh just a quick
protocol primitive uh just a quick
overview what we're going to run through
overview what we're going to run through
overview what we're going to run through
we might go a wee bit fast because
we might go a wee bit fast because
we might go a wee bit fast because
there's a lot of stuff to cover um but
there's a lot of stuff to cover um but
there's a lot of stuff to cover um but
I'll give you guys a quick for those who
I'll give you guys a quick for those who
I'll give you guys a quick for those who
aren't familiar uh just a quick
aren't familiar uh just a quick
aren't familiar uh just a quick
breakdown of what blend is um how the
breakdown of what blend is um how the
breakdown of what blend is um how the
actual contracts all work together um
actual contracts all work together um
actual contracts all work together um
and then I'll run into the code and kind
and then I'll run into the code and kind
and then I'll run into the code and kind
of the main thing I'll try and focus on
of the main thing I'll try and focus on
of the main thing I'll try and focus on
uh for those uh doing the auto
uh for those uh doing the auto
uh for those uh doing the auto
competition is really going to be um how
competition is really going to be um how
competition is really going to be um how
we test blend and specifically if there
we test blend and specifically if there
we test blend and specifically if there
is some kind of bug or thing you found
is some kind of bug or thing you found
is some kind of bug or thing you found
within blend V2 uh kind of some tips and
within blend V2 uh kind of some tips and
within blend V2 uh kind of some tips and
tricks on how you it might be a bit
tricks on how you it might be a bit
tricks on how you it might be a bit
easier to prove um that something is in
easier to prove um that something is in
easier to prove um that something is in
fact wrong um so yeah blend is a
fact wrong um so yeah blend is a
fact wrong um so yeah blend is a
universal liquidity protocol primitive
universal liquidity protocol primitive
universal liquidity protocol primitive
and what does that mean uh basically
and what does that mean uh basically
and what does that mean uh basically
blend is a tool that allows uh you know
blend is a tool that allows uh you know
blend is a tool that allows uh you know
companies people who are crypto natives
companies people who are crypto natives
companies people who are crypto natives
really any entity that wants a lending
really any entity that wants a lending
really any entity that wants a lending
Market to actually go ahead and have one
Market to actually go ahead and have one
Market to actually go ahead and have one
um so lending markets the crypto are
um so lending markets the crypto are
um so lending markets the crypto are
just places where people can uh land in
just places where people can uh land in
just places where people can uh land in
BIO assets from each other and one thing
BIO assets from each other and one thing
BIO assets from each other and one thing
that blend does is blend basically comes
that blend does is blend basically comes
that blend does is blend basically comes
with an automatic back stop module which
with an automatic back stop module which
with an automatic back stop module which
acts as uh Insurance bad debt protection
acts as uh Insurance bad debt protection
acts as uh Insurance bad debt protection
and also scam protection and and these
and also scam protection and and these
and also scam protection and and these
things these are funded by anyone uh and
things these are funded by anyone uh and
things these are funded by anyone uh and
kind of the way this all works together
kind of the way this all works together
kind of the way this all works together
is the pool will give some portion of
is the pool will give some portion of
is the pool will give some portion of
the interest it generates out to the
the interest it generates out to the
the interest it generates out to the
back stop module such that it can
back stop module such that it can
back stop module such that it can
provide uh that that layer of insurance
provide uh that that layer of insurance
provide uh that that layer of insurance
for the
for the
for the
protocol um that's just a really brief
protocol um that's just a really brief
protocol um that's just a really brief
intro as to what blend does um I want to
intro as to what blend does um I want to
intro as to what blend does um I want to
touch on first uh actually how the
touch on first uh actually how the
touch on first uh actually how the
contracts all work together since been
contracts all work together since been
contracts all work together since been
looking at this from a security
looking at this from a security
looking at this from a security
perspective knowing how uh the main
perspective knowing how uh the main
perspective knowing how uh the main
components of blend interact um is
components of blend interact um is
components of blend interact um is
pretty vitol so kind of the really like
pretty vitol so kind of the really like
pretty vitol so kind of the really like
Cornerstone part of blend is the emitter
Cornerstone part of blend is the emitter
Cornerstone part of blend is the emitter
contract uh this doesn't have very many
contract uh this doesn't have very many
contract uh this doesn't have very many
responsibilities it's core one is going
responsibilities it's core one is going
responsibilities it's core one is going
to roughly Define the admin protocol
to roughly Define the admin protocol
to roughly Define the admin protocol
token in this case is blend um secondly
token in this case is blend um secondly
token in this case is blend um secondly
it's responsible for defining the back
it's responsible for defining the back
it's responsible for defining the back
stop module now the back stop module is
stop module now the back stop module is
stop module now the back stop module is
like I said earlier the contract that
like I said earlier the contract that
like I said earlier the contract that
basically holds all of the insurance
basically holds all of the insurance
basically holds all of the insurance
funds for the blend pools uh insurance
funds for the blend pools uh insurance
funds for the blend pools uh insurance
in this case are going to be um blend
in this case are going to be um blend
in this case are going to be um blend
usdc LP tokens so there is a common amm
usdc LP tokens so there is a common amm
usdc LP tokens so there is a common amm
it's for those familiar with evm it's
it's for those familiar with evm it's
it's for those familiar with evm it's
basically balancer um but it's just an
basically balancer um but it's just an
basically balancer um but it's just an
LP token for blend
LP token for blend
LP token for blend
usdc um its main responsibility is it
usdc um its main responsibility is it
usdc um its main responsibility is it
actually controls the state of the pool
actually controls the state of the pool
actually controls the state of the pool
so if you have a lending market and
so if you have a lending market and
so if you have a lending market and
there's a back stop module the back stop
there's a back stop module the back stop
there's a back stop module the back stop
module actually has the ability to turn
module actually has the ability to turn
module actually has the ability to turn
the pool on and off so for example if
the pool on and off so for example if
the pool on and off so for example if
something happens to a pool or it gets
something happens to a pool or it gets
something happens to a pool or it gets
exploited some Oracle goes wrong um the
exploited some Oracle goes wrong um the
exploited some Oracle goes wrong um the
back stop module actually has the
back stop module actually has the
back stop module actually has the
ability to disable borrowing for the
ability to disable borrowing for the
ability to disable borrowing for the
pool um secondly it's also the first
pool um secondly it's also the first
pool um secondly it's also the first
less capital in the event of any bad
less capital in the event of any bad
less capital in the event of any bad
debt and uh those that might not know
debt and uh those that might not know
debt and uh those that might not know
bad debt is basically the case where um
bad debt is basically the case where um
bad debt is basically the case where um
a user has liabilities and they have no
a user has liabilities and they have no
a user has liabilities and they have no
collateral to cover it so the protocol
collateral to cover it so the protocol
collateral to cover it so the protocol
has to take a loss on that debt um
has to take a loss on that debt um
has to take a loss on that debt um
secondly it also manages the blend
secondly it also manages the blend
secondly it also manages the blend
emissions so the protocol basically
emissions so the protocol basically
emissions so the protocol basically
starting from the emitter blend tokens
starting from the emitter blend tokens
starting from the emitter blend tokens
will get sent to the back stop module
will get sent to the back stop module
will get sent to the back stop module
and it's the back stop module's
and it's the back stop module's
and it's the back stop module's
responsibility to send it to all of the
responsibility to send it to all of the
responsibility to send it to all of the
pools within the blend
pools within the blend
pools within the blend
ecosystem um within the backstop module
ecosystem um within the backstop module
ecosystem um within the backstop module
uh it also defines a pool Factory uh
uh it also defines a pool Factory uh
uh it also defines a pool Factory uh
this thing drops pretty simple it's a
this thing drops pretty simple it's a
this thing drops pretty simple it's a
contract that contains a pool wasum and
contract that contains a pool wasum and
contract that contains a pool wasum and
for any pool that's created uh this is
for any pool that's created uh this is
for any pool that's created uh this is
the thing that validates that this is in
the thing that validates that this is in
the thing that validates that this is in
fact a blend pool and it is the exact
fact a blend pool and it is the exact
fact a blend pool and it is the exact
contract that we expect to be deployed
contract that we expect to be deployed
contract that we expect to be deployed
um and then the meat and potatoes of the
um and then the meat and potatoes of the
um and then the meat and potatoes of the
protocol is going to be the actual pool
protocol is going to be the actual pool
protocol is going to be the actual pool
uh this is kind of the sort of a part of
uh this is kind of the sort of a part of
uh this is kind of the sort of a part of
the part of the whole protocol um it is
the part of the whole protocol um it is
the part of the whole protocol um it is
the place where people can go and lend
the place where people can go and lend
the place where people can go and lend
and borrow reserves um so there's tons
and borrow reserves um so there's tons
and borrow reserves um so there's tons
of different ways you can set things up
of different ways you can set things up
of different ways you can set things up
uh but this is kind of the place where
uh but this is kind of the place where
uh but this is kind of the place where
um all the lending and borrowing occurs
um all the lending and borrowing occurs
um all the lending and borrowing occurs
and kind of where most user interaction
and kind of where most user interaction
and kind of where most user interaction
will end up taking
will end up taking
will end up taking
place um so I know that was really fast
place um so I know that was really fast
place um so I know that was really fast
but hopefully is this is being recorded
but hopefully is this is being recorded
but hopefully is this is being recorded
right
Caren I think it is I'll take that as a
Caren I think it is I'll take that as a
yes um y it's recorded perfect so yeah
yes um y it's recorded perfect so yeah
yes um y it's recorded perfect so yeah
we can go we can go probably go back and
we can go we can go probably go back and
we can go we can go probably go back and
watch that over if anything was missed
watch that over if anything was missed
watch that over if anything was missed
and I'm also available on Discord if uh
and I'm also available on Discord if uh
and I'm also available on Discord if uh
you want to ask further questions um but
you want to ask further questions um but
you want to ask further questions um but
we will jump to the actual codes since
we will jump to the actual codes since
we will jump to the actual codes since
that's probably what a lot of you all
that's probably what a lot of you all
that's probably what a lot of you all
are interested in
are interested in
are interested in
um so I'll give a quick breakdown of how
um so I'll give a quick breakdown of how
um so I'll give a quick breakdown of how
contracts actually um exist in soron and
contracts actually um exist in soron and
contracts actually um exist in soron and
then we can start trying to dig through
then we can start trying to dig through
then we can start trying to dig through
some of how this how our codes actually
some of how this how our codes actually
some of how this how our codes actually
tested um so for those that aren't
tested um so for those that aren't
tested um so for those that aren't
familiar um The Way We have set up our
familiar um The Way We have set up our
familiar um The Way We have set up our
soron repository is you'll notice that
soron repository is you'll notice that
soron repository is you'll notice that
all of the core contracts that I talked
all of the core contracts that I talked
all of the core contracts that I talked
about earlier are located within their
about earlier are located within their
about earlier are located within their
own folder so for example all the code
own folder so for example all the code
own folder so for example all the code
for the back stops within the back stop
for the back stops within the back stop
for the back stops within the back stop
folder pool within the pool pool Factory
folder pool within the pool pool Factory
folder pool within the pool pool Factory
Etc
Etc
Etc
um each contract has a contract. RS file
um each contract has a contract. RS file
um each contract has a contract. RS file
this is really the entry point and
this is really the entry point and
this is really the entry point and
interaction point for the contract so um
interaction point for the contract so um
interaction point for the contract so um
you'll you you'll notice that in soran
you'll you you'll notice that in soran
you'll you you'll notice that in soran
there are these macros contract contract
there are these macros contract contract
there are these macros contract contract
client these are really the things that
client these are really the things that
client these are really the things that
defined how users actually can call into
defined how users actually can call into
defined how users actually can call into
the contract so anything that's public
the contract so anything that's public
the contract so anything that's public
facing um is part of this part of this
facing um is part of this part of this
facing um is part of this part of this
trait and will be implemented for the
trait and will be implemented for the
trait and will be implemented for the
back stop contract stru um this is also
back stop contract stru um this is also
back stop contract stru um this is also
the location where where we probably
the location where where we probably
the location where where we probably
have all of the most user-facing
have all of the most user-facing
have all of the most user-facing
documentation for each of the functions
documentation for each of the functions
documentation for each of the functions
so if you're ever curious about uh
so if you're ever curious about uh
so if you're ever curious about uh
what's available on a contract what the
what's available on a contract what the
what's available on a contract what the
arguments mean um this file will be the
arguments mean um this file will be the
arguments mean um this file will be the
place where they're documented
place where they're documented
place where they're documented
um so yeah and there's also a contract
um so yeah and there's also a contract
um so yeah and there's also a contract
implementation macro so this will be the
implementation macro so this will be the
implementation macro so this will be the
place where a a Constructor is defined
place where a a Constructor is defined
place where a a Constructor is defined
um so this is basically called when the
um so this is basically called when the
um so this is basically called when the
contract's first deployed and can never
contract's first deployed and can never
contract's first deployed and can never
be invoked again and there's also the
be invoked again and there's also the
be invoked again and there's also the
back stop trait implementation for the
back stop trait implementation for the
back stop trait implementation for the
contract and this is where all of our
contract and this is where all of our
contract and this is where all of our
code is basically getting defined so
code is basically getting defined so
code is basically getting defined so
everything in here is um exposed for
everything in here is um exposed for
everything in here is um exposed for
anyone on the blockchain to interact
anyone on the blockchain to interact
anyone on the blockchain to interact
with uh the way we structured things is
with uh the way we structured things is
with uh the way we structured things is
we generally do all of the
we generally do all of the
we generally do all of the
authentication that's required to um use
authentication that's required to um use
authentication that's required to um use
the use the contract here and then we
the use the contract here and then we
the use the contract here and then we
actually perform all of the logic in a
actually perform all of the logic in a
actually perform all of the logic in a
second helper function so that we can
second helper function so that we can
second helper function so that we can
better unit test the code as a whole um
better unit test the code as a whole um
better unit test the code as a whole um
so you'll notice if you're ever looking
so you'll notice if you're ever looking
so you'll notice if you're ever looking
for authentication things um you you'll
for authentication things um you you'll
for authentication things um you you'll
notice that all of the O actually takes
notice that all of the O actually takes
notice that all of the O actually takes
place here um if you are from the evm
place here um if you are from the evm
place here um if you are from the evm
world o how sorbon does o is probably
world o how sorbon does o is probably
world o how sorbon does o is probably
one of the largest differences um
one of the largest differences um
one of the largest differences um
between the two blockchains um so it is
between the two blockchains um so it is
between the two blockchains um so it is
worth looking into it's it's incredibly
worth looking into it's it's incredibly
worth looking into it's it's incredibly
well documented on
well documented on
well documented on
sorond uh Sor bonds documentation so I
sorond uh Sor bonds documentation so I
sorond uh Sor bonds documentation so I
would highly recommend uh reading
would highly recommend uh reading
would highly recommend uh reading
through how that works um so you and
through how that works um so you and
through how that works um so you and
then you'll also notice that for example
then you'll also notice that for example
then you'll also notice that for example
if I go to where we actually Define the
if I go to where we actually Define the
if I go to where we actually Define the
logic um this is pretty common
logic um this is pretty common
logic um this is pretty common
throughout all of our contracts so we we
throughout all of our contracts so we we
throughout all of our contracts so we we
we'll basically try and wrap all all of
we'll basically try and wrap all all of
we'll basically try and wrap all all of
the logic that's external to
the logic that's external to
the logic that's external to
authentication and stuff within a
authentication and stuff within a
authentication and stuff within a
function and we actually go through in
function and we actually go through in
function and we actually go through in
write unit tests specifically for those
write unit tests specifically for those
write unit tests specifically for those
functions um so this is a pretty good
functions um so this is a pretty good
functions um so this is a pretty good
place to look if you think something uh
place to look if you think something uh
place to look if you think something uh
might be incorrect or wrong or a bug
might be incorrect or wrong or a bug
might be incorrect or wrong or a bug
exists somewhere um this is probably one
exists somewhere um this is probably one
exists somewhere um this is probably one
of the easiest places to start testing
of the easiest places to start testing
of the easiest places to start testing
that and attempting to find um whether
that and attempting to find um whether
that and attempting to find um whether
or not something's wrong and you you'll
or not something's wrong and you you'll
or not something's wrong and you you'll
often find that this is like kind of
often find that this is like kind of
often find that this is like kind of
where most of our unit tests actually
where most of our unit tests actually
where most of our unit tests actually
occur um secondly one thing that we do
occur um secondly one thing that we do
occur um secondly one thing that we do
include within this blend contracts
include within this blend contracts
include within this blend contracts
repository is there's mock contracts and
repository is there's mock contracts and
repository is there's mock contracts and
there's also a test Suites folder um so
there's also a test Suites folder um so
there's also a test Suites folder um so
one thing that's really nice about
one thing that's really nice about
one thing that's really nice about
interacting with
interacting with
interacting with
soron is as I'm using tests you'll
soron is as I'm using tests you'll
soron is as I'm using tests you'll
notice I have rust analyzer installed on
notice I have rust analyzer installed on
notice I have rust analyzer installed on
my fsco but you you you have the ability
my fsco but you you you have the ability
my fsco but you you you have the ability
to step through debug so if you're ever
to step through debug so if you're ever
to step through debug so if you're ever
curious about um what actual values are
curious about um what actual values are
curious about um what actual values are
within a function you're you can use all
within a function you're you can use all
within a function you're you can use all
the rust internal tools to step through
the rust internal tools to step through
the rust internal tools to step through
and actually debug it um if you're like
and actually debug it um if you're like
and actually debug it um if you're like
most developers in the world you're just
most developers in the world you're just
most developers in the world you're just
going to add a whole bunch of print
going to add a whole bunch of print
going to add a whole bunch of print
lines and then run the test that also
lines and then run the test that also
lines and then run the test that also
works fantastic too um but it's it's
works fantastic too um but it's it's
works fantastic too um but it's it's
really nice for example if you do think
really nice for example if you do think
really nice for example if you do think
something's wrong make sure to use the
something's wrong make sure to use the
something's wrong make sure to use the
rust tools and use use all the debugging
rust tools and use use all the debugging
rust tools and use use all the debugging
tools to your advantage we've been able
tools to your advantage we've been able
tools to your advantage we've been able
to find a lot of things internally um
to find a lot of things internally um
to find a lot of things internally um
using those those strategies uh but one
using those those strategies uh but one
using those those strategies uh but one
really important thing I wanted to touch
really important thing I wanted to touch
really important thing I wanted to touch
on especially for L contracts is we have
on especially for L contracts is we have
on especially for L contracts is we have
this giant test Suites folder um we use
this giant test Suites folder um we use
this giant test Suites folder um we use
a lot of this for all of the integration
a lot of this for all of the integration
a lot of this for all of the integration
testing so for example there is a test
testing so for example there is a test
testing so for example there is a test
fixture um this basically just contains
fixture um this basically just contains
fixture um this basically just contains
a whole it's it's basically going to
a whole it's it's basically going to
a whole it's it's basically going to
deploy from a fresh environment a whole
deploy from a fresh environment a whole
deploy from a fresh environment a whole
bunch of contracts and things that exist
bunch of contracts and things that exist
bunch of contracts and things that exist
to basically support a pretty standard
to basically support a pretty standard
to basically support a pretty standard
blend pool um so you'll notice it's
blend pool um so you'll notice it's
blend pool um so you'll notice it's
going to make tokens uh it adds a whole
going to make tokens uh it adds a whole
going to make tokens uh it adds a whole
bunch of users uh it deploys all the
bunch of users uh it deploys all the
bunch of users uh it deploys all the
contracts out for you and you can
contracts out for you and you can
contracts out for you and you can
basically then start from a really good
basically then start from a really good
basically then start from a really good
starting point to actually write an
starting point to actually write an
starting point to actually write an
integration level test um one quick
integration level test um one quick
integration level test um one quick
thing to note here is that if you ever
thing to note here is that if you ever
thing to note here is that if you ever
see an our test uh the user Bombadil um
see an our test uh the user Bombadil um
see an our test uh the user Bombadil um
I'm a bit of a Lord of the Rings nerd so
I'm a bit of a Lord of the Rings nerd so
I'm a bit of a Lord of the Rings nerd so
he is the admin and ruler of everything
he is the admin and ruler of everything
he is the admin and ruler of everything
so he has the power to uh basically mint
so he has the power to uh basically mint
so he has the power to uh basically mint
tokens at will he's kind of the
tokens at will he's kind of the
tokens at will he's kind of the
admin the super key for roughly all of
admin the super key for roughly all of
admin the super key for roughly all of
our tests as well um but how this is
our tests as well um but how this is
our tests as well um but how this is
actually implemented you'll actually
actually implemented you'll actually
actually implemented you'll actually
notice if you look back at some of our
notice if you look back at some of our
notice if you look back at some of our
older audits um we've written
older audits um we've written
older audits um we've written
integration tests after after basically
integration tests after after basically
integration tests after after basically
fixing issues that have been found um
fixing issues that have been found um
fixing issues that have been found um
one of these was an uh inflation attack
one of these was an uh inflation attack
one of these was an uh inflation attack
that I believe uh C Tor found in the
that I believe uh C Tor found in the
that I believe uh C Tor found in the
first audit um but for example this kind
first audit um but for example this kind
first audit um but for example this kind
of walks you through a really good way
of walks you through a really good way
of walks you through a really good way
if you think something does exist that
if you think something does exist that
if you think something does exist that
might have an issue um writing one of
might have an issue um writing one of
might have an issue um writing one of
these level tests is a really really
these level tests is a really really
these level tests is a really really
good way to actually prove whether or
good way to actually prove whether or
good way to actually prove whether or
not it exists uh since this kind of is
not it exists uh since this kind of is
not it exists uh since this kind of is
what at at this level of test this
what at at this level of test this
what at at this level of test this
really is the place where you're going
really is the place where you're going
really is the place where you're going
to have the same level of interaction um
to have the same level of interaction um
to have the same level of interaction um
that someone using the blockchain
that someone using the blockchain
that someone using the blockchain
would um then yeah maybe the last thing
would um then yeah maybe the last thing
would um then yeah maybe the last thing
to note before I switch over to the fev
to note before I switch over to the fev
to note before I switch over to the fev
VA here is you'll notice on the test
VA here is you'll notice on the test
VA here is you'll notice on the test
test fixture when you cre the test
test fixture when you cre the test
test fixture when you cre the test
picture there's a true false um just so
picture there's a true false um just so
picture there's a true false um just so
it's clear uh you have the ability when
it's clear uh you have the ability when
it's clear uh you have the ability when
running rust integration tests to
running rust integration tests to
running rust integration tests to
actually deploy the contracts and use
actually deploy the contracts and use
actually deploy the contracts and use
WMS um so if you want to use the actual
WMS um so if you want to use the actual
WMS um so if you want to use the actual
wasm files that are being deployed um
wasm files that are being deployed um
wasm files that are being deployed um
that's great we do that in plenty of
that's great we do that in plenty of
that's great we do that in plenty of
tests but uh if you do that um rust
tests but uh if you do that um rust
tests but uh if you do that um rust
itself won't actually be able to debug
itself won't actually be able to debug
itself won't actually be able to debug
the code within the wasin packages so if
the code within the wasin packages so if
the code within the wasin packages so if
you're expecting some of the prit lines
you're expecting some of the prit lines
you're expecting some of the prit lines
or um uh line by line de debugging to
or um uh line by line de debugging to
or um uh line by line de debugging to
work you will need to deploy all of the
work you will need to deploy all of the
work you will need to deploy all of the
contracts as rust crates uh that way you
contracts as rust crates uh that way you
contracts as rust crates uh that way you
can use all the unit testing
can use all the unit testing
can use all the unit testing
tools um so yeah that's probably all I'm
tools um so yeah that's probably all I'm
tools um so yeah that's probably all I'm
going to touch on here uh again within
going to touch on here uh again within
going to touch on here uh again within
test Suites and test uh this is tons of
test Suites and test uh this is tons of
test Suites and test uh this is tons of
really good examples on setting up all
really good examples on setting up all
really good examples on setting up all
different kinds of environments um if
different kinds of environments um if
different kinds of environments um if
you want to go through and attempt to
you want to go through and attempt to
you want to go through and attempt to
prove uh that something is
prove uh that something is
prove uh that something is
incorrect um lastly I'm going to also
incorrect um lastly I'm going to also
incorrect um lastly I'm going to also
run through the Fe Vault contract um
run through the Fe Vault contract um
run through the Fe Vault contract um
this
this
this
is basically a uh add-on contract that's
is basically a uh add-on contract that's
is basically a uh add-on contract that's
aimed at wallets uh that will allow
aimed at wallets uh that will allow
aimed at wallets uh that will allow
users to specify either a fixed rate of
users to specify either a fixed rate of
users to specify either a fixed rate of
return or um excuse me a cap rate of
return or um excuse me a cap rate of
return or um excuse me a cap rate of
return so for example if a wallet wanted
return so for example if a wallet wanted
return so for example if a wallet wanted
to offer um say 10% on usdc deposits
to offer um say 10% on usdc deposits
to offer um say 10% on usdc deposits
using blend they can deploy one of these
using blend they can deploy one of these
using blend they can deploy one of these
Fe volts uh if the blend pools returning
Fe volts uh if the blend pools returning
Fe volts uh if the blend pools returning
more than 10% they would keep that extra
more than 10% they would keep that extra
more than 10% they would keep that extra
say it's returning 15% they would keep
say it's returning 15% they would keep
say it's returning 15% they would keep
5% 10% would go to the users um or they
5% 10% would go to the users um or they
5% 10% would go to the users um or they
can just take a fixed interest take off
can just take a fixed interest take off
can just take a fixed interest take off
of all of the interest generated for
of all of the interest generated for
of all of the interest generated for
deposits through this Fe volt um so it
deposits through this Fe volt um so it
deposits through this Fe volt um so it
it works pretty similar similarly to any
it works pretty similar similarly to any
it works pretty similar similarly to any
uh
uh
uh
er uh ERC 4626 function or 4626 Vault
er uh ERC 4626 function or 4626 Vault
er uh ERC 4626 function or 4626 Vault
token um so those that are familiar or
token um so those that are familiar or
token um so those that are familiar or
I've looked at those those kinds of
I've looked at those those kinds of
I've looked at those those kinds of
protocols in the past um this should
protocols in the past um this should
protocols in the past um this should
feel somewhat familiar to you um I did
feel somewhat familiar to you um I did
feel somewhat familiar to you um I did
want to call out one thing you'll also
want to call out one thing you'll also
want to call out one thing you'll also
notice some of the implementation
notice some of the implementation
notice some of the implementation
patterns we use in blend also come over
patterns we use in blend also come over
patterns we use in blend also come over
here um so the only thing that's maybe a
here um so the only thing that's maybe a
here um so the only thing that's maybe a
bit different is this contracts a bit
bit different is this contracts a bit
bit different is this contracts a bit
simpler so you you'll notice we've kind
simpler so you you'll notice we've kind
simpler so you you'll notice we've kind
of there's probably one less layer of
of there's probably one less layer of
of there's probably one less layer of
abstraction there um for you to have to
abstraction there um for you to have to
abstraction there um for you to have to
deal with um most things are documented
deal with um most things are documented
deal with um most things are documented
pretty well in code but if you find
pretty well in code but if you find
pretty well in code but if you find
anything please please feel free to call
anything please please feel free to call
anything please please feel free to call
it out uh you'll notice that in the test
it out uh you'll notice that in the test
it out uh you'll notice that in the test
here it's set up a bit differently so
here it's set up a bit differently so
here it's set up a bit differently so
for example um this is a very long test
for example um this is a very long test
for example um this is a very long test
but we we we mainly are testing the fee
but we we we mainly are testing the fee
but we we we mainly are testing the fee
VA through integration testing uh since
VA through integration testing uh since
VA through integration testing uh since
the contct is a bit similar simpler and
the contct is a bit similar simpler and
the contct is a bit similar simpler and
it relies heavily on the blend the blend
it relies heavily on the blend the blend
it relies heavily on the blend the blend
contracts themselves so you'll notice
contracts themselves so you'll notice
contracts themselves so you'll notice
that we uh we support a blend rust crate
that we uh we support a blend rust crate
that we uh we support a blend rust crate
um that includes all of the blend
um that includes all of the blend
um that includes all of the blend
contracts themselves uh this has been
contracts themselves uh this has been
contracts themselves uh this has been
updated for the exact hash that was
updated for the exact hash that was
updated for the exact hash that was
pushed for the uh Auto competition um so
pushed for the uh Auto competition um so
pushed for the uh Auto competition um so
you'll notice that I
you'll notice that I
you'll notice that I
believe yeah the version is
believe yeah the version is
believe yeah the version is
here um but uh this comes with a very
here um but uh this comes with a very
here um but uh this comes with a very
similar deployment script as the one we
similar deployment script as the one we
similar deployment script as the one we
use within the blend contracts
use within the blend contracts
use within the blend contracts
repository for their integration test so
repository for their integration test so
repository for their integration test so
um let's see if yeah there's a blend
um let's see if yeah there's a blend
um let's see if yeah there's a blend
flixer uh uh deploy function that will
flixer uh uh deploy function that will
flixer uh uh deploy function that will
actually go ahead and create all of the
actually go ahead and create all of the
actually go ahead and create all of the
blend contracts needed to interact with
blend contracts needed to interact with
blend contracts needed to interact with
um a very similar setup as to what blend
um a very similar setup as to what blend
um a very similar setup as to what blend
view1 main it is um so if you do run
view1 main it is um so if you do run
view1 main it is um so if you do run
into anything with the F VA um this is
into anything with the F VA um this is
into anything with the F VA um this is
kind of a great place to look to go
kind of a great place to look to go
kind of a great place to look to go
ahead and try and prove that something
ahead and try and prove that something
ahead and try and prove that something
INF fact is missing or has a bug
INF fact is missing or has a bug
INF fact is missing or has a bug
um so yeah that's probably all I wanted
um so yeah that's probably all I wanted
um so yeah that's probably all I wanted
to touch on I wanted to make sure I left
to touch on I wanted to make sure I left
to touch on I wanted to make sure I left
a little bit of time for Sor to go
a little bit of time for Sor to go
a little bit of time for Sor to go
through the formal verification portion
through the formal verification portion
through the formal verification portion
of the auto competition
of the auto competition
of the auto competition
um but I'll probably leave it there
um but I'll probably leave it there
um but I'll probably leave it there
unless there's anything else you want me
unless there's anything else you want me
unless there's anything else you want me
to touch on Carson great uh let's uh
to touch on Carson great uh let's uh
to touch on Carson great uh let's uh
let's wait and see if there's any
let's wait and see if there's any
let's wait and see if there's any
questions uh at the end but uh thank you
questions uh at the end but uh thank you
questions uh at the end but uh thank you
for the presentation I'm going to invite
for the presentation I'm going to invite
for the presentation I'm going to invite
Shandon Armen on the
stage welcome both of
stage welcome both of
you
you
you
hi um Armen are you there okay yep hello
hi um Armen are you there okay yep hello
hi um Armen are you there okay yep hello
uh you have my screen
uh you have my screen
uh you have my screen
so this is the contest
so this is the contest
so this is the contest
repo um so trra you can let me know yeah
repo um so trra you can let me know yeah
repo um so trra you can let me know yeah
we should walk over sure uh yeah you can
we should walk over sure uh yeah you can
we should walk over sure uh yeah you can
share and I'll I'll just go over it so
share and I'll I'll just go over it so
share and I'll I'll just go over it so
um as Alex mentioned in his uh
um as Alex mentioned in his uh
um as Alex mentioned in his uh
presentation before you know we are
presentation before you know we are
presentation before you know we are
doing this audit and formal verification
doing this audit and formal verification
doing this audit and formal verification
contest for blend and uh while the audit
contest for blend and uh while the audit
contest for blend and uh while the audit
itself you can you know all all of the
itself you can you know all all of the
itself you can you know all all of the
prog the code bases in scope uh for the
prog the code bases in scope uh for the
prog the code bases in scope uh for the
verification part we have a smaller
verification part we have a smaller
verification part we have a smaller
scope because um the the protocol is
scope because um the the protocol is
scope because um the the protocol is
there's a lot of code and so we decided
there's a lot of code and so we decided
there's a lot of code and so we decided
that it would be more tractable and
that it would be more tractable and
that it would be more tractable and
manageable if we tried to focus on one
manageable if we tried to focus on one
manageable if we tried to focus on one
particular part and in particular we are
particular part and in particular we are
particular part and in particular we are
looking at the back stop crate so if you
looking at the back stop crate so if you
looking at the back stop crate so if you
uh go up a little bit in this uh
uh go up a little bit in this uh
uh go up a little bit in this uh
repository so for what it's worth this
repository so for what it's worth this
repository so for what it's worth this
is the repository where all the code is
is the repository where all the code is
is the repository where all the code is
so you can uh clone this repository and
so you can uh clone this repository and
so you can uh clone this repository and
then you can um
then you can um
then you can um
check out all the different crates and
check out all the different crates and
check out all the different crates and
in particular the one that we are
in particular the one that we are
in particular the one that we are
talking about is the back stop as you
talking about is the back stop as you
talking about is the back stop as you
can see Armen has it here um and I want
can see Armen has it here um and I want
can see Armen has it here um and I want
to show the Sora specific stuff so first
to show the Sora specific stuff so first
to show the Sora specific stuff so first
of all uh the the the properties that
of all uh the the the properties that
of all uh the the the properties that
you're going to be writing are going to
you're going to be writing are going to
you're going to be writing are going to
be in the seras specs directory where
be in the seras specs directory where
be in the seras specs directory where
Armen is right now uh I think I have a
Armen is right now uh I think I have a
Armen is right now uh I think I have a
couple of little uh so well now can you
couple of little uh so well now can you
couple of little uh so well now can you
go maybe look at some of the other files
go maybe look at some of the other files
go maybe look at some of the other files
there's a few that I provided um just
there's a few that I provided um just
there's a few that I provided um just
for an example yeah so here's a few
for an example yeah so here's a few
for an example yeah so here's a few
examples of things that you um just to
examples of things that you um just to
examples of things that you um just to
give you an idea for what these uh look
give you an idea for what these uh look
give you an idea for what these uh look
like um and uh so you can notice here
like um and uh so you can notice here
like um and uh so you can notice here
that uh there is this thing called cvlr
that uh there is this thing called cvlr
that uh there is this thing called cvlr
uncore assert uh in all the rules and so
uncore assert uh in all the rules and so
uncore assert uh in all the rules and so
the things that are so that's one uh
the things that are so that's one uh
the things that are so that's one uh
thing I want to talk about a little bit
thing I want to talk about a little bit
thing I want to talk about a little bit
so if you look at line number five this
so if you look at line number five this
so if you look at line number five this
is the uh we we call it Cavalier so
is the uh we we call it Cavalier so
is the uh we we call it Cavalier so
cavaliere is the specification language
cavaliere is the specification language
cavaliere is the specification language
that we've built um it's just a rust
that we've built um it's just a rust
that we've built um it's just a rust
Library so you can import the library
Library so you can import the library
Library so you can import the library
and then you can use the various
and then you can use the various
and then you can use the various
assertions and there which are just
assertions and there which are just
assertions and there which are just
macros uh that we've defined um so
macros uh that we've defined um so
macros uh that we've defined um so
assume assert and satisfy I think are
assume assert and satisfy I think are
assume assert and satisfy I think are
probably the most common ones uh and the
probably the most common ones uh and the
probably the most common ones uh and the
ones that are I think we recommend using
ones that are I think we recommend using
ones that are I think we recommend using
uh the most if you need something more
uh the most if you need something more
uh the most if you need something more
specific then you can always uh reach
specific then you can always uh reach
specific then you can always uh reach
out and uh we can help you figure out
out and uh we can help you figure out
out and uh we can help you figure out
how to how to do
how to how to do
how to how to do
that um the other thing uh worth noting
that um the other thing uh worth noting
that um the other thing uh worth noting
here is um can you uh can Arman can you
here is um can you uh can Arman can you
here is um can you uh can Arman can you
go down to the the cargo Tomo file at
go down to the the cargo Tomo file at
go down to the the cargo Tomo file at
the bottom
the bottom
the bottom
uh uh yes so uh we are also relying on
uh uh yes so uh we are also relying on
uh uh yes so uh we are also relying on
uh rust features so for example here you
uh rust features so for example here you
uh rust features so for example here you
can see on line 17 there's this feature
can see on line 17 there's this feature
can see on line 17 there's this feature
called
called
called
Cur and uh the nice thing about this uh
Cur and uh the nice thing about this uh
Cur and uh the nice thing about this uh
this mechanism is it actually lets you
this mechanism is it actually lets you
this mechanism is it actually lets you
use this feature to selectively uh
use this feature to selectively uh
use this feature to selectively uh
compile uh the code so for example um
compile uh the code so for example um
compile uh the code so for example um
you can if you go back Armen to uh let's
you can if you go back Armen to uh let's
you can if you go back Armen to uh let's
see um let's go in the back stop yeah
see um let's go in the back stop yeah
see um let's go in the back stop yeah
and maybe in the
withdrawal uh maybe go to deposit
withdrawal uh maybe go to deposit
actually okay perfect so if you look at
actually okay perfect so if you look at
actually okay perfect so if you look at
the top of this file you'll see that uh
the top of this file you'll see that uh
the top of this file you'll see that uh
we are using this feature called sora
we are using this feature called sora
we are using this feature called sora
and essentially what this is saying is
and essentially what this is saying is
and essentially what this is saying is
that when the feature is enabled and I
that when the feature is enabled and I
that when the feature is enabled and I
just showed you before that in the cargo
just showed you before that in the cargo
just showed you before that in the cargo
TL it is enabled uh then use this mock
TL it is enabled uh then use this mock
TL it is enabled uh then use this mock
implementation of the token client and
implementation of the token client and
implementation of the token client and
otherwise you can use the whatever
otherwise you can use the whatever
otherwise you can use the whatever
default one that blend was using and
default one that blend was using and
default one that blend was using and
this is just for verification only right
this is just for verification only right
this is just for verification only right
so when you're compiling your code for
so when you're compiling your code for
so when you're compiling your code for
uh other purposes then you shouldn't be
uh other purposes then you shouldn't be
uh other purposes then you shouldn't be
using this uh but when you're doing
using this uh but when you're doing
using this uh but when you're doing
verification this is helpful because a
verification this is helpful because a
verification this is helpful because a
lot of the times we want to modularize
lot of the times we want to modularize
lot of the times we want to modularize
things and so you may not need to
things and so you may not need to
things and so you may not need to
include all the code for the token when
include all the code for the token when
include all the code for the token when
you're really just verifying the code uh
you're really just verifying the code uh
you're really just verifying the code uh
for the back stop right so that's an
for the back stop right so that's an
for the back stop right so that's an
interesting feature that I think you'll
interesting feature that I think you'll
interesting feature that I think you'll
probably use uh quite a bit and you know
probably use uh quite a bit and you know
probably use uh quite a bit and you know
always feel free to reach out uh on
always feel free to reach out uh on
always feel free to reach out uh on
Discord if you have any questions um the
Discord if you have any questions um the
Discord if you have any questions um the
other thing I also want to highlight is
other thing I also want to highlight is
other thing I also want to highlight is
uh the con files so on the left you will
uh the con files so on the left you will
uh the con files so on the left you will
see that there is this directory called
see that there is this directory called
see that there is this directory called
conss and here we have provided some
conss and here we have provided some
conss and here we have provided some
setup and some skeleton for some basic
setup and some skeleton for some basic
setup and some skeleton for some basic
conss so let's look at the one yeah the
conss so let's look at the one yeah the
conss so let's look at the one yeah the
withdraw one is a good one so what's
withdraw one is a good one so what's
withdraw one is a good one so what's
happening here is uh we have this uh
happening here is uh we have this uh
happening here is uh we have this uh
file that has a a build script this is
file that has a a build script this is
file that has a a build script this is
already provided you probably should not
already provided you probably should not
already provided you probably should not
have to modify this at all uh it's just
have to modify this at all uh it's just
have to modify this at all uh it's just
a python script that uh does a bunch of
a python script that uh does a bunch of
a python script that uh does a bunch of
stuff that is necessary for making sure
stuff that is necessary for making sure
stuff that is necessary for making sure
that the reports look nice you know you
that the reports look nice you know you
that the reports look nice you know you
have all the files uploaded there it
have all the files uploaded there it
have all the files uploaded there it
calls the right uh build instruction in
calls the right uh build instruction in
calls the right uh build instruction in
this case we're using this uh file
this case we're using this uh file
this case we're using this uh file
called uh this build system called just
called uh this build system called just
called uh this build system called just
um but other than you should not have to
um but other than you should not have to
um but other than you should not have to
modify that more or less uh then there's
modify that more or less uh then there's
modify that more or less uh then there's
a few verification specific things so
a few verification specific things so
a few verification specific things so
for example there's this thing called we
for example there's this thing called we
for example there's this thing called we
have this slide called uh optimistic
have this slide called uh optimistic
have this slide called uh optimistic
Loop um uh we we don't need to worry
Loop um uh we we don't need to worry
Loop um uh we we don't need to worry
about what that is I would leave that
about what that is I would leave that
about what that is I would leave that
there uh there's also this precise
there uh there's also this precise
there uh there's also this precise
bitwise Ops uh flag which is set to True
bitwise Ops uh flag which is set to True
bitwise Ops uh flag which is set to True
uh what this is saying is that when
uh what this is saying is that when
uh what this is saying is that when
you're doing the verification use bit
you're doing the verification use bit
you're doing the verification use bit
vectors uh you may or may not want it uh
vectors uh you may or may not want it uh
vectors uh you may or may not want it uh
it's uh you can if you're facing uh like
it's uh you can if you're facing uh like
it's uh you can if you're facing uh like
slow running times I recommend taking it
slow running times I recommend taking it
slow running times I recommend taking it
out and seeing what happens and again if
out and seeing what happens and again if
out and seeing what happens and again if
you run into any issues uh when you take
you run into any issues uh when you take
you run into any issues uh when you take
it out you can reach out and we'll try
it out you can reach out and we'll try
it out you can reach out and we'll try
to help you
to help you
to help you
um and then really the main thing you
um and then really the main thing you
um and then really the main thing you
will have to modify is this rules field
will have to modify is this rules field
will have to modify is this rules field
so whatever rules you write uh you just
so whatever rules you write uh you just
so whatever rules you write uh you just
have to add them to this file and then
have to add them to this file and then
have to add them to this file and then
you just run this uh San with this
you just run this uh San with this
you just run this uh San with this
configuration file um I one thing I
configuration file um I one thing I
configuration file um I one thing I
would recommend so it is very common for
would recommend so it is very common for
would recommend so it is very common for
users to run the prover with many ruls
users to run the prover with many ruls
users to run the prover with many ruls
and that is what you will do in the end
and that is what you will do in the end
and that is what you will do in the end
but when you're debugging and when
but when you're debugging and when
but when you're debugging and when
you're just you know trying to test
you're just you know trying to test
you're just you know trying to test
things out it is often helpful to just
things out it is often helpful to just
things out it is often helpful to just
run one rule at a time so you know which
run one rule at a time so you know which
run one rule at a time so you know which
rule is problematic or you know which
rule is problematic or you know which
rule is problematic or you know which
has a Vu problem or all kinds of stuff
has a Vu problem or all kinds of stuff
has a Vu problem or all kinds of stuff
right so um definitely keep that in mind
right so um definitely keep that in mind
right so um definitely keep that in mind
when you're um just getting started and
when you're um just getting started and
when you're um just getting started and
you know writing these uh as as I can
you know writing these uh as as I can
you know writing these uh as as I can
tell you there's a lot of uh excitement
tell you there's a lot of uh excitement
tell you there's a lot of uh excitement
already on Discord lots of people have
already on Discord lots of people have
already on Discord lots of people have
been asking lots of questions um really
been asking lots of questions um really
been asking lots of questions um really
good questions so it's already really
good questions so it's already really
good questions so it's already really
nice to see the the engagement from the
nice to see the the engagement from the
nice to see the the engagement from the
the community so that's that's really
the community so that's that's really
the community so that's that's really
cool uh so I think uh let me just think
cool uh so I think uh let me just think
cool uh so I think uh let me just think
what else I would like to show actually
what else I would like to show actually
what else I would like to show actually
yes uh can you uh Armen if you click on
yes uh can you uh Armen if you click on
yes uh can you uh Armen if you click on
the documentation page that you have
the documentation page that you have
the documentation page that you have
open um so yeah here we have some
open um so yeah here we have some
open um so yeah here we have some
documentation for using Sunbeam so
documentation for using Sunbeam so
documentation for using Sunbeam so
there's the installation guide which I
there's the installation guide which I
there's the installation guide which I
think you probably don't need to worry
think you probably don't need to worry
think you probably don't need to worry
too much about if you if you if you have
too much about if you if you if you have
too much about if you if you if you have
installed ctra CLI you should be you
installed ctra CLI you should be you
installed ctra CLI you should be you
should be good to go so I don't think
should be good to go so I don't think
should be good to go so I don't think
you need anything else so the user guide
you need anything else so the user guide
you need anything else so the user guide
is the main uh thing you know uh we have
is the main uh thing you know uh we have
is the main uh thing you know uh we have
some examples of you know what the
some examples of you know what the
some examples of you know what the
different components are so for example
different components are so for example
different components are so for example
here um you know you see this like hash
here um you know you see this like hash
here um you know you see this like hash
rule thing uh on top of these functions
rule thing uh on top of these functions
rule thing uh on top of these functions
so really what's Happening Here is
so really what's Happening Here is
so really what's Happening Here is
you're just writing rust functions right
you're just writing rust functions right
you're just writing rust functions right
so uh Cura is like interpreting those
so uh Cura is like interpreting those
so uh Cura is like interpreting those
functions separately especially for
functions separately especially for
functions separately especially for
verification but from your point of view
verification but from your point of view
verification but from your point of view
you're just writing rust functions with
you're just writing rust functions with
you're just writing rust functions with
special macros and special annotation so
special macros and special annotation so
special macros and special annotation so
um that's one of the annotations is this
um that's one of the annotations is this
um that's one of the annotations is this
rule uh attribute
rule uh attribute
rule uh attribute
um and uh I already mentioned the CVL
um and uh I already mentioned the CVL
um and uh I already mentioned the CVL
assume assert macros from the Cavalier
assume assert macros from the Cavalier
assume assert macros from the Cavalier
spec Library another thing that is very
spec Library another thing that is very
spec Library another thing that is very
useful is uh this notion of
useful is uh this notion of
useful is uh this notion of
non-determinism so uh oftentimes what
non-determinism so uh oftentimes what
non-determinism so uh oftentimes what
happens is when you're doing
happens is when you're doing
happens is when you're doing
verification uh you might want to uh
verification uh you might want to uh
verification uh you might want to uh
sort of summarize some piece of code
sort of summarize some piece of code
sort of summarize some piece of code
because you know maybe that's not super
because you know maybe that's not super
because you know maybe that's not super
relevant for the property you're
relevant for the property you're
relevant for the property you're
verifying and all you care about is that
verifying and all you care about is that
verifying and all you care about is that
that function returns some
that function returns some
that function returns some
non-deterministic value right it could
non-deterministic value right it could
non-deterministic value right it could
be a u64 it could be i1 128 whatever uh
be a u64 it could be i1 128 whatever uh
be a u64 it could be i1 128 whatever uh
it could be a user defined type all
it could be a user defined type all
it could be a user defined type all
kinds of Stu so this nonb gives you a
kinds of Stu so this nonb gives you a
kinds of Stu so this nonb gives you a
mechanism to do that so Cavalier
mechanism to do that so Cavalier
mechanism to do that so Cavalier
actually already implements a bunch of
actually already implements a bunch of
actually already implements a bunch of
non-ets for uh various primitive types
non-ets for uh various primitive types
non-ets for uh various primitive types
um blend has a lot of userdefined
um blend has a lot of userdefined
um blend has a lot of userdefined
structs right so for example there's the
structs right so for example there's the
structs right so for example there's the
Q4 um Q4 withdrawal uh struct uh you
Q4 um Q4 withdrawal uh struct uh you
Q4 um Q4 withdrawal uh struct uh you
might want to implement that
might want to implement that
might want to implement that
uh uh trade for this uh this truck right
uh uh trade for this uh this truck right
uh uh trade for this uh this truck right
so you can do it this way so right like
so you can do it this way so right like
so you can do it this way so right like
as there's an example here so
as there's an example here so
as there's an example here so
essentially all you do is um you know
essentially all you do is um you know
essentially all you do is um you know
you assign non- debt to all the fields
you assign non- debt to all the fields
you assign non- debt to all the fields
of the struct and uh you're good to go
of the struct and uh you're good to go
of the struct and uh you're good to go
so this is something that's really
so this is something that's really
so this is something that's really
helpful uh for uh for verification uh we
helpful uh for uh for verification uh we
helpful uh for uh for verification uh we
often have to do it and I'm imagining
often have to do it and I'm imagining
often have to do it and I'm imagining
other people will have to do this as
other people will have to do this as
other people will have to do this as
well we have some very basic examples in
well we have some very basic examples in
well we have some very basic examples in
the tutorial so we have a Sunbeam
the tutorial so we have a Sunbeam
the tutorial so we have a Sunbeam
tutorial over um over here
tutorial over um over here
tutorial over um over here
uh it gives an example of the token
uh it gives an example of the token
uh it gives an example of the token
contract so if you've never done
contract so if you've never done
contract so if you've never done
verification I think this is a good way
verification I think this is a good way
verification I think this is a good way
to start you can just do the exercises
to start you can just do the exercises
to start you can just do the exercises
here and uh you know just try to
here and uh you know just try to
here and uh you know just try to
understand like what what's really
understand like what what's really
understand like what what's really
happening uh when you run the tool and
happening uh when you run the tool and
happening uh when you run the tool and
so
so
so
on um and other than that uh if you go
on um and other than that uh if you go
on um and other than that uh if you go
back uh I think I already explained the
back uh I think I already explained the
back uh I think I already explained the
scripts the build script stuff if you
scripts the build script stuff if you
scripts the build script stuff if you
scroll down a little bit more
scroll down a little bit more
scroll down a little bit more
Armen uh yeah I think they these are
Armen uh yeah I think they these are
Armen uh yeah I think they these are
already covered
already covered
already covered
say so I think the main other thing I
say so I think the main other thing I
say so I think the main other thing I
would recommend looking at is what
would recommend looking at is what
would recommend looking at is what
happens when you do run Sunbeam so as I
happens when you do run Sunbeam so as I
happens when you do run Sunbeam so as I
mentioned before and it's actually also
mentioned before and it's actually also
mentioned before and it's actually also
uh listed in the readme for the the repo
uh listed in the readme for the the repo
uh listed in the readme for the the repo
all you do is you just run Cur San
all you do is you just run Cur San
all you do is you just run Cur San
proofer and you pass this Con file and
proofer and you pass this Con file and
proofer and you pass this Con file and
you uh you run it and all you get is a
you uh you run it and all you get is a
you uh you run it and all you get is a
link to a run right and this link is
link to a run right and this link is
link to a run right and this link is
going to look something like this right
going to look something like this right
going to look something like this right
so here you can see um well so here
so here you can see um well so here
so here you can see um well so here
there is no violation so you're fine but
there is no violation so you're fine but
there is no violation so you're fine but
if there is a violation you can see a
if there is a violation you can see a
if there is a violation you can see a
call Trace the call Trace is not super
call Trace the call Trace is not super
call Trace the call Trace is not super
uh easy to read so if you are stuck with
uh easy to read so if you are stuck with
uh easy to read so if you are stuck with
problems with the call Trace please post
problems with the call Trace please post
problems with the call Trace please post
messages on Discord and we'll try to
messages on Discord and we'll try to
messages on Discord and we'll try to
help you as much as possible uh you can
help you as much as possible uh you can
help you as much as possible uh you can
also see the code right so for example
also see the code right so for example
also see the code right so for example
here on the left you have this files you
here on the left you have this files you
here on the left you have this files you
can see all the files that you used to
can see all the files that you used to
can see all the files that you used to
run verification all the properties that
run verification all the properties that
run verification all the properties that
you ran all the code that you changed or
you ran all the code that you changed or
you ran all the code that you changed or
properties you wrote everything is here
properties you wrote everything is here
properties you wrote everything is here
uh so and I would always encourage you
uh so and I would always encourage you
uh so and I would always encourage you
to if you are having any problems you
to if you are having any problems you
to if you are having any problems you
can just send me a link to a run and
can just send me a link to a run and
can just send me a link to a run and
then I can take a look at the run I can
then I can take a look at the run I can
then I can take a look at the run I can
reproduce the Run locally and and help
reproduce the Run locally and and help
reproduce the Run locally and and help
you debug your
you debug your
you debug your
problems
problems
problems
um uh other than that I'm not thinking
um uh other than that I'm not thinking
um uh other than that I'm not thinking
what else would be useful
what else would be useful
what else would be useful
um I think about that's that might be
um I think about that's that might be
um I think about that's that might be
all I have like uh oh actually I I would
all I have like uh oh actually I I would
all I have like uh oh actually I I would
like to mention one other thing
like to mention one other thing
like to mention one other thing
so uh we already saw uh the feature CRA
so uh we already saw uh the feature CRA
so uh we already saw uh the feature CRA
feature of mechanism where you can
feature of mechanism where you can
feature of mechanism where you can
selectively decide what functions to
selectively decide what functions to
selectively decide what functions to
include when you're compiling we also
include when you're compiling we also
include when you're compiling we also
saw the non-dead macro uh another thing
saw the non-dead macro uh another thing
saw the non-dead macro uh another thing
that you may have to do is uh summarize
that you may have to do is uh summarize
that you may have to do is uh summarize
various functions so this is something
various functions so this is something
various functions so this is something
that you know for example here uh the
that you know for example here uh the
that you know for example here uh the
way the best way to do this is the
way the best way to do this is the
way the best way to do this is the
following right so uh in the C specs
following right so uh in the C specs
following right so uh in the C specs
directory you there is a directory
directory you there is a directory
directory you there is a directory
called summaries and in there you can uh
called summaries and in there you can uh
called summaries and in there you can uh
so the mod is that's where you um just
so the mod is that's where you um just
so the mod is that's where you um just
expose all the summaries that you have
expose all the summaries that you have
expose all the summaries that you have
written so here there's you know this
written so here there's you know this
written so here there's you know this
file called emissions and in emissions
file called emissions and in emissions
file called emissions and in emissions
it's possible that depending on the
it's possible that depending on the
it's possible that depending on the
property you're proving you might have
property you're proving you might have
property you're proving you might have
to summarize right so for example you
to summarize right so for example you
to summarize right so for example you
can say that I don't really care what
can say that I don't really care what
can say that I don't really care what
emissions does as long as it's returning
emissions does as long as it's returning
emissions does as long as it's returning
a Nonet terministic value or you can
a Nonet terministic value or you can
a Nonet terministic value or you can
that well it should be a
that well it should be a
that well it should be a
nondeterministic value but maybe it
nondeterministic value but maybe it
nondeterministic value but maybe it
should be in some range so this kind of
should be in some range so this kind of
should be in some range so this kind of
stuff right like it really depends on
stuff right like it really depends on
stuff right like it really depends on
your understanding of protocol and like
your understanding of protocol and like
your understanding of protocol and like
what you think is necessary for um
what you think is necessary for um
what you think is necessary for um
whoever is calling this function to know
whoever is calling this function to know
whoever is calling this function to know
about this function Behavior right so
about this function Behavior right so
about this function Behavior right so
this is actually often very helpful so
this is actually often very helpful so
this is actually often very helpful so
you can put all your summaries here and
you can put all your summaries here and
you can put all your summaries here and
then wherever you're calling the
then wherever you're calling the
then wherever you're calling the
function instead of calling the original
function instead of calling the original
function instead of calling the original
function you just call this function and
function you just call this function and
function you just call this function and
um it would be really good if you
um it would be really good if you
um it would be really good if you
actually annotate it with this because
actually annotate it with this because
actually annotate it with this because
then you know you're not really changing
then you know you're not really changing
then you know you're not really changing
the semantics of the original program
the semantics of the original program
the semantics of the original program
um great I think we need to wrap it up
um great I think we need to wrap it up
um great I think we need to wrap it up
here but uh thank you so much for for
here but uh thank you so much for for
here but uh thank you so much for for
this presentation uh I think this was uh
this presentation uh I think this was uh
this presentation uh I think this was uh
very helpful for everyone who's going to
very helpful for everyone who's going to
very helpful for everyone who's going to
participate in the in the competition to
participate in the in the competition to
participate in the in the competition to
get to walk through both of the code and
get to walk through both of the code and
get to walk through both of the code and
and and uh and the verification here so
and and uh and the verification here so
and and uh and the verification here so
thank you all for joining um I didn't
thank you all for joining um I didn't
thank you all for joining um I didn't
see any questions in the chat but yeah
see any questions in the chat but yeah
see any questions in the chat but yeah
feel free to reach out um also in
feel free to reach out um also in
feel free to reach out um also in
Discord if there's anything I'll post
Discord if there's anything I'll post
Discord if there's anything I'll post
the link again in Discord for the
the link again in Discord for the
the link again in Discord for the
competition so good luck to everyone uh
competition so good luck to everyone uh
competition so good luck to everyone uh
the competition is running until March
the competition is running until March
the competition is running until March
17th so still have plenty of time to to
17th so still have plenty of time to to
17th so still have plenty of time to to
dig into it thank you everyone for
dig into it thank you everyone for
dig into it thank you everyone for
joining thank you Shandra and Alex for
joining thank you Shandra and Alex for
joining thank you Shandra and Alex for
for joining here us thank you everyone
for joining here us thank you everyone
for joining here us thank you everyone
thanks everybody
