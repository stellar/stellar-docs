---
title: "PaltaLabs' Stellar Hacks"
description: "Discussion with PaltaLabs on the Stellar Hacks hackathon, focusing on building with Soroswap and DeFindex, including smart contract architecture, APIs, and ideas for hackathon projects."
authors: [carsten-jacobsen, esteban-iglesias]
tags: [developer]
---

import YouTube from "@site/src/components/YouTube";

<YouTube ID="mSABuOLuZs8" />

This session features a conversation with Esteban and Francisco from PaltaLabs about the ongoing Stellar Hacks hackathon and how developers can build on Soroswap and DeFindex. The discussion walks through the motivation behind the hackathon, what participants can still work on, and how PaltaLabs’ tooling lowers the barrier to building DeFi applications on Stellar.

The team provides a practical overview of Soroswap as a DEX and aggregator on Soroban, along with DeFIndex as a vault and strategy framework for yield and savings products. The meeting emphasizes real-world developer workflows, available APIs and SDKs, and concrete ideas for hackathon submissions.

### Key Topics

- Overview of the Stellar Hacks hackathon with PaltaLabs and remaining time to participate
- Soroswap architecture:
  - AMM for creating and managing liquidity pools
  - Aggregator smart contract to route trades across multiple AMMs
  - Public routing API to compute optimal trade distribution
- Using Soroswap’s router contract for swaps, liquidity management, and pool creation
- Trade splitting across protocols and how the routing API supplies optimal paths
- Open-source Soroswap indexer built with SubQuery and GraphQL for analytics and bots
- DeFIndex overview:
  - Vaults as user-facing savings accounts
  - Strategies as pluggable smart contracts connecting to DeFi protocols
- Example DeFIndex strategies, including auto-compounding and blended yield approaches
- Vault roles (manager, rebalancer, fee receiver, emergency) and safety constraints
- Ideas for hackathon projects:
  - Smart wallets and integrations
  - New DeFIndex strategies
  - Rebalancer bots and automation
  - LP token use cases and staking designs
- APIs and SDKs for both Soroswap and DeFIndex to simplify frontend integration
- Developer support via documentation, Postman collections, and community channels

### Resources

- [Hackathon](https://dorahacks.io/hackathon/stellar-hacks-paltalabs)
- [Soroswap Documentation](https://docs.soroswap.finance)
- [DeFIndex Documentation](https://docs.defindex.io)

<details>
  <summary>Video Transcript</summary>

[00:00] Hello, welcome everyone to this week's Stellar Developer Meeting. Today joining me are Francisco and Estan from Pzelabs. Pzelabs should be familiar to any of you who's been in the community for a, while. They have been building on Stellar for yeah way longer than I have. So welcome guys and yeah just please do quick introduction and. And then we'll get started. Great. Thank you, Carson. My name is Estean. I am building patals since 2022 where we met all the Stellar team back in Meridian Rome. Since. Then we have been building source undefined and in this presentation we will explain a bit more, that Francisco.

[01:00] Yeah, I'm Francisco CPO Baltabs and we are excited to present the hackathon and motivate everyone to build here. Yeah, as a quick yeah, a quick comment, we are with Francisco. We are currently at the Draper University in San Francisco. So I will encourage all developers to join all the programs like grants programs, that Stellar has. Because like the opportunities, that you can get like we are getting. Now like currently I am in the dorms of the draper university the opportunities is they're really great. Great. Yeah, Draperu is a program we started is a collaboration between Stellar and Draper University we started last year and continuing this year where like you guys you stay for three weeks

[02:00] go through a really intense program with a lots of different things everything from business to yeah the financial parts and it's a great program but, that's not what we're talking about today. You are running you're running a hackathon with Stellar hacks and I think to lead up to, that to talk about the hackathon the idea is, that in the hackathon, that the participants are building on either source or on defendex or both. So maybe we start with an introduction what is source swap and what is defendex and what can you build on, that? So yeah, please take us through the basics of both products. Thank you, Caren. Please, Francisco, I will share the screen.

[03:00] Great. So ster hacks with the ster hacks you can swap and build vaults with palas source app and defendex. So let's talk a bit about source. And then we will talk a bit about defendex. If you have questions I think you can write them in the chat right. So I will stop. If anyone has any questions we will stop there and maybe we can share more our screens we can take a look at the codes etc. Source is a DEX and a DEX aggregator on the STA blockchain and as a brief introduction it was the first DEX built on Surban on the smart contract side of the Stellar and we aggregates liquidity from multiple liquidity sources or multiple platforms. So on the right you

[04:00] have like a swap, that got gets loaded through Soros swap, Aqua and Clinics AMMs. In order for you to understand like the tech of Soros. And so you can have like more ideas on how you can hack and build on top of source you need to understand, that source has three components. Components. It. There is the AMM. Then we have the aggregator, that aggregates is a smart contract. And then we have a road API. So our road API is the one, that will, that will optimize your trade, that will be executed on the regulator and. If you get a trade, that will go through source AMM it will go through our pools. Source of AMM is where you can create liquidity pools. If you want to do like a simple swap or. If you are building a

[05:00] protocol, that needs a liquidity pool, you can create a list liquidity pool on our AMM. It's a classic swap version two type of AMM. And we have a router contract, that does everything for you. So you can create new pairs through the rotor contract. You can add liquidity through the router contract. Remove liquidity and swap through only one contract. So you only need to understand this one router contract and we will put the links later. But it's github.comsource core. So all the core smart contracts are in, that core repository. Now I am reading the comments sorry. Yeah hacks. Yeah let's go. Great. And. Then we have the aggregator. If you want to aggregate multiple protocols we

[06:00] already built a contract, that handles all those transactions. So you don't need to think about Fenix or source. You need only need to inter interact with only one contract. And then inside, that aggregator contract we have all the adapters, that will help your transaction go through all those different AMMs next slide please. So this is how it looks a transaction through the simple. So you just put token in, token out, the amount you want in, the minimum amount you want out, and. But the tricky part is this DEX distribution like how you distribute your trade between different exchanges, between different dexes. And this is how yeah, no next one.

[07:00] So you will need to create this object. But you don't need to calculate it yourself. We have it in our road API. Yeah one back sorry the yeah this one. This is how the transaction looks like on the ster explorer. So you put like how many parts you want of one trade to go through protocol zero, which is Aquarius how much part you want to protocol two, which is source up yeah any questions until. Now no through this aggregator you can touch all those liquidity sources it's only one contract, that your app or something, that you are building needs to interact with it's only one contract and this contract will execute all transactions and will do all these subcontract calls necessary for

[08:00] that trade to go through. So how do you get this optimal vector of DEX distribution? You can calculate yourself or you can force it. So you want you can force it to go through like specific protocols. That's also, that's also a possibility but. If not you can use the API, that we have and this is like the third part of this source app tech stack. We have a public API, that anyone can use. We created an a APK key API key for those, that are building on the hackathon. So you can experiment with our API and the easy thing the cool thing is, that you just put what you want to trade, what are the protocols, that you want to implement. And then returns you like what is the best way on

[09:00] how you split the trade. So we have in the description of the hackathon there is a link to our postman collection. If you want to talk with the API you can go and check the postman collection. Because it will make it much easier for you how to interact with the API. API. And next one. Yeah, this is the all the documentation you need. We have also an SDK. I forgot to put it in this slide. But there is at source SDK. That's the npm package on TypeScript. If you are building on TypeScript. So you don't even need to build all those API calls. There a function for it. And we have on the telegram group we are sending reposit example repositories, that of projects, that use

[10:00] our APIs. There is a question here Matias the distriution in this case will be the 60 3010 shown in the previous slide right yes. So in a previous slide there was like this distribution of 60% 30% 10% and cor, that's correct, that the next distribution you say I want 10% to go through Phoenix and the path will be XLM direct to USDC. Then you put 30% I want it to go through Aqua going from XLM to Aqua to USC. Because I think or you think or your program thinks, that's the best way to do it and 80% to do it or 60% to do it through Sora. Yeah. Great.

[11:00] Yeah. And finally we in our back end for our API we use the source indexer and this project is completely open source. So. If you plan to build something, that requires information of the traits on source. If requires yeah. If if. If you need to build an indexer or. If you need to improve the indexer, that we have the link is on, that slide. But it's sorosab.com sorry github.com/sorosabsupql, which is the technology, that we are using. indexer with subql and of course. If you're more interested talking the telegram there is the readmi has all the description on how you create this indexer and yeah you can build like maybe like a front end, that shows the last transactions or

[12:00] a bot, that will send you a alert. If there is like a difference of price. So you can buy a token. Something like, that. Does the source of indexer relies on mercury? No, it doesn't. The source the SUQL indexer it's its own technology. It's on TypeScript. There is like Docker. So you bring up like three different Docker containers. One, which is like the worker, which is doing calls to the RPC all the time to get the last test block. And then it will ingest it to another container, that will check, that there. If there is the event, that you want to check. And then it will ingest the information to a local data database. Then later it's you can query it with graphql

[13:00] So. Now the findex I'm not going to see the questions. But so. If the stean or cast can tell me. If there is any question. Yeah cool you know let me know. Well. So the findex we want to make easy. So what is the findex? The findex removes the technical complexity for apps, that want to offer savings accounts for their users. So you know, that if. If you're a wallet or an application end user application you may want to offer some sort of savings account and at the same times

[14:00] you have defy protocols or real world assets, that can provide you Jill to make this feature of savings accounts possible. But this is difficult h you it's technical to integrate defy it's difficult to manage risk and difficult to monetize on top of, that and it's time consuming. So we created the index to help with, that. So our plugand play software can make you earn. When you uses earn and all with, that with without the crypto complexity. So with the findex. If you're a wallet

[15:00] you use our plan and play software and you can offer yield to your users and this is done by using defy strategies. So. So you can use this device diverse device strategies to offer multiple options. You have automation on the smart contract side and you can always look for the best earnings without the need to for without the need of the user signatures for every movement. So to understand the findex we need to understand two main concepts one is strategies and one is v. So for the strategies is the smart contract, that connects the DeFi protocol

[16:00] is the connection, that we have with DeFi protocols and also we can include there some automation, that can benefit the users. And. Then we have the vaults. The vaults are the savings accounts. It handles all the fee distribution, all the accounting for users. It manage all the how many users you have, which, which user has the amount of the funds, that any user has etc. So let's see an example. So this is the blended strategy, that we have right now. We have it for USDC euro C also. So we basically we lend USDC to blend on in a blend pool. We

[17:00] harvest the blend rewards. We swap this blend rewards for more USDC and we lend again. So we get this autoco compounding effect on the blend blending and borrowing protocol. Then we on the b contract we can include multiple strategies. So we you can expose the users to multiple pools. In this case, we have this USDC strategy on the blend fixed pool and on the blend gel blocks pool at the same time. So. When a user deposits into the B contract, the funds are distributed automatically on both pools. Also. If you want to you can have like one 100% of the money in just one strategy. But

[18:00] that could change in the future. So you can move all the fonts of your users to the other strategy, that is performing better. And, that the good thing is, that the user don't need to know, that their phones were moved. You just move it. But also you as a manager of the vault you cannot take the funds of the user out. Then. So this is what we have right now. So. If someone wants to create a new strategy, that could be more interesting like a leverage position strategy, strategy, you will need to implement the strategy trade. So this is how it looks like. So

[19:00] you just need to put code inside, that reflects the strategy you want to. do with the find index with the index just need to comply with this function and. If it complies with the function you can plug it to the index vault and, that strategy will be exposed for any wallet, that want to offer, that kind of strategy. Then on the board, can I say a small comment on the strategy? Strategy? Yeah. Yeah. So we want to see more strategies, more ideas, that you can come maybe other more can be more risky maybe using other protocols.

[20:00] , as Raso said, like the average strategies, you can short one asset, you can long like 9x with the current like. If if you. If you check with blend, you can lend borrow. And then swap and borrow again. So you can think about those kind of things or even using other protocols like sa Yeah. So, that would be like a very good idea of a hackathon project, that works with both protocols as well. Matias is asking for the harvest function what will data will be options this byes. Very good question. So. Because the strategy trait is general for any kind of protocols like say source swap blend

[21:00] or normal or Aqua FxDAOo you don't know we don't know beforehand what are the parameters, that harvest function will need probably you will need to submit some like some instructions on how the trade should be. If there is a swap or not you know, that's and Matias yeah. So it's an optional parameter, that you may need for some logic. Then we have the b B contract role. So. If you want to create a vault for a specific use case and for example combining multiple real

[22:00] world assets and you may need to create these roles in order to create a vault. So the manager can do everything. But taking the user fonts. So you can change who is the rebalance. You can change the other roles. Rebalance manager can only rebalance the receiver can only do fe related stuff and the emergency manager can rescue funds from the users. H. So in order to create a vault you can use it in our front end. Then you need to invest or rebalance for the first time. So the vault will know how to distribute the funds automatically. Then you implement it in your app in your front end and

[23:00] start collecting fees. Yeah I want to go want you to go back to the roles. Yeah, here there is a challenge here. So. If anybody wants to work on, that, how to manage like co how to co-sign co-sign these messages. So maybe the manager can be like a smart contract with different co-signers, you know, or you can have you can use like the cosign u structure of a Stellar maybe like created a front end, that will help like manage defined exults. That's maybe something interesting. Some ideas. Yeah. Yeah. Multi multic. Thank you, Matias. Then. If you want to do is do it this programmatically or include this in a front end, you just need to create this trigger this function on our factory.

[24:00] yeah. And. Then this is the front end we have right. Now is just for creating bolts. Bolts. So you just fill all the parameters here and you will have your vote. And then invest for the first time you can use Stellar C cli with the same with this instructions. And then we also have an API. So for the API we have an API key also for the findings right, that is public I mean we check this. So you can go to api defindex.io

[25:00] docs to see the complete documentation on this. You can also go to docs.define docs.define defindex.io IO and you have like more extensive documentation. And so yeah, that's and this is like an example of how to. If you have already an API client you can use something like this. So for example. If you are doing a front end to use the a vault contract erh you can call the our endpoints with the function deposit for example

[26:00] you just set the amount from who is going to be going to the deposit and we will return the sign transaction. Then you sign it and we can even send it for you. So. If you want to implement the vault in a front end this could be very useful. Yeah we also have we have deposit withdraw and we have the APY endpoints. So you don't need to build all those things. Yeah. So and we are here to help you. So please join the telegram group. We are going to be there answering as fast as we can and yeah we are here to help you.

[27:00] Great. Thank you for the introduction to Defendex and to Soros Swap. I think it's great to see, that some of the other teams, that you are you're at with the Draperu, they're already starting to look into how they can integrate your services and I think many more projects in the ecosystem could benefit from integrating with you guys. Francisco, you are sharing your screen. I can remove it. Yeah, sure. Okay. I don't know. If anybody has comments and questions. I think there was a question of Matias, that was not answered. yeah. So, he asking. So for the source of a aggregator, he says you don't need to specify the distribution.

[28:00] So you don't have to hassle to do the paths. That's not completely right. Because the aggregator needs as an input the specific path the contract. So the contract, that he cannot calculate what's the optimal path. However the API is the one, that will help you with, that. And you can try with the our API on public net. So. If you want to like start testing in production, you can do it. And yeah, we calculate the best path for you. But. Then the aggregator contract needs, that information. And. Then yeah. Okay, great. Let's change tracks to the hackathon. So right. Now we have

[29:00] the Stellar hacks. I'll just share a link for the hackathon. And this hackathon is actually about building on top of Defendex and Soros. So maybe. If one of you can talk a little bit about it. I can Are you sharing your screen? Screen? Yeah. Share this one. No, it's not this one. Okay. But show to show the like to hacks web page. Yeah, let's here we go. Yeah. So, this is the second hackathon we're doing with Stellar hacks. The first one was integrating blend. This one is focused on

[30:00] building on defendex and source swap. So. So yeah. Tell me more about what would you like to see? What is what are people building? So for example here in defy integrations is my screen is showing right? Yeah. So for example here we have a smart wallets a smart wallet using source and or the findex it will be great. So you can use our APIs the Pasi kit and build something with this an staking contract for SA LP tokens. So so, that would be great.

[31:00] a re balancer bot this is great. I don't know. If you remember here. But we have this role and this role rebalancer manager. So we can you can create a vault with where this rebalance manager can be the bot and the bot can manage the portfolio for us. MCP servers, that can I don't know I can tell him hey I want to create a vault and rebalance it, that could be very great something to doing something like, that. Then for the finex strategies. So ah. So for most of these not for the

[32:00] LPS stack staking. But for the smart wallet rebalancer bot and MCP server you will probably need to use the APIs, that we are providing. But then. If you want to use create for example an strategy you can start from the index protocol and modify the contracts for sample where the index here. So this is the main repo. You can go to apps contracts strategy and start coding there for more the index strategies and use all our the already existing variable. So you don't need to set up anything. You you wanted to say something.

[33:00] Yeah. Yeah, I am very excited about the strategies. I think this is like the Finex is already like very robust in the boats and we need more strategies. We need someone, that will came with some new idea on how to manage funds. You know, we thought about blend and rebalancing. But you can think about something more interesting. So and as Francisco said is like there is a trade already for, that like you don't need to and, that's a trade, that will be will it be easy to plug it into vaults and another comment I wanted to say about the rebalance is, that our vault contract. When you are a rebalancing manager the vault doesn't give you any like

[34:00] access to the funds at all. It only allows you to move from one strategy to the another strategy. So, that's why you can feel confident of experimenting with a rebalancer bot. All right. I wanted to say, that and about the LP tokens as Raph said in. When we first talk about this I am also very excited about I want to see people using LP tokens. So we created source swap erh. While like even. While Soroban was not on main yet and we created in a way, that LP tokens were compatible with the classic tokens. So and we want to see more people using LP tokens. Maybe you can send an LP token. Maybe you can create like a liquidity pool of two LP tokens. I don't know. Think about, that. Or maybe

[35:00] a strategy can need an LP token to have an exposure 50/50 I don't know to different assets. Yeah. Great. So, there's still one week left of the hackathon and. If you want to. If you haven't already started building and you think this could be a great fun challenge to do and a great way to learn more about source swap and defendex. Then this hackathon is a great opportunity. Go to the link, that I shared in the comments, the door hacks link, you can read more about the hackathon the submission requirements, the deadline and what to do and these great examples of what the pot team think could be fun to see and would love to see being built. So. So yeah, go check it out. It's it's a great fun

[36:00] hackathon and as I said there's one week left. So plenty of time to do something fun. Fun. It's up to the 1st of August. But yes until the 1 of August. Yeah. And and final comment we will be helping. If you have any question please ask them directly. Ask the question directly. Because some maybe we don't have the best documentation. I don't know we are trying to do our best together with a lot of things we are trying to do. So please be patient. If we don't. have. If you think you don't understand please ask. Because probably maybe we don't have, that answer in the documentation and it's very good way to help us to improve our documentation. We built these APIs. So you don't need to inter interact directly with contracts. But you don't need to do it. If you really

[37:00] had want to hack hard, you know. So, yeah, thank you Karen for the opportunity and Raph and Boxy and all the team organizing this hackathon and Jerome. Jerome. Yeah, they're really doing a great job with these mini hackathons. So, big shout out to them as well. I see Raph shared a link to the Telegram group for the hackathon. So yeah, ask away. If you have any questions. It's there's still time to build something cool. So. So please visit the hackathon page. Okay, great. Any any other questions before we end this call? Doesn't look like there's anymore. But thank you for joining. I know it's a crazy busy week for you. Being at Draperu is a lot of fun. But it's also a lot of work. We we were pitching the Findex to Tim

[38:00] Draper on Tuesday. Yeah, Tim Draper is a VC legend here in Silicon Valley. He was one of the first investors in many cool companies like Tesla, SpaceX, and ton more companies. So being a being having the opportunity to pitch Tim Driver is definitely an awesome opportunity. Opportunity. Yeah. Yeah. Because we think, that the millions of users will have their first Savings account through a wallet, not a traditional bank. Yeah. Great. Okay. Thank you everyone and you too guys. We'll be back here on Twitter next week. Thank you everyone for joining. Thank you. Bye bye. Bye. Good idea, Matias.

</details>
