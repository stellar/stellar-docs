---
title: "CAPs 37/38 Interleaving and Adding AMMs in Protocol 18"
description: "This session focused on advancing automated market makers (AMMs) at the protocol level, comparing CAP-37 and CAP-38 approaches to liquidity, order routing, and deployment risk. The group aligned on CAP-38 as a practical first step, emphasizing simplicity, faster shipping, and the ability to layer more advanced features later."
authors:
  - david-mazieres
  - eric-saunders
  - jed-mccaleb
  - jonathan-jove
  - justin-rice
  - nicolas-barry
  - siddharth-suresh
  - tomer-weller
tags: [legacy, CAP-37, CAP-38]
---

import YouTube from "@site/src/components/YouTube";

<YouTube ID="aHZQfcIdmoQ" />

This discussion examined how automated market makers could be introduced into the Stellar protocol to improve liquidity and trading efficiency. Participants compared two competing proposals, CAP-37 and CAP-38, and debated tradeoffs around complexity, arbitrage behavior, network performance, and ecosystem readiness.

The conversation converged on prioritizing a simpler, shippable solution that delivers value quickly while preserving flexibility. CAP-38 was viewed as a reasonable foundation that can later support more advanced routing and interleaving features if needed.

### Key Topics

- Comparison of **CAP-37 (interleaved routing)** vs **CAP-38 (best-venue routing)** for AMM integration
- Agreement that interleaving is theoretically superior, but significantly more complex to implement
- Recognition that CAP-38 can act as a foundational layer, with CAP-37 potentially built on top later
- Assessment of arbitrage risks, including increased failed transactions and Horizon load
- Conclusion that arbitrage is unavoidable and better addressed incrementally after deployment
- Emphasis on avoiding over-optimization and “perfect vs. good” tradeoffs
- Validation that network guardrails and validator governance can mitigate worst-case scenarios
- Consideration of UI and ecosystem readiness, especially around path payments
- Optimistic outlook that AMMs could reduce order book traffic and improve overall efficiency
- Formal vote by the CAP committee to move **CAP-38 into Final Comment Period**

### Outcomes

- **CAP-38** unanimously approved to advance to Final Comment Period
- **CAP-37** remains in draft, with guidance to revise it as a potential extension on top of CAP-38
- Next steps include community feedback, validator review, and eventual protocol inclusion

### Resources

- [CAP-37 – Automated Market Makers Proposal](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md)
- [CAP-37 – Developer Mailing List Discussion](https://groups.google.com/g/stellar-dev/c/Ofb2KXwzva0/m/LLcUKWFmBwAJ)
- [CAP-38 – Automated Market Makers Proposal](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md)
- [CAP-38 – Developer Mailing List Discussion](https://groups.google.com/g/stellar-dev/c/NLE-nprRPtc/m/GHlmlE7ABwAJ)

<details>
  <summary>Video Transcript</summary>

[00:00] Hello everyone and welcome to the Stellar Open Protocol Discussion for June 17- 2021. So this meeting, like all these meetings, it's a part of the process for making changes to the Stellar protocol and we live stream these meetings so that anyone interested can follow along. In these meetings we go over CAPs, or Core Advancement Proposals. These are open source specs that describe new features that are designed to evolve the protocol to meet ecosystem needs. And before we start, I do want to point-

[01:00] And before we start, I do want to point out- that this is a technical discussion, a very technical discussion. So you may want to review the CAPs we're about to go over and the recent developer mailing list threads about them, both of which are linked to in the event description. Before we dive in, I also want to give a quick process overview so to allow for discussion and feedback collection and vetting. Each CAP goes through a specific life cycle: right, it's proposed, it's drafted, then it's discussed. On the Stellar debt mailing list, again, there's a link to that mailing list in the event description. So if you're interested, you should join it based on the feedback that comes in. A draft is then revised and re evaluated when that process is complete, it's put to the CAP committee, who decides whether or not to accept it. Now, after a CAP committee vote, the CAP enters into a one week Final Comment Period, which gives everyone a last chance to raise questions, also on the Stellar dev mailing list. And if the CAP makes it through that Final Comment Period, it's implemented in a major Stellar Core release. Then there's still one final step before it hits the network. Validators vote on whether or not to upgrade the network to a new version of the protocol,

[02:00] Thereby accepting or rejecting the change. So ultimately, at the end of the process, the network decides on major protocol changes. Now, at the moment, there are two similar proposals on the table: [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md) and [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md). Both proposals aim to improve overall network liquidity by introducing automated market makers at the protocol level. So there's general agreement that amns, which allow for the creation of liquidity pools, are a simple way to attract capital and enable high volumes of trading, and that introducing them to the protocol would have great benefits for the network. Right, it leads better liquidity, which means better cross currency payments. But while the proposals have the same fundamental goal and actually a lot in common besides that, there are a few implementation differences between them. The big one, it has to do with order routing right. [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md): it suggests interleaving AMMs for the built in orderbooks that make up Stellar's decentralized exchange, also known as the DEX. So in [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md). A buy- also known as the DEX, so in [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md), a buy or sell order can execute in part

[03:00] Against an a? M and in part against the DEX, basically pulls from each to piece together the best overall rate. So that's interleaved order rally. [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md), on the other hand, takes a best venue approach right. An order fully executes against one or the other, either fully against an AMM or fully against the DEX, whichever one provides the best overall rate. So that's best venue ready. There's already been a lot of discussion about both approaches and it's mostly happened on the Stellar debt mailing list. Today we've arrived at a point where we kind of need to start figuring out our path forward. So [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md) has had more revisions of late than [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md), so it's a little bit further along. But let's imagine that [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md) was brought to parity. So it dealt with the issues that cat38 deals with, things like authorization: which approach would we choose and why? That's where we're starting today and I'm gonna open it up for discussion and also, if I got any of that wrong, please say so, because I want to make sure that we're representing this

[04:00] Correctly. So, who wants to start? Maybe I can't stop, given that I was the last to talk. I think on that mainly on the dev mailing list, so that people can take it from there. So I think, yeah, like we had like a good exchange, I think with marcus on the, on that mainly. So it's like the. I think it. We reached a point. I think, in that thread where we are basically thinking about, yeah, capital e7 as a, as something that can be done on top of capital e8, and I think, as if as a framework, I think where we ended up is really thinking about it as okay, like there are like some potential concerns there but like are we? Are they like? Are those concerns

[05:00] Strong enough that they would be basically deal breakers for not doing like just capital eight? So, like the main concerns concern I had in that thread was, and actually like, as we've been moving along, capital e, the- this became true. The CAP create at this point is the longest CAP we ever wrote. It's actually quite complicated. It has many things in there like and I didn't actually anticipate that we had so much complexity. Like up front I thought the hard stuff was going to be around the arithmetic, like the fixed point math. You know that we had experience with before with the DEX and this turned out to be bad too. But yeah, basically much, many other things going on there and yeah. So where we are right now at with the with

[06:00] This thread, is it looks like there are no like deal breakers right like the things, for example, interleaving- okay, interleaving is better, like I think nobody disagrees with that. But can we not having intelligence so doing best venue? Is that like? Is that something that maybe, even though it's not optimal, is that good enough to get us how to get this AMM solution out the door quicker? I think there was like a potentially other thing that was the this one we didn't even talk about, because this one is really like a very different, like a big departure basically from how, even existing mms in other like in other systems, like unisop, for example, like the dynamic fee topic that is in

[07:00] Capital e7. This is another kind of ones in a way, like in terms of complexity that I don't think is necessary, like to get a first version out. Both are interesting, but I think the where we are right now is it looks like those are- should be considered like at a later point, given that they're not strictly necessary for a first version. I keep repeating myself, I'm sorry. So I mean, I feel like part of what you're saying is [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md), which is already fairly complex, is simpler than [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md), that some of the things, the features essentially that [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md) suggests could be added later. Is that correct? That was always the approach. We are trying to do capital eight during the minimal set of things we could do to get emm's out. And then the question, the

[08:00] Tension is already always: is that something that's actually shippable or do we, are we going to run into something that makes it basically non viable like so, for example, the. I think one of the concerns around- are we going to cause the network to grind to a halt, let's say, because we have so much arbitrage, or, like the markets become so inefficient that things are just unusable? Like those? I think we're raised on the mailing list and I think at this point it's just like we don't know, yeah, and I think yeah, maybe, yeah. I would say like I think I don't. I haven't heard a disagreement, for you know [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md) being on the path to [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md), as in like we would basically have to implement [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md) before we implement [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md) anyway, and so that the really the question is just like, does it make sense to go all the way to 37, or can we release 38 in the meantime?

[09:00] And that really the only arguments I've seen for releasing, for going all the way to 37, are that the arbitrage thing that nicola just mentioned, and then also the fact that the you essentially need a new UI to interact with [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md), where you kind of don't interact with [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md), or sorry, you need a new UI to interact with [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md), but not really in the UI act with [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md), because basically [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md) really only supports path payments to take these, liquidity offers, and that they aren't really patterns aren't really well supported in the ecosystem. I don't think I mean definitely not like Stellar acts and things like that. So but yeah, so just basically. So really, the question here is the danger of arbitrage and the kind of the burden of having people like change their uis is that great enough to warrant core going all the way to [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md)? And, like I said on the mailing list, I

[10:00] And like I said on the mailing list, I think the arbitrage thing is better addressed in a different way, because we're going to have arbitrage even in [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md) world and I think the UI thing is unfortunate, but it just seems way better to get this out earlier and then we can proceed to work on some like more cohesive UI, like later. Basically, if it seems worth it, so yeah, but I don't know if anyone disagrees, like, does anyone actually disagree here? So I mean, I guess the question that I have is: so I understand that a UI, that's something that can be solved later. I and I guess my question is about arbitrage. It seems like the risk with going with [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md) is that it would open up new possibilities for arbitrage, and your argument that you made on the mailing list, Jed, is that there's a, there are better, it's better to deal with that as a separate

[11:00] Issue, but I guess what the question: is there a way to actually understand the arabic, the risk that arbitrage poses? Is it a real risk, right? Is there a risk that implementing [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md) would create so many arbitrage opportunities that would have an effect on the network? Or do we feel like that's not actually something to worry about in the short term with cat38? And basically, why, I can take that jet if you want. Oh, like, I think there are like two type of problems right with that comes with arbitrage. One is like actually having this being a inefficient market, but arbitrage is correcting that. So in a way, maybe it doesn't matter. Like. It just makes the. It creates those weird like change in price on certain pairs, but you know, at the end of the day, like those, the mms end up being

[12:00] Balanced correctly. So it's not that. I think that's not so much of a problem. Maybe there's like the- yeah, like you have a larger spread in a way, like for like a little bit, like things like that. I think the one of the main concerns, I think came from more like the amount of traffic that potentially gets generated by this, by more arbitrage activity. So, for example, more recently, we had like a lot of relativity, for example, on the market, like in crypto in general, like what was it like maybe a month ago, or something like that. Well, it was like crazy. And when was when this was happening? We had actually a lot of ledgers on the network that were with a lot of failed transactions, and I think that could be the type of,

[13:00] And I think that could be the type of things that happens more often if we have, like this discrepancy between the DEX and AMMs. The reality is that, with the work that we did in the last year, this type of so the impact on the network is actually kind of not that bad. I mean it's it doesn't like a year, like the same question a year ago would have been okay. If we have like this type of arbitrage spikes and whatnot, we were actually seeing like certain ledgers being impacted, like sometimes we had like delays of like 10 seconds, 15 seconds on ledgers like this was not acceptable. So we found ways to fix that. But we had a good stress test, I guess. So, yeah, like less months and you know, like, or like a, like a good. What was it like a good month? I think, like in April basically,

[14:00] And yeah, the network was fine. The annoying thing is that we have dancering systems, have all the straight transactions and that I think we have to be mindful of that. I think that's kind of the thing for me. That is where this is potentially annoying, but that's something that we can improve of our time. I think it's like, for example, Horizon: right now, there's quite a bit of overhead, even for failed transactions. I think we can probably do a quite a bit better, and we have also similar ideas with in core. I think we have to deal with that regardless, because we have, like some historical data already with a bunch of failed transactions and I think when people want to rebuild historical data, I mean like the meta, for example, based on those old ledgers- I think we want to be to do that efficiently. So I think we will find ways to make this better overall. Yeah, to me

[15:00] It seems like it's it like if arbitrage goes up a lot. Yeah, certainly, it'll certainly be a nuisance, but it doesn't seem like it. There's a way for it to really be catastrophic. I mean, there's lots of- you know- guardrails and checks in the network already that would prevent it from doing that. But yeah, like things like catching up to the network or running Horizon could potentially be like more load than you would, we would want. So I think we should deal with arbitrage. I'm not convinced it'll. Like I said in the 90s, I'm not convinced that going to 38 will greatly increase arbitrage, unless it just greatly increases the number of people using the network right, which is we want right. So, but yeah, but it doesn't seem like something that we have to fix before we release. 38 is my point? Like I think we can release it, and if arbitrage goes up, then we'll certainly address it. We need to address our arbitrage regardless. So we should be working on that kind of in parallel. It's kind of my thoughts, I mean just kind of for the record, you know, I know this isn't on the table. So my preference in all this, you know, I

[16:00] Think the real priority is to not let the perfect be the enemy of the good in this project. So what I would you know, my ideal solution for an AMM would be: You know as fast to deploy, to implement a deploy as possible, and it's easy to kind of upgrade or back out. You know when we decide we want to do something better. And so from my point of view, both [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md) and [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md) are a little bit too linked with the order bike. I mean I've talked to some of you privately. You know my ideal world. It would just be like completely separate set of operations and orderbook. It would be even a separate phase of like a transaction processing. So I'm not seriously putting this on the table, except to point out the fact that there's two ways to reduce arbitrage. One is to make the arbitrage expensive because there's a fee, and the other is to make it not risk free, right. So if you know, if you did have a separate kind of transaction to take advantage of the mm

[17:00] And you couldn't take advantage of the orderbook in the same transaction, then there would at least be some risk that, like you would buy something and not be able to offload it the way you thought you were going to be able to offload it. So well. I think that you know sort of where we're headed is something that's like a bit more integrated with. Like you know that works with legacy transactions. You know, if we really are concerned about arbitrage, we should also consider the ability just to make it not risk free to kind of not allow the things to happen in the same transaction. I think that can you guys, can people see me, hear me okay, yeah, it was just a weird like silence.

[18:00] Yeah, okay, cool kind of like for me, the extension of what David's saying, and you know I'm one of the people who was talking that he said that he was talking to, about what he was saying, but like there are all these kinds of trade offs that we're making today, you know what's the simplest thing that we can implement that you know people will readily adopt. It's kind of the way that I've been looking at it and so going like one step simpler, as David was saying, and you know, introducing new operations that completely decouple it from the transactions even that happen at a different phase, for example, yeah, that would be, Yeah, that would be even one step further. This would be a real, I think a even bigger hindrance to adoption, even than you know what judd was pointing about how path payments aren't widely adopted in the ecosystem. But I think the kind of bigger picture on doing anything like that is no matter when we were to like imagine we were to do what David was posing or anything else

[19:00] Considerably drastic like that, would be such a disruptive change that you know, like what would be the difference if we were to make a really disruptive change like that now. Or if we were to deploy something that we're ready to deploy now and make a really disruptive change like that in six months or in a year or whatever. Having something working in the short run wouldn't really change my calculus, at least, on making further changes like that. You know, we'll have this new data, we'll have all this new information about what's good, what's not good, and then we can build a system that's potentially better in various ways, maybe ways that we don't even realize now, and there's not really anything stopping us from making those changes later. Yeah, and just in case it wasn't clear, like I did end up being sort of persuaded by this argument, so and again. Like I think that the fact that [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md) is the potential retrofit onto [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md) again speaks to the ability of [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md) to be like a reasonable first step that's not

[20:00] Overly limiting what we're gonna do in the future as well. So I mean, so it sounds like people are generally saying: okay, [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md) is a reasonable first step forward. It's simpler, it could we could add [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md) to it later. We could explore possibilities to sort of deal with arbitrage in various different ways. But it feels like a reasonable first step forward so that we can implement it and get moving, offering and then start to gather information and do it in like a sort of first step way that can lead to other things. And I mean it feels like that's what everyone's saying: start simple, implement something now, see what happens, know that we can retrofit things to it later. And I guess my question is: does anyone have a problem with that approach or does that approach just generally make sense?

[21:00] Because I guess then I just wonder if we are at the point where it is time to start to basically move [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md) forward in the process, and what that would look like again just to like sort of remind people of the process is that right now [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md) is a draft. There is a CAP committee, all of whom are on this call, who could vote to approve that draft and if it was approved, we'd move it into Final Comment Period. People out there, anyone would still have an opportunity to comment on it during for one week, on the Stellar dev mailing list and, depending on what happens in that week, you know, we can move it into accepted and then start to talk about, we start to work on an implementation with an eye towards including it in the next protocol release. I mean I guess I feel like we're at the time when it may be time to just sort of vote on whether or not to

[22:00] Accept [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md). Does anyone object the idea of doing that? Is there any blocker? One question I had about [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md), as if things do turn out to be bad, how do we decide in a principled way: this is time to pull the plug or pause the AMM or something like that. I know we have a mechanism in the CAP to turn it off. But what would be the trigger for that? I guess bad in what context here? Bad as in, like, we misjudged, you know, the arbitrage, or something like that. Or bed in the context of like, oh, there's a bug, because this is complicated. Yeah, that's kind of what I'm getting at. Like maybe there's a bug. That's like one extreme of bad. And then there's sort of this in between bird where we have a lot of arbitrage and Horizon is struggling to read all these failed transactions, but it's sort of okay, but maybe we should turn it off because it

[23:00] Would be better. We'll be. There's a possibility of a grey area where we'd have to think about that. Do we normally think about that now or do we want to think about it? Then I think we have the tools for that. I think, like the talking about the gray, this grave thing is kind of funny because it's also the more it's unclear if it's bad, the harder it's going to get people to vote for the change right? So, yeah, I think it was. It would have to be you know more only extreme, like you know there's like this security issue or whatever. All right, that basically nobody's going to disagree with voting for a change to fix it. Like fixing it short term, maybe, turn it off, and then of course it would be like turn around and you know a new protocol it is. It's just to be clear, right. If this situation unfold, like basically, if validators agree to the

[24:00] Protocol change that includes this [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md), and then later it turns out that something is wrong, then a step to sort of undo that or turn it off, that would be up to the network as well. The validators would also have to vote to accept. Whatever the solution was. That's correct, right, yeah, and that's why, like it's, the less it's a hot, you know it's a home run, that it's something you know good or bad, like the harder it's going to get- be to get actual adoption. I think the only chance of you know, pulling the plug, hitting the button, whatever you want to call it, you know, getting that level of unanimity, as nikola was saying would be, in the event that, like you know, there was an obvious way that people were going to lose money. You know, if we were in that kind of a situation, I think that it would not be hard to convince validators like, okay, let's not let that happen. I think, short of that person, I have a hard time imagining that people would vote, you know,

[25:00] To turn it off, and it'd be more likely that we'd be in a situation where we're under some pressure to make some improvement and release a new version of the protocol in a shorter time maybe than otherwise. It's also worth mentioning that we got the communication channels established with the validators and you know, time and time again, the validators have proven this out themselves. You know, super responsive and responsible. So you know, if something bad does happen, I believe we can get that effort together pretty fast to make a change. So, given all that, it seems like we're landing in a position where we say, okay, if something does go wrong, if it's something is clearly wrong, then we can work with the network and we believe that the network is full of reasonable, responsive validators who can help sort of get things back on the rails.

[26:00] Not that we're anticipating that to happen, but just like we're really getting into like the worst case unhappy path scenario here. Yeah, I know it's all about setting low expectations, that we're always happy of the outcome, no, but I think eric's concern is actually the same than you know what people raise right with. You know, if you have a lot of arbitrage, maybe fees go up like more than they should. It's annoying. I think it's, yeah, it's a nuisance and in that case I think we'd have to probably like figure out, you know, in a more accelerated way, like mitigations for arbitrage. Yeah, I think that's kind of. Yeah, exactly, there's two concerns, right. One is fees going up and the other one is that number of fair transactions spikes in a way that is very large and starts to cause us performance issues, and so, from my perspective, the risk is the second one and I want to get ahead of that. So I think my takeaway from this is I should- accelerate plans to deal with that

[27:00] Possibility now, but there is a there is some risk that this will happen in real time. Right, but we have a few months and we're working on this already, as you say, and the thing is that you were already processing today, like the steady state, non failed transactions is over 100 transactions per second, so you know it's already substantial. Yeah, I mean, as the baseline of successful transactions goes up, that increases everything for Horizon, as we discussed Nico, but the number of failed transactions is potentially unbounded. Right in a ledger? No, it's not, it's bounded by. You know the whatever setting we have right now, it's a thousand, their pleasure. Yeah, they count as part of the legend limit. Yeah, so people would have to vote to increase that, which you know they could do today. Anyways, also, let's not forget

[28:00] That there's an optimistic scenario here, which is that there's a lot of arbitrage but the AMM works really well. So the actual solution is we deprecate the orderbook and we just kind of convince the ecosystem that it's better not to place offers in the orderbook- an even happier path. Perhaps people don't need to be convinced because they like the imm so much and they, yeah, exactly right. So one clear thing: right, we know that this proposal would create AMMs alongside the orderbooks, but we don't know what that's going to do to the orderbooks. Right, we just we don't know yet. Yeah, John, I think this is one of those like dynamic analysis type of things. It's very hard to predict. I mean we're all considering this kind of like. I mean, like we're engineers, we build stuff, and so we like to consider bad cases and make sure that we're not going to end up in really bad cases as a consequence, but like one of the things that we're like. Perhaps this does increase the amount of

[29:00] Arbitrage. I suspect it will. At least a bit. I think it'd be hard to convince someone that wouldn't be a consequence of what we're doing, but like if it were to simultaneously reduce the amount of market making on the orderbook because people are just, you know, populating AMMs instead. It's hard to know which of those two effects will be bigger. Like it wouldn't be that weird to me. It wouldn't be weird to me at all. Actually, if the total amount of traffic on the network actually went down as a consequence of this, like averages, lower spikes or higher, is like a totally plausible outcome. Great, I mean, it feels like eric did that sort of. Address your concerns. Do you have more questions? The address is my concern. I have one other question. Following the doomsday trend of all engineers, what happens if this is wildly

[30:00] Successful and everybody wants to join Stellar and join the AMM and deposit, pull shares and retrieve pool shares and everything else? Have we thought about that? I mean it works for unison. I mean we've got a lot of room to run here, you know, between us and let's say Ethereum but so, but I think that would just be the outcomes. Please go up right. Yeah, all right. Well, or the ledger limits could go up too. Right, there's still headroom. that validators have to increase the capacity of ledgers too, and we'd all be really happy because this idea would have gained traction and everyone would love it. I mean, if AMMs are super popular, I mean they require way less transactions. I think most of the transactions on the network now are people adjusting their orders on the orderbook, so that kind of all goes away. So we have even more room, if

[31:00] In a m world. So any other questions, thoughts, doomsday scenarios that we want to play out: are we ready for a vote? I feel like we're ready for a vote and I kind of just want to do it now live on this call. But before I do that, I'll just get like real procedural and say: does anyone like object to actually doing a sort of live vote and what time to think about this, in which case we can conduct the vote asynchronously over email. Yeah, cool, okay. So then I think we should have a vote here to move [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md) into Final Comment Period pending acceptance. Again, at the end of, there'll be a week for people to sort of raise questions on the Stellar dev mailing list and we'll post this new status change there and at the end of that week- you know well, we'll see what kind of comes in. Depending on what happens at the end of that week, we may move this into accepted,

[32:00] And so you know, based on. Also, if anyone ever wants to check out this whole procedure, you can look in the GitHub CAP repository and it lays out exactly the life cycle of the CAP and you'll see that there are three voters and it requires unanimous consent from all of them to move the CAP into accepted, and so I will. It is Jed, David and nicolas, so let's start with Jed. Jen, what's your vote? Yes to accept, okay. Yeah, David, what's your vote? Yeah, I'd like to accept chapter 38. Great, nikolai, what's your vote? No surprise, you know I'm kind of yes, okay, cool, so we have three yeses and that means that [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md) moves into Final Comment Period pending acceptance. I think that's it. Any other final comments, thoughts, questions that anyone has? Well, does the group want to provide some direction on [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md)?

[33:00] Like, should [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md) now be adjusted to be layered on top of [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md)? Yeah, I think that makes sense. I mean, I think, I'm not saying that we would implement this stuff immediately. I think part of it, is that we want to see what the what, how things play out, like maybe everyone moves to a m and we don't need to interleave these things and we can just skip that complexity. But likely people communities both. So it would be good to have [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md) be there in case we want to go down that road, so that would be my take. So technically that means, or procedurally that means, [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md) stays in draft mode and may be revisited in order to like sort of graft it on to [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md) in the future. Yeah, I think there are some changes to [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md) that would be worth making, because not all of the concerns in the CAP, make sense in light of how [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md) is

[34:00] Actually implemented. So there's some things that are written up there as well. Right, it would require revision. Ideally, some things get easier because, like the authorization logic or whatever can be, just you know can pick you back on [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md) and then some things need to be rethought. There's also feedback. There's a few things like, for example, CAP, I think, to get closer to adoption, [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md) should not use floating point, because we like try to avoid floating point because it's like the arithmetic's not associated, which is kind of annoying. Again that easy fix. But just like, basically I would encourage [CAP-37](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0037.md), the- you know, revision to continue and to try to have a deployment path or a theoretical one of how this would work now that we're trying to move ahead with [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md).

[35:00] Great, sounds like a plan. Anything else okay. Well, thanks everyone for coming, thanks for participating, thanks everyone who's watching. Again, we encourage you to participate as much as you want in any of these discussions about the future of the Stellar protocol. There are links to these particular CAPs in the event description so you can go read them to actually see what it is that we're talking about. And there's also a link to the Stellar depth mailing list, which is where we do things like notify people about the changes of status of CAPs, and it's also where all this discussion before this meeting happens about the CAPs. So again, it's open participation. We'd love to hear your thoughts and we will now move [CAP-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md) into Final Comment Period pending approval. All right, and that's it. Thanks everybody.

</details>
