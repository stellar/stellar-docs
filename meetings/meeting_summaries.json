{
  "generated": 60,
  "missing_transcripts": [
    "-RE0gGD0oUw",
    "45zgjaRBdW0",
    "1KN3aYzj0S4",
    "h0YscptJUw4",
    "E_rg2rQO5bU",
    "HeNP1EEI2s4",
    "aDWTaMNhKes",
    "clVgQw__vss",
    "Sw3ibgBbQa8",
    "Mgx3CM0X8dk",
    "1SiTGjMXZh8",
    "UCYfq-RuQkY",
    "w_senlMbHVM",
    "51SitOUZySk",
    "PJx6effsvTA",
    "izkwfSLc4dQ",
    "JDlIL5y5bn8",
    "1pF9evTU3QE",
    "ZL1LfJqmw_M",
    "QrLA66qU9N8",
    "lzxv5ij6TLw",
    "8UGDT1pGZYU",
    "u204TwiHJpE",
    "2XVt87tG5LI",
    "hDIP22z6nq4",
    "hfl1n5BKbs4",
    "9oCKAhbFzUY",
    "e_DH9zIRnu8",
    "zqrE4mWNog0",
    "2q3NlmrtmQg",
    "ea2fTBiLvoM",
    "346G-EQ8ScY",
    "7O4tOSn_UFc",
    "fuX07T1HUf0",
    "UT8XXdcssQ8",
    "0syGaIn3ULk",
    "RNtqou5oaeE",
    "mSABuOLuZs8",
    "EuAUCfAWg-4",
    "tYF0ADv7VWc",
    "oUbUShJiE6s",
    "CW2FeV-pMms",
    "YozAHYxQrc4",
    "6mh30ueW6fI",
    "9P2NRsQdVtU",
    "VMT9WSjHhRM",
    "UeIJZyqBiMg",
    "4QQpReQk3-8",
    "SJ4_GcDUD4o",
    "HuRB2qGbkI4",
    "GPqVdRd_lug",
    "AnJr2NISjqs",
    "1rCQdRb_mgQ",
    "LJ6UPrIu9e8"
  ],
  "data": {
    "2024-07-31-the-future-of-dapps.mdx": {
      "summary": "Hello and welcome everybody. My name is Julian Martinez, senior developer advocate and common man here at SDF and I'm super excited to get today's session kicked off where we're going to dive into the basics of building full stack DAPs using Stellar smart contracts. Um, so this is going to be kind of like a freestyle like ad hoc session.",
      "keywords": [
        "lets",
        "contract",
        "ahead",
        "actually",
        "public",
        "stellar",
        "function",
        "token",
        "thats",
        "which",
        "using",
        "again"
      ],
      "speakers": [
        "Julian Martinez",
        "Hello World",
        "Sorbon Rust",
        "So Stellar",
        "Freigher So"
      ]
    },
    "2024-07-24-build-betteronstellar-getting-started.mdx": {
      "summary": "hear me um my name is Julia Martinez senior developer Advocate and I'm super excited to get today's session kicked off where we will be learning the ins and outs of Russ smart contract development so I'll go ahead and kick it off with a quick introduction again my name is Julian Martinez senior developer Advocate and Common Man here at the Stellar development foundation once again over the next uh I guess half an hour to an hour or so depending on how you guys are feeling we're going to dive into some uh basic smart contract development and we may even scale it up to maybe getting into a staking smart contract uh just kind of depends on how the flow goes all right so first things first we're going to go ahead and dive into a great online IDE tool here it's called okashi um again okashi is an online IDE it's really good for uh iterating on your smart contract ideas um it's got a cool code window where you can type in all your syntax uh there's the contract window where you can actually call the functions um related to the uh smart contract that you've just you just coded there's also a console window here uh that shows the output of the smart contract calls or the function calls rather um so if you'd like to follow along you can actually scan this QR code and as I'm updating the smart contract online you should be able to see um uh the smart contract being updated on your local machine as well so what I'm going to do here is bring okashi to my main screen you should be able to see it here all right so uh this is okashi again uh we have the code window ready for all the syntax and um you know this is where the bulk of your your logic will live for your smart contracts uh we have the contract window which is going to hold all the functions and will allow you to you know execute and invoke different functions that live on that contract and you have your console window here which is just going to Output uh the I guess or it's going to show the return data of the function call itself um all right so let's go ahead and dive into rust and sorond if you don't already know sorond is Stellar's smart contract platform um so a few things here uh first things first you see the flag nod that is to tell the compiler to not use Russ standard Library uh sorb on Smart contracts this flag and optimize for smaller contracts so they don't take up take up as much space on The Ledger this makes for uh you know good good forward term thinking for things like State bloat and overall just being mindful of uh not taking up more space and storage than you need to uh because in the future it can lead to bottlenecks and user experience and overall just uh becomes IM manageable uh so you see here on line three you Soroban SDK this is because uh Soroban uses a special dialect of rust uh with dedicated data types and some special attributes so uh we're importing a couple of attributes here namely contract contract implementation uh the N data type symbol string and symbol short now let's go ahead and cover a few of these uh these two attributes reg are uh mainly pertain to telling the compiler to treat all the following syntax as a contract would be treated so um when it comes to the contract implementation it exposes all the publicly facing functions to the environment uh for processing through different mechanisms like testing uh static uh envir static function testing Etc so uh with EnV this data type is going to be responsible for accessing smart smart contract storage within the contract itself as well as uh data from The Ledger um so you'll see how we use this a little bit later when we're creating a key value uh kind of like storage mechanism for the smart contract symbol now symbol is a I don't want to say it's another term for string um but you can think of it as a string so there are two types of symbols uh short symbol which is a string of up to nine characters and then long symbol which is a string of up to 32 characters but the difference here is that long symbols actually require you to pass in the N data type before constructing them here on the next data type we have the string string is exactly what it sounds like um here it's going to be a concatination of letters uh symbol short is a function that we use to kind of just quickly create short symbols in this case we're going to create a short symbol for the word title now you see here on line five const title symbol equals symbol short title um we're just going to use this as kind of like a label for the key value system that we're about to set up so again you see const title symbol equals symbol short and then we're using the word title all right uh here on line seven you see the contract attribute followed by line eight Pub struct title contract so we're creating an empty struct and all sorond smart contracts will follow a similar pattern you see a contract attribute the empty struct with the name of the contract itself and Then followed by a contract implementation attribute and then the implementation of the actual contract so let's go ahead and start writing some functions here this is our title contract and the main purpose of this is to uh kind of illustrate the key value system when it comes to storage so I'm going to create a value uh for a key and then I'm going to go ahead and well I'm going to create the key value get her and Setter so we're going to be able to set a value to a key then we're going to be able to retrieve that value from a key so let's go ahead and say Pub function we're going to say set title this is going to take in two arguments we're going to say m of the type n we're going to take in a string and this is going to be for the title value we're not going to return anything so we'll go ahead and get right into the logic again referring back to the n data type up here you see M storage we have to go instance do set and then we're going to uh actually if you see set we're going to say set and title and then we're going to bring the argument from the title uh or bring in the argument title in from the uh the functions here or the uh the argument here so let's go ahead and compile this let's see if this works again you see and storage we're taking in the uh we're taking in the or we're accessing the smart contract storage here uh we have instance which is a certain type of data uh type for Soroban smart contracts of which there are three temporary persistent and instance and then you see the set method here where we're actually setting a value to the title uh to the title key and then the value will be title but it looks like we have some errors here unused variable signature length unused variable signature little literal cannot find type title in this scope okay public function string title and storage okay we got some we got some issues here so let's see what we got H so this looks like it was compiled function set title all right I'm just going to go ahead and do a quick sanity check I do have the correct function on the side here I'm also wondering if this is going to work all right let's go ahead and see what the issue was in the last set title and title okay not sure what the issue was here but let's go ahead and let's see if we can actually uh debug it side by side let's go ahead and find the difference see this see if this compiles it probably won't  okay well I'm not sure what the issue was here but um long story short here is the correct function as you can see we see uh Pub function set title uh we're taking in two arguments one is the data type n uh the next is the data type string uh for our title uh we're accessing the smart contract storage Again by typing m. storage. instance again there are three types of storage in sorb on Smart contracts and they each kind of serve a purpose when it comes to uh how long you want your data to live uh by default again temporary instance and persistence for this use case we're just going to use instance uh we have the set method here where we are setting a value to the key title and the value will be the title argument that we're passing in so let's go ahead and set a title we'll say soron rocks cool it looks like our function call went through uh and we didn't get any return data however uh to access this or to access the data that we just set to the contract storage we need to create a getter function so to do this we actually just have to follow the same structure here Pub function we have to say get title we're only passing in one argument that is of type in and if we want to return a string so for this we're going to go end storage end storage instance and we're going to say get and we're going to say and title title and we are going to say do unwrap string from string and we're going to pass in the n and we're going to say default uh default message all right so default message here so what is this doing let's see if this compiles first don't want to hit a block okay instance instant so it looks like we got a typo here all right so what are we doing in this function you see Pub function get title so we have one argument that we're returning or one argument that we're taking in that's of N and then we're returning the data type string so here you see n.",
      "keywords": [
        "contract",
        "token",
        "smart",
        "ahead",
        "value",
        "again",
        "title",
        "address",
        "function",
        "data",
        "storage",
        "lets"
      ],
      "speakers": [
        "Stellar Keys",
        "Julian Martinez",
        "The Ledger",
        "Hello World",
        "Common Man"
      ]
    },
    "2023-04-14-soroban-developer-workshop.mdx": {
      "summary": " foreign hello everyone  Paul can hear me I can hear you yeah can you hear jittery is it okay let's see what about my volume is it good enough yeah you're all good thank you  actually get out of the camera hi hi hi everyone we are getting started how is everyone doing today all right give us a minute here as we get set up for our sorbonne developer Workshop we are writing our first smart contract on sorbonne and we have Morgan and Paul joining us on stream here today to do this Workshop hey Morgan hey Paul how are you all doing hey everyone doing good yeah going good here how are you new here I'm doing well I am in the SDF office um it's been so exciting the devrel team has been expanding and we're onboarding so many new um developers and it's it's been exciting sorbond's really changing and we're innovating and I can't wait to see what more is going to come out of this but all right oh you were at Paris blockchain week right Morgan so what is this that's true I yes here I feel like this is this is what the SDF office looks like everyone anyone yes I think we should do like a live stream tour of um sdf's uh California SF headquarters I think that would make a fun stream everybody's work and uh see what they're doing just like pop around and interact with people I'd love to hear that what's with them with the Media Kit in the background uh yeah we'll find out with yeah I know but so many comments here cool cool single monitors only yeah y'all we have only single monitors around in office I will let them know we need curved monitors we need all that cool Tech but yeah all right without further Ado Paul Morgan I will let you all kick off um about this workshop and talk about what you presented at Paris blockchain week and I'll let you start off Paul cool yeah um I think I'm presenting here how do I make that happen on the screen there we go yeah cool that looked like it a second ago yeah that's the one cool um yeah welcome everybody uh good morning good evening good night uh wherever you happen to be welcome to uh live stream I'm writing your first smart contract on sorbom uh here's what we're gonna be going through today um so first off we'll do a bit of an intro uh we'll talk a bit about what is sore bond for those that don't know uh we'll have a cool uh hello world demo from Morgan uh and we'll talk a little bit about why store Bond's important why it matters why it's good why you should build everything on it um and then we'll have a bit more uh for Morgan on his kind of uh journey and how he got to sorbonne and how I got involved with all this uh and then uh Tyler will share a bit on how you can get involved and then I will wrap up from there and we'll do some questions and stuff at the end so uh first off who are we right uh my name is Paul I will start there I'm a Staff engineer at the Stellar development foundation which means I get to work on sorobon every day building and making it happen uh for all of you uh so I'm really excited to be here today to share some of the stuff that I've been working on uh what is the Stellar development foundation uh if you don't know and you've somehow stumbled into this stream anyway uh the SDF works with the Stellar Community which is all of you to build the Stellar Network uh the Stellar network is a fast and reliable L1 blockchain with finality in just five seconds uh the Network's been live since about 2015. uh it and has seen sustained real world usage of 150 transactions a second with literally no problem just cruising along uh which is pretty crazy to think about uh it has a Global Network of anchors uh it's what we call which are on and off on and off ramps issuing on-chain versions of assets from the real world including cash access which we'll talk about later and for the last year we've been building something new sarban so what is Soroban so sorbonne is a new add-on to the Stellar Network traditionally the vanilla stoneware Network didn't have Smart contracts there were there was a few L2 attempts right like turrets that some of you might know but they had some issues around that like atomicity um yeah and other things like that so we wanted to open up more decentralized Innovation to the network and to open up new opportunities to the underserved and unbanked populations that Stellar's built to serve and I mean my big thing is payments is such a small part of the financial world it's like an important thing to get right but it's just kind of the base layer of what we can build here so we announced the project that would come to be known as Soroban back in January of last year since then we've shared uh eight I think iterative releases yeah I want to preview eight now uh onto our experimental test net known as futurenet so devs can experiment learn and contribute to the design discussions we've been regularly running a program called sore bonathon uh we'll hear a bit more about that later from Tyler and we regularly discuss design choices and onboard new devs to the community on our Discord the community interactions with all of you lovely folks who are now in the Stellar Community sorry I don't make the rules but I will enforce them so you are going to be part of the community now the community interactions and the public input has been really exciting to see that's been my favorite part of this journey it's been absolutely mind-boggling um it's impacted almost everything about sorbonne right from naming to authentication how does that work to how Soroban should integrate with the existing vanilla Stellar Network and while sarban isn't tightly covered coupled to Stellar specifically it is designed to work well with the network um so a bunch of stuff on that point it's written end to end in Rust for Speed efficiency and access to the ecosystem that exists there it comes with a bunch of plug and play sdks for simple to complicated authorization models and it's built to scale right because it has to keep up with the rest of the existing Network it can't slow down the network but the thing I'm probably most excited about in store Bond and looking forward to seeing is how it's empowering all of you in the community now that you can build on Stellar completely Unchained hey I'm sorry I'm sorry if I didn't make that joke Tyler said he'd fire me so it had to happen right uh at this point I'd like to introduce Morgan uh he's a founder of useorbonda app he's a Community member who's been building some incredible stuff to help onboard other devs to Soroban and he's going to show us a bit about what he's been working on  hello everyone I'm gonna start buying sharing my screen should have done this earlier all right so here's um here's a thing that every developer starts their programming Journeys with we all like to say hello and we all like to say hello to the world as the very first thing that we do in our programs and um you know almost everyone starts their Journey that way um and in fact the time it takes for someone to say hello world in a specific programming environment maybe the determining Factor if they're going to continue their Journey um in that platform or not so I definitely want you guys to stick around for the rest of the presentation the rest of the talk um so I'll just get started with the hello world part  all right so what do we have here um as Paul mentioned I am the founder of usurubond.app which is this tool that you see right here um it is a developer playground for saurabhan smart contracts now what do we see on screen exactly uh well I'm logged in um so um I have access to the Gated Alpha here and I have the ability to create a new project so let's go ahead and do that new project pops up and let's go ahead and delete everything because we're going to start from scratch what's this environment all about well first we have a code Editor to the left here this is where we'll just put our rust slash sorobong this playground uh runs on Rust and the rest soar about SDK you'll as you continue your journey um you'll find out that there's other sdks for sword Bond available for now we're going to deal with rust because that's the sort of reference implementation all right so we have the code editor we'll we'll put our rest in and sort by um and then we have some widgets so right now console is open code is open and let's get started with the hello world part so how do we do that in rest well I guess we write a hello function and we call the print line macro and say hello okay compile it and that worked this is a rest program as it should be compiled and I abstract all the details for creating cargo projects and um the defining targets and so forth so you just sort of write some code and click compile in you know you're Off to the Races Morgan I'm going to interrupt you for just one second can you zoom in a little bit more because we can't see it a little bit more how about now a lot more a lot more yeah a little bit more I would say yeah it will be unusable if I zoom in any further so I do apart for anyone or we can we can hide my face there's a lot of stuff on screen that's uh not the code so we can just sort of focus on the code here we go um there we go sweeter like I'm almost blind and there you go okay sweet we got one confirmation I can see it fine carry on and everyone can hide the faces because like the vertical space might be useful um nothing but the screen share all right perfect thank you um all right carrying on so print line uh hello didn't work well at least it compiled and didn't produce what we wanted um why is the question and well we're working in a soybean environment right Soroban expects a certain kind of um format for these things to work and everything that um we want to be able to call has to live in a contract so uh contracts are struck in rest we're going to declare a contract uh struct this name can be anything you want um call contract because it couldn't come up with a better name all right so we go ahead and Define an implementation for contract let's go ahead and copy this from here  okay all right compile this again and that worked again no compiler errors but the problem is we still don't see any hellos popping up um so that's not great um ideally you want to work with the SDK here because you know a structure like this is not really sort of buying um we got to tell it to do a little bit more so for that we're going to use the soroban SDK and we're going to import the contract implementation macro and that's going to do a bunch of things but essentially this will convert this implementation right here into a soroban contract and uh okay we have a a few errors over here um by the way Russ is super famous for really good compiler errors and in this environment which is enabled by soroban the way it's designed to leverage webassembly and um and rust so we'll get those beautiful Russ compiler errors and we can see that there's some problems with the Panic implementation although it's not entirely clear what's going on uh so I'll just sort of uh skip the mystery here and um solve this problem by finding this macro right here so contracts on the blockchain have to be super super efficient in how to use the available Ledger space and rest programs even though they're pretty light they still carry a bunch of stuff that we don't really need uh as part of our contracts so to eliminate everything that we don't need um and just get the rest that you know the basic rest of that is required for contract logic will we declare um the no STD macro this um unfortunately um removes the ability for us to use the print line macro to print this stuff and uh okay so let's get rid of that now we've uh back to a solid compiling contract here and let's go ahead and declare this function as a public function now we have something on on on screen up here uh that's uh looking like a button so in this actions widget which is sort of the a third of this interface in the middle is where you will be able to click and interact with every function that your contract declares so our contract right here declares a single hello function we can call it and we'll see in the console a return value so it's implied that a function without an explicit return value returns none in rest so same applies here and we're going to return value now um I guess we can leverage this return Dynamic to finally say hello to everyone tuning in and for that we will need a special type so again since we can't use the rest strain it's unavailable we have to figure a different way to carry our information and for that we're going to use a symbol which is an efficient data type in in sorobind for storing alphanumeric characters essentially all the letters of the alphabet plus the digits and the underscore so what we're going to do with symbol is we're going to initialize a short symbol that says hello and short just means that this sequence of characters will be able to fit in a single 64-bit value which is pretty important when it comes to this this context let's recompile this again and uh oh thank you rust compiler we are returning a value so let's make sure that we declare what we're returning and let's call this all right so we have a return value hello um from this function right here and um this is sort of your basic most basic implementation of a sorobind contract that says hello to anyone uh tuning in now let's make it a little bit more spicy and let's use a little bit more of the environment here so let's say we're going to log a value everybody loves blogging as a you know someone coming in from a web developer background I use console log all the time and console log is uh the best so we have an equivalent in sorobind it's called log the log macro and we're going to declare a new function called hello2 and what are we going to do here we're going to uh gonna say hello to a specific name it's going to be a symbol and we're not going to return anything okay so how do we interact with this log macro um well it's a macro so we use a bang and then the first argument is the environment within which we're logging this value and uh you'll get used to this concept of every single function that your contract has that interacts with anything else anything in the outside world will have to have an environment as the very first argument it's kind of like your access to everything so log accepts the first argument um being the environment so we're just going to pass in in reference to the environment next up we have a string and we're going to use hello bang and then we're going to provide the name let's compile this uh oh we're missing environment in in this import and a handy feature is if you're having problems with a specific type or you're missing something you can go ahead and click um links right inside of your compiler widget that will take you to the documentation so it's an easy feedback loop so now that we've imported an environment we can recompile this again and try saying hello to twitch I guess is where most of you are um and in this console widget we can see that in between hello too which is the function that we're calling and the return value we have a log that says hello twitch all right so I'm almost done with the first demo anyone and everyone that's tuning in you can actually test this on your phone um so this is going to be a multi-modal demo and um for that I'm gonna take my phone here so I just popped up this share modal I'm going to take my phone this is an actual phone I have here bring up the camera hey everyone and I'll go ahead and look at the QR code here tap on usurabond.app and we can see we're taken to a version of usurubundan app which is mobile optimized and you know we gotta work on mobile experiences just as much as a desktop experience and someone that's designing these apps we've got to be mindful that that's where our audience is so this kind of interface will allow users to test this contract anywhere they are especially on the mobile phone so we have access to the same sort of widgets we have the console open and actions is a sheet down at the bottom we can go ahead and call hello like we did before quick access down at the bottom to the previously called functions and we can call hello to and let's do twitch confirm and then we can call this function with the same arguments if we want to or we can change the arguments um and do YouTube okay all right so that does conclude the demo everyone that scan the QR code and we're able to interact with the uh with the app here congratulations uh if right now this is still in a gated Alpha if you want access to the current build please tweet me on at sorobine Dev on Twitter and I'll make that happen um all right so I'm handing it off Back To You Paul  we go okay I'm back uh thanks Morgan can we get the slides up again cool thank you um yeah so that's Morgan has shown us the basics of Soroban but I want to go into what actually makes it so special and what makes it so exciting here so uh first off it is batteries included for devs that's our goal here right when we're when we're designing it everything we're thinking about designing it that's our goal and that means we're including everything from Storage to authentication and authorization Frameworks to token minting and transfers all that's baked in right it's ready to go uh so you can focus on your application and not spend ages trying to figure out how to like verify an ed 25519 signature right like you shouldn't have to worry about that um and secondly uh unlike pretty much any other smart Contracting platform out there um because we're launching on the Stellar Network you get access to all the existing assets on the vanilla Stellar Network and I want to address a comment in chat I think from Matthias said I should call it classic and not vanilla and I'm calling it vanilla for a very specific reason right because the existing Stellar network is not going anywhere right that's still all staying there it's not being deprecated it's not a classic thing right it's just a different flavor of the same thing um it'll still be the fastest cheapest way uh to use the network but if you need a bit more power that's what soroban's for okay but building on the existing Stellar Network means that from day one of launch your smart contracts can hold and use USDC right and many other assets that are already on the network they also have access to Stellar's cash on and off ramp via our partnership with MoneyGram which gives which works in over 200 countries worldwide right so putting this together we could think of someone let's say Julia right she doesn't have a bank account she can go to her local MoneyGram location deposit cash into the kiosk she receives USDC on the Stellar Network in her wallet and now with Soroban she can take that USDC and deposit it into I mean a lot of things right whatever you're building but let's say an income generating D5 protocol where she receives a portion of transaction fees for providing liquidity right the partnership between Stellar's anchor Network and MoneyGram allows users like Julia to move cash straight from their physical real wallet to a DFI protocol and vice versa which is something that I don't think's ever been seen on any other blockchain network so far um yeah and the third Point here I want to talk about what makes soroban super special is the scaling optimizations that we're doing so when designing Soroban we've been able to learn from the state of the art and hand pick the best solutions from each one so we've designed the transaction execution model the scale across multiple cores we've calibrated the fee model to maximize throughput and minimize cost while protecting the existing Stellar Network traffic so we've designed a lot of optimizations around the contracts themselves as well that you don't see on every other chain so for example if you look at uh near not to pick on them I love near but they do this in the near contracts you need to do your own serialization the deserialization of arguments when you get stuff in and out that means you need to compile that into your contract and deploy it as well right so you need to include that library in Soroban we've pushed as much as we can out to the host environment where we can say batteries included right which lets us massively reduce the contract size and you don't need to pay to deploy that code or your users don't need to pay to run it right we can take that a little bit further with uh built-in contracts so we have an idea in Soroban of built-in contracts similar to like pre-compiles you might know of us on other network um So currently this is just for the standard asset contract um and it means that it runs Ultra fast and cheap right um and it lets contract standardize on the interface within the ecosystem and that's the standard asset contract that we have in Soroban is how uh Stellar assets are exposed in Soroban they look just like any other contract to your contract so it's really easy to integrate with existing Stellar assets um the last thing here that's really cool uh we're actually working on solving State bloat with our state expiration model so on other chains you store some data on chain and it's there forever right well forever right in air quotes we have a rent-based system with evictions and Restorations to ensure the Chain's working data set stays as lean as possible so once your rent expires your data gets evicted and you can pay to have it restored back on chain if you need it we can do a deep dive on that another day it's a bit involved and actually we're still uh still designing some of those elements right now literally right now on the uh the call on Discord so um at this point I think Morgan can introduce this a bit how stateful contracts work on sarban and get some of the basics of those in foreign I'm Paul's back too hey Paul  I am muscle back yeah we're waiting for um my screen share you are waiting for a screen share of Morgan there you go okay all right um thank you anyway yeah thank you Paul so like Paul mentioned um there's quite a bit of innovation going on um sword I'm and the deeper you go into it uh the more you can sort of understand like you mentioned there's a design discussion going on right now we're about to wrap up um every week I think they go on uh but anyhow let's discuss the sore month State of Mind specifically when it comes to uh storage and preserving things in The Ledger  so as I open this up I want to hide my face and then focus on the code again if  all right perfect so uh we we're back to a brand new project uh I think we should rename this to  speak so we're working on the state uh on on the sword State okay so sooner or later every developer finds themselves in a situation where their application is not working as expected I would say raise your hand if that happened to you but I can't see you so I assume everyone's had this problem um and we all know the techniques of how to solve these things like unit testing or logging intermittent values using break points is is a cool uh way um to inspect stack frames and so forth but unfortunately smart contract developers often don't have a rapid workflow for finding bugs or faults in the contracts and you know this leaves them with the only option of hey I want to test something out well what do I do I take the current code for the contract that I have and I either one of two options I deploy this to the test net um of your blockchain that you're working on and I test it against the wallet um and that's going to be if you're a very efficient under a minute uh or it could take a little longer or your your second option if if the blockchain is is well equipped for developers let's say you can probably deploy to a local Docker running instance so that's all fine and dandy um but air is the limit and folks I guess tend to not test as much as they're used to because of all the hurdles and so Soroban takes the challenge hit on by providing a guest environment right in the SDK so you'll be able to see in the documentation if you follow along this path where uh you read a contract and immediately you read a unit test for a function and this is using your regular rust cargo unit tests um with usurubon.app I leverage that functionality of the of an environment um provide features to rapidly test um your contracts so right here um we're gonna we're gonna explore State because let's let's you know face it if if we're writing hello world probably bugs won't affect anything too much if we're dealing with State then bugs all of a sudden become an issue all right so let's uh let's begin how do we store something on The Ledger we're gonna head and start with the same no STD so we're not going to import the standard Library we're going to use the critical elements like contract implementation and environment Within you know and let's grab a simple as well from the SDK and we're going to declare another contract  on track okay and then we're going to implement this contract with a couple of functions  um let's clear this upper way contract implementation all right so what what do we want to test to sort of showcase this well first let's compile compile often right um never too often to compile we're going to have some uh some data in the storage and on The Ledger and we're going to save and retrieve that data so we're going to have a couple of functions so let's declare save as the one that will put data Into The Ledger and uh we're gonna explore a number uh it's gonna be u32 now save is going to return the same number just for the sake of it I guess and um we're gonna load a number environment and it's going to return that number so it's essentially save and load two functions for this contract let's compile this again make sure nothing breaks um oh okay well I guess I compiled it a little too early uh let's return some value here um oops okay so we have uh we have something of an issue I remove this let's make sure this compiles again um let me back out of this  oh we don't need to back out of this we're just not returning a value before should have trusted the rest compiler errors all right so we call save it takes in a number and by the way this is one of those nice abstractions that you get with um an environment like usurubund.app let's say a function takes in some arguments right in this case it takes in a number argument that's a u32 well we have a nice modal that we can input our number um to confirm and that's going to call our function as far as integrating into soribine um there's another nice feature that's um part of the I guess soroban contract specification so when you compile the contract there's um some amount of that byte code that's compiled allocated for specifications so let's say save something rather save a number to The Ledger okay let's compile this again we can see that the modal now incorporates our comment for that function to describe what exactly this number does or what exactly this function does so we're going to click confirm and uh let's add a another specification here or the docs for this function load a number from the layer pile this again and uh oh it doesn't take any arguments it's not going to display that that modal that's fine all right let's return the number as our first exercise it's gonna be u32 and uh  42 we got 42 in the console here and right so now the magic part how do we take the number that we provided in our modal here and put it into uh storage wow we need a certain key something to store it under and for that we're gonna declare a constant and it's going to be a symbol value that's why I'm imported symbol and it's going to be I'm not original with names under these circumstances I'm just going to use storage and over here we're going to pick the same environment that we've used before for logging and we're going to reference storage okay  compile this oh about the year I was expecting so storage is a method not a field as we can see inside of this error message we can go ahead and inspect what exactly storage is in the documentation and um let's see exactly how to use it so we can see that there is a set function under storage it takes a key and a value okay so with this new knowledge here um since this is a method not a field we're going to call This And since we observe that it has a public function set we're going to call that set function to store what we're storing so we're going to provide storage as the key right and we're going to provide number Something That We're storing or the value of this so save 42. confirm all right how do we know that we did store this correctly well that's why we have this load function here and how do we retrieve something right we used set to store it how do we retrieve it well we can go back to the documentation real quick and see that there is a get function associated with storage and it returns an option that's a result that potentially has that value so there's um you'll see that there's some unwrapping that needs to happen oh so we go ahead and reference that same storage call that same storage and call the get method and we want to get the value under storage the the key so what do we get we get um an error because we're trying to return a u32 so let's return to u32.",
      "keywords": [
        "lets",
        "contract",
        "thats",
        "value",
        "function",
        "stellar",
        "hello",
        "theres",
        "contracts",
        "call",
        "environment",
        "community"
      ],
      "speakers": [
        "Stellar Network",
        "The Ledger",
        "Community Fund",
        "Stellar Community",
        "Adoption Fund"
      ]
    },
    "2022-12-15-something-big-is-coming.mdx": {
      "summary": "that the Stellar development foundation when the war in Ukraine started we realized there was an opportunity for us to make a difference we had already been working with the Ukrainian government on its digital strategy and we realized that the vision that we have for payment rails on blockchain the vision that we've implemented along with a lot of our technology Partners could really help people in need so over the last 11 months we pushed hard to make it a reality we pulled together our incredibly technology our incredible technology organizations that you'll hear from today to create a system that shows why the stellar blockchain and its ecosystem combine to make something truly special we navigated months of testing to make sure that this was worthy of those that we are trying to help and Carmen Hutt who you'll hear from today planted the seed that got the whole thing moving so we are so grateful to her for her vision and Innovation and her trust in Building Together and all of that brings us to today the Stellar blockchain Aid disbursement system is live fully implemented by The unhcr Who is delivering digital cash assistance to internally displaced people idps in Ukraine before we dig into the specifics I want to share some important context hash based interventions serve as a Lifeline to the world's most vulnerable populations this need is only growing most notably with the start of the war in Ukraine causing some 7.8 million refugees to flee the country and 6.5 million to become displaced within the country which pushed the number of forcibly displaced people globally to a hundred and three million for the first time the highest number of forcibly displaced people in history this disbursement system that we're announcing today is designed to help these people by serving the aid organizations that deliver Aid to them directly to tell us more I'd like to introduce Carmen hat the unhcr treasurer who has been a Visionary in spearheading the development of this solution since the start of this year with the SDF hi Carmen hello hello everyone yes indeed today is a great day it's uh it's a it's a big step and of many to take yet to come uh the solution is live so so that's good it's fully integrated and I'm also here wearing the the financial the financial head so I'm I'm a finance professional so we need to ensure that this solution really meets our high criteria in traceability accountability making sure that we can actually report Dollar by Dollar so we are confident today that the reporting tool is fully in place and we can deliver in an accountable way so the solution is life and we have basically implemented now in Kiev in liebe and in Venezia and more to come um so far so good so it has absolutely achieved what we what we wanted to achieve so we're on a we're on a good we're on a good path here as I've said many times internally to our team and also I think to you Carmen you have really pushed us to be better and to make sure that what we delivered was of the top quality so what role does cash assistance play in the unhcr support of idps and refugees it obviously plays an incredible role and it plays a crucial role because it gives people really the choice because we have to imagine any of us if we were to if we were to be forcibly displaced you know what we would actually need so we really need to have uh you know Financial inclusion as well so it provides and strengthens livelihoods and also economic growth it means that people really have that choice of what they need and when they need it so they have access immediately to to the financial ecosystem so that's that's really key and you already touched on a bit about the the notion of the transparency and and from and putting your financial hat on but what are the benefits to the unhcr of this system that that we've built together yeah the benefits are are vast and multiple so on on one side we have instant access it provides instant access to the financial ecosystems um with uh with obviously bulk disbursements so many many uh beneficiaries can be reached in in no time in an extreme Rapid Way there's transparency so we can uh we can basically um follow follow the money follow the data all the time anytime anywhere on any device so we have full full visibility on all transactional um interaction as I said access is very important so access to to to to to money access to money but access to markets as well and basically for the most vulnerable to make sure that they can really survive because we're talking about survival here stability because it's the USDC here we are using so that means that any time on the wallet that the beneficiaries can actually carry the US dollar and it is not obviously it's not due to devaluation at this point so they have a choice as and when they withdraw partially or fully and it is portable so as people are on the move they they have access to that money all the time as and when they need it and there's the cash out so the cash out options are very important because it needs to be contextually relevant and the access to money for survival is crucial through these Solutions so it's not a hypothetical solution it's a solution that is contextually relevant and is working yeah I love to hear those words we've worked together for so long to make this happen um you've already touched a bit on the the notion of the the transparency and from a financial management and Reporting uh is that something that's really important not just to obviously the unhcr as it's doing its own reporting but to the unhcr donors yes of course so we have uh we have high scrutiny on each and every dollar that that we get uh to to deploy uh assistance and Aid in general the key here is that we need to get um we need to get visibility that we can do that reporting so whilst we have data available on the Chain we need to make sure that we have uh on time on time real time the the the information available so the scrutiny is is is higher is higher than actually uh in kind in kind assistance in kind would be if we deliver if we deliver a bag of rice so the key here is that every dollar is basically monitored real time and reported upon thank you so much for that all of these uh these these things that you just mentioned are so important and have so much to do with just the value of blockchain but also just the value of these tools that we've built together uh we wanted to share a message from Deputy minister bornyakov of Ukraine the ministry of digital transformation has been supportive of the development of the solution over the past few months so we'll go ahead and play that now greetings everybody Ukraine has been fighting for the future it's Democratic choice and its survival as a nation 2022 is the hardest year for a country for 11 months we have been fighting with a brutal illegal Russian aggression almost a year ukrainians have been fighting not only for their country's survival and sovereignty but also to enhance European security and prove that democracy is still the most vibrant form of governance today another biggest shelling of Ukraine happened dozens Iranian drones in the very heart of Ukrainian Capital targeting critical infrastructure when people were supposed to be going to work today 30 of power plants are destroyed people have lost their access to the essentials electricity and water supply Russian energy terrorism is a new way of blackmailing not only creating but the whole world Russian terrorism isn't related to winning over strategic objects this was made to scare this track and let's be honest to kill ukrainians back in 1991 Ukraine chose to be an independent sovereign country and in 2022 we're fighting for a choice from the early days of fosuke invasion we realized that we can mean only with the help of Technologies new approaches and Innovations Ukraine is using Cutting Edge Technologies such as blockchain cryptocurrencies nfts and web 3 in face of the Dreadful challenges of the Russian war and today we can see how embracing blockchain technology allow us to scale humanitarian efforts in a way that wasn't possible before the United Nation Refugee agency and the Stellar development foundation launched a first of its kind blockchain payment solution for digital cash distribution to internally displaced persons in Ukraine for fleeing ukrainians and primarily for those whose Banks accounts are in acceptable this pilot project providing humanitarian assistance using a digital wallet based on blockchain technology and will serve as a possible Lifeline for survival the project itself is a vivid example of how blockchain has the potential to transform the way humanitarian funds are allocated the use of blockchain Technology allows to ensure that the most vulnerable people will have access to funds provided in their name in this way humanitarian efforts all over the world will be strengthened in unprecedented way the ministry of digital transformation of Ukraine is grateful to the United Nations Refugee agency and the Stellar development foundation for standing with the people of Ukraine and doing this in such an efficient and modern way thank you so Carmen after hearing from from Mr bornyakoff and understanding you already had a really good sense of the challenges in Ukraine why did you believe this could be a good solution to Pilot there yeah like like we just heard that obviously Ukraine is a global lead in the development of Technology solution they have a wide a white um white companies obviously available inside the countries as well so from from that also the the people themselves are very digitally literature literate and also the regulatory environment very important of course to be able to access in a digital way the financial ecosystem and that allowed so the combination on regulatory environment and as well the technology allows basically to to reach the people in need as I said before what is most important to us is obviously so you know to implement solutions that work and that are that are basically giving that Lifeline to people in need so Ukraine in this sense is is specific and we would have to see how else we can roll out this kind of solution further in the world thank you yes that's that's great and I'd love to turn to the technical components that bring this solution to life key pieces being circles USDC the vibrant non-custodial wallet and MoneyGram International so let me just provide a really quick overview of how the funds the flow of funds and how they get from the unhcr to idps in Ukraine so the unhcr is responsible for program eligibility beneficiary enrollment and the allocation of relief Aid as well as the overall protection of the beneficiaries the unicc serves as the Technical Solutions provider for unhcr it manages the back end technology with the full internal implementation of the Stellar disbursement platform and integration into the un's cash and Reporting systems making it the first independent instance of Stellar Aid assist which is so exciting to me the Stellar network is the blockchain that transmits the funds and holds the record of Truth with the Stellar development foundation providing Technical and programmatic support USDC is a one-to-one backed digital dollar issued by Circle and it provides a trusted digital dollar stable corn stable coin for a safe store of value vibrant provides the digital non-custodial wallet software that enables program participants to receive and store their relief Aid and MoneyGram International provides hundreds of thousands of locations around the world where participants can cash out their digital dollars into local currency some MoneyGram locations support Cashing Out physical USD and or Euro depending on user preferences so MoneyGram is integrated with several large banks in Ukraine so it allows for seamless digital cash outs to the beneficiaries bank accounts from their phone if that's the way they choose to do the cash out so now I'd like to invite Dante desparte from Circle and Anna Greenwald of MoneyGram International to join this discussion and talk about the specifics of this innovation Dante can you speak to the value of having a digital dollar as a secure store of value in the humanitarian Aid use cases like this sure thank you Denelle it's great to be with you and with Carmen and Anna here today um this is one of these really powerful examples that while it might still be in the Prototype phase I think is the type of innovation that should be in the hands of everyone everywhere in no small measure when you have disasters and humanitarian crises like Ukraine and I should point out these types of Necessities aren't just for conflict zones or emerging in developing countries but very much here in the United States in many places the movement of money in a disaster scenario is often strictly about Supply Chain management and Logistics when you have trusted forms of money in digital form such as USDC and you have blockchain networks like stellar and you have the Integrations with networks like MoneyGram around the world you now have a form of money that can be sent to people with the instantaneity of the internet have the underpinnings and the fundamental Trust of the US dollar and then have the auditability and the corruption resistance of a completely perfect transmission medium in the form of blockchain networks um and and think about what we're improving upon in many cases humanitarian Aid disbursements are physical pallets of cash delivered to a physical air base or a an airport somewhere in the world and those pallets of cash are nothing short of Honey pots for corruption bribery and fraud the type of money we're moving in this prototype in this project um is anything but a honey pot for corruption bribery and fraud um and so I think what we've done here in Ukraine and what we hope to do in other emergencies around the world we should not forget Afghanistan we should not forget um a lot of Forgotten crises around the world where this type of prototype can be very meaningful um should be a part of this new digital humanitarian blueprint so Circle USDC we're all very very proud to be a part of this announcement today well yeah and I think one of the things that I've always talked about is just how important it is to be able to send the value that you send is the same as the value that you receive and so what you guys have built and the opportunity to be able to leverage a digital dollar that is one-to-one back this is so important I know you guys know this but to be able to have that to be part of the solution it just really makes it work seamlessly absolutely and and the point I was going to make is is um again this is not the first time USDC has been integrated in such a large-scale humanitarian project a number of years ago um at the height of the crisis in Venezuela USDC had a very similar project to provide for corruption resistant instant and audible auditable uh peer-to-peer payments for doctors across the country supporting the pandemic and Disaster Response at that time um the the key of course is it's not enough to do this once there's so much great humanitarian need around the world and as Carmen said at the outset helping people in acute scenarios like the war in Ukraine is one piece of the puzzle ensuring that you're advancing um you know material Financial inclusion objectives along the way uh I think is also very critical and so we're concerned with not only providing people with no buyers and Spenders Remorse by having a trusted digital dollar but as MoneyGram has provided now you have this Global on and off ramp so that those digital dollars are not um potentially stranded on your mobile device or your phone but they now enjoy a global exchange Point all over the world through this partnership with MoneyGram as well and that's a perfect segue into a question for you Anna this solution is as much about blockchain Innovation as it is about how traditional services and fintechs are coming together to make a difference Alex and I always talk about the fact that this is really that blending of the old world and the new world and it's one of the things that we talk all the time about about how that enhancement just really creates so much opportunity can you speak to how these off-ramps into local currency are meaningful for idps yeah thank you and first I I just want to Echo what Dante said about how thankful MoneyGram is to be part of this conversation and part of the solution with unhcr and stellar um I think Dante used the word acute in talking about meeting the needs of this population and I think that's one of the places where MoneyGram provides the most value is that having these physical networks and Integrations with banks and the licensures needed to do cash disbursement it's very time consuming and so um I think one of the the challenges faced with with refugees and with with idps is overcoming that initial hurdle of getting into the market and so I think moneygram's ready-made cash disbursement Network that we've spent decades building out can quickly now be turned into this incredible asset in this partnership and so again we're just so thankful to be here and to get to utilize that Network alongside you guys we launched the the MoneyGram relationship with the stuller network in June and to see it not just be live in 180 or so countries globally but to be able to be used in this way is uh for me just sort of the reason why I'm in this space so I'm so grateful to the support that we've had from MoneyGram um from and from the uh the team there to be able to make this come together uh Dante it's obviously been a really tough time in our industry with many Skeptics out there about the utility of blockchain this announcement is the direct counter to that right it is in fact a year ago yesterday I sat in the Senate Banking Committee um having to not only defend the activities of circle but in some ways the entire industry and yes it has been not just what we refer to in this industry a winter but perhaps an ice age and at our darkest time I think this example today is a good example of a bright light um also I would argue a year ago Circle announced a broad program known as Circle impact in which we made a few big commitments one of them was that we would allocate a billion dollars or more to minority depository institutions in the U.S and Community Banks we've done that the second is that we would launch a digital financial literacy program with historically marginalized communities and and colleges we've done that and the third and perhaps most important pillar is that we wouldn't just sit back idly while Humanity Humanity suffered or there were dire humanitarian crises and I'm again pleased to say that when you know unhcr and others had to make an exacting choice about which digital currency would be a part of this program that USDC was there and so the key for me though is these opportunities shouldn't just be pilot projects humanity and the the need for Disaster Response requires that we pre-position these capabilities well before a conflict or a disaster strikes and so we look forward to partnering with Stellar MoneyGram the United Nations systems and candidly Aid agencies all over the world to ensuring that these otherwise open Digital public goods are readily available for people everywhere well before a disaster strikes and so I think that's our priority as we look into 2023 and so we could end this otherwise dark year on a slightly bright note and not not rest on our Laurels that this is just a pilot project today this should just become a part of a norm all over the world here here uh and and when we and Carmen when we talk about um this experience and how we can use this experience to prepare for future crises um what is how do we build these Solutions so that they pre-exist uh before a crisis event strikes yeah preparedness is is key so I think that this is one step we have a solution in place and we now need to see how adaptable it is elsewhere and it is there's no doubt but we need to keep in mind that these Solutions required to be useful with the people at the center we serve so in each context we need to look contextually what really um you know what are the key key criteria to make this happen and our ultimate our ultimate goal is to be able to provide any time anywhere on any device the the benefits so so you know unhcr has been in in that business for some time so that's what we do each time we have we have an emergency but we always can get better so we need to build upon upon this uh these seats I think the seats are now in the ground so we need to we need to make sure we can we can leverage them sufficiently and um you know at the Baseline we need to be able to to follow the money and follow the data so so I think once we we overcome that then we are we are ready for for any disaster scenario um also a key a key ingredient is the regulatory environment so we need to make sure that each and every jurisdiction we understand what we can do because we are not we are not essentially in the business to to run a parallel system we are here to you know to integrate to to the financial ecosystem and that people can go about their lives like any of us would would wish every day so this is this is how we see it to to leverage fully uh the current solution that is being put in place I think that's really important and and Anna I wonder if you could think about this solution we tried really hard when we were when we first met with Carmen and others from the unhcr to make sure that this wasn't a square peg round hole and to make sure that we weren't just like trying to force blockchain into a situation that didn't make sense um certainly we've been working with you guys since June and have you seen that like this is different than what you guys have offered you guys have worked in humanitarian situations as well before um and how do you feel about the way that this works with respect to um the different offerings in terms of cash versus bank account kind of thing I am so glad you're asking this question because it's something we think about a lot at MoneyGram I think what's unique about this use case is that it demonstrates truly the best of what each of us have to offer it demonstrates how you can you can blend and create a bridge and it moves us beyond the conversation about displacement and for me it was never about displacement it was always about how do we take the best of what each of us have to offer and create True Value and so I think this is just one of those things where one plus one doesn't make two one plus one opens the universe to something much much bigger and again moves us beyond the conversation about displacement and and creates a model hopefully for other other parties like ours to see that there really is this powerful relationship that delivers value and we can move Beyond seeing one another as competitors or displacing Technologies yeah Alex likes to say that uh he's been people have been trying to disrupt your business for the last 50 years we're actually trying to get your business and to use all of the tools that you've built to be able to bring good to everyone um Dante you have spent the better part of your career really focused on uh these kinds of issues humanitarian Aid and spending time really for the folks that are in the most need when you look at the tools that we're offering here today um how do you see this as different from what you've done before yeah I mean for one this is no longer an abstraction and I cannot say enough about how grateful I am to Carmen and the unhcr for having had the courage of of trying to build something that is is not a a science experiment but rather that is in deployment um so I spent a number of years on FEMA that's the U.S Emergency Management agency's National advisory Council a number of years in the insurance industry and I am myself a disaster displaced person when Hurricane Hugo destroyed Puerto Rico in the late 80s along with it went um you know any semblance of normality uh in my life and so when speed matters most friction stands in the way and moving money in analog forms is stands in the way remember here in the United States we moved more than six trillion dollars of taxpayer-funded money to everybody in the country and so much of that money was ultimately lost um enough to fund the totality of the UN sustainable development goals I should point out in no small measure because the the pipes are Antiquated they're leaky they're back here looking and they're plagued with opacity the form of money that we're talking about here and the form of integration that we've designed together with Stellar of course with MoneyGram is a form of money that is auditable portable and ideally universally usable if you and I were going to do this with physical cash it wouldn't work and ironically in the context of a pandemic like covid-19 it would be as limited as our arms can stretch and would have all kinds of other limitations so this is not meant to be a substitute Innovation is just meant to provide additional levels of financial support and humanitarian support um and so I'm excited for what this prototype means and how this can be deployed including frankly domestically here in the United States I think it's really important by the way I've been monitoring the comments to see if there are questions we have just a few more minutes if anybody wants to add some in there um the one of the things I was going to say is the Simplicity of which this works where the the individual um the IDP receives a text message to download the wallet and then they can they know that they have the opportunity to receive aid from the unhcr and it immediately gets put in their wallet using the technology there's actually a um a blog post that we have up on our website that'll explain the the technical back end of how this all happens this is really what you say in terms of getting to sort of the heart of the issue and sort of changing the dynamic um really and just created an opportunity for the to put the power in the hands of the IDP and I think in this these situations they don't feel that they have a lot of power but this allows them to choose to cash out to hold their value to cash out a part of their value that that type of thing so it's really exciting there is a question here and and this probably goes to you what is the kyc requirement on the recipients and who is in charge it's both unhcr and Anna Anna you can start yeah sure I'll start so uh kyc we're talking about a global solution and kyc requirements differ around the globe but I'll speak specifically to you crane um like we mentioned a couple times our relationships in Ukraine are are primarily with banks and so both us and the bank we require the the consumer to have identification that proves that they're the person who should be receiving the funds um and so along with that their name their address their phone number um is what's required to be KY seeds in person and Carmen you are the the unhcr is the entity that actually determines the beneficiaries um that are receiving the the aid from the unhcr exactly so unhcr is in charge of registration enrollment eligibility determining how much everyone will ultimately receive so unhcr is not performing the kyc so it's it's it's the financial service provider at the cash out that is performing kyc yeah well we are at time um thank you all for joining uh this has been such a great um announcement and it makes me feel like this year all that we've worked for together collectively is just so worth um this kind of thing coming together before the end of the year so thank you all for supporting the work and for joining us in this journey and we want to continue this is not just going to be the only thing that we do together so so thank you again thanks for joining today and thanks for the work that we've done together here thank you",
      "keywords": [
        "people",
        "digital",
        "ukraine",
        "unhcr",
        "time",
        "make",
        "solution",
        "cash",
        "these",
        "blockchain",
        "today",
        "money"
      ],
      "speakers": [
        "United States",
        "Carmen Hutt",
        "Rapid Way",
        "Ukrainian Capital",
        "United Nation Refugee"
      ]
    },
    "2022-12-12-get-to-know-ginger.mdx": {
      "summary": "who don't know me my name is Denelle Dixon and I'm the CEO and executive director of the Stellar development foundation also known as SDF the Stellar development foundation is a non-profit that supports the growth of and the ecosystem of the ecosystem and of the Stellar Network which is an open source public blockchain network I'm really excited to be here today and introduce you to Ginger Baker she's sdf's newest board member today we're going to learn a little bit about Ginger and her career her journey what Drew her to sdf's work and the direction that she sees out there for the industry and where our industry is headed hello Ginger hi danil thanks so much for having me it's fun to be here so it's so great to have you and to kick us off I was hoping that you could tell us just a little bit about yourself sure so I'm Ginger Baker um I live in Northern California um I grew up in various parts of the US but I do consider myself a global citizen hopefully or working towards that through some of the work I've done um I have two kids and a wonderful husband and a brand new dog so those are probably the the great Facts of Life um I'm also about that brand new dog doing I'm sorry sorry what was that I said how's the brand new dog doing he's great he's great he's still very much a puppy um so less than a year um but he's fun he's fuzzy he's like the fuzziest dog he's almost like a he's almost like a stuffed animal with all the fur so we're enjoying him very much um yeah so that's a little bit about me also I'm my son's basketball coach which is a very big deal for me because I'm a huge basketball fan and I've played my entire life um so I'm the coach of the middle school basketball team right now which is definitely a favorite thing for me each year and how about your career yeah so my career has really centered around you know that intersection between technology and how it can be applied applied to economic empowerment so if you think about that intersection the topic of financial inclusion has really been the thread that's tied almost all of my experiences and roles together so I've worked on financial included related products or ecosystems or relationships or whatever it happens to be at both big Tech so I worked at Facebook traditional financial services company are more traditional companies like visa and then startups like Ripple and square and I'm now the head of financial access at plaid um and that's I've been really excited about my career like taking the approach of looking at the problem space or the opportunity space from a lot of different frames has been fun I also tend to you know sort of dive in deep into a particular Market or segment for a particular period of time and then I also sort of pull back to look at stuff more from a macro standpoint so I spent a lot of time with with visa and Rwanda when I was working on financial services in messenger in the Philippines um and so yeah my role at Platt is to build the tech and the relationships that help people to have access to completely portable financial data so that you can take the financial data that sits in your bank account or your crypto account or wherever it resides and move that data to another application or service to Avail yourselves of the value of that service well we found Ginger because we thought her background was just fascinating and we thought it really connected so well with the focus areas for SDF but honestly Ginger and I really bonded over this whole Middle School basketball thing and we know we know how challenging that is so I just love the fact that you're the coach and I know how hard that is on so many levels first of all I want to have fun playing on your team but also just to be the coach of Middle School boys to be clear I think if our kids actually played against each other we might not be in this relationship for a career standpoint because I don't think we could it was fierce it would be too competitive I think uh I'd love to dig a bit deeper into your career Journey so with stepping into leadership roles like the one you have now and the ones you've had before sort of always a part of your plan um interesting question part of my plan no I think um you know I definitely would say being a leader has generally been something I've stumbled into I I've been a leader for a good chunk of my life I mean even as a as a child you know in high school for example I was the president of our class um but I wasn't wasn't because I intentionally wanted to be that I just there was something I was interested in or a topic I wanted to pursue or something I was curious about and I wanted to go and do it um and so that's you know I guess it wasn't so much of a strategy around it as as um as good luck perhaps like being in the right place at the right time and just caring enough to want to like lead a group of people through something and I think from a career standpoint it's it's been fairly it's been fairly similar um where again like this this intersection of technology and economic development I just I am really fascinated with it and I always have been and so I have a lot of passion for that topic and so I will apply that passion and try to bring people along with me um to go explore something new or take a look at something and um again I think being in the right place at the right time has often been a part of getting into leadership roles um so like at the Forefront of maybe a new technological advancement like the proliferation of mobile devices or um you know some some kind of social change like uh the adoption of messaging services being such a central part in people's lives through WhatsApp and messenger so it's it's been a lot of luck but also because I I really care about the topics I work on and I try to get people to come along with me um as we explore those opportunities I can't imagine that it's always been easy for you to step up into these different roles do you have a particular memory of something that was challenging that made you even be better or that caused you to think about things differently yeah I think um communication has been a big piece of my Evolution um and I re I remembered times when I felt like I couldn't quite get my point across and um you know maybe sitting in a room with with other leaders um you know and I think the intersection of sometimes the male female Dynamic has always been a little bit interesting in my career but um there's certainly been moments when I felt like I couldn't quite get my voice to be strong enough and um oftentimes my team will attest to this I I love to draw on the whiteboards and I think that this was actually a tool I developed because I couldn't get people to listen in a way that I thought I was being well understood or given proper a proper forum and so I would say something I didn't feel like people were listening the people were talking over me or my point of view wasn't coming across I would just stand up and draw it out that doesn't always work because I'm not great at drawing nor do I have good handwriting but sometimes just like documenting the idea would sometimes help to get that through so communication tactics and they have to be different in every situation um you know has been something I've continued to try to pay attention to and evolve based on the situation and the group of people I'm with you just mentioned that maybe it was the male female dynamic or just the fact that you were a woman in a leadership role tell us more about the challenges or the misnomers or maybe the benefits about being a woman in a leadership position yeah I mean um I think there's this balance you need to strike as a female leader between being assertive and being likable and that's not always easy and I think early in my career I really over indexed on on the likability like if people like me this will this will go well and I was a little nervous about being too assertive I think also because the expectation is that I wouldn't have been a service um and so it felt like sort of overriding expectations that folks may have had um but I had this great mentor um still do uh Sarah fryer she was the CFO at Square when I worked there and she's now the CEO of Nextdoor and I remember she told me one time I just looked really directly like it doesn't matter if they like you like you just need to make sure they respect you right and so what is the combination of how you need to exist that drives respect over likability and I think for women unfortunately or maybe fortunately that likability component is an important part of of what we do and how we exist in the world and we are we even carry our own biases around that too um but having somebody say that so directly to me which is like you're over indexing on likability like make sure you're investing on respect was was a really good like waking up moment for me oh I think that is such a great piece of advice one that I didn't get early enough in my career and I definitely over rotated on the likability I gotta be honest sometimes I still do sometimes I see out there the social media responses to things we do or we say and I'm like really um so I definitely feel like it's something it's a journey that we all can uh probably not just women that we all can benefit from that kind of advice um sometimes I think that there's more that we can learn from the failures that we've had than our successes I always tell my boys this that every failure is a chance for you to do something differently next time so anything that you'd share along those lines and what you've learned in those processes yeah I mean I mean I've made a lot of you know mistakes or um you know uh failed quite a bit I failed early in um in hiring like I was not a great I did not hire great early in my career and I think um you know getting the right people on your team is super important and it's not something that you're going to wake up in the morning one day and be like I'm going to become a manager and I'm going to be really great at hiring like you know you really have to work at it you have to understand like what makes great team members and and how do you hire correctly but but not all failures I mean if you're if you're watching the evolution of something that you're working on that's sort of starting to go off track like you can turn that failure into into opportunities um certainly when I was working for Visa in Rwanda uh we went there with a singular intention was still was to launch a Visa's First branchless Banking product so this was a product that existed only on mobile devices and did not have a plastic card Associated and this was back in you know 2011 when I moved to Kigali so this was like a very interesting idea at the time and mobile money was starting to take off in East Africa but it started with a very singular product proposition we're going to go and do this product um but as we begin to hit different challenges and roadblocks um in that the evolution of that product we began to understand stand actually it was because the environment there and the government that we were working with in Rwanda was was needing more from us than just that singular product and actually what they wanted was they wanted a more fully a more full and robust public private partnership between visa and the government of Rwanda and so the fact that we you know noticed that things were not going as we had hoped but instead of bailing or just bowing out completely we really tried to dig in deep to understand what could we do differently that would open up doors and then we modified what we were doing we still launched that product which is called mvisa which was which was great um but probably the best thing that came out of that experience was just how do you constructively engage with a national government as a Fortune 500 company especially in a continent where there wasn't as much experience there um you know from the work that Visa had done in the past so anyway I think there's there's ways that you could take these failures and yes learn from them in the past but you can also take the failure in real time and like pivot it uh to turn it into a more interesting opportunity than you were even expecting yeah I love that I think that you know one of the things that I always really like to have are these goals that we set out either if they're product goals or their goals for us internally and the thing about a goal is that you might actually pivot along the way and you might not achieve the exact thing that you set out to and you need to be willing to make those pivots and to learn for what's going on in the context that you're in so I do think that it's really hard you can't identify failures in your life I certainly have plenty but I also have a lot of those opportunities where we were able to Pivot to make it better and more right and more uh constant with the situation so I think it's really awesome to be able to take in that context and to listen and I think that sometimes we forget to do that along the way on a similar note what is one piece of advice that you give someone watching this no matter what stage of their career that they're in well I mean just to build on what we were just talking about like I would I would ask a lot of questions like ask questions constantly constantly test your assumptions constantly test your hypotheses like things change like you really need to you just keep asking the next level question um and I think that having that that's actually what I hire for you just talk about something we were talking about earlier that that is actually what I learned for people that I work with like I want them to be really hungry and super curious and so I guess you could tie that into advice for folks like be great like no matter what you're doing just just be great and I think that um that that phrase of like Blossom while you're planted uh is really important especially early in your career I think the opportunities that I uh have gained or like been been I've been available to me and even still today that are available to me um actually come a lot from the people that I interacted with in my early 20s and I think I mean that was a long time ago don't need to say how many years but um you know I showed up hungry and motivated and I and I really cared like I really cared about our outcomes even if the role I was in was not actually what I I thought I wanted to do um or the thing that I was working on actually didn't actually have that much personal interest in it um you know just how you show up can can really matter um I think the other thing is like we should we should have fun you know life is life is too short and um you should have a good time with what you do and I think that's really important it helps with perspective it helps with um motivation it helps with Team camaraderie when I was at Facebook we um we had a great team called mobile financial services at Facebook one of the best teams I've worked with and we did some really amazing stuff you know we increased Financial inclusion in the Philippines we created this great product that existed in Emerging Markets where people could link accounts or create Financial accounts and use it to send money or pay bills or buy airtime like there's a lot of good stuff that came from that product but I think the best thing that we did was we had fun as a team like we had a cowbell that we used on Friday afternoon meetings we had a cat mascot like I don't know we just we had a great time and when people have fun like they want to show up they want to get engaged they are you know they're just naturally more productive so those would be a couple of thoughts I think that is such great advice I think the have fun one it gets lost one of the things that I decided early on especially once I had kids is that since I didn't have the choice about whether whether to work or not work I needed to work I was a single mom at the time and I had three boys and my focus was that I needed to really be in a role and to be doing work that inspired me that constantly challenged me and that I liked doing with people that I liked being with and it was those choices that really caused like all of my decisions about where I was going to work uh it wasn't about the money it wasn't about the big name it was about am I gonna like these people are they going to inspire me to even be better than I am and I think that that have fun part is something that we can't lose and I I get a little fearful sometimes in today's world that we're not having enough fun because not all of us are together right and and I and you know because of all the the things that have happened over the last many years but I think that that is such a crucial thing so have you been able to do that at all of the roles that you've been in so probably not all of them um but I do try uh like now in fact I'm looking to see if I have one of the props around we have like a hat thing at plaid oh I do have one um well here's my take credit hat like we're constantly wearing hats and I don't know how we came up with that it was just this random moment that happened where all of a sudden it made sense for us to put on weird hats in a meeting and we've we've been doing it for two and a half years and um that's it's easy to for us to express ourselves because you can see it visually from a virtual distance and you don't have to be together to have that you know joke or funny thing that you do like it's something that we could we could do remotely but again like we didn't plan that it's just um you know something that you stumble upon when when you really want to connect with your team and when you're having when you're having fun like you have to be in an environment where you feel comfortable randomly putting a hat on your head and making a joke about it and feeling like people are going to accept you you know you're being authentic um you know that it's this just a natural part of of existing as a team together is that ability to play uh just I wanted to point out that if you have questions go ahead and put them in the comments and I'm going to try to look at those as I'm asking questions as I go through here uh so I know you started your career focused on financial services in emerging markets and you told us a little bit about that in particular you're a big advocate for the impact that expanding Financial access for women in these markets can have why is that why has that been a focal point for you yeah um you know obviously there's or maybe not obviously there's research that shows um you know that when women are in control of limited budgets that they will traditionally or typically invest more in education and health uh and things that are going to help their children to prosper and I think you can tie that to not just building strong children and strong families but then building strong communities and so I think that there's like a you know research proven tie between those two things but most experiences that I had had in trying to you know build some of these tools and and products and markets around the world that just really sat with me I mean there was we were doing research in Bangladesh this is when I was with Facebook and um we were trying to understand um motivations that someone might have to use a digital financial management tool and in order to understand what you would potentially build to Aid someone in in those desires you really have to understand why they do it or or what it is about their lives that that could be improved and there was this one woman talking about you know um her ability to manage the money for the family based on the very wide swings of income that came from her husband's job was like that was her identity like her ability to be creative about how that money was managed to be able to make it last in you know Seasons where income was low and be able to save it and and hold it back when it was high and to do that like with a very intricate web of very informal systems everything from storing it in a container in the kitchen to giving some to her sister to hiding it in places to stitching it into clothes to buying jewelry because that would last longer and hold value I mean it was just amazing what this woman was holding in her head in terms of all of the things that she was doing to to have the best you know Financial outcome for her family and so not just that experience but Global money agents that we worked with in the Philippines um you know more than 50 percent of the agent Network we were working with were women-owned businesses and they were just all business like they were I was so impressed with them right um and so like finding ways that you can Empower women in these roles not only as the leader of a family but also a leader of a small business um and having more opportunities um you know to be part of these networks that we're investing in on-ramps and off-ramps for fiat currency to digital currency like you know these are the places that are on the Forefront of technical Innovation and having women be a part of that I think will not only be good for for them for the products that we're all building but also for the communities in which they live it's one of those things that the research that has been done I think by the World Bank it's talked about the fact that when women are engaged in financial infrastructure and are able to use those tools the GDP of the government goes up and or the country goes up and it's one of the things that the the one of the reasons why I am so deeply focused on it when I was at Mozilla we were building a Firefox operating system for a mobile device it was low it was for low-end mobile devices that could be used anywhere and it was built on the HTML5 so we were like very interested in the open part but one of the things I loved in partnership with these different carriers was the fact that we could look at local problems and one of the problems with the women were trying to make money and one of the things they could do is they could sell one of the extra meals that they had that night and how that would just improve things for them and so giving them the tools to do that just changes the whole dynamic for the family so I I too like I'm just so enamored with that and so really truly want to help there and I'm so grateful for the work that you've done and certainly one of the things that we've talked about is those on and off ramps and the work that you've done historically in Africa and all over really helps us to be able to have the sounding board from you to talk through these really important issues and to hopefully get them right solving these local problems yeah and if you think about I made a flip comment about you know moving cash to digital you know digital Fiat to crypto like there's a whole host of change that have to be solved chains that have to be solved for and um you asked a question earlier about failures I don't know if I want to put it in the failure account but I think a very large learning from some of my experiences is that the how do you properly incentivize motivate um those retail outlets or those end points um many of which are humans um running small retail shops some which are also digital but like how do you get that the on-ramps and off-ramps solved um if you really want to move out of cash-based economies and into a digital world like that's to me that was the hardest part it's been the hardest part in in three different you know three different companies and three different products I've worked on like that that piece is the hardest and um and yeah a lot of those endpoints are women um and so I just think it's a really interesting problem that we're going to have to continue to keep solving so there's a question here that may be a little bit too specific but I'm going to go ahead and grab it I have a sarban if you remember is our smart Contracting platform that we're building um and I'm going to ask you about where do you the one of the questions is what is the biggest underserved area in fintech that you feel stellar and sorbonne or just Stellar could really help fill over the next 36 to 48 months yeah I think it's a great question and I'm gonna it's not a cop-out answer but I I really really mean this which is what is the place the segment the people that you're trying to serve and what is it that they need in order to do the thing that they want to do take the action they want to take have a better life have a better livelihood you really have to hone that down to something very specific and small to get started so so thinking about like all these broad industry problems I've always struggled being successful if I take too broad of a mindset or too broad of a view on things and where I felt more confidence that we were building the right things or investing in the right kind of Technology was when you could get very pointed about you know this is the ultimately the problem we want to solve in a global basis but we're going to start very locally and so who's the who's the segment that you're trying to solve is it artists is it um low-income women is it um online businesses and e-commerce like what's what's the thing that you're trying to solve who are your customers and then work your way into the technology that needs to be built from that real world problem and um I mean making money work better for people and making it more fluid is what Stellar is all about and I think that that can apply to so many different situations I love the model that Denelle and team have of like identifying and finding you know businesses and entrepreneurs who are who are building in this ecosystem based on real world problems and I suspect that what gets built and what those problems are is going to be fairly diverse right and so the trick is then to pull up and find the similarities and the um you know the patterns across those things well they're here to that uh there's so much noise out there though and there uh there's a focus on the hype of crypto and blockchain like the trading use cases the speculation so much of our attention over the last month has been on the awful um failure of FTX and how that harms so many people so we often try to instead get to people to see the value it brings to the financial system here do you want to see our industry Focus somewhere else or there or how do you think about it meaning like on people versus not yeah or you know we're trying to focus on these real world problems as you just mentioned and we're really trying to focus there but is there something else another way to attack that okay so I think you have to base it there but you can also think about the systems that are required to eliminate the pain points that again once you pull up and you look across those patterns like where are the pain points exist that are similar across different types of services I'm going to cheat and just use plaid for a second which is like you know quickly realize that people individuals again wanted to tie their financial data or move their financial data from one particular place to another but they didn't learn that by talking to people like they had customers and businesses that were trying to build um build great products and services for people and they realized many of them had the same need and so it doesn't have to be the person that you start with it can be an ecosystem pain point it can be a group of businesses it can be a group of customers who are telling you over and over again that they have something that they want to solve um this happened again cheating a little bit here with plaid which was like you know we were hearing that people wanted to be able to see their crypto Holdings alongside Holdings that they have in other types of investment accounts savings accounts checking accounts and um and even loans and so build so that was a pretty uh specific pattern we were seeing across a number of different customers who were focused on Building Wealth Management Solutions and so what did we do well let's go build Integrations into digital asset exchanges and other crypto companies so people can see the balances of those accounts but we didn't you know there wasn't a lot of talking to the individual person about that it was about seeing the system and the pattern of the request across a number of different customers that were valuable to us yeah using data to sort of help to drive the solution as well another question from the audience is what is your perspective of the most attractive use cases that can be achieved working with MoneyGram in our in the MoneyGram integration yeah so I think that's an interesting one I mean I think there's like two areas with um an organization like MoneyGram that are probably interested in looking at one plays right into what we were talking about earlier about the agent Network I mean they they have such a strong visible and reputable you know money movement Network that local communities understand and see and I think you can not dismiss the value of that that is a very hard thing for a company to build moneygram's been doing this for you know decades right um but if you if you take new tech companies and you think about their relevance to um physical Cash locations in local communities globally that is a very hard thread you know to tie because one that company may not be known certainly their offerings and financial services aren't going to be known so the amount of marketing dollars and communication that have to go into building Brands and local communities is really challenging and MoneyGram has that in Spades and so I think like the combination between Stellar's technology and the ability to more easily move funds around the world in addition to MoneyGrams brand and prominence in local communities is like is a fantastic offering yeah Alex uh the the chairman and CEO of MoneyGram says they've been getting disrupted for like the last 50 years or something like that it's this joke that he makes across the board and the great thing is is that this isn't about disruption as much as much as it about really uh enhancing that traditional Financial infrastructure and leveraging the value they've built over all of these years and really bringing that to blockchain so that you don't need a credit card and you don't need a bank account which a lot of people don't have outside the U.S and outside of Western countries so it's definitely something for uh it's the one of the things I'm most proud that we were able to bring together all right I have one last question for you because I think we only have time for it so um if you had a billboard in Times Square and it could say anything what would it say s while they're Ginger come on okay all right let me think um I mean something probably super cheesy like you know be authentic or something um so when when I was a kid this is gonna date me okay so maybe we delete this part of the segment um when I was a kid there was this America's top America top 40. there's a guy named Casey Kasem who used to say you know you feed on the ground and keep reaching for the Stars like I think it would be something like that America top 40. I think that's how it went yeah and that just really sticks in the brain and I think that it's also a great it's a great statement right you have to have your feet you have to be realistic you have to be grounded you have to be grounded in what's going on grounded in your capabilities of your team grounded in the capabilities of the technology you have grounded in the realities of the world and the ecosystem in which you're working in the partner Dynamics but you can't stop you know you can't stop trying to go to the moon so anyway something I would I would just 100 borrow Casey cases well I loved that that actually came on Sundays and it was one of the things that I was you guys don't understand out there who are um not having had to experience this part we didn't know it was the top 40 unless we sat there on Sundays and listened to Casey Kason and you would tape it did you ever do that thing where you would wait for the yeah then you would to press the two buttons on your tape player so you could record it and listen to it later it was a big deal it was a really big deal none of you guys understand how cool it was way back when yeah and now we're talking about Stellar right yeah things have changed things have definitely changed I am so grateful for the time thank you so much for joining us I'm so grateful that you are a part of um our Stellar family and um I look forward to all the more we can do together thank you thanks so much for having me Denelle great to see you",
      "keywords": [
        "people",
        "something",
        "great",
        "things",
        "those",
        "financial",
        "youre",
        "work",
        "thing",
        "which",
        "part",
        "these"
      ],
      "speakers": [
        "Ginger Baker",
        "Middle School",
        "Stellar Network",
        "Northern California",
        "Emerging Markets"
      ]
    },
    "2022-09-16-info-session-for-scf.mdx": {
      "summary": "hi everybody um actually can you allow me to present my or to to uh share my screen here or the host i can help you share from my end if that's okay i think i can okay i can share as well um great welcome everybody as as gift said we're going to introduce you um to dfs lab but more importantly the boot camp and what to expect from the event coming up and um inca from stuller is also going to say a few things about how bootcamp fits into their the community fund and also you know a little bit about what to expect from their side so here's our agenda we'll give you kind of a quick overview of sdf and it's something fun little bianca and then i'll give you a bit more about um the boot camp so just to just to kind of quickly give you an introduction to who we are at dfs lab we um we're an early stage investor in the african tech scene we invest very early uh often at precede in startups that are digitizing the african economy so we invest in um a lot of uh marketplaces e-commerce b2b e-commerce social commerce uh and everything along kind of the the uh the value chain of commerce in in africa and we we have kind of a uh we're a very research driven thesis based investor and our belief is that you know while a lot of attention is being paid to fintech and some of the other areas that investors are excited about we think the real prize is actually using some of those tools to digitize the economy root and branch and go from kind of cache based and offline to digital based and online so you can you can tell because of that belief you can probably understand why you know we're very aligned with stellar because i think they have kind of a similar uh belief around you know digitizing the economy and making finance uh seamless and online and all that so um and we're as an investor we're very um hands-on we don't call ourselves an accelerator program because we don't do batches with kind of a fixed curriculum we actually focus on the individual needs of each company but we're very very hands-on we spend um we have you know a few folks dedicated full-time basically to supporting our portfolio companies and and um we're basically there to help them usually go from the early precede phase to um to their first seed round that's where we generally tend to intervene and um  we um can't say too much about it yet but there's more coming in the partnership area between us and stellar uh around you know how we can help support more companies with more funding and things like that so i i can't say too much about it yet but should be some exciting stuff coming up in the future so um that's us we have uh we have team in in nairobi uh that's that's gift and also joseph who who's um there as well but we also have people in kenya and south africa i'm in paris steven other partners in san francisco and we bring a whole host of different skills um i won't go into everything but i think that gives you a little bit of a an intro to who we are as an organization um i could do you want to take over for a sec and give us a little bit more background on stellar and the community fund sure thing yeah that makes a lot of sense yeah so uh for everyone who doesn't know me and it's neon desk my name is ankur and i'm a program manager at the steli development foundation or sdf or short bar we're going to say a lot of abbreviations today sdf scf so just preparing you for that and so sdf is a non-profit uh organization with a mission to create equitable access to the global financial system and as a non-profit we shepherd the development and growth of stellar which is a decentralized open source layer one blockchain network that connects the world's financial infrastructure so stellar is really a back end so to speak to power apps and services where anyone can issue store transfer and trade all sorts of assets um seller also has built-in like account logic for creating accounts and assets signing transactions and tracking balances overall um like stellar is really purposely designed to streamline financial services and really unlock the world's economic potential by making money more fluid markets more open and people more empowered um so there is like an exterior is an open source which means that anyone can build whatever they desire on the network with no application or permission needed and speaking of building on stellar i lead a program called the stellar community fund or scf for short the second abbreviation which is an open application a grant program hosted by us that serves us the springboard for many businesses and developers building on stellar to turn their concepts into tangible products and services based on input from the stellar community um we've actually it's quite an old fund like we're together with our predecessor it's been around since about like 2016 and has distributed almost 200 million xlm which is stellar's native currency uh to hundreds of seller-based projects based on community input so that's pretty exciting um you know what's different i know that there are many grants out there for for blockchain so what makes us different three reasons um so on at scf all kinds of use cases and project scope sizes are welcome and where other grants may primarily focus on innovation on traditional like services scf also funds like d5 nfts community education and developer tool projects also the community is actively involved in guiding and supporting the projects as well as voting for the projects they want to see earn a grant um also fun fact scf grants have no strings attached so this means that grant recipients decide how to spend their grant and don't need to pay anything back so pretty pretty sweet i would say um so saf really operates biannually in form of rounds and right now the scf is welcoming submissions for its 11th iteration it's been 11 rounds already with a total excellent pool of 8 million so any developer team or company building on seller can submit to the scf and request funding up to about like 200 a thousand dollars worth of xlm which depends on their project's code aside from funding participating in scf allows you to gather useful feedback from the community gain traction in the ecosystem and also opens up unique opportunities for growth so yeah and for the first time ever let's uh let's skip let's go to the next slide jake yeah for the first time ever uh submissions that uh get selected to participate in the scf and are eligible to participate in boot camp can announce now participating sorry can now participate in a virtual startup bootcamp from november 1 to four that will really like kick start their journey on stellar or even if you're already in stellar ecosystem like help with a particular problem that you haven't been able to solve before with the help of experts and facilitators from both sdf dfs lab and the community um so yeah over the course of a few days participants will work with these facilitators to find a problem storyboard a solution and develop a rapid prototype before getting feedback from the stellar community fund um from the Stellar community uh but jake will tell you much much more about that um just so you know before if you want to get considered for participation submit your style based project to the staff before september 25th and this is a little uh over a week so it's really coming up uh so that is the deadline before september september 25th um also i saw some questions in the in the um in the q and a section here on the zoom so definitely add your questions there and we'll have a little um a q a session like right after um everything like at the end of the session right um that's all from me and uh yeah jake take it away thank you okay um yeah that uh that was great so so yeah i'm gonna give you kind of um an overview of what to expect if you if you come to this event and um we're really excited about it we we always we've done a couple of these with um stellar already in the past and they're super fun for us because we get to see new companies who are you know often new to stellar they're trying to create you know some kind of an innovation or crack some difficult challenge in the financial services space and uh it's a very kind of a intense interaction where we really get to go deep in what they're trying to build what their challenges are you know etc we get to meet their team and all that kind of thing and so we really like them and i think i think the seller team does too for the same reasons you know if you just really get to dive in and for us it's also great that we get to be hands-on with each company so we're not we're not just kind of like lecturing about you know the future of fintech and all that kind of stuff when you go to a normal conference the the boot camp is really uh you and your team coming and doing work in a really intensive but structured way with help from a whole bunch of different people us experts stellar etc so it's not it's definitely not something you want to think about like a typical conference or something like that it's really you working on your product which is um you know which is what you should be doing if you're running a um so i'm going to start with kind of just high level you know almost like the philosophy of a design sprint right so some of you uh probably done design sprints you know we didn't we didn't invent them and uh we won't be the last to use them um but we have kind of our own version of the design sprint that we do and um the real idea is that you test and prototype a solution in just five days and um you start with um you know a problem um you you you define you know the challenge that you're trying to overcome and then we have kind of a step-by-step process once you've uh defined that problem to go from there to a realistic prototype that you can put in front of users and get their reaction and that's the critical thing about a sprint the design sprints is you're trying to avoid building an actual product which sounds weird right like why why are we teaching you or why are we encouraging you to avoid building product everyone else is telling you yeah build product that's the most important thing but um what's important is actually to build product that people want and this approach of a design sprint is a way to fast forward into the future and say okay how are people reacting to this product before we've actually built it so we don't have to waste the time building it if they don't react in the way we hope and it's a it's a great methodology there's a few links here you can read more about it i encourage you to do that but that's the fundamental philosophy of what we're trying to accomplish with this and and you'll be surprised how realistic a prototype you can build so um here's here's the process now some of you have done um you know sprints based on the sprint book which we had to link to on the last slide uh or some of the other methodologies this will look a little bit different but it's okay you know a lot of the same steps are there and the same fundamental outcome is is there so because because we kind of have limited time and we're planning to we're assuming that there's going to be a large number of participants we're going to try and have each participant team define the problem they're trying to solve before you show up so that'll be important to know is that you know spend a little bit of time before we start on day one actually figuring out and defining a problem we're going to send you some exercises to do to make sure that you've actually done that because it's actually kind of a common problem we see with product designers and founders where they'll say oh i know what the problem is but they actually haven't thought it through in enough detail to to really have a high resolution version of the problem so that's what we're going to ask you to do before before the event starts um day one will then be to say okay um let's take the problem that we have map out what the sort of you know original customer journey is and um and think through where in that customer journey we might want what do you sort of current or or standard you know industry standard customer journey and then where in that customer journey or that that sort of experience do we want to intervene with the prototype that we're creating today right um so that's day one it's really mapping out the problem in high level detail and and figuring out where we want to intervene uh day two and i'm going to show you some examples of each of these in in in the next few slides so basically you'll come up with a map and i'll show you the map in a second right um day two you're gonna focus on which solutions uh you you you know you wanna use in your intervention and you're gonna generate actually a whole bunch of solution ideas um you know so you kind of widen the funnel of ideas before you then narrow down on which which which particular one you think is the best and that process of widening and creating new ideas we have a whole bunch of um well not a whole bunch but we have a few steps uh and exercises to do to make sure that you really stimulate your creativity and bring in you know the best ideas from the team and make sure that you don't jump on the first idea that comes you know comes to mind but you actually explore really deeply this set of ideas space in your head that you know sort of the set of the possible if you will and then we have a similar set of exercises where okay now all the team has kind of put all the ideas out there now we're going to narrow down using some anonymous voting and some ways of giving feedback that try to avoid biasing the solution based on who's the most convincing or who the feedback comes from often you know people uh think that you know because the ceo uh said oh i like this one then that's what we should do and at the end of the day the ceo probably has to make the decision uh but we do think that it's better to make sure that that everyone's kind of perspective and thought process is kind of treated equally in the initial part so that you you know you kind of narrow down the designs based on best thinking and not on who's you know the most senior or the most convincing you know some people just have a great way of putting it but that may not be the best idea so uh so so day two is really going to be about um focusing down on okay what's what's the uh sort of product approach and solution that we want to create uh the next step after that and that's kind of end of day two going into day three is uh first you're gonna storyboard your your prototype they're pretty high level of detail now people always want to resist this they you know they found their idea on day two um they want to jump right in and build it but we really really uh push back on that it's not a good idea and um the reason it's not is because basically when you jump in and try to build something you think you know what you're building because you've got this idea in your head but that idea doesn't have enough detail uh to actually be a coherent uh feature on your product and so what happens is you start building you build you know part a and part c and part f and then you realize you gotta fill in the other stuff and as you start to fill in the other stuff that you weren't thinking about you know when you just kick the thing off you realize that i've got to redo part a because it doesn't fit together better you know it didn't fit together well or doesn't make sense now that i've thought through part b and you start creating kind of a non-linear problem to solve where now everything is interrelated and you have to change this when they have to change this and slows you way down um and you end up having to often sometimes just completely restart and do the whole thing from the beginning right most of you probably experience that at some point when you're dealing with a complex system like a product right so what we say what we say we encourage people to do is spend the time it only takes a maybe two hours to really create a detailed storyboard that says okay at each step here's what we're going to do right there's going to be a button that button is going to take you here you know it's going to you're going to do something you're going to put in some data you're going to whatever you're going to do right all that stuff will be thought out including pretty high level detail on content if there is any so if there's wording if there's text if there's images you can say okay we need an image here we need to you know we need some wording here then you go into the um then you go into the prototyping phase you've got a really detailed map you know that says hey you're going to do it's just like a recipe that you follow and you are going to be so much faster in building your prototype if you've got that recipe laid out or that storyboard so and then in the prototyping phase that'll be day three and it'll actually kind of uh you know go beyond day three a little bit uh you'll have a bit of extra time on day four as well um where you'll be prototyping you will um have uh support from us uh but in particular you have support from the stellar team there'll be some uh engineer folks who you know know the apis and and all the all the ins and outs of the of all the different seller technology so that you know you won't get hung up trying to read through documentation and things like that i mean their documentation is actually quite good of course but um but in any case they'll be folks who can help you you know live in person as well uh and um there's gonna be the whole community and i'm gonna get into that uh in a second this is just kind of the sprint aspect there's gonna be a kind of a whole extra layer around all this uh which is the community part of it so once you're done with your prototype you're gonna get in uh you're gonna then test it with um with users and that's um actually something new we're doing this time if any of you were at the previous boot camp we didn't do that but it's it's supposed to be a integral part of the sprint it's very it's actually the most important part in fact it's it's really why you do a sprint a design sprint in the first place um which is to you know find out what people think and uh again we're gonna have to we're gonna have kind of an integrated integrated uh process where um people from the community can be your user uh and give you feedback on how you know how the experience goes when they use your product or test the feature or what have you um and so you're we're gonna do some workshops on how to how to do that testing in a way that doesn't bias your user it's very easy to bias someone who's uh who's testing a product or a feature and they're kind of looking at you see like you know how do you feel when they do x or y they don't want to hurt your feelings if it's clear that you're the one who built this thing you know they don't want to say it's terrible or that they don't like it or they give you a bunch of really positive feedback but it's not you know it's not real it's not their gut it's not their real gut reaction so um and there's a lot of other ways you can buy us uh you know by the way you present it by the way you talk about it by the way you know the situation you put the person in so we've got uh we're gonna we have a workshop plan where we're gonna give you some tools so that you uh know how to do a user uh test session with a prototype and how to collect the feedback and how to organize that feedback into sort of a useful output so um so that's that's the basic uh sort of step-by-step process of the sprint itself and um you know it like i said it's it's um it's a lot of fun it's very kind of both draining and energizing because it's pretty intense there's a lot of steps and and you you use in your brain a lot and you kind of kind of dump out all your creativity and make decisions and then build stuff it's pretty cool um and what we see is that often within the within the within each company not only does it help you know really rapidly go from uh you know some particular problem you're having with your user base or your you know user experience or whatever it is or you're trying to you know improve um or if you're or if you're fundamentally new maybe maybe you're just trying to build a very very very basic first version of the product if you don't have one yet um it really you know it definitely helps do that really quickly and in a way that like i said is based on user feedback and so much more validated and much more likely to result in the final product that you built you know being useful and liked by your users but it's often also a way because you spend because you're so focused and intensively working on your product um and you're doing it in the context of seeing a lot of other teams do their products think through their challenges and solutions etc you're interacting with a lot of people who you don't interact with on a daily basis but who are you know experts in this area um you know our mentors and facilitators us the stellar team the community members you're gonna have some really i think most of the time we see teams having these really interesting kind of revelations about their strategy their product you know their pathway to market their distribution all those other things that don't necessarily fit directly into the storyboard that you know or the product that you're prototyping but that fit in around it so it's a it's a it's a really valuable uh process i think and we see a lot of companies um getting a lot of value out of it i wanted to just kind of quickly give some um some examples just to illustrate what i was talking about so remember i talked about first day you draw out the pathway the user pathway and uh and then you figure you figure out where you want to uh focus and intervene so this was a this was one from a customer who was doing a cash in cash out at a mobile money agent network in kenya and um you can see kind of all the different process steps that are going on you know they're entering their number they're talking to the agent and i won't go through everything and then the team wanted to forward on uh sorry wanted to focus on these two areas that are circled in green so that was sort of the end of their first day basically of sprint they came out you know this is this is what they come up with there's there's other steps and other things they created um but um you know this was kind of the main final output and it basically guides the creation of their solutions the following days to say okay we know we know the process that where we fit in and we know what we want to change that's essentially what you come out of day one with um and what we're going to do we're still we're still kind of fine tuning how we're going to have the interactions with the community members and things like that but we are going to we are going to find a way that you can sort of present and show this to the community probably via discord and either get feedback people may vote on which which kind of problem uh you know you know problem diagram and problem choice that they like the best um et cetera et cetera so we're going to have some kind of like really cool ways where you can interact with the stellar community and really get you know even more feedback and more ideas and more more more sort of expert help with what you're doing so this is the output of day two or it's one example anyway and what you can see here is we got this three three pages i think each one is supposed to be a uh looks like an app screen on a phone maybe and um you know you're you're you're just kind of going through a sign looks like a sign up process right there's a sign up button on the first page and then uh there's a you know looks like there's some marketing lingo on the second page so it's kind of an onboarding process right uh the next one is maybe a text message based uh interface so anyway you know i i don't know exactly what this storyboard was supposed to be but it was supposed to be an onboarding process for a savings app and um you can also see how there's these blue and pink dots you're probably like why why are those all over the place so that's part of one of the steps in the process is people on the team and also other people outside of the team can vote on which things they like best and which things they like um you know that they think should go into the final version of the prototype and um that's non-bonding you know it's kind of like a thumbs up on facebook or claps on on medium you know it's just kind of like people express their opinion and that gives you kind of this heat map of like oh boy there's a bunch of dots over here on the you know in some part we should probably keep that and there's no dots in this upright no people didn't seem to care about that part so maybe we can cut it out or something like that um and eventually you'll have a couple of these because each you know there'll be more than one of these storyboards initially as remember i said we're going to first start with a bunch of ideas and then narrow it down eventually the the decider on the team will um will they make a choice and they may choose one storyboard or one sort of uh three three page you know thing or they might reconfigure and mix and match you can do whatever you want but the idea is to use this heat map and the feedback that you've got from the team to kind of choose okay we're going to do this particular idea for an onboarding or for a transaction process or whatever you're doing um yeah so that's the first thing that again community is going to get involved here too same same as before we're still kind of fine-tuning how exactly that's going to work but they're you're going to be able to kind of show and get feedback on some of this stuff and we're going to have i think some prizes and voting on like you know best best ideas and things like that so so um day three i believe will produce this storyboard so this is an example of storyboard i was talking about it's not super pretty um you can see but it gets the job done so essentially these are supposed to be a series of app screens you know you can see the wireframes and um in a few cases they uh just photographed hand-drawn diagrams and put them straight in there that's totally acceptable and cool um then they also put you know you can see kind of the step-by-step um uh with the yellow sticky notes where each one kind of says you know what's happening at each step and uh you get a little bit of the kind of the menu options and things like that and you know basically it's kind of like a transaction flow on some level and so this is you know um doesn't have to be that you know that you don't have tons and tons of detail as long as you know what's happening on each page and all the pages that you have to build and how they kind of interconnect to each other you know that's that's what you need to get done and once you have that then it's really easy then you just you know then you're just heads down you're building um the other thing we usually do is um wire diagram for the transaction process that's happening on the back end and that's you know where uh you're gonna be interfacing with um the different parts of the stellar system and you're in in your own you know your own system as well uh if you have one and so um this usually helps kind of clarify both the information and money flow if you know if it's a financial transaction of some kind uh that's happening on the back end not everyone needs to do one of these but most people do it's usually a valuable exercise doesn't take very long but again same idea it's basically you're trying to just map everything out so that you go to the building mode you're not drawing the you know the the blueprint diagram as you build at the same time right you have the blueprint then you build now i mentioned and alluded to some of this stuff earlier but uh one of the things that's really cool about this boot camp is and we're really excited about anyway um is uh we're introducing a bunch of new features and things we haven't done before and um um part of the idea was you know when stellar came to us and said hey you know we've done smaller boot camps before we have a lot of one-on-one stuff but we really want to make it so that each company has a chance so so that a we can bring in a lot more companies and make it more available to the entire sort of community fund uh participants um and folks who are applying and we want to make it so that it interacts so that all of them get to interact and the process is interactive with the entire community which is which is super cool it was a little bit daunting i have to say i think it was like hey guys you know go do go do that and you're like yeah that's gonna be complicated but actually it turned out it was a great idea and uh we're really excited that we that we did it because now we come up with a whole kind of a new system that we think will do those two things a lot better and it's gonna be a lot of fun so a few things to expect from this new approach one is as i've mentioned a couple times there's gonna be help from community members to test ideas get feedback get advice etc and the community members are gonna be kind of like activated and online and available and and kind of looking in you know on what's happening we're like i said we're still exact mechanisms for that are still being developed but one one thing we're trying to do is pair each team with a community member that has relevant expertise and a desire to kind of maybe some you know passion for the area that they're building on and um sort of pair you so you get you get an extra person on your team to kind of give new ideas and help move the process along and and be just like on a sounding board and things like that so that should be pretty cool you get to meet someone new from the community uh another goal of this and like i said you'll be showing uh the outputs of your process as we go along to the community and getting feedback um but but you also of course being at the end kind of showing your final product is a great way to expose what you're doing to the broader community remember the the scf awards uh are are a choice by the community itself not not just the the stellar team and so you really you know you want to expose people to it make sure they know what you're doing and that'll help a lot when it comes time for the for the voting on you know potentially on your project um we've created a bunch of self-directed modules and videos for each step of the sprint process so normally in the past basically i would go up and explain everything uh and then you you know you the sprint participants would do it and with a facilitator now we're trying to make it so you don't need to have a facilitator and you don't need to have me talking to you um although we will have some points where you know myself or somebody from stellar we'll we'll jump in and just kind of talk to the whole group um but we're trying to make it a lot more self-directed so some teams will probably be able to go a little bit faster some may you know want to take more time in a particular area and so make it a lot better for everything for the suspense you won't be forced to move along at the same speed as everybody else we're also going to have kind of some fun gamification quote unquote where you know as the community sees what people are doing uh we're going to kind of create some ways for them to react and and you know promote certain ideas or teams uh ID you know products um we want it to be positive and inclusive not you know like there's no down voting there's only uploading but um you know and there'll be a lot of ways in which to get recognized not not just like you know does everyone like this or not but like you know the most improved or the kind of the coolest ideas in different different kind of categories and all that kind of stuff and uh stellar has been generous enough to give small amount of money for cash prizes so some of the winners in different categories are going to take a little bit of cash home in your pocket it's not not you know not tons not it's not retirement money but um you know just a small amount to kind of like uh get people's blood going a little bit make sure everyone's engaged and uh trying to put your best foot forward we're also gonna have global time zone coverage so basically uh you can do this sprint from anywhere in the world and we will have facilitators available at least one um facilitator and hopefully one uh technical person available at all times basically which should be exciting and a lot again it'll allow us to have companies from all over you know entrants from all over the world who participate uh and to be a lot more participants last time i think we had nine um and this time i don't know how many we're gonna have but it's looking like you know 30 40 1950 so um so yeah it's gonna be exciting it's gonna be uh it's gonna be cool there's gonna be a lot of different ideas and products and cool new technologies so we're definitely looking forward to it so after all that um you know this slide just kind of gives you the very basic boil down boiled down version of what to expect you come in with an idea and a problem you want to solve and you leave with a validated prototype product and maybe some cash so it's a really valuable uh experience and if you've ever done a sprint um you'll know what i mean because almost everybody who goes through them is like oh i'm gonna do another one right away uh and if nothing else you'll learn the methodology and um and you'll take it home with you and you can you can do it again so um gift i'm gonna hand it back to you thanks everybody i don't know do we shoot you guys want any questions or other questions maybe that i should answer i haven't been um so yeah there are actually a bunch of questions on the q and a chats but um let's give room for emmanuel to um share their experience as i mentioned earlier emmanuel um was a past you know participant at one of the bootcamps we had and you know also one of the winners same with the crop the cash team so they will pretty much be sharing what their what their experience was like as well as um maybe also give us a bit of you know what they've been up to since the boot camp um so yeah over to your manual should i um should i stop sharing are you guys gonna go on video so people can see you live or sorry gif we lost you should i stop sharing yes you can stop sharing yeah where are you guys okay i can go now yes you can all right awesome thank you so much gifts um thanks so much i felt like what would coffee came while he was giving the presentation a lot of um um you know not started like just how many months um by the way my name is aristic manuel i'm the ceo and the co-founder of link we are building with three crossroads premise infrastructure for africa we are opportunity to be part of the dfs lab and um bootcamp um probably at the beginning of the year around april really was really fun experience for us i you know i told when i spoke to anchor last i was like um that was the highlight of the year for us really got the ball rolling borrowing towards us building products towards relieving us going going going to market um i think with my for my team i think one of the things we would really um always remember were um really stepping back really taking a breath of the whole experience right to really understand because when we came into the bootcamp we had built just a piece of stuff around on the stellar blockchain so we're quite confident we're like okay you know what we can you know skip the chase and go straight um to day three or you know the fourth day five to them would be but um you know we had an awesome facilitator i was really able to walk us through day by day from the springs we got to ask ourselves the toughest questions from the sprints to the crazy eights i think crazy eights uh whenever we get crazy ate and it really um made us understand what we are building who are building for so until today um one of the the things that we were able to take out from the boots camp really informs our decision even around product deployments even around understanding ui ux and really trying to understand okay yeah if you have a button there um would that be a ux problem or how long um is your solution compared to maybe an existing solution so you're really thinking about things we went down to marketing so for us was a um really fun experience a great one we got to learn a lot anything just i think it was a week yeah really week um my team really um you know said okay this week we're really going to put our minds in i think after the first day and we really saw how it was but i think it lasted from um 12 p.m at 10 to 5 p.m so it can be a bit exhausting but trust me after after after the full week we're able to absorb a lot out of it learn like we felt like we even knew anything and then from there it really um was a springboard through everything we're able to undo today in fact after me after that i'm just probably or two months later who are part of um the stellar community fund which is by the way like you know doing something together i would put some really awesome stuff and we're winners of that too as well so um yeah so my experiences throughout the bootcamp i would say like like i said the bootcamp was a highlight for us um and really was that a major springboard to most of the things we're able to do today we've had awesome partnerships since after the boot camp with companies in financial space and other financial spaces um in crypto space in and out of africa to really help us enrich our mission like Stellar was beautiful because weather payments still was built for payments and and when you have Stellar helping you really solve those difficult problems and payments in africa and then you have the boots can really shaken in that your idea to really make you understand the things you should really do you're in the right place so yeah thank you very much thank you so much emmanuel um that was really really you know great a great um experience rundown um i'm sure a lot of you know other to be participants would get you know a really good insight on what to expect thank you so much for also taking the time to you know come share your experience um so yeah over to you marvellous uh okay um good day everybody i'm marvelous aquinola a cropster crash member and a participant of the stellar bootcamp around april um in crop to catch a season prospective opportunities at the early stage and seeing through them is one important thing we do not joke with uh the knowledge of having to integrate into our existing platform was mind-blowing a lot of deep thought needed to be put in place i'm forced to see the opportunity that comes with it and to see how we can mitigate the challenges to recommit to get the challenges of integration into our existing platform and also to use to use the use case challenges considering our major targets being mostly uneducated the experience generally was intriguing and challenging at the same time given that there are a lot of there are a lot to achieve and in a little period of time but i would say every time spent was worth it it was an exercise that fostered teamwork as it presented an avenue for us to learn and as well as to network with other people and one thing i admit about the old boat campaign is the watchword that says um get started not perfect and trust me during the process starting this 20 process of starting your imperfections with made perfect and nothing i particularly enjoyed was the structure of the bootcamp especially when uh with the way we had to go from conceptualization of a solution to the implement implementation of what is said of the cell solution and it should be alive by saying we were not faced with a bit of challenges at the very inception of the old project but uh with the help of our personal structure gifts and the moderator of the program rk we were able to get answers to every of our questions although it is expected that every participating member of the team should be in a common room so as to share ideas and be readily available for discussion it is also noteworthy to mention that there was convenience the exp convenience experience weapon space in a boat camp was very great and my take on with after the whole boots camp is that everybody's idea is very significant it doesn't matter how important you may feel our ideas are it will cost us nothing to actually share it with others who knows it might be the spark that is needed to light up other people's idea and i cannot mention how lenient and patient and also optimistic the project anchors at dls towards every individual team so i'd like to say thank you for the opportunity and i wish everyone aspired the very best thank you very much thank you so much marvelous um thank you so much for sharing your experiences with us i see that um some questions have already been answered on the q a already so if you perhaps might have dropped your question um you can go back to the q and a section and just read the answers i see anchor went off like she went off you know to [Laughter] to keep the keyboard running by answering your questions so yeah just feel free to go back there to check um i think we're at this stage where we pretty much just um have the floor open um for closing remarks and um since you know a bunch of the questions has already been answered on the q a um chat so yeah over to you um jake and anka yeah i actually uh thank you jake for answering i think there is a comment as i was reading through everything yeah i think there's a common thread it's like especially like for existing or like you know that because like scf right it's not only for new projects that are completely new to stellar um but it's also for those who are already a bit further ahead or even a bit further and are like you know submitting a new product on stellar for example that they're thinking about so jake um like kind of like is like how would the approach be different for these different types of um can they also still like get value can people that are existing also still get value out of the boot camp yeah totally and actually the boot camp in the design square methodology works across any uh level of organization we've um we've done with unicorns who have massive product suites that are already you know processing billions of dollars per year and uh they still you know they have product challenges as well they can define a problem that they want to solve they have you know somewhere in their product flow something's not working the way they want it to work they want to you know ideate test some new things build a prototype of that new feature the cool thing for companies that already have some version of a product built is often you can use either screenshots or if you've already done some prototyping you can modify those prototypes so you get really realistic prototypes sometimes being embedded in stuff that already exists within your product and then just test something that's new relative to what you've already built so yeah definitely doesn't matter what stage you're at this is definitely useful still even if you're further on yeah yeah i would i would agree it's like it's just a methodology it's not just like oh it's not just kickstarting your um uh product and stuff because obviously like you cannot just like build a whole product in a week but it's really like singling out this like most pressing problem uh that you choose to solve in those few weeks and then you get facilitators like that have experience you get community like ecosystem partners that might be able to help you and you can get um like developers on stellar helping helping with answering any type of like challenges technically that you encounter so um yeah like another like thing that i noticed here is that people are like oh are you like building a proof of concept or like an mvp after um after the like bootcamp so jake like what do you what do you generally see bootcamp participants walk away with after participating in the bootcamp well they're usually building a prototype and i and with the with the proof of concept on the back end so uh it's like usually kind of a design you know some sort of design front end and that uh creates a user experience and that can be done in all kinds of different medium you know figma power we use powerpoint um anything you know really just depends what you're comfortable with or where you and uh and then usually it's got a proof of concept sort of technical integration on the back end so that you can actually make the the machine and the machinery that needs to work behind the scenes kind of just at least do the basics right now it's not performance ready and that kind of stuff but you're just yeah proof of concept on the back end side so it's a combination of those two things and um the you know the idea is that that really helps you move you know in only three days you've been able to test both the validity with the customer facing um you know sort of prototype uh design experience prototype and then also test the technical validity so it's really that's the idea is that it's very accelerated way to be able to make a decision as to whether that's the way you want to go or maybe didn't work out how you thought and you avoid having to build a whole you know minimum bible product before before knowing that it's not going to work yeah that makes a lot of sense um i'm i'm uh trying to uh let's see uh answer everything i think we we answered most of those things um let's see how many oh yeah so for the amount of projects we are aiming about um like to see if we can get about 30 to 40 for the boot camp depending on how many submissions we get we just have to see uh usually like for an entire like scf round we're trying to get around 50 because that's usually the maximum amount um someone can review like at all it's already a lot trust me um but for like and that will be like you know until the final october that uh 30 deadline but we're expecting to have most of our submissions before the boot camp because the bootcamp can really elevate your uh presence in the stellar community fund round um yeah i mean i think uh i think i think that makes sense is anyone if anyone has any last-minute questions put them into the q a now maybe we'll be able to answer them but uh jake i'm gonna give the floor to you well um we don't uh not much else to cover there's a few things here on the screen you can see um some next step stuff there's some links and i think we're going to share this powerpoint if i'm not mistaken so but um you know definitely go read more about the stellar community fund obviously if you're applying you should read about it um but it's a really cool concept that stellar has come up with the whole community fund idea so um go take a look and learn more uh complete your submission before september 25th to be considered for the boot camp and um  plan to come and give it all if you are participating if you're selected to participate so um yeah that's hopefully giving you all good sense of what to expect and and what are the motivations and why what you would get out of it and why to go and yeah i hope to see you all there awesome bye guys thank you emmanuel and marvelous too and thank you to your festlab team for participating thank you for bringing looking forward hi hi everybody",
      "keywords": [
        "youre",
        "thats",
        "community",
        "stellar",
        "product",
        "theres",
        "things",
        "team",
        "people",
        "which",
        "actually",
        "process"
      ],
      "speakers": []
    },
    "2022-08-31-stellar-ecosystem-panel-how.mdx": {
      "summary": "it is uh 102 so uh hello everyone welcome to today's panel my name is Anal and I'm a program manager on the ecosystem team at the Stellar development foundation which is a nonprofit organization founded in 2014 to support the development and growth of the open source Stellar Network um so welcome everyone so today I'm um we are having a panel about how to succeed in the Stellar Community Fund now uh will we will um talk about the Stellar Community Fund quite a bit uh and we will also refer to it as an AB abbreviation SCF so you'll be hearing that a lot SCF stands for Stellar Community Fund and SBF stands for Stellar development foundation so um so be sure to take note of that but what is SCF um so the Stell Community Fund is an open application grant program hosted by SBF um that serves as the springboard for many businesses and Developers for uh many businesses uh building an on Stellar to turn their Concepts into tangible products and services and it's also um where SDF is providing funding but actually the community allocates um allocates where the funding goes to um so together with its predecessor the Stellar Brill challenge has been around actually since 2016 it's quite ancient in the blockchain industry and has distributed almost 200 million lumens to hundreds of Stellar based projects based on community input including familiar names um like Stellar expert Lobster light Min and ancl and a few names that you'll hear very soon uh so if you ever looked at Grand space and stellar.org you see that we actually have many grants but SCF is really quite special uh three reasons all kinds of use cases and pro uh projects scope sizes are welcome um and the community is actively involved in guiding and supporting uh the projects as well as voting for projects they want to see earn a grant and SCF grants are are no strings attached so that means that Grant recipients decide how to spend their Grant and don't have to pay anything back so it's quite special um how does SCF work in short it gives uh these like you know Community companies and Builders an opportunity to present Stellar based projects to the BR Stell Community for feedback and gives the BR Stellar Community an opportunity to give feedback and weigh in uh which projects to serve Lumen grants uh we are doing it currently by anually uh on a Cadence on in the form of rounds so each of these rounds are listed on community fund. stellar.org um they have a set pool of lumens allocated for distribution to winning projects of that round and they consist of a few few phases that you see here currently we're actually in the submission phase uh for um the 11th uh uh edition of the Stell Community Fund and has a total pool of 8 million xlm to distribute so that means that any eligible developer team or company building on Stellar can submit now to the SCF and request funding up to 200k depending on their project scope so uh aside from funding participating in the SCF allows you to gather useful feedback from a community gain Traction in the ecosystem and open up a unique opportunities for growth we're also having a very exciting startup boot camp if you uh submit before September 25th so definitely look into this but uh to be considered for participation then really to um you know before your project reaches Community eyes uh your project need to pass the selection panel first and this is no small feat so last round actually less than a third of submissions were selected to move forward and to learn how to set up your project for Success stay on uh to hear from leaders of Allstar pro project winners of the previous Ed SCF rounds Alfred pay beans app Leaf Global fintech Stellar Global and qued on how to set your project up for Success so I talked a lot but let's start with some introductions um and we'll start with Alfred P so take it away an thank you so much for having us um just a little bit of intro on us in Alfred pay we participated in Sellar Community Fund number nine um we are fortunate to be one of the winners there a little bit about us and what we do we're currently an anchor on the network that processes uh USDC payouts into the Dominican Republic our ideas to uh scale from there and um also build the Dominican Republic stable coin um as we scale our solution there and vertically we also have the Alfred pay wallet which is a user facing product and we brand ourselves as a web 2.5 company because we use uh blockchain as the underlining Tech but um we provide a traditional payment experience so users are able to send USC uh by connecting their bank account with plaid Apple pay um or V Master cards and then very much like the money gam integration our goal is is start with that and we try to provide as many outlets into local currency as possible so currently we're part of the largest ATM network on the ground in the Dominican Republic that allows you to withdraw um in over 800 ATMs on the ground so USC for local Dominican pesos um also over 150 brick and mortars aside of the ones that money gram has which I believe they have an additional 600 there and um last but not least door to door delivery so door to door cash delivery in under two hours in exchange for USDC which is uh something super powerful and yeah last but not least we're operational in the Dominican Republic as I mentioned right now uh and in quarter four of this year we're going to be launching our anchor in Haiti wow that's really impressive I can't believe like it's been a while since I also heard from you and every time I hear from you it seems like you've like just done so many new developments and really making real change for people so this is really exciting um great well thank you so much for being on board um let's hear from uh beans app next great yeah thank you my name is wter founder of beans app and beans app uh took part in the last uh SCF round on number 10 and beans is a non-custodial wallet that enables anyone to send internationally at zero fee um so the problem we saw as many people building on Stellar know is that that International payments are slow and expensive um and blockchain could solve that but it's often very complicated for normal people so what we've done is build a noncustodial app that removes all the the crypto or blockchain uh things to the back end so as a user that means you don't interact with private Keys you don't interact with trust lines or any of that so when you create your wallet you choose your favorite currency for example dollars and then if you want to send money to someone in I don't know Argentina that wants to receive peso all you have to do is look them up the app will know that they want to receive pesos and show you the right conversion and all you have to do is type in how much you want to send so you don't even have to think about the currency they want to receive and that all with zero fees um so and the same you can do with requests so you can request something and when someone pay it it will automatically convert into the right currency for them so that's uh beans so basically a global venmo is what we're trying to build here um super excited to be part of this so uh thanks yeah I was also really excited when I when I heard that you uh as you know long Community longtime Community member like finally like had a project and it was like super like I I really like this project like it seems like it's it's a got a very it it like this has been an existing problem right but really uh having like such a Innovative and and like such a like really great design and and great thinking about for the solution I think that's that's what's really unique and uh yeah so I'm very excited all right well we'll hear more from you but let's go uh I want to hear now from funto of quid fto are you able I think you need to unmute first okay sorry about that um hi everyone um fto barice I'm out of Abuja Nigeria I'm excited to be here um and part of we won in um SCF round um nine um and um cryto is an online facturing platform that um um where transactions are streamlined um where smes can get paid um fast cas cash um what when they sell their invoices and how we're leveraging um Stellar um Stellar um platform or the the blockchain is is really to optimize the payment and financial transactions um and for us particularly um we're optimizing for quick transparent and efficient invoicing financing for smes um we the funding we got um in the saf round nine definitely helped us to build um we're still build mode but um we've been able to sort of make inroads um we pivoted a bit because we were focusing on smes before uh right now we're working trying to work with um vendors directly just because of some of the issues um with repayments and things like that but um excited to be here to answer any questions that anybody has awesome yeah no it's exciting I remember so quid was also like participated in a 2021 boot camp with the fs lab and uh you were also very early in development then and kind of seeing how much you've already grown right and it it's kind of um unprecedented almost for like a start up like I I I think it's it's really great great work there so yeah excited to hear more from your learnings as well um but we have two more introductions uh Nat from Leaf Global fintech take it away great thank you and thank you all for uh for having us Leaf is a digital wallet that was designed initially for refugees and migrants people who are fleeing conflict and carrying cash across borders but may have a mobile phone and so we've designed our wallets to um work and help customers who have both smartphones or non-smartphones we use a technology called ussd that's very prominent throughout um Africa and East Africa where customers can load funds onto our wallet um and cross those borders safely without uh carrying cash so we are live in Kenya Uganda and Rwanda and looking to expand to more partners and more countries throughout Africa but really have designed leave to be a a global solution uh we spent a lot of time in Colombia and helping and talking to uh Venezuelan migrants coming across the border and everyone facing the same challenge of carrying cash having a phone uh can't get a bank account um but I think can really benefit from uh from these Services um I will say also that we launched nft uh art sales program for some of our Refugee um customers on Leaf to help them create and mints nfts on life mint and then sell sell those to the global community and then we would send those funds directly to their Leaf wallets that's been a lot of fun and exciting to work on with Stellar yeah yeah no thank you and leaf Global fex also been around for quite a bit like I think uh it was the seventh round right this is already feels like ages ago yeah yeah yeah yeah you're Old-Timers in this this new industry no but I think it's it's really great and really cool to see such an Innovative use case as well that's making real impact so um yeah no looking forward to uh hearing from you more and last but not least Sam from Stellar Global take it away hey Ana hey everybody great to see all these faces again um yeah so I'm Sam and um I founded a community called Stellar Global um actually back um man 2019 and so actually been doing it for a while um and and really it it was um kind of birth out the notion that I always looked at Stellar as this incredible opportunity to um Foster entrepreneurs and developers um and really help to build um economic uh prosperity and opportunities for a lot of people and so um yeah Stellar Globe has been great um we um entered into the fund actually just last year so I think this was what the 10th one was it the 10th one I'm wondering was it the 10th 11th I don't even know what number we were now no you were in the ninth so it wasn't all right yeah so um so it's been great it's really allowed um the ability to do a lot more onsite uh this past year having a chance to speak at Davos um and be a voice um also head to Washington DC where we helped to Advocate uh for uh Black and Latino um uh developers and entrepreneurs that are building on chain um as well as several other things you know doing podcast videos um engagement um so yeah we could talk a lot more in detail later on but um really glad to be here awesome well thank you we're honored that you're here Sam is definitely the most uh active uh Community member that we have and even much more than that like you're also part of light Min now right yeah yeah another um SDF winner um as well I got to meet uh Fred back in 2019 as well and so um it's been great I on a a strategic advisor uh for light mint and uh we're doing some great things so really really happy shout out to Fred awesome yes shout out to Fred if he's watching hopefully U well you know and that really leads us into the discussion right and so here if you're here in the audience if you're on Zoom you have the chance uh as a an audience member to ask questions to any of these panelists and I will uh be taking a look at the the questions the Q&amp;A section here so definitely add your questions and I I will ask them if they're you know if they're relevant to the discussion so let me stop sharing my screen and uh let's start in panel mode so um let's go into one of the first questions so for the like for about 15 minutes I I really would like to know a little bit more about your experience like coming into the SCF and um how they how you've grown since then so yeah like like you know and this can be of any phase like maybe the you know the submission or like the community discussion like what was your experience uh in the SCF anyone feel free to chip in otherwise I'm going to assign someone all right Sam since you have your microphone unmuted um yeah you know for um for me it was great so um you know I started off like I said uh as a community member um and I typically looked at the CF uh strictly from like a business like okay like look at the businesses that are that are joining in um but for myself as Sanka mentioned I was spending a lot of time just in doing things and so what the SCF funds allowed um you know us to do was really from encouragment one from the uh Community they're like hey look there's a lot more you know you could do you know we're spending a lot of time involved in this um you know you definitely should reach out to it um and so getting involved was was really uh great going through the process uh um and yeah it's really allowed just for larger exposure um not just for Stellar Global but you know the entire uh Stellar ecosystem as a whole um I got to do a lot more traveling and really put that uh I guess the message and the the mission of uh what Stellar is all about on the road and I think it helped to make a lot a lot more impact and then also um you know having those funds allowed me to free up my time I I wasn't working uh throughout the air kind of focus solely on this and so it allowed for a lot more Twitter spaces a lot more engagements um you know speaking with leaders um all across the world um so yeah it I think it's helped there and we've seen just that sort of impact within uh the community members I'm really happy the way Stellar Global itself has grown out um you know from it we've seen other businesses um we there's many here on the call here that um has used our utilized and leveraged the community I know I've interviewed like say leave Global I've been down to Miami to see what Diego was doing firsthand and and and uh really support Alfred pay so I think it really opened up those Dynamics and then we're seeing other folks that are doing things as well I mean you seen from Stellar Global you see for instance what uh eir has is his impact that has been that he's put out uh throughout the community as well um we see people let's say um like the SDF who has been leveraging the Stellar Global community directly as well well um their Community manager manager is in there often um we see members of the engineering team that are leveraging um Stellar Global Discord as well um so you know I think it's it's really helped to kind of create a uh a foundation of the culture uh for the community and um and hopefully that can spread into other endeavors but yeah I'll pause there awesome yeah know I I I really enjoy being in there it's also like everyone's also so like positive right because you have like so many communities like out there on the internet and it's like you know like oh like you kind of have to try it carefully because like you know there there's scams left and right right especially in the crypto Community but Stellar Global like when I was in there like people are just so nice and like you know and that and that is like really good Community Management like fostering that culture is so important so yeah definitely shout out and shout out to some people that you mentioned like's shout out to John I know he's in there all the time spintax um great well speaking about Community right uh vouter I know that you've also been in the community for a long time uh how did you get started and then how did what was your experience in the SCF like what stood out yeah I think this this idea of um wanting to pay in a non-custodial way uh and for being able to pay anyone has been in my mind for quite a long time and since I traveled to east of Asia and having to pay uh or transfer my money from euros into the local currency was very hard and I found stellar and did it by that in 2017 and then I was really in inspired and hoping for for some Global ven mode to come up and then I haven't seen it so started it and then on on the experience of SCF what I think is besides the funding and speeding up your development what is super interesting is that you are forced to do a lot of things basically by taking part so what you do is you get engagement from very uh engaged testers so you get people that that want to review what you're doing so they give you very valuable feedback so that's very important to us as well um so that's one another one is that we did this community pitch right so yeah you're forced to write down what your problem is what what product you offering so that that's good to think about um you write it down as well as part of your submission which is good to do um you can easily fall into the Trap that yeah I've got it all in my mind right but it's good to to write it down for someone else to read it and then finally you have a whole network of people seeing what you build so people can reach out to you in a very early phase and and create valuable connections from that so I think in the experience it's it's way more than just applying to get funding it's it's also a process that gives you a lot of value I think yeah yeah yeah no I I think that's yeah that because that's also what I hear hear from a lot of people that like yeah I mean they you know they need funding like everyone needs funding to get started to fund their development to fund like any like to scale their project right but I guess like what people walk away with um is really that experience um like let's say like Nat fto or Diego does that resonate with any of you feel free to Che in yeah so for me um you know I was very I mean fortunate and privileged to have attended the boot camp um before joining the community and I think that was a game changer um like you you mentioned um we were very early early stage when we applied and that's one thing I would say say to anybody who's listening you you don't have to have like a a um a project or you know um you know something that is already established or you know it could be early stage and you can still apply right um and I always help that I'm a non-tech female founder so I literally learned a lot during the book camp and just even in terms of just you know design thinking and all that right was is very great and then joining the um the community um I will say that um similar to what w had said you know there are people who will kick the tires around your idea and sort of challenge you and then you have to go back and sort of look at what you're doing and say oh does this make sense or how do I solve this or how do I answer this because you know that they're somewhat waiting for your response right so you go back to your team and you're like okay so what is you know how do we solve this right this is a problem and if these people are asking this question it means other people are going to ask the question um so for me it um the the community was great that way um but like I said I you know people sometimes might not apply because maybe they're worried or scared or for me I if I could apply and you know I'm still on this panel today talking I'll encourage anybody who's building anything on using blockchain to apply because you never know one again there are people in the community who are willing to support who are willing to help who are willing to ask questions who are willing to you know give their five cents as needed um so you can't really go wrong right so it all like an incubation place as well where you're building but there's a lot of safety to some degree around it where you're not just flailing by yourself all over the place so again I would encourage everybody who's you know maybe of two minds um to definitely um check it out and definitely apply awesome oh that's I'm I'm like really happy to hear that your experience as well especially like you know really like using it as as some like feedback like a space also like to develop like it's not that you don't need to send in a you know completely perfect Pro uh product or because well there is nothing like you're always going to iterate you're always going to develop um yeah and so like uh let's say like uh Diego like um I know that you've participated in SCF 9 so that was a bit more of the recent rounds where we had you know all these different like phases as well um like what what did what jumped out for you and what was your  experience our EXP experience in SCF in SCF was awesome um first and foremost like I think it was it was fitting for Sam to talk first because one of our first images of seller other than going on and reading a little bit about what Stellar does what Sam platform through Stellar Global so being able to dive further into Stellar Global and and see some of the previous projects what other projects on the ecosystem are building um it it really gave us that had to start and also we connected with Sam I think that connecting with Sam is never a bad idea and I think that everybody here can can vouch to that um but our experience for stf was was great for us we we are really passionate about what we're building like water Comm uh said earlier like the payment space today is is extremely inefficient and through Stellar we're able to to build that change and one of the coolest things is that we're all if you're applying for the SCF the concept is that you're building a long-term project correct like your project doesn't end right after the Community Fund is over um and what that means is that you're going to have to raise a lot of money um truthfully um but one of the cool things is that the audience here is the audience that is receptive to seller know what is knows the power of so you get that validation from the community that is a able to fund your project and then um catapult you I mean we've been extremely extremely blessed um post SCF and I think that this is also credit to LEAP Global um we got into the Berkeley blockchain accelerator um which as I said leap Global paved the way for us in that in that side but all the things wouldn't have been possible without the validation of the community so the community saw we were building they appreciated us they gave us that funding it's giving us the ability to build and then it's open doors to accelerators open networks to different investors um of of folks that I look at and I'm like how the heck did we get here um in such short period amount of time um but it's a cool thing about building it's a cool thing about this community as you mentioned there's a lot of communities in crypto but I think the cool thing about staler is that it's an open network it it enables inter interoperability like um beans is building something similar to what we're building but the cool thing is that a beans user can send out for pay user we can cash them out in our local country um we're we're an interoperable platform that really empowers entrepreneurs to collaborate together and um and yeah and it really is most to credit to the SCF and and and what what you and the team have built through here so thank you well not not only me there's actually a a whole group of verified members uh in the Stellar Community Fund uh that gives input and and really like allows for that feedback right so shout out to our the life force of the Stell Community Fund our verified members sorry all right um but yeah no that's that's really where that comes from and yeah I mean you mentioned how the that we got here well I know how you got here um through through the stall Community Fund right and also through that you did such hard work and you actually you know did uh a lot of things that set you up for success and we're going to get that in in that uh more detail later on but first I wanted to hear a bit about uh from from that like before we dive into kind of the advice part Nat um I know that Alfred PES mentioned you on the accelerator part as well you started with the blockchain Berkeley accelerator but how did you decide to go even into the Stellar Community Fund how did you make that that uh yeah that I guess yeah switch know it's just to Echo everyone else the the community has been incredible just fantastic and growing every year too I think you know when we first started it was a little less well known with investors and other community members but it's it's it's incredible now and especially allot of the work that um Sam's been doing he's been promoting us uh so much it's been uh you know just unbelievable how much um he's he's been over backwards to help us so we're very appreciative of that and you know Sam's out speaking to Davos and like promoting the work that Stellar's doing globally and that's only getting uh getting better um so it's it's really been an honor to be part of this community I'd say Tori and I Tori co-founder of leaf had a great time out in Meridian in um in Mexico and I think that was a really our first big opportunity just to see what the community looks like and now that we're able to have more inperson events I'd highly recommend anyone uh you know to attend to attend those and a network and to see what's out there what's building and um you know people are just supportive and helpful it's it's a fantastic uh experience in community and so I after leaving all those accelerators we did a lot of accelerators so people want advice on accelerators and boot camps we're happy to help but brookley was a fantastic one and um a lot of them don't come with funding you know that's one of the downside a lot of support you know networks we'll connect to investors but when it comes to actually putting in capital there's very few that do that and that's what was I think transformative for us with um SCF is is actually now leveraging some of that Capital to use and some of the early stage work that investors won't um support and fund and it's it's all worked out for us as well awesome yeah no that's great to hear um yeah because like you need both sides right you need that support that support is like so important but then you also need that early stage capital and sometimes it's difficult to get because investors like you actually like need to to show a lot and that you've done a lot and especially for early stage like you know you got to get started and SCF is like this like you know Kickstart funding almost uh that no strings attached to don't need to pay back you don't even need to uh work on your project anymore if you don't want to we do encourage you and there is a guilt tripping if you don't do it just kidding from from the community but anyway you know it's like this unique opportunity really um to to get funding and it's quite uh yeah you don't really see that very often even in the blockchain ecosystem so well great it just great also to hear from your experiences and now in the last like half an hour or so I really want to uh uh like well the actually the audience really wants to know how they can improve their submission as they're writing them right now uh for scf1 and this is very important and so you've been through the process you have worked so much on your on your startup and and your company right and I really want to know now how you set yourself up for success in the SCF so um let's dive uh let's dive into to that right um we start with here I also have some audience questions and uh we can we can kind of a free flowing discussion here um but I think like a lot of questions here actually go uh about uh the community engagement um here from Carlos there's a question how to best engage with voting members of the community so who wants to start um yeah I get that question a lot um you know I I think that ultimately um you know ultimately I I I feel that where people um let's say make the biggest mistake is that you know well number one find something that you're passionate about right I think sometimes people find you know business you know they they kind of look at the SCF as like as strictly from look I can create a job or money the money side of it right and I just think that's the wrong way of looking at it because you know to really engage in the community you have to be in the community you know there's you know right now in Stellar Global there it's a different time zone for for somebody different right you know so it's like you know it might be 4:00 am to you but it's 1 pm to somebody else and etc etc and so you really got to be engaged in the community the only way you can be engaged in community is if a you're passionate about what you're trying to build and to be passionate about something you have to really believe that you're solving a problem um you know you know like I could I can look at at everybody here and can tell you that they've all been like actively involved in a wide range of conversations you know um we talked about liment you know Fred is yeah he has liment but then he's passionate about you know okay like how is the code being built out you know you know what's you know what's the structure are is the community are these businesses you know adhering to the centralization and some of the core components of the community so you have to be you know really passionately and actively involved and when you're involved in all these conversations and you know people are going to find you people are gonna know who you are they'll get to they'll get comfortable with you um and so that way when you do have an SCF entrance it's like okay I know what you're doing I understand you you're actually trying to solve a problem um now you can start building up that engagement so um you know that's my long-winded answer for that yeah I also I also I wanted to add to that um I would my advice would be to reach out early um simply because once the Community Fund is going on um let's say for the for the 40 days that it's going on uh people are reaching out to the to the verified members consistently and some of it may feel like spam I guess um just to kind of say it bluntly um but if you're if you're reaching out early and and to to to different members at the end of the day it means that you know you're interested in communicating you're interested in connecting with with these folks and the truth of the matter is that we've all been in the shoes and at least I can say it for myself where somebody reached out to me and gave me a a helping hand like um and as I mentioned Sam has been a great example of that like we need the community at the end of the day to believe in our projects and and we're excited about what people are building because the stronger that the Stellar network is the stronger that our projects are um but my advice would be to reach out early um to to some of the verified members if you see projects that you know correlate with some things that you're doing reach out ask advice um and and yeah but I would I would I think that the best strategy would be to reach out sooner rather than later because once the Community Fund is going on uh most of us are going through the the projects themselves reading them one by one it's there's there's a good amount of projects um and that might not be the greatest time to connect um so yeah yeah just to Echo what um Diego said I think you you definitely will get what you put into it so you know if you don't engage at all um it will reflect um and if you leave it too late like he's saying um then you know you're not going to get the sort of engagement that you're looking for so engage sooner um and for me I think there are some people who stand out um when it comes to engagement right and even if you can just you know um connect with those the people that stand out right who either give you feedback or you see them responding a lot to different people you know I I I call those people the champions of the of the of the of the community right because they're they're very engaged um and so even if you can either follow them or ask them questions um they to get a lot of reads as well so I think you know having a strategy around that as well is also very important yeah so I'm hearing here like definitely like engage early and engage in in multiple conversations like uh you know like don't like it's not only like Well if you really want to maximize your chances I think what Sam also mentions like go in the actual like go in Stellar developers Discord go in Stellar Global like participate in some of the overall like Stellar discussions too if that like is relevant for your issue like I mean in Fred's case I know that he's been activate active um for nfts and Stellar like so much he's in all these conversations right and so I think that's really exciting like you really get involved with the community and and and work on a problem that you're really passionate about um further on like uh on community engagement um vouter I know that this is another question think that came up somewhere but I believe um you've been also really active on social media and I think that's one of the other things like not only like the Discord right um like all over so yeah I would love to hear a bit more about that yeah that's that's more my many years long enthusiasm about stellar and its potential to change people's lives basically um so and that that gives you a lot of people um that are enthusiastic about the same thing right and maybe to add to the the last one is what is engagement maybe that was what I was thinking is I don't think engagement is like telling what you're building and then getting some response I think you you can you're in a super early phase so it's very interesting also to cut it in small pieces and get feedback from people on specific parts so that the answer isn't very complex and also you're not really like trying to convince something someone that you're building something cool but just getting feedback which is already valuable um and you can do that on social media as well I think that that's also a great way to get a lot of feedback basically like what is the engagement of the things you're building and are people excited about what you're showing them so I think it's a great way to connect with people yeah I like that aspect a lot not just like hey you don't need to convinced that your product is the greatest uh of all time you can actually um listen right listen more and listen to their feedback and show also like I mean obviously like it has to be constructive feedback right in the communities it can can go all over the place but if it's constructive listen and Implement and follow up I think that's really important and then um community members like uh you have a you build your track record with them that's very important um yeah I wanted to add um kind of on to what Walter just said and bring back up Fred as well is you know Fred you know he he was I think disqualified from the first his first entrance into the SCF and then when I think his his first time going through after that I want to say he lost the SCF before finally winning um and so this is somebody who was obviously been really involved but you know the key is being humble right is the fact that you know he was humble he kept on he's he going back to what was mentioned earlier he took feedback um came back and reiterated okay let me try to explain it in this this way Walter somebody else who's been highly involved in the community um you know back in the day he had like the Stellar torch and uh was really influential in the early days as far as helping to build up the whole aspect of community but you know shout out to him when he was starting off his project he didn't come in with an arrogance of like hey this is the best product there is he came back exactly exact how we saying it he was giving he was asking for a lot of feedback you know here's a screenshot what do you think of this so it was this active engagement from somebody who's you know I would say understands the network very well has a long history within the community um but he still came out and did the work and that goes a long way and so um so yeah just want to reiterate the importance of just being humble and and really engaging and getting feedback from people and being genuine about it yeah yeah I think I think that's that's really like how how you really built that track record I think I think it's not just a one One Stop Shop right it's it's really like you can actually also submit multiple times to the SCF like you can start with a small budget and kind of get your foot in the door um ask for lots of feedback even if your project is not quite finished yet and then next time you can ask for more and kind of like show that you've implemented the feedback so yeah especially with with Fred like enlightment like it's it's it's quite interesting to see like that that like the many times like they submitted didn't win but submitted again anyway right um and not only does that show uh a track record for the community it also shows it for like you know SDF whenever we have grants right oh this Pro this project really wants to be part of the sell ecosystem like they it's like a qualifier almost so definitely I think that that is really great uh to just keep going ask for feedback and stay humble great advice Nat I see that you have your mic unmuted I wanted to hear a bit more from you about what your advice is to just quickly no I think it's all been said well and um yeah I think there's no matter what you're building somebody's already uh you know done something similar or solved a lot of your problems and I think we found a lot of um support and and resources certainly for the wallet business there's a lot of those um instellar so if it's groups like lobster or one called rehive in South Africa that we were able to connect with early on um to get advice and also to to share back you know I think we were one of the few that had Incorporated ussd technology and and we're able to kind of share sort of best practices what's worked and what hasn't or if there's other um on andof ramps that we've had more success with um I think there's you know plenty to to give back to but um I also feel like this is maybe an area that we could have done more with I think the challenge that we had with our wallet is not a lot of our users um are um you know online on the internet so it was tough to get least you know feedback from anyone within the the Stellar Community about our our wallet because they couldn't download and and use it and I think that hurt us a little bit compared to some others that could say look this is the feedback this is how we've engaged the community this is some of the things that we've Incorporated so um I definitely think we could have done a better job earlier on re-engaging with the the community so we've gotten so much support since then but uh yeah I was definitely one I think could have strengthened our application yeah I guess that's also like um points out that there so such a wide variety in project and yeah sometimes like maybe like beans for example you're having like you know you can really find your users in the community but in other cases like your value uh like feed feedback is going to be a bit different so yeah I mean and and as that you were also talking a bit about you know that user validation and and you've been working on uh Leaf Global for a while um what is some other advice that that you would give to like new submitters to put in their submission sure and this is I think something that helps set us apart a little bit and also with fundraising uh too is just going from that idea to like a handful of uh you know test users or just something real theoretical to actually like moving money and and getting real live users and processing transactions I think that is a huge hurdle uh to do and it's tough to get the you know regulation the licensing the partners being able to move funds getting kyc right like there's a ton involved there going from zero to one um is is a big heavy lift I think that it might just been timing that we were lucky with that with um with our applications that we finally got over some of those hurdles after like five or six false starts and you know get things going and then it would shut down and then another partner would get shut down starting with another so just the startup life um but I think that is really key to be able to articulate that I feel like that really helped us a bit is like this is more than an idea we've got you know at the time I think five or 6 thousand customers that were processing you know 100,000 plus transactions like we actually had good data on the flow and you could see it all was all all on the the Sellar Explorer so like that was fun to be able to then show is like we're actually opening accounts for people people are using it this is how the the flows are and so trying to get to that step as early as you can um I think helps yes user validation numbers data like uh show show data to convince like you don't like U you can prove that your product works right especially on I mean Stellar right I mean yeah you can see it on Stellar expert like it's all recorded you can't even fake it right so I think that's really exciting uh so I think that's a really great lesson for people it's like you know do your homework uh get user validation early like show what you've done like prove your track record I think uh even if it's as you know little um as just a few people like if a few people really like your project and and you know you're in early stage there's a big chance that a lot of people will right so yeah um let's let's see um who who has anything to add to that like numbers and how did you get to those numbers like what are some like advice that you would give anyone here feel free to chip in you see some people unmuting I I'll I'll add to that because I think that that's something that we've actually been been dealing with recently and I love that point of getting from zero to one um one of the best advice that we got recently was that when your product launches it should suck um and that's okay because part of it is is understanding what's not working what is working and so on so one of our biggest um priorities as of late has been exiting beta um and getting the product in the hands of people to see what's actually working what's not working what users like what they don't like and someone like me who's like details of like every like no this has to be like two fonts smaller and it has to be in this corner instead of this one like it it has brought some like Perfection paralysis I guess to to what we've been so focused and excited on building um but I'm just so excited to get this in the hands of people um like we recently launched our anchor in our in our exiting beta October 1st and if I wouldn't have gotten that advice which is exactly what Nat is is pointing at we we would probably still be so paralyzed in in the process of getting everything right and it's understanding that your product is never going to be perfect in this stage and that's why we're here you know that there's no better Community to rely on feedback than than this community so I just wanted to add those points to that yes so you're hearing your project should suck if you're submitted to the SCF no but I mean that that's obviously I think that's a that's a really great piece of feedback and that's what I've been hearing too like it doesn't need to be perfect the first time your MVP should be like super like simple super like basic doesn't need to be perfect don't over engineer and just get it in front of people I think that's great uh great advice um let me see we have a anyone wants to add to that before we go into next section right right no so the project isak very good advice I love that uh but obviously we're here to make it better like and and it's always going to be re like iterative and you can even work as as was mentioned here uh partner with companies like make it better like there's new opportunities if you just get it out in front of people um we have a question here from John uh Woodard and this goes a bit more into the demos and kind of like graphics and whatnot so what sort of like demos are expected and and what are the what are um some advice that uh some of the panelists would give around this um I mean oh go ahead go ahead Walter yeah what what I would say is that I don't know if there's any expectances um it depends on what you're building but what I would say is that be careful to look at design no matter what you do uh if it's not your presentation or if you're building a consumer facing product at least take a look at your design if you don't have a designer in your team find find someone that can help you even if you do it uh through I don't know Fiverr or something make sure that it stands out it looks good but also use it to to structure what you're building because if you go through design process you will run into challenges it will improve your product but it will also make make it easier to explain to people why what you're building is unique so I would say uh uh no matter what you do and what you show be careful to to take a look at design as well make look good yeah making it look good is very important I think like um a lot of people like like including me like we like verifi members read a lot of submissions and uh it's nice to actually see some some visual assets um and I I know beans you did that really well beans actually had a really great demo unfortunately my Discord recording skills weren't as good so I cannot uh I cannot reproduce but definitely uh the next candidate pitches we we should be all set on that um let me see like I actually you know like the design was really good on all of these uh the the project panelist that are here and definitely check it out on on the project site on seller Community Fund website um let me see because I offered pay I also really liked your designs as well did you do any I was actually gonna gon to mention exactly what you of that the cool thing is that you're able to go through some of the previous projects that are winners and and see what they put together um and that's something that we did for sure um before we submit our application was go through some of the previous winners see what they had done and to L point I think design is is is important um one of the things that we did and ultimately as we said the the whole concept with our projects is is to to exit out of the Community Fund stage and you know to grow them so you're eventually going to have to build out a pitch Teck and a lot of the questions that come out of the Community Fund are questions that you need to have in your pitch check so what's the problem that you're going after what's the solution um so maybe even uploading that slide from your pitch deck to give it a graphic that maybe adds a little bit of twist of what your brand is um what your product does etc might allow to to might allow you to stick out versus other projects because when you're going when you when there's so many applications that are just all text it can be pretty hard to just to go through so so so many whereas maybe you see like wow these people have a really cool brand they have a really cool way of of communicating this to others um and and it's something that that'll stick out so definitely go through the previous winners um on the Community Fund uh site and and see what they've done uh as IA said uh beans did a great job as well so definitely go through them and take a look and and use use them for reference yeah may maybe to add one thing is that um the pitch which which we did that wasn't recorded uh what what really helped us is to pre-record our uh uh demo uh so what we did is did a live demo pre-record it and then talk over it during the pitch so that you you're not focused on clicking all the buttons and all things that can go wrong during a a live demo so I think that helped a lot to to prere Rec it and then put it in the slides yeah that was actually a a legit presentation like we were like everyone who was watching like Tyler like everyone on my team was like whoa like pre-record like this is like because everything obviously went well right it's like you were you looked like you were doing Livewire and and we were like really impressed but yeah know it's like a those are like some great uh great tactics too um let me see we have a few minutes here and I want to uh go onto some other questions as well um so another question I get often uh is what's the best strategy for the grant amount and I I know that you know we've actually changed budget um guidelines quite a bit uh throughout the uh SCF rounds right now um like we maximum amount is 200k um and uh but we have different projects uh like of different budget um uh Scopes like depending on the project scope so like we have like beneath like 10,000 for small scope projects beneath um uh under like $50,000 worth of xlm for kind of medium scope projects that are really like for new project but also we have under U 200,000 which is really like uh people that of existing uh companies that want to uh scale a new product or like uh Kickstart a new uh development on that front so yeah here it says what is the best strategy to kind of get in uh for into the Stellar Community Fund and I know that quid like I know that you haven't had any previous um uh can really experience right in the Stellar community and you chose a little bit of a lower a budget on the lower end um can you tell us a bit more about your strategy there sure so um I mean when we when we applied um we just needed or were looking for funding to even just build right so we were looking for funding for Developers for maybe a bit of of a marketing campaign um and so we I think we did less than 50,000 if I remember correctly yes um and you know based on advice as well um you know just looking at what other people had done and I I mean first of all not to just deviate but can I just do and can I just brag on anchor because I'm telling you look if she's on your corner you are made right so let me just quickly brag on her and just say that everything she said we should do we did right so but there was a lot of advice around you know how to sort of what to do and everything and she has been such a phenomenal support um and just supporter of just our our our you know our product what we're trying to build the vision and everything um so just going back to your to answer your question so again we asked for a smaller amount and we actually got it and I'll say even now when everybody's talking about we've been very misly with even those funds right because we're using it to we're able to um pay for developers um we were able to do some marketing campaign like I said um and we we still have some left that we're still you know um managing right um and so it's just been phenomenal with just what we've been trying to do and so anybody who's coming in unless you already have like an established um um product or something that already has like a lot of traction I would say start small um and you know SCF the beauty of of the fund is that you don't just get it one time and you're shut out you know you can always come back like everybody has said once you able to prove the concept and you know get more traction you can come back and ask for maybe higher amount um and so don't feel like you have to ask for the moon first go around you know if you you know ask for what you need but make it um make it manageable enough that um people within the the the community would be able to say okay yeah this is this makes sense yeah yeah I think that that that's great advice also to really get get your foot in theuring and get get traction and just build that and you can always submit again right um all right well we actually like the time flies uh like it's already almost done and anyone here uh any last advice for for scf1 submitters feel free to unmute yeah just have fun you know I mean there's there's a lot of great opportunities out there I think um there's uh the I mean since all of us have entered there have been continual um upgrades uh continuous uh new um uh countries that have been really expanding their use cases and so um just be creative have fun and uh and do it yeah I think that's a great point just don't don't only do it to win the funding but just have fun get feedback interact with people um improve use it to write down whatever you're building validate your ID so I think that's very valuable uh already so yeah great Point yeah I would also chime in and say well sorry about that I would also Chim in and say don't don't leave it till the last minute to fill out your your submission right start working on it now um so that you can sort of you know kick the tires around it you know let people around you sort of look at it read it give you um feedback put that in the in the in your submission and then just to make it as Crisp And as as as great as it can potentially be thanks going to say something similar I feel like it's the the standards have got a lot higher since we went in so up your game the professionalism of the you know of the applications have gotten so much uh better but that being said yeah there's nothing to lose by uh just applying and getting some great feedback and especially if you're new to the community uh Jump Jump Right In it's really um a supportive one and I I'll add that uh if if you don't win one time or two times keep applying because I think that a large part of being a Founder is grit and being relentless so um the community loves to see two three time people who who apply and I think that that has a lot of value so uh yeah thank you so much everyone for that advice I think that's yeah it's it's was really great to hear from all of you and really got into the examples of like you know the generic advice that we give all the time yes that's true our application has become a little bit more more complicated but that's that's a good exercise for you to l write down your business you know uh I'm trying to yeah we're trying to streamline it every round the stf um changes every now round because we grow with the needs of the community and the growing Stellar ecosystem which is really exciting we're also having some you know um sneak peek we're having some really exciting um uh updates for scf2 that I'll be sharing in the next few weeks so definitely stay tuned but in the meantime if you want to keep up to date with this and learn more about the Stell Community Fund we have an exciting uh like website that we recently um renewed shout out to Charles from our design team it's very great uh it's called a community fund. stellar.org so definitely check out and check out the projects um the our panelists here and many more exciting projects that have in in the past uh submitted to SCF uh we as mentioned here we have a exciting stallo Community Fund Discord where you can find many of these um um of our panelist actually all panelists here and many more um on Discord and ask questions and whatnot uh and we have recently also added an SF handbook so if you're like uh really want to know the details of how everything works definitely check that out you can find it on community fund.",
      "keywords": [
        "community",
        "people",
        "youre",
        "thats",
        "great",
        "stellar",
        "actually",
        "dont",
        "fund",
        "building",
        "feedback",
        "project"
      ],
      "speakers": [
        "Community Fund",
        "Stellar Global",
        " Stellar Community Fund",
        "Stell Community Fund",
        "Dominican Republic"
      ]
    },
    "2022-05-17-innovating-colombia-s-financial.mdx": {
      "summary": "okay i think that we can we can start again uh good morning everyone in latin america welcome to today's panel that we call it innovating colombian financial system i'm gabriel bisama i lead international policy at the stellar development foundation and today we have three experienced panelists that we are going to discuss the opportunities and challenges of using blockchain technology for cross-border payments and specifically what we are going to discuss is how the use of blockchain technology and stablecoins can expand the access and usage of affordable financial services and how actually they could provide a positive impact to inclusion and economy by contributing reducing the cost of cross-border payments so i think that everyone here that connect to this panel they know that the average uh cost of of cross-border payments remains very high right now uh so it amounts to almost six percent of the amount that you send which is more than the double of the um sustainable development goals target that is actually three percent uh so so this high cost of remittances payments have real world impacts on individuals and small businesses so for example high costs impact migrants seeking to some money home for for their families also small businesses important products uh from foreign suppliers and uh non-profit organizations such as eight organizations that are actually there this person uh fans for humanitarian aid so blockchain technology and and the responsible design and use of of stable coins could enable more affordable cross-border payments including remittances but also b2b payments that finalize in in seconds and and actually cause fractions of a cent uh mainly due to the reduction of of intermediation so today we are going to get into the details of on on a project that we are doing in in colombia with two ecosystem partners of of the stellar development foundation uh and also we will have um diana from from the latin american development bank uh to speak a little bit about how to embed financial education into the consumer experience but before getting into uh the details and discussions with with the panelists i just want to give you a brief overview and intro to the stellar network for those who are not familiar with with it uh so stellar is an open blockchain with control capabilities for for issuers and what does this mean so actually is uh is a blockchain is a network that actually gives on the one hand controls to asset issuers that ensures safety and security of a permission or closed network but at the same time it leverage openness and interpretivity uh that foster competition innovation and inclusion and uh the some examples of this just to give you some some clear examples is is aml and cft features and and clovax so something that is called authorization require is is a flag that it could be when you when an asset is your issues an asset it could uh he could make sure that that it has this aml and cfd feature that ensures that a financial entity when he's distributing an asset identifies who is the holder of that asset and this would uh gives controls to actually to the issuer that that aml and cft regulations are being comply with uh so so we think that aml and cft is important but also clawbacks are important so if an asset issuer such as a regulated financial entity or a fintech or a digital wallet or even a central bank that issues a cbdc actually include this this flag on on the asset uh gives the possibility of uh to the issuer to recover the funds in the event of a fraud for example uh but this is not only relevant because of in the case of fraudulent transactions but also is relevant if for example any a user loss lose the the private keys so we think that that clawbacks are really important and just to step back a little bit and someday downstair uh it was established in in 2014 and so so actually it's one of the blockchains uh that is most established and it's designed or it was designed for for payments like the main use case right now on on seller is crossword payments but also we are working in other use cases such as cbdc's and uh using blockchain for distributing humanitarian aid uh since it launched the network process more than 2.6 billion transactions and currently is processing more than six million transactions in a day-to-day basis uh the other piece that is important if you would like to promote the use of blockchain technology that could uh as well promote financial inclusion we need to make sure that the technology is sustainable so one of the things that we would like to make sure is actually that the technology yeah it doesn't consume a lot of energy so we are in in the next couple of weeks we are going to to publish some research on on the energy consumption on standard and the data is is really promising so that is something that we are we are really happy of uh and it is supported by the sera development foundation which mission is to promote the access and use of financial services and actually the foundation is a non-profit organization uh and uh is is uh it's not a charity actually it pays taxes in the u.s specifically in california and uh the whole goal of the of of the foundation is to support the development of the network so with that i think that we can we can start but before starting actually uh this panel is is in led up to the textured startup weekend blockchain mexico city that is uh that is going to happen uh next weekend and actually this is an event that brings together the the community in latin america that is building uh solutions uh in finance but but not only on stellar in any blockchain so actually we are inviting those developers and startups and fintechs and others that actually are building products in latin america and if you have a good idea to solve uh any problem uh for for the target audience that that we work in terms of payments uh you are more than invited to attend uh in person or even virtually the uh the hackathon so actually there you have the link to to sign up so feel free to uh to do it and if you have any questions you can you can ask me or anki after after after this this panel so with that i think that now we are ready to to start the the discussion so uh first of all i would like to uh i would ask uh ivan to uh to introduce himself himself and and also provide a brief overview of unclapped and what is what is doing in latin america and specifically in colombia hey gabriel how are you how are you all thank you for for joining us uh yeah i am working in in a club here in in latin america we are we are connecting all latin american countries to the the stellar uh network uh through establishment we issue uh establishment for every currency every latin american currency uh so people could access to these global payment networks not only people but also any platform any business that needs or that finds an opportunity here to to transact worldwide uh i like the speed and almost free uh cool who could get that uh that that that tax is really really fast so we are we are working we started in argentina we we are working in in colombia and also in peru and we are under our road map is to to work on on other countries within this this latin america region so that is that is what is what we do uh we we are connecting every single latin american country to this global payment network thank you very much for that uh iman we are going to get into the titles of what unclub is doing specifically in colombia but thank you very much for the intro i mean do you want to introduce yourself and and provide a brief overview of inclusive and its products absolutely thank you very much for having us and it's great to be here with yvonne and the stellar team as well and we're really excited about pursuing the partnership to connect latime countries and the cross-border payments space weave inclusive you can see from our name we are all about financial inclusion and share that mission with don klopsteller and the ecosystem we are a hybrid fintech and regtech platform where we provide a full stack financial crimes compliance or anti-money laundering platform that enables all of the essential know your customer know your business uh anti-money laundering anti-fraud controls transaction monitoring and the like in one workflow and it's built to enable both traditional financial services companies compliance needs as well as decentralized financial services including blockchain ecosystems like the stellar network so we enable a number of other anchors across the platform uh globally to ensure that there's a consistent approach for know your customer anti-money laundering with our global framework we you can think of us as a organ orchestration layer that brings under one roof is to do everything from identity verification and validation legal entity verification and validation across the globe as other anchors and nodes on the stellar blockchain originate their clients either retail individuals or business clients that need to have these essential kyc kyb elements in place and then the associated transaction monitoring and other pieces of the anti-money laundering stack importantly we are very excited about our partnership with stellar because they recognize that there is a need for a consistency of approach in the anti-money laundering framework as many jurisdictions have different rules governing we are built to the global standards of the financial action task force and many in our company are actually former global regulators whether they be with the us or others by my part for example i spent the early part of my career at the u.s treasury department working with institutions like the fatf on anti-money laundering frameworks so the advent of the stellar ecosystem and blockchain enabling tools that that facilitate a much faster efficient cross-border payments ecosystem is exciting in that regard but they all need compliance in that regard we therefore are also an anchor on the stellar blockchain and and the fintech side is we provide connectivity for those payments into the us uh traditional banking and payments ecosystem ach payments wire payments and the like so we can connect with yvonne's team and the customers that they are working with to facilitate cross-border payments for household remittances small business payments and the like and enable on and off ramping for assets that are transacted on the stellar blockchain for example like USDC that may come inbound to counterparts to be paid in the u.s where we can then off-ramp to the u.s payment system and then push or pull funds using ach or wires and as well as outbound flows as well so we we perform two key functions we're a gateway uh between traditional financial and banking ecosystems in the united states to be able to hold funds in accounts with our partner banks in the u.s access those ach and wire rails and then be able to on and off ramp for payments using the global stellar blockchain ecosystem and working with partners like yvonne to really connect the latin american business and household community in their cross-border payments needs and by doing so we enable a very consistent approach by also providing some proprietary capabilities around compliance backed digital identity credentials for clients that come into the ecosystem that provides great efficiencies when we do kyc support because of these often are very redundant so we can issue and validate uh compliance-backed verifiable digital credentials for clients within that ecosystem so as different nodes originate their clients they can have one kyc gateway and be able to have a utility in the ecosystem while importantly also protecting their privacy and so the combination of these compliance tools with the the blockchain elements that associate payments flows between digital assets and fiat assets with this on and off ramp capability is where we sit and we're excited about uh participating in growing the ecosystem and really driving cross-border payments in a much more efficient but also secure and compliant way you very much for that uh amir and inclusivis is a really good example on on how um financial entities are connected to stellar i actually care a lot about aml cfd and compliance so i'm really happy to to to to hear uh all of all that i mean is going to to tell us today so moving forward diana do you want to introduce yourself and uh provide a beef overview of like half i think that most of the audience uh would know the the cafe but it would be great to hear that from you yeah thank you uh gabriella thank you for for the invitation to participate in the webinar um caf is a development back uh the development bank of latin america and uh we we are committed to improving the quality of life of all latin america's latin americans and caribbeans and our cap actions promote sustainable development and the integration of the region and we support uh we provide uh financial support and consulting services to both uh the public and private sectors in our shell shareholder countries uh which are uh 20 countries uh 18 countries in latin america and the caribbean plus spain and portugal in addition we generate a knowledge to strengthen our public policies in latin america and the caribbean in order to improve the quality and impact of the projects that we promote um i i actually uh work as the coordinator of the uh financial inclusion program which is a program uh within uh the uh private sector efforts that uh cafe is is working uh with uh all the countries uh in latin america and the caribbean thank you very much for that brief overview uh diana and it's it's a pleasure having you here as well and i'm making sure that you are involved in the project from a financial inclusion and also from a financial education standpoint that is that is something that uh that that is that is really important for us so um after this quick introductions i think that we can start with with the panel and we can get into the details on on the project that we are doing in colombia and just to give you a brief overview of that uh what we are uh doing with with unclap and amp inclusive is try to under pile up project try to gather data on how much is the cost of sending uh funds across water using uh the stellar blockchain um and uh we we are really happy to see the results after that in in terms of of the pricing and and the potential savings that actually someone sending money from from the us and someone receiving money from colombia uh can uh can can make uh use in uh using blockchain so um actually with this background i have the first question for for you uh amid is actually what do you think that are the benefits and opportunities of using blockchain and stablecoins for cross-border payments for someone who is living in the u.s and and is willing to send money to latin america for example to to colombia thank you very much for the question um the core really comes down to three benefits um cost efficiency as well as security right um the ability to leverage uh stable coins like USDC over the stellar blockchain enable near real-time payments between anchors on the blockchain on the ecosystem and those anchors connect directly to their clients and those clients can be individuals that hold wallets they're operating with a native application to a fintech provider in that home country life inclusive uh is doing for businesses and others in the us and onclop is doing across latam um the ability to on-ramp to USDC from local uh fiat currencies or quite frankly any other asset that's issued and transacted um whether they be stable coins or all coins on stellar provides a tremendous amount of efficiency so you can go from fiat to stable coin back to fiat in many ways much faster than you can send an international wire payment between two intermediaries that are then representing multiple banks or others between the ultimate client sender and ultimate beneficiary recipient and so you get both the the the speed and efficiency associated with that the cost efficiencies that are therefore enabled can streamline this because when you go through multiple intermediaries multiple correspondent banks with three five seven plus day settlement times you not only lose time to get that uh what what may be a small dollar payment for a household or even a large transaction value payment for a non-profit that is trying to provide organizations in need for humanitarian relief or corporates and legal entities trying to make payroll payments supply chain payments vendor payments and others you get a speed and efficiency as well as a cost advantage lastly and importantly the blockchain's underlying attributes give us certain capabilities from a security and compliance perspective the commitment to risk and compliance within the context of the stellar ecosystem uh helps benefit that while because we provide essential kyc kyb elements know your customer know your business elements and therefore issue unique digital credentials what that enables is that in individual uh context in those countries when they onboard a client an individual and they go through the identity verification document non-documentary background sanction screening processes many of these are very piecemeal and we can consolidate them through the inclusive ecosystem they it we can issue these credentials and now any node that is therefore needing to validate an individual or a business that's been onboarded and run through that kyc kyb process can do so near instantaneously and that is a significant hurdle both from an efficiency and cost perspective because anti-money laundering elements tend to be expensive and tend to be very redundant so this provides a an answer to the redundant applications of aml and kyc while also creating security by enabling these verifiable credentials that protect underlying privacy information whereas in the traditional financial services context when a sender sends money through multiple intermediaries to a recipient in a foreign country you have to disclose underlying account and personal information through that payment chain and one is able to do so now con um in in adherence to those compliance rules without having to attach the the very underlying privacy information and because the ledger is immutable you can search both transactions uh from an anti-fraud anti-money laundering perspective as well as ensure that there's no illicit activity that's happening in the system so the immutability of the ledger the transparency that it provides while also cr creating a privacy protection layer is inherently part and parcel of blockchain technology when combined in this ecosystem like through the stellar development foundation support of the stellar network and companies like uh like on klopp and inclusive now you get connectivity uh between asset issuance payments and the interconnectivity between stable coins and fiat currencies in multiple markets with the kyc anti-money laundering layer so net result is you get security speed and efficiency that's great um from a colombian perspective so actually someone who is receiving funds from the u.s to colombia ivan what do you think that are the main benefits of using uh blockchain and also stable coins for cross-border payments ah the the benefits amit has has saw a lot of the benefits and i deeply agree on what he said but i see here i see that this technology the honor from services that we provide the whole ecosystem and the protection that tools that uh inclusive is bringing to the to the to the network uh allows not only to receive uh to receive money for uh remittance but also to small business to transact worldwide i mean uh this is this is technology that not only allow us to help those people that couldn't or doesn't have access to to financial services or are paid too much for for getting money from abroad uh but also to small businesses to start uh offering their products and service uh to to other countries uh in in colombia the the uh on like others com other countries of the region of the latin region argentina and others uh the necessity is clear uh because of the lack of formal jobs there are a huge cash network that probably and that's also something that we should work on uh it's it's it's something that hurts the the people economy maybe if you are not if you don't have the enough financial education and that is where we want to to to work here uh maybe you don't realize how much how are you are you losing using uh traditional rights or maybe you are used to use that rights but using this technology using this uh this network uh it could benefit people not only to get uh get money from a relative in the u.s uh faster and cheaper but also to to start uh working on their personal economy i mean how to use money how to save how to how to uh how how you could offer your personal services like i don't know you could you could go through um i don't know a ternary or to a live streamer a gamer and this phrase this blockchain race allow people to start transacting worldwide but using our domestic currency uh or or the currency you want but at the end of the day if you when you need to consume and use local financial services for local payments or or whatever you need uh there is there is a way to to interact with between the the digital network and the the local financial system uh and that that is what we do we will represent the local currency and allow people to move from one world to the other world easily so i think i'm i'm pretty sure that uh there is a this is a next uh next job charter in our in our region uh when when talking about financial services and on financial opportunities for people but i i also like i look i also want to highlight the the benefits that small businesses or or freelancers or self-employed people could be benefit of this entire network not only people who are receiving money from abroad but also to to develop your economy as a and integrate yourself and provide your services worldwide and i think that is huge probably and i'm sure we have to we we have to uh work really hard on financial education that is a must to have here uh but this technology and this ecosystem uh have a lot to to to to do with people and as soon as the people start seeing and feeling the benefits of all this network sooner or later they will become more familiar with it and of course that that is a process and we start trying to demonstrate that using this this blockchain rails for for transacting and for using your money on and accessing financial services uh it's the first step for a huge other opportunities in a next few years this is really interesting thank you very much for that ivana and i think that you touch upon uh different uh issues that i would like to ask to to the anna in terms of personal finance and financial education so we we have spoken a lot about benefits and opportunities uh but in this context we're actually in order to send money for example from the u.s to colombia you need maybe a smartphone you need connectivity uh how how do you think that financial education and financial literacy and also digital literacy is relevant for for someone who is receiving money in in colombia and and how would you approach actually financial education in this context yes uh thank you gabriel um i think that uh we need to think to think uh first um uh what is financial education uh because um i mean just uh traditionally uh financial education programs have been built on the assumption that uh transferring uh information to financial consumers about how to use financial products would lead to better choices and improved uh financial health however uh evidence from numerous uh impact evaluations uh over the past decade suggests that this assumption is flawed um and there is a growing body of evidence showing that interventions designed using principles from with behavioral economics are more likely to improve people's uh money management behavior than other interventions so financial inclusion uh we we we at cap are working on programs uh on uh the improvement on financial inclusion and we see that this requires financially capable customers who actively use products for their benefits and um the ultimate goal of financial education programs is to help develop financially capable customers those with the with the attitudes the knowledge the skills and behaviors to make financial decisions to improve their lives and there is also evidence that shows that higher levels of financial capabilities are related to greater levels of financial well-being or financial health through financial attitudes skills and behavior such as a savings behavior previous own experience with the financial sector uh comparison among different financial institutions before acquiring a new financial product personal participation or involvement in the in the in the financial decisions of the household among others so we see that uh for example this project uh could benefit a lot um from uh incorporating financial education from this uh behavior perspective i mean uh taking into account uh the needs of the the customer needs and their behavior and incorporating uh these kind of notches that will will help uh the the customer or the remittance receiver uh to improve their uh savings behavior for example uh so we we see this as a as a very important opportunity uh to incorporate uh these uh financial uh education uh evidence into into into into this this product in in colombia yeah i totally agree with that i mean if actually you you need to make sure that when you approach financial education you can you you can help individuals and and adults to uh to improve their financial capabilities and and therefore their financial health by by changing behavior so i think that uh this is this is the the approach that evidence uh tell us and i'm happy to uh to hear that the latin american development bank is working on that as well and and can also contribute to to do this to this project so uh moving forward in terms of uh not only what is going on in colombia but but also uh what is going on in in the region i would like to to bail on on the answer on on that amit uh previously made in terms of of uh the offering of other products in in latin america so um the question that i have for you i mean is whether of inclusive right now is is planning to expand the offering of of financial services in latin america in addition to uh to this pilot that that is working with with angle app so if if you want to elaborate on that uh that would be great sure thank you very much um yes the short answer to that is yes and and in a couple different and distinct ways one is we want to make sure that first and foremost that we can provide uh the essential financial crimes compliance aml toolkit so that any organization that's building within the context of the stellar ecosystem has a you know truly a plug-and-play solution for their aml and kyc and kyb needs and that there's ecosystem efficiencies built in with some of the capabilities that we provide in particular with the digital digitally verifiable uh credentials that equally applied to individuals and small businesses like yvonne said in particular it's not just households and individuals that are trying to get access to uh to financial services but also small businesses that really is the engine of global job growth certainly the case in the us certainly the case in latam and if we can create more enablements for them in two or three distinct ways one especially in markets that have a number of different macro economic humanitarian or other uh considerations uh to review one is whether they be capital controls high inflation rates and the like individuals at the household level and organizations want to know that when they hold value that that value is secure and so to the extent that we can provide connectivity for organizations within the context of the lat time community like um uh unclop uh and others that can connect individuals to their therefore hold value in a u.s account that provides some stability with respect to that the the the insured accounts that we can provide through some of our bank partners the second is that there are a number of organizations including and built within the context of the stellar ecosystem that are also providing uh savings and or other higher yield um account structures so uh higher yield USDC for example where organizations and individuals can now hold value in much more stable ways that provide a little bit higher yield than say for example non-interest bearing or other accounts that that might happen the third is in the payment side and obviously that's a core value proposition with the stellar ecosystem driving down the cost of payments but really folks really want to be able to transfer value securely and in near real time and while some of the organizations may be legal entities corporate enterprises are less concerned about the multi-day settlement they just want to ensure that there is a a secure way to send value they certainly want to minimize the market and other volatility characteristics that some of the alternative coins offer and this is where stable coins like USDC play a very very large value having interoperability into local fiat systems is the fourth space and uh um congrats to the to the group and yvonne and and others like him that are trying to provide the ability to connect fiat um in local currency uh either as a payout or as a pay in to a stable coin ecosystem that now is interoperable and then fifthly i i should say is that what we are working to expand uh within within the context of the stellar community is obviously not only is there interconnectivity between latam and the us but there's greater greater interconnectivity uh between latam and africa africa and europe africa and the us and you now have organizations that are globally engaged uh we ourselves are a decentralized company we have individuals based all over the us but also in europe and elsewhere and these small businesses now have the ability in a digitizing economy even if you're five people 10 people to have individual contractors subcontractors vendors suppliers counterparts all over the world and that requires an ecosystem that is community bank like but in a global uh in a global and peer-to-peer functioning way that's exciting so as we have small businesses that enable an individual in rural africa or in europe or latam to transact just as an inter-company set of financial services or they're transacting with their beneficiaries vendors suppliers and other counterparties in their ecosystem like gamers like subcontractors like freelancers like small medium merchants and the like operating in these marketplaces those marketplaces want to secure value transfer ecosystem and they want to do so compliantly so those are the four or five ways that we are looking to expand these services beyond just compliance thank you very much for that that is impressive to to be honest and and i look forward to hearing more uh in a couple of months um ivan um do you want to share some details on on the pilot that that actually you are working with with inclusive and and also we are we are in a phase where uh where at some point we are going to work as well with the latin american development bank uh and uh basically if you want to also provide some uh some details on on the road map on in colombia in the short and medium term that would be great okay yeah uh yeah we we are working together with inclusive on build and building bringing a solution uh for remittances okay between us and colombia but people need to understand that what we are bringing at the end of the day is infrastructure so all other companies or developers can build solutions on top of this race but we what we are doing is just building brands compliance race and of course what we are doing today is working hand by hand with local regulators within within colombia because of uh its highly necessary to them for to get our best understanding of what we do and what how this this this blockchain race could help uh not only people but also the entire financial industry providing providing uh more financial products and services to the people so what we do is bring in uh bringing services bringing um bring bringing infrastructure okay so not only us today we we are working to to to bring a a remittances platform for colombians to get uh get money from their relatives in the us or send money to the us but once we we can prove that this rate this infrastructure is compliant is it's uh it's huge for for for the standard traditional uh remittances services uh much faster and cheaper for people we we will start working on letting they know that it is an infrastructure that any other company within colombia or within any other country because we are a huge network can bring products uh financial services on top of this infrastructure um and that is is what we are working today uh we are still not life in in colombia because of we need to have a huge understanding of of what we do with regulators and of course we we are we are working together with them and we are we are working to to to run the project within the the local uh regulation sandbox uh for for for them to have the the best understanding of what we do and of course as as as bigger and as a robust the project could be uh if we if we work together on this uh of course the the whole industry will be uh will get the benefits of this infrastructure um i assume i think that that probably in the in the next month uh we could launch the platform but again i'm a technical guy and and i i insist that i will i would love to see other companies within colombia or u.s to start thinking uh financial solutions to build on top of these blockchain rails we are working to to prove that is uh that it represents a huge benefit for people but uh please those companies or developers that are seeing this this panel please have in mind that you can you could you could bring your solutions on top of this uh network so that is that is what we are doing uh still working with regulators to make pretty sure that we are okay and we we we have the grant to to to have the because the the the local ecosystem with this with this technology and as soon as we we could move forward you know in a few months we will launch the remittances platform but and start working on on other other solutions or other fine financial services like local payments or uh worldwide payments uh whatever i i hope not being me who brings those solutions but other companies to build on top of the infrastructure we are bringing and that's that's the history and i'm really excited on what we what we are doing and and of course having a huge partners like the like like the caf and the stellar develop foundation uh it's it's huge and i'm really optimistic on that we will make uh really noise on the on the on the latin american uh economist and people economy thank you very much for that ivan i think that you mentioned something that is really important that is actually working together with regulators so actually these public private partnerships just to make sure that uh that you can not actually the technology not only the technology but actually the use cases are are developed in in in different kind of of economies so building on on that answer uh diana uh from a development uh perspective from a financial inclusion perspective how do you think that actually regulators and policy makers can design a landscape that is that would promote the use of of the the responsible use of technology for for bringing more more inclusion so so so do you have some some thoughts on on that um yes i think that um i mean working together with the regulator and um um trying to be i mean part of the uh regulatory sandboxes in in each country i think it's it is it is very important as as evangelist mentioned uh the work that uh he's been doing with the financial superintendency in colombia and the and the regulatory sandbox is is very important and i think that these partnerships are are are key uh in order uh i mean for for for for the uh the companies uh to align to to the regulation and and also for the regulators because they learn a lot uh on the these these innovative uh business models uh and they adore and they can adjust uh the regulations uh to that financial innovation so i think uh it is it is very important that is uh a win-win uh from from the both both sides um and i also uh think that uh also incorporating uh these these this aspect that we were talking about uh on financial education and consumer protection is key and for the regulator this is this is very important this is this is not only important uh to to the consumer but but also from the regulation uh point of view uh to incorporate uh these uh financial education and and the impact of the the usage of the product on the consumer protection and and also the financial health of the customer yeah i totally agree with that approach and what actually you you have said uh i have the i think that we are running out of time so i have the last question for for all of you maybe we can start with with amit and then we can continue with evan and and then with diana uh that actually we have been uh speaking a lot about cross-border payments and remittances and b2b payments uh what other use cases you envision that could be built not only on blockchain but actually in the financial innovation space that that would promote uh access and usage of financial services and and and actually contributing to those who are in informal economy to to start operating in the formal economy in latin america so i mean do you want to to go first sure there are a couple and obviously thematically we've touched on some of them already the the cross-border remittance use case is not only very important as it relates to household remittances and those small dollar payments that individuals are making um as some folks have have opined and there's a lot of data out of the world bank imf and elsewhere that showed that especially outbound remittances from the u.s to many latin countries and elsewhere in the in the world uh constitute very high percentage of even those countries gdp and the longevity for those households to actually get funds from from the united states so the income economy if you will is just massive i think it's worth worth re-emphasizing small business payments because like i said uh the the global engine of job growth is small businesses the number of small medium enterprises and micro enterprises is really responsible for 90 plus percent of global job growth and this comes back to the the changing nature of the job landscape where there are more contractors subcontractors freelancers doing work interconnected with companies all over the the globe that need a uh much more secure and and innovative financial services space small businesses are categorically seen as high risk by many traditional lenders so the not only the ability for those individuals that are themselves small businesses as a contractor or freelancer or what we call an independent worker but also those small businesses are competing for uh lending products uh and the extension of credit to just grow start and grow their businesses and so the the that's another product that that continues to be formulated within the context of fintechs as well as in blockchain enabled ecosystem so small dollar lending small business financing is massive uh to enable these companies to start and to grow and these can be enabled very easily in the same payments mechanisms that these blockchain networks uh provide like with stellar um and many of them need the appropriate due diligence uh to ensure that they've got the the background legitimacy and and effectively the worthiness to get that that um those products and services um and then the the third and fourth i would say is um while we often talk about the the inclusion aspects within the context of of private industry um the non-profit and humanitarian development sector cannot be overlooked here more and more of organizations are realizing that being able to donate in non-fiat assets is attractive we look at the conflict in ukraine within 48 72 hours the millions and millions of crypto assets that were donated on behalf of many ngos and individuals around the planet to support the cause in ukraine and this is not a one-off there are many organizations many uh countries frontier markets uh those in conflict facing crises that quite frankly it's much easier for them to get a wallet and have uh tokens deposited and transferred to their wallet than it would be for them to get any kind of fiat asset uh because of the absence of banking systems especially when you think about refugees and others which you're talking about tens of millions of individuals worldwide that that don't have access to them and then you add the billion or so people on the planet that are just not born with an ID well no bank traditional financial services company sees them as a legitimate party in the ecosystem and this is where not only the blockchain from a compliance perspective digital identity perspective pays huge value but then the ability to then tokenize value and create an ecosystem where you can send value to them directly in a way that's secure and then the final piece i will just say because it's a little outside of the financial inclusion mandate but equally relevant the financial services ecosystem and payments ecosystem is in radical need of innovation anyway and that pays tremendous dividends to corporate enterprises imagine the hundreds of billions of dollars that are transacted between corporates uh you know on a uh daily monthly and yearly basis to be able to tokenize that financing be able to do it near real time and securely takes a lot of noise and rent seeking behavior that is in the traditional financial space with the number of financial intermediaries that blockchain ecosystems like stellar can really provide and so i think that that provides a much more inclusive secure economy and and i think that's where the future will be that's a great answer ivan i know that we are we have only a couple of minutes so if you want to yeah i i think i think uh more use cases could be local payments because of there are a lot of people that probably do not transact worldwide but they they they need and they deserve to have a way to use their money locally uh so it doesn't matter if they they they want to transact worldwide but using your money locally so it's also a great use case uh to use digital money and also what am i saying b2b uh b2b payments uh and b2c payments i imagine uh in a few years uh having go into a market and paying with uh with my phone with with a cure and the the the merchant will will have the money in their wallet instantly at no cost and i'm paying the the same way and i imagine uh i imagine that local payments b2b payments um and b2 b2c payments yeah totally agree with that um diana what do you think yeah very very quick uh i i think more on the on the financial innovation perspective uh i see more consumer-centric approaches or more consumer-centric products that that takes into into account i mean in the in the design are the needs of the of the different segments of population for example women uh products that are that have this gender perspective uh for example um and also uh that uh that includes uh one thing that i think it is it is important and and and and i didn't touch in my in in the in the first question uh which is uh the the the promotion of uh digital literacy uh because i mean uh as as a part of of the financial education programs is it is it is important to to pay special attention uh to foster the digital skills and knowledge of the of the population and and and the most vulnerable populations uh who are the ones that that traditionally uh have been excluded from the financial system and also lacks uh these uh digital capabilities and it is important uh to uh to to to close this gap and and not open another another gap as as we have on uh financial capabilities yeah yeah totally agree with that as well so um thank you very much for for joining uh this panel we have heard actually what are the benefits and and opportunities of of of using uh the blockchain technology and stablecoins and we have we have heard that security reduction of costs uh mitigating aml and cft trace abilities and our and our benefit that i that i i got here but also uh helping or contributing uh to small businesses to transition from the informal economy to the formal economy uh but also in terms of not challenges but but we also need to consider uh financial literacy and financial education in terms of of making sure that those uh receiving funds in a cross-border payments scenario have all the all the knowledge and all the capability in order to to use the financial services you know in in in a good way um so evidence uh tell us that actually you can you can play around with different variables or elements in order to make sure that the impact of that uh financial education schemes are are greater uh so so with that uh we are uh finalizing the the panel i would like to thank you for for uh participating today and and i'm looking forward to continue this conversation in in the nearly future so so thank you very much again for uh for the time",
      "keywords": [
        "financial",
        "payments",
        "actually",
        "blockchain",
        "ecosystem",
        "stellar",
        "services",
        "other",
        "latin",
        "working",
        "these",
        "those"
      ],
      "speakers": []
    },
    "2022-05-12.mdx": {
      "summary": "uh hey everyone welcome to the stellar protocol discussion for may 12 2022. um in these meetings we discuss and plan for upcoming changes to versions of the stellar protocol changes that are necessary to evolve the protocol to meet ecosystem needs i'm just real quick a word on on venue um uh you know last week we tried having this discussion in the stellar developer discord and there were some technical issues so we're back to live streaming this on youtube um you know we just don't want to let the technical issues of a platform prevent us from having these discussions so that we can talk about the substance and keep moving forward we may experiment with other venues um in the future but you know we'll make sure to stress test platforms so there's just not technical glitches that prevent the conversation from happening um that said uh we are discussing this week some caps that are related to project jump cannon which is uh the an announcement that we made earlier this year that we are working to bring uh smart contracts to stellar and as part of that there are protocol changes that need to happen it's been a bit different this time because we've sort of modularized those changes into a series of core advancement proposals each of which focuses on a specific aspect or specific type of change that needs to happen to accommodate smart contracts now if you're watching this right now it's a technical discussion so i advise looking at the links in the show notes which are the actual links to the core advancement proposals that we're going to discuss and to the discussions that exist on the stellar dev mailing list which is where sort of long form question and answers happen in addition to the stellar debt mailing list there's also the stellar dev discord and there's a jump cannon and a jump can and dev channel in there and anyone can join either of those uh forums in order to like see the discussion unfold or participate in the discussion uh we're doing this in the open so that you know you can sort of see the work happening or and also so that you can have a voice in the changes as we make them so that said there are a number of caps that are on the table right now that relate to smart contracts into jump cannon and we discussed a few of them last week i think this week we're going to start out by talking about some of the classic smart interoperability questions that remain uh most of which have to do with cat 48 and cat 49 that are kind of two different flavors of how to approach that and as as recently as this morning there was some interesting discussion on the mailing list about that and so i think we start there um and i think i don't know john john do you want to start um um honestly i'd rather just let eco start i mean nico posted this huge thing with a bunch of questions and i responded to it um so like it's kind of niko's turn to talk in the sense that i'm i'm the most recent speaker on the thread so uh maybe we can just kind of go through and we can try to figure out basically just kind of talk through some of these questions and understand what we're actually talking about and make sure we're on the same page on a variety of different things and if we're not on the same page get on the same page that sounds good wall of text yeah uh sorry yeah so i guess like maybe uh i don't know like uh one of the things we can talk about is actually around compliance because i think that's actually the most important bit uh that that is in there okay um i mean like i'm i think we we should discuss potentially changing i mean maybe not this time around but like you know that this is like in there's an uh level of expectation in terms of on the compliance front that uh i think we should maybe um adjust even in classic so that we can make things work for for john cannon so like the type of things i'm talking about here is that both proposals kind of suffer from the same problem um so today uh if you have an asset that you issued on on the seller network um and you like our version basically we only have like a couple of smart contracts basically on today right like we have emms and the decks those are like the kind of equivalent and today we track uh if you have like money uh or any asset locked into a contract it's going to be um recovered basically uh when you your authorization gets revoked and i think this breaks completely in jump cannon because well that's actually not well if we don't do anything right like uh like because the only thing that gets really revoked is uh is your trust line like the ground of your trust line uh like you you lose access to your wallet but if you uh parked uh your your money in some smart contract that is the uh uh you know like the uh i know shady guy on the corner basically uh there's no way to to enforce anything there so so then the question is like well what do we do um because if you don't do anything in both proposals we're basically saying well you know if you want to get around any kind of restrictions just you know send your money to this smart contract over there and then it's like this super mixer or something and then uh like you can you can't reasonably have enforcement um so maybe we can start with that like we can say well that's okay that's the new new reality and then my uh then i would argue that we should just stop doing what we are doing in classic like or at least say that we are going to stop doing you know recover basically like uh assets from from from pools or from our other decks uh like if you know because that's actually a lot of of the overhead that we have today in classic so i'll start with that like uh i don't know what people think so i can just start with saying what how i responded to your question to the same question from the email thread which was basically like this does work in cap 48 and cap 49. you just might not like the way it works um but like all the compliance controls that exist on classic still exist they just don't extend to all the contracts by default so you might recall nico would definitely recall because we we spoke about it a lot when we were doing the liquidity pools that we had this discussion about whether we should go back and make people you know revoke trust on revoke authorization on every single liquidity pool individually or do the whole thing globally and basically like usability for issuers run out what one out over like simplicity of protocol design and we ended up making it so that like basically you revoke and it just gets everything automatically um but both cap 40 and cat 49 just revert back to the hey you have to go and manually chase everything down mode um which is the only mode that is sensible in smart contract land um like there's the only possible moods are you have to go and chase everything down yourself or you can do nothing but they're the third mode of it does it all automatically is not a feasible solution here um but basically the way that you would deal with this in in the cap let's talk about the cap 48 or cap 49 world doesn't really matter for the sake of argument um so let's just say in cap 48 uh the way you would do this is like hey like suppose that i want to evade authorization stuff and so i send my money to some random contract well you look off chain and you say okay like where is this guy been sending his money oh he sent his money to this contract frees that address um and the issuer just goes through and kind of freezes everywhere where i'm sending money until they get all their money back um so basically like your actions contaminate all the downstream systems um and that works fine because at the end of the day in cap 48 all the money is stored like when money is held by a contract like classic money is held by a contract it's living in a trust line and so you can just use the normal authorization techniques on it or in the cap 49 world there's like the like the interoperability layer has authorization and you can do the exact same thing you just do it at the contract layer instead of at the um at the inter at the uh trustline layer so you can do this it's just kind of annoying but it's not just nothing so so well so the thing is that you can actually design better protocols that you want like those smart contracts firm compliance you should design a compliance protocol that actually allows to do something a little better than that because like like this situation that you're like um describing here i mean it's like you're shutting down the bank because there's like one guy that you know that doesn't behave and that doesn't sound like uh i mean i don't think you can like i know i like the smart contract is the bank right like it's kind of like that it's it's an automated thing uh that holds assets on behalf of a bunch of people i don't think you can generally do better than that the reason being contracts are mutable and so like suppose that i have some contract and i claim to comply with your you know your compliance protocol right meaning like the you know it's a contract it can hold acid a and acid b and they claim to control to comply with both acid as an asset b is compliance protocol and then at some point they decided like you know we don't want to do that and they just redeploy without the compliance controls and now that money is unrecoverable so like the only thing the only recourse the issuer would have against that would be to go and freeze up the bank anyway so like yes you can design a protocol that has better properties than that but the fact is that in a world with anything being mutable you can't really like you can't avoid the need to fall back on that of course as a fallback i i see that is you know reasonable but if that's the only option it's not the only option in the world you can design whatever you want right but like in the context of classic assets that are authorized if you are saying that the def this kind of default world that we are that they know they had like a bunch of comments on on on like are we forcing people to be opted into this new thing that doesn't fit the expectation from people i mean the basically like if we don't opt people in we'll end up in a world where everything is useless because people don't opt in like in a world where we can't like where we can't assume that people will do anything and that is the world we should assume we live in then basically all the work we've been doing for the last seven years could be a total waste you know like all the anchors we've onboard and stuff if we can't get them to take the actions that would be required it's just like hey we just threw it all out ideally everything just works automatically and we do the same thing and if you want to do something better than the same thing then that's when you have to take action and that's the world i would expect like for example if you don't want this default behavior hey there's an easy solution to that set your asset to auth required and then nobody will be able to send money into the the smart contract side of it and then all you have to do is just deploy your own wrapper and you get whatever functionality you want but that's the action path and since most people don't have author cards that they don't have automatable set they don't have author vocals that they don't have off club backable or whatever the hell that one is called clawback enabled or whatever um this the default behavior is what everybody is inheriting anyway all the time right every day i'm talking about specifically yeah yeah like for the mutable stuff i agree we can basically kind of take the same stance that i think we've been taking with claimable balances for example which is you take whatever the the the current statement of the issue is is kind of what you inherit right no no that's not what i'm proposing at all you're muted oh i don't know can you not hear me i'm not muted on my side there was nothing i can hear i can hear him he said that's not what he's proposing at all okay i don't know what i'm proposing is you and can you hear me now yes yeah okay what i'm proposing is that you inherit the current state of the flags whatever they are right that's what i'm saying yeah like not like they don't get frozen like if i go and change my flags i inherit the new flags the way that it works for like authors no but like like if you want to yeah but no number like well if if you wanted to if you were saying i'm right now i'm not earth required and then in future i become art required well it's kind of too late you're all this stuff is now out in smart and you know out of control basically like oh you have to you're kind of yeah and there's a great solution to that you know what you do you set yourself to author required and then you go and claw back everybody's money like would you really call that a great solution yeah it is a great solution actually the reason i consider it a great solution is because nobody has their flag set so this can happen to you right now anyway basically like you know like any issuer can come and just freeze up all your assets whenever they want to and just say like hey like you have two options either you are frozen forever or you accept my new terms of service and you you basically do a swat that's it anybody can do that at any time and the thing i want to make happen is just have everything that works today just working smart that is like my number one goal but the thing is i mean going back to this though like i think it kind of uh breaks everything and smart if you allow people to just kind of like i take the example of a poo right a a a trading pool if i change the reserve in some random way i'm breaking all the environments of that pool correct and so there are two solutions to that problem both of which i i actually laid out in the email i sent to you the first one is to say like hey like assets that aren't frozen as off immutable can't use them um basically like you check in advance whether it's good to go and if it's not good to go you can't do it so in this case it'd be like automutable not off revocable um the other option is you actually have a guard in your contract which checks that the balances are what you expect them to be so basically like you track the balances internally there's only two in a liquidity bowl so it's not a big deal and then when you actually start doing work you check like hey like are the balances on chain equal to the balances that i expect if not i know that there was an external thing frozen and that's basically like a single bad actor poisoning the bank but in that world there's a huge incentive for the owner of the contract to go and resolve the problem to liberate all their other users so well then if they use the user of our contract what do you mean like many of those no well like like what i mean is that in many cases the contract like is this thing that you want to lock and that's kind of it there's no like operator right i mean like if you want to live in a world where you're using auth required assets and you're taking multiple people's money you better have an operator because those problems can't always be resolved on chain like there's like the standard liquidity pool token would never like design would never let you escape that situation but that's not the expectation in this web 3 world is that you want to have like a like like an mm right like you don't want to have like some random operator or like controlling the internals of the mm you might need to like if your contract is if your contract is immutable and you accept the funds and the funds can be frozen then there's just literally no way to resolve your problems without an operator so the solution exactly so that's why like it sounds kind of broken to allow that to happen in the first place i i don't think it's broken you should know better than to do that like the only the only other option is to prevent that and just say like hey like these assets are useless that's what i um i think we should do so you think that USDC should be useless it should be like if there is no yes like you know i'm like it's leslie okay great that's is either you allow people to claw back or like make random changes to your state breaking all environments like you can't write software i mean you have to know all those environs ahead of time right like what what can happen what are the situations that that can happen with this one asset that i can accept you can't you have to kind of inherit that in every single smart contract because you have to make the assumption that oh yeah somebody can mess with my you know trust lines or whatever like you know the equivalent of trust lines that sounds kind of super weird so let me let me make a couple statements here the first statement is like you can write software that doesn't have this problem because you can have the guards on it the second step everybody needs to put the grounds sure um the second statement is that on ethereum USDC is blacklistable um i i've read the contract it is very clearly blacklistable in fact i believe the term that they use in the contract actually is that it inherits blacklistable so um it's right there and the third thing is there are liquidity pools that have that functionality nonetheless um that like you know you can go and trade USDC in a liquidity pool so that's an extension to esc 20 then that is blacklistable right yeah it's just additional functionality right but this is like then it goes back to maybe like you know we are not implementing erc20 on the network we're actually implementing something broader than that we have to i i don't agree like those contracts the interface that those that like unit swap is depending on is the erc20 interface the other stuff is just that's not true you're saying that if if what you do you have a new initial pool with USDC that can like i'm pretty sure like you take if if you're attesting is true if you if there's a pool somewhere on ethereum right that has USDC and USDC decides to blacklist the pool or do something crazy with it the pool is now compromised basically it's done i that could be the case we'd have to go and review the code but that could be the case and then there's like potentially a cascading effect right like like you know people may have corrupted this as character or something like it basically has all sorts of weird things yeah i think we'd have to go and confirm whether that's actually the case but i do believe that that is possible but like the following statements are true USDC is not authentable ustc has no flags yet set it is unlikely we will end up in a world where USDC will set any of the flags especially immutable because they'd like to control their future and specifically like they won't set not revocable and we know that because their ethereum one is revocable um so like in this world you basically are saying like if we don't want to handle that then USDC should be useless on smart and then i would question whether we should do this at all i mean i don't know it sounds complicated to have like the default being like this super complex thing to deal with on the on smart side i mean maybe but that means that we have to expose more than just the rc20 we might be able to i mean one thing we might be able to do is make it so that assets are like we might be able to do the clawback inheritance thing because it's a lot easier to deal with frozen than claw back frozen yeah yeah destroys everything yeah well it doesn't again you can put the guards in which do exactly the same thing it's not hard but right but then but it's still the same thing like you cannot use basically any assets useful assets what do you mean sorry you're saying that USDC has no is not immutable so it is not but if we did the clawback inheritance thing it wouldn't really matter you run a contract you can check whether it has clawback enabled and you don't have to do the clawback cards and if you try to make a payment you'll just fail because you're blacklisted  is there a next question we should move on to it's definitely no like like the thing that this conversation is really shows that it's going to be very hard for people to write smart contracts that don't break because if we are serious about compliance and if we don't add compliance into like the default thing that we're or like if we don't address this beyond what 48 currently defines um theoretically people are still going to want functionality probably like this for some assets and so they're gonna go and implement them this themselves i guess um in in a contract and then are we gonna end up in the same situation like you know there are people are gonna write like a liquidity pool that doesn't handle those edge cases just like what uh john you were pointing out on happens on ethereum but to be clear i don't know that that's true for a fact i suspected it right but i mean like we're going to end up we probably end up with something similar where we have the basic erc20 somebody goes and defines a blacklistable or a deny listable interface um some people ignore that other people code around it it's i don't know it doesn't really sound like we're actually avoiding the problem by not implementing it in ours we're just we're saying like we're not going to provide that interoperability if we don't i mean i don't disagree with you like like if we don't provide this functionality and people require it they will just build it right so so by deciding to build it or not we're not actually changing with the weather whether the problem exists or not we're just saying that we're not going to support interoperability with these features of stellar assets  right so i think what it comes down to i think is that it's like what i was saying like what we need to then do is use classic assets as kind of the testing ground for what are those additional properties that you need to expose so that everybody from day one basically handles those such cases there's like basically no chance we can achieve that i want to emphasize like number like it could be as simple as yeah like exposing the art like some you know something i mean like my argument would be like there's no way to globally handle callback at least like the only thing that's going on i'm not saying i'm not i'm not saying handle club like clawback i think requires its own set of protocol like actual api you know like a when i say protocol here i mean like you know what are like the the the the methods that you need to expose as a smart contract in order to support kind of a nice low friction clawback but i don't think that would be in scope in anytime soon like i think there is no basically like we don't really support glowback in in smart i mean we don't support it as in you know if if clawback is enabled well first you have to know about it uh and then it potentially uh if you if it can be enabled you have to be able to handle the situations where it would happen isn't isn't that enough like as long as a contract can detect whether the assets it is interacting with is clawback enabled or sorry if sorry if the contracts trust line is callback and they would not the asset um then the contract knows whether it can take on that risk on or whether it wants to interact um because like we have the same problem with starlight with the payment channels like payment channels don't work or payment channels are not as safe if the assets can just be clawed back out of the payment channel like the payment it's like undefined you end up in undefined behavior and you know when we worked on that we said well that's the risk you take if you do multi-asset channels and if you do single asset channels like you just need to work with the issuer um so are we saying this is a problem just because we expect people to write immutable contracts where there's no issue that you can go to like there's no one you can like talk to about the problem like is that the distinction i mean i mean i think maybe like it would help to have like uh like some concrete super concrete examples on the cable because i mean i think what's weird is that there's like there's even without clawback enabled there's of course the ultimate clawback which is that someone could say we're not going to honor this asset and we're going to issue some new asset because something went horribly wrong right so you could always just make the issue can always make the token useless so i think that we're worried about this like this i mean it's not maybe not improbable but it's this kind of weird situation where someone kind of does something that is kind of changes the rules but such that we don't believe that the asset is worthless anymore but now we no longer know whom it belongs to it some somehow like broken the attribution of who owns the asset right like this is what we're worried about like if the asset were worthless okay fine that was the risk we took but if like that is still worth worth something but maybe there's a contract with two units of a and two people who are allowed to claim it and suddenly you've clawed back one and now the semantic says whoever gets their first gets to claim their and the other person doesn't and we think that's unfair or like otherwise could you just like paint some some of these like scenarios that we're concerned about like concretely what it might look like i mean i i think one concrete scenario would be like you have a liquidity pool that's pegged with like that um between two usd like fully collateralized stable coins call them usdt and ustc and let's pretend for the sake of argument whether it's true or not that usdt is in fact really actually truly collateralized i'm not making a statement whether it is or isn't in this context um so let's pretend how about you and usd sure great usdi and usdb and we'll just pretend we know which one's which but um and basically like you have this pool and let's say it's got like 100 million usda and 100 million usdb plus or minus epsilon on both sides because maybe the price is actually like 99 cents or 99.9 cents or whatever who cares and then the issuer of usdb is like oh actually that was like osama bin laden my bad um and gets a call from the us government and like revokes 25 million dollars um and now the pool and i'm sorry i said revoked i mean clause back 25 million dollars and now the pool is kind of in this like super bowl state um well actually well presumably what happened is immediately arbitragers would get in there and suck out a bunch of destroyed meaning sucked out to arbitrage and that's kind of bad um your only defense against this or you could either say like hey like i checked that this asset was clawbackable and like that's a risk you took by putting money into this pool or you can put you can say like hey like you can't make a pool if it's cloud-backable or you can have a guard that checks whether the balances are still what those contracts thought let's let's can we step back from mechanism a second and say like what is it suppose that like what we can do is between any two transactions we can do whatever we want right so like uh pretend we're god for a second and luke what is the ideal response to this uh look like so first of all it seems a little is is it is it the terrorists who have actually invested in the liquidity pool so so it's like what you would really want to do is sort of like revoke the assets in proportion you'd want to kind of like revoke some the us government can only you know let's say revoke usda not usdb so what you should do is like you should like freeze in proportion to what's been clawed back so that you keep the proportion of assets the same right and ultimately ultimately the right thing to do is that the terrorists are not allowed to uh withdraw their money from liquidity pool and everybody else it kind of is business as usual right right i think that's what yeah that's what you're doing the current product you know in our classic protocol today yeah exactly which one we have to withdraw like we first withdraw like the the pull shares for that individual but i don't know if we want to replicate that behavior okay so can we first figure out what we would want in an ideal world and then figure out what whether there are sensible mechanisms that could achieve it well what's your definition of what you want um that's what i'm trying to figure out i mean like you know no i mean like what's even like i guess maybe that's what you're asking like what is even a desirable aspect of this exactly um like i guess let me describe to you what i would consider like the most ideal possible world great um the most ideal possible world would probably be that every contract like imagine you actually care about clawback i don't know if we do who cares but let's pretend so focusing on clawback like the most ideal possible world would probably be that every contract implements a like issuer clawback function um and basically like the issuer's the only one who can call that whatever you want the issuer to be i'm talking about native like classic assets and the issuer's first point of call is to call that admin function when it wants to do something and if it does that the the contract hopefully does the right thing and if the contract doesn't provide that functionality or doesn't do the right thing then the issuer just takes whatever action is necessary in order for them to comply whatever that means and damn all who suffer that's probably like the best possible world you could achieve so like let's say that that's what we wanted to happen okay so actually before i continue does anybody have a better world okay so basically we're adding a new method that like you're you're required to implement or maybe there's a default value but like the sensible way to implement it is that you know you you do whatever should happen but but like basically your contract gets to react every time funds are clawed back no no that's not what i'm saying oh sorry no i guess where is this function defined is it defined on the contract that owns the asset or is it defined on every contract that holds an asset i guess yeah every country could be the whole it has to be the contract that holds the asset like the pool has to implement that thing yeah so the question is so the question is we could do this and so the question is like is there a sensible default like do we force everybody to implement this or like you know but then that's like a barrier to like deploying your your smart contract because i just like write more code or is there some kind of default like the default is like the contract is frozen until it gets upgraded or something or i don't know like i think the default should be you can opt out basically of this whole thing like you can basically say i don't want to deal with assets that have those type of properties because it's you know i see so if you haven't implemented this function then you just can't hold certain assets that are no i totally don't think this makes any sense because i can implement this function and just assert that could be my whole implementation that's what i mean so assert basically says freeze the smart contract until uh and you know as as soon as any funds have been called back from it i'm sorry i cut off late yeah so he's put his contract yeah yeah i guess no like i think david is probably right you don't want to you don't want to kind of have like the like in the case of a pool right you probably don't want to have like uh an arbitrary amount taken under your feet because this breaks all your environs instead you want to just like what you want that to happen and probably in addition the contract gets completely stopped the default i'm talking about the default yeah so the default is that it should stop the contract but also it should grant someone permission to upgrade the contract or something right i mean you know i mean like basically what we need is like human intervention right like we did this thing assuming that these dollars were fine and suddenly like the rules have completely changed so of course we could just lock all the assets in perpetuity or we could like you know figure out some way to like you know arbitrate the situation uh you know which might require human judgment because this wasn't something we just put like a uh yeah like 20 digits proof of work you know unlock code on it so i want to go back to something that you said david like oh like what you know if you don't define this function then you know you don't support these type of assets i think like we're talking about two different things here like there's contracts deciding if they want to use an asset and they can do that if we provide a way for them just to read their own trust line like does my trust line have clawback enabled simple function simple flag no no but i'm saying like if if a contract has any trust line that gets clawed back then there has to be a then there's a function to kind of deal with that there's like a car yes so i think what we're talking about is is hooks or the idea of to hook into an event that's happening rather rather than rather than having a function that does the thing that needs to happen we just want like a function that notifies the contract this is happening whether you like it or not because you decided to hold a claw backable asset so like once you hold it you can't get out of this happening and then you just get told when it happens so contracts don't have to provide that function if they don't care that it happens it'll just happen and the consequences will just be whatever they are but if you care about it and you want to mutate your internal state maybe or update something then you have the option to do that but i guess what we're anticipating is that there are a bunch of situations where people write contracts without any possible idea like they just can't imagine that USDC would ever like try to claw back their asset and yet you know two years later USDC like sets the claw backable uh whatever it's called clawback enabled uh flag on their account and actually like claws something back right and so basically that though like so clawback is designed so that once you hold once you have a truss line you can't get enabled so i mean we've already designed around that i think um the other the other thing we can do is you know we can make the sdk uh or however you're interacting you're writing contracts so that when the account when the contract says i'm willing to hold an asset i'm assuming that we're going to have some way of saying that um like on Stellar like on classic uh you have to explicitly say that you're going to allow the outside to be clawbackable and then you know maybe that call fails if you just haven't passed that flag in if the asset is clawbackable like so then coming back i think john like your example then is not so scary because in your example either usda or usdb already had to be uh have clawback enabled right so is there some other example that's more scary so so actually just to be clear the proposal i wrote the like it was actually based off of the current flag so like things could become claw-backable later we don't have to do it like that um but they can't become callbackable later for an existing trust line well that's how it's that's how like the current stuff works that's not what my proposal specified um at least not cat 49 cap 48 i i guess does work like that kind of default um it doesn't have to be like that we could make it all work like this um just a little extra complexity to deal with some stuff but it might save complexity somewhere else but the thing that i'm like skeptical about here is like the notion of a callback here like you probably don't want to do callbacks um callback it could be that like the the contract is stuck until someone calls the the un the the cleanup clawback method or something but my argument would really be like to implement this the whole opposite way which is basically like hey like we have a strong recommendation for you to implement this function and if you implement it we encourage issuers to use it there is no promise that they will um because at the end of the day like if the issuer needs to do something unilaterally they should be able to and since then sure but why should this be up to the issuers like the i guess what i'm saying is like the the invocation should be a result of something happening on classic not of the issue or doing some kind of smart contract thing no it definitely has to be a smart contractor thing first of all because definitely should not be the issuer not paying gas to clean up other people's smart contracts who did not um who did not like anticipate something being well that that raises a problem then because like if i ride my hook my callback to use like some obscene amount of gas like who's going to pay for that what that's the point like somebody who cares about that contract what no oh well you're saying if it's called at a different time i i mean at the end of the day like the callback could always fail right even if you implement it and you think it won't fail it could still like for example like consider like a usda usdb liquidity pool right what does a clawback on stellar do well it returns both assets well what if the other asset you were already frozen well then the operation would fail and so they look like at the end of the day like there has to be the support for a unilateral clawback anyway and the contract has to handle that um and so like in the world where there is a unilateral clawback we might as well just say that the contract should supply a function and the issuer should call it but you have to deal with it if they don't anyway um if if anybody can call this function is that like can can anybody call a function i would say that it would have it should have a guard on the issuer type of thing um so basically it should check like hey like is the person who can call this the person who can call it uh i mean presumably what it should do like the function should like examine all the trust lines and if they're all in the expected state not do anything and otherwise clean up the mass yeah i feel like what we're describing is like some general function like we're actually just going a more general function that just is something might be wrong go check your state yeah figure it out if it's not and like we're not actually talking about callbacks specifically we're more talking about how to get a contract unstuck that gets in a bad state that's not really talking sure yeah that's way harder to try like there's only one if you're in a generically borked state there's only one solution human intervention that's the only possible solution if you're generically borked um because in what way are you borked well only a human can determine that unless you've written a program that can analyze the state of all the program of like all the possible states that you're in and since like that sounds generally hard and like generally not feasible in a gas like research constrained world there's like no hope of that so okay so the distinction of the function you're talking about is that because only the issuer could call this because there's a guard for that me writing a contract i can trust the issue we'll only call this if they are in fact doing this thing i'm very clearly saying like there's no protocol specifications here at all the only thing i'm saying is like it is a recommendation to people who write contracts that they should provide a function that implements clawback if they would like to hold callbackable assets right but as the contract author i need to be thinking about where my trust lies so if this function is going to mutate the internal state of my contract i i've got to be trusting the issuer to only call it when this is actually happening uh i don't necessarily know what you mean like the the function should be implemented in such a way that it leave like it like leaves your contract in a same state so like if you want it to only be callable by the issuer which would be the same thing to do you should check that but you don't have to check that in theory you could let anybody close out on your contract it just sucks you do not want to be called by the issuer right the issuer is not in general going to know about every smart contract using their asset well you want to be you want to be callable by anyone but only do anything if like something unexpected is uh happening in the state of your trust lines right so you want like a basically you want basically a like uh like a board on board check that's at the beginning of most of your methods right and then you want to clean up the mess method that like anybody can call uh to like clean up the thing that's causing all the other methods to i think john's function uh the issuer is clawing back from the contracts account and so the issue knows about the contract in this case because they're clawing it back so that's why they know to call that function on on the contract and i mean clearly why did they care like that's not like maybe the issuer only does classic you know like like does USDC care about smart contracts like they're there to provide an asset that has a well-defined you know redemption path and like that's fine they're not here to like parse people's smart contracts and spend a bunch of gas doing whatever right so i i feel like what what we need to do is just um have a way for a people who care about a smart contract to clean up the mess when the smart contracts assumptions about assets are no longer correct or about trust lines which in theory where you know we've been talking about mutable contracts so like even if a contract is in the worst possible state somebody can upload a new version of that contract to fix it only if somebody can actually do so right but like nico nico protested against my notion that these contracts would even be mutable if they're mutable there's no problem like in the world where the contracts are immutable and somebody actually has the authority to mute them mutate them whether that is like an issue like not an issue sorry an organization an entity or a person there's no problem the accounts get frozen or the accounts get called back the issuer just you know the owner of that contract just calls up the issuer of the asset and says like hey like how do we fix this problem oh this is how we need to mutate the state cool i'll write the function to do that i mean one can imagine uh you know wanting to set up a contract that you can only change when it gets worked or something like you know maybe there's value for like yes if suddenly like uscc gets called back then i get the ability to upgrade this contract but usually i don't want this ability because like you know the contract should be its own logic that would be easy to write though you could write that contract that's not hard you can do that without any magic at all so um i don't know i feel like we're not all talking about the same thing here and i think that's why we're not agreeing on stuff like what kind of clawbacks are there other like types of edge case or edge cases that that this would apply to or is that or is it just the club like sorry classic clawbacks a clawback enabled asset that gets the trip that that invokes clawback classic clawback right are there other um state changes that could happen on classic that would lead to this situation or is this limited to clawbacks i mean like getting frozen would be not as complicated but equally bad so an auth required token where you deauthorize the trust line so there are the other auth flags because because it's also like can we just say hey no no uh clawback enabled assets in smart contracts can't use them maybe i mean like here's a way that you could implement this if we wanted that basically like you can only send you can only create a in the cat 48 world you can only create a trust line for a smart contract to an asset that is already going basically like that operation of creating the trust line would fail if you would end up with the uh clawback enabled flag on your trustline and then you just never end up in this world um yeah i think we should just make it like a choice you know you call trust trustline with no options and that's the case it just fails if it's callback enabled or there's like an additional flag or option you can pass that just says like i'm willing to go the potentially unsafe unsafe route of having a trust line that's called like enabled and then at least it's surfaced to the developer like it's in their face it's the same thing that we're talking about with re-entry yeah the surface so they know about it dave david on the context of the cleanup method i think the big issue with the cleanup method is like there are worlds that you can enter where you don't know how to clean up like you don't necessarily know what like suppose that an issue or claws back from your contract do you know why they did that so how do you fix the state of your contract well i'm thinking like what the cleanup method could do is it could like add a signing key to or somehow like enable the author of the contract to upgrade it for example or um like it goes in safe mode or something and then unlock some like a maintenance i think that's one of the like uh like patterns that some smart contracts have already like you have like even the ones that have like a dial like you have you know you can basically go into this maintenance mode it just takes like a week or something like it's not instant there was a bug a few months ago actually on a i think a bridge protocol or something where it was not a week it was like a second instead but yeah i i just i don't know personally i just feel like we're making this really complicated like at the end of the day i feel like usability should be front of mind for developers and like if we make this complicated nobody's going to use it and then we failed um right so can i say the question is so the point but so the only we would need to have a default for this method right so like we're not saying like everybody has to implement a method but but like basically um basically the the problem is that like people are going to make assumptions about trust lines and every once in a while these assumptions may like break you know like a way that would cause like really weird like you know unspecified behavior of of the smart contract and so should we have some default thing where like by default the the contract like enters maintenance mode or whatever um when these assumptions are broken i mean that assumes that we like we impose a maintenance mode onto the entire world and i just don't think we should like if you want that behavior well you said assert what happens when an assert fails like are you seriously thinking about having an assert well what i meant about in a search was like i was actually giving you a pathological case of where what you were proposing wouldn't work for the cleanup oh it's just it just asserts and fails it says nothing you cannot do it um it's like oh what what's good did that do you right like anybody can like that i for an assert to have to have an asset you also need to write that condition in the first place right like no no i'm saying that's not like a false that's that's no no no i i see yeah number like even no but like i was even thinking for like you know even if you have like all the defaults and all that stuff like you have to write your environs in a way so that you can handle you can know basically that you are blocked and that that sounds kind of not workable well i mean i guess you know to my proposal would basically be that anytime a third party like forcibly does something to one of your trust lines you get in a state where someone has to call this cleanup function if you haven't implemented the cleanup function then like nothing can happen to your contract that just sounds undesirable to me but maybe your contract sounds pretty undesirable too which is that like whoever first like which is like a bunch of arbitragers go in and suck out like all the money that's there by accident no no my proposal is just that like if you're a contract developer you should handle it figure out what you're saying you can you can but how do we know people are going to do this right we don't and if they don't then they're then like it's the same thing as any other smartphone so when they don't do we want like people to lose money to arbitragers or do we want like the contract to freeze and people have to like debate how to clean up the mess what if it can't be cleaned up like what if there's nobody who owns the contract that was the case that nico was talking about if nobody owns the contract nobody can clean it up and now the money's just locked up forever well then maybe the default implementation of this function is that it like hands signing authority back to whichever account like created this market what if they don't have a key anymore um yeah then everybody loses their money well that's the world that niko was talking about with the contract being immutable like again if the contract is mutable there's just not really a problem here well it is a problem if everybody loses their money no no in the world where the contracts are mutable and people can actually perform the mutation i mean there's not really a problem because people can just come through and clean up the mess no no sorry they can't clean up the mess if arbitragers have sucked out a bunch of money that's why you should handle the guarding conditions that you need if you do need them well i feel like we're out of time for this discussion right here in person today but it seems like there's a lot i mean i think we just got to keep keep working async on the dev discussion mailing list and on the discord and reconvene here next week i don't know i don't know what the next steps are though i mean like like the thing i wanted to say is like i i think for for the first phase of this i think i would i would do what's kind of what lee was saying which is like we don't support global uh assets right like if you if you have to have on your trust line basically uh this for cla for those classic things i'm talking about uh for the first version you can't even you can't do anything right and then um you can deploy a contract basically that uses that and then uh and then in in parallel or later we can figure out this global like how can we make clawback work in in smart world and then retrofit this to to classic i think the main lines of work should be the first one should be like let's go and figure out what happens with these kinds of contracts on ethereum like these problems exist people are doing something that's why they don't though right because the one thing that's different here is that there's this the classic world is going to kind of reach in and mess with the smart contract world in a way that can't happen uh in ethereum that's not true like i literally told you that USDC has an auth revoke function it has revoked like so it has yeah you can revoke i don't know if they have do they have a clawback i don't think so because that would be a that's the one that really breaks everything i mean they both break everything but clawback something more see you next week bye david i see you next week what people are doing yeah and how they're handling it and then we should resume this but again like i'm like i think it's a favor of keeping it simple i know that there's like the theoretical possibilities in edge cases but i think it's also worth pointing out that i don't know that there are any active clawback enabled assets on in classic right now just  fyi i agree with that yeah all right see everybody next week",
      "keywords": [
        "contract",
        "dont",
        "thats",
        "basically",
        "thing",
        "mean",
        "theres",
        "smart",
        "actually",
        "clawback",
        "something",
        "people"
      ],
      "speakers": []
    },
    "2022-05-06-construyendo-el-futuro-del.mdx": {
      "summary": "Hello everyone and welcome to this phenomenal panel called Blog-Driven Businesses in Latin America. My name is Mercedes Madani from Leader of Partnerships at By Brand, the virtual wallet developed at Estelar. It's an honor for me to be here today with the leaders of Block Change in Latin America.",
      "keywords": [
        "which",
        "people",
        "ecosystem",
        "everyone",
        "great",
        "thats",
        "technology",
        "other",
        "started",
        "companies",
        "crypto",
        "super"
      ],
      "speakers": [
        "Latin America",
        "Buy Brand",
        "By Brand",
        "Block Change",
        "Cronos Page"
      ]
    },
    "2022-04-28.mdx": {
      "summary": "hey everyone welcome to the open protocol meeting sorry for the slightly late start just a quick technical glitch as per usual um so the stellar protocol meeting in these meetings we discuss and plan for uh upcoming changes to the stellar protocol and today we're going to talk about something very exciting project jump cannon which is going to bring smart contracts to stellar um so just quick intro as most of you know stellar was launched in 2014. at the time there was a very deliberate design decision to keep things simple right so only support a fixed repertoire of transactions but at this point after a ton of feedback from the ecosystem it's clear there's a need for more flexibility so developers they're interested in building applications they're relying on submitting custom turing complete contra code right to run in the transaction execution phase of the network so essentially people want smart contracts so in march we officially kicked off project jump cannon and there's a link to the announcement in the meeting description and after a very thorough examination of the existing smart contract landscape we made a decision to build it on a webassembly run times wasm for short so if you want to know more about the selection process there's also a link to a blog called project jump canon choosing wasm and that will sort of help walk through that decision the evaluation that led us to where we are today but today we're actually going to start to get into the protocol changes necessary to like accommodate that decision so we're going to start by talking about the core advancement proposal cap 46 webassembly smart contract runtime environment which as you can probably guess by the title um specifies the lowest level code execution and data model components of a wasm-based smart contract system for the stellar network um once we talk about cap 46 we'll also start to ask some general questions about how smart contracts should interoperate with the network this is as per usual a technical discussion so if you want to keep up i suggest taking a look at the cap as well as the discussion thread about it those are both linked to in a meeting description and then if you're interested you can also join the conversation about smart contracts you can do that by participating in that thread that's linked to here or by joining the stellar developer discord which is where we're having all the jump cannon discussions so that the work is open the participatory we're doing you know can really follow along on the stellar developer discord okay cap 46. so um cat 46 came out on friday i think there's been a lot of back and forth on the mailing list though over the past few days um a lot of questions asked but i'm going to pass it to graden um grading i guess to start off with is there anything that you want to tell us about cat 46 and or about any issues that you have that you'd like to discuss about it today thanks yeah there's there's lots to discuss here um i i want to give a little bit of um background because this is this is in some ways an unusual cap often times when we write caps they're uh they're directly changing the protocol or they're proposing to directly change the protocol um that people are using and cat 46 is a little bit weird in that it it contains protocol contents there are new new xcr definitions like there would be in in most caps but none of them can actually be used this is a building block for other caps and so if if this cap for example were accepted as is tomorrow there will be no new messages that you could send on the network yet so this is just a building block cap it's a piece of vocabulary that we want to talk through the potential uses for in the future but without it without actually committing to a specific transaction format specific ledger entries anything like that this is this is a vocabulary in particular for interoperation between two environments so the way to think about this cap is that it's describing two two different um  places in inside of stellar core where code can run the guest and the host and so so that division between guest and host is a key concept that's being introduced here and most of the cap is a discussion of how the guests and hosts are going to relate to each other both their their calling relationship with what values can be passed back and forth between them and then the types of data that will be stored in in this particular proposal the way we're discussing data storage uh actually involves a split and it's a split that's brought about by idiosyncrasies of of the wasm runtime interface which is that you can't really pass complicated data types back and forth there's a few other reasons for this uh it's actually there's there's a there's a very large rationale section of the cap that tries to lay out uh our thinking as we explore different options here um there's there's an efficiency argument um code size um there's a compatibility um the ability for third parties to browse and interoperate for contracts to interoperate with one another there's a whole host of different reasons for for splitting data the way we are um but really the way to think about this cap is uh and i've had this conversation with a few people so far uh to to picture in your mind a sort of a four quadrant diagram uh uh upper left upper right lower left and lower right and and uh in the upper level you've got uh the the uh host and guest environments on the left and right okay so those are those are at runtime while code is executing there's uh these two environments that are communicating with each other and um sharing access to a data model where much of the data is stored on the host side but the guest has these little handles that reference into it and then in the lower two quadrants you have corresponding to each of those types of data what we would call the the values which can be handles and the objects there's an xdr layer so in the upper two quadrants of this diagram you've got the hosting guest uh at runtime where where values are in memory and then and the contract is executing uh in the lower two quadrants you've got the xdr representation which is sort of data at rest and in fact quadrants are quite the right uh description because the entire lower layer of this diagram is essentially all xdr but there is a there's a correspondence between values that are accessible in the in the guest side in valve then the sc valve xdr type that's presented in the in the cap so the cap introduces these value and object types and it introduces the the split between the host and the guest environment and and that that vocabulary is is a sort of background of what we're trying to get laid out here now we have a prototype implementation of this we actually at this point have two prototype implementations because we we've done uh a version of this in c4 plus and version of it in rust um and uh we're fairly confident this is a this is a structure that works well uh in that it allows a very small and highly interoperable guest code to um run in a you know a wasm runtime that is connected to a host that has these host objects uh and so most the discussion around this cap so far has actually been like which host objects to start with um because there's there's a there's a potential repertoire of multiple types of host objects and a little bit around uh the value representation and bit packing and stuff like that but there's there's not a lot of um you know in in many caps there's there's uh um uh semantic rules to to talk through in terms of of a sequence of events that occur in response to a transaction or an algorithm that's implied or something like that there's not a lot of verbs in this this is really more of a nouns cap right it's it's laying out a vocabulary of of of things that will exist in memory uh and or on on stable storage and xtr or being sent over the wire and so you can imagine all sorts of operations happening all the actual operations that will occur on this data model are essentially left to later caps they're things that still have to be uh worked out we're still we're still sort of experimenting with that but because smart contracts are such a big project and there's so many different parts uh to smart contracts we wanted to try and uh split out meaningfully digestible pieces of the problem and and you know review them talking through uh have community input on them um and and and ultimately as a software engineers you know implement and merge them piece by piece and this is the first piece um so that sort of gives a little bit of background on it um there was one other thing i wanted to mention gradient i actually do have uh one high-level question for you i know you've uh you go into this in detail in the cap but can you just like give a brief overview on uh the specifics of like the value object split because that's something that is very unique in the world of blockchains i think that elrond uh is the only other blockchain that we saw that does something similar yeah yeah for sure yeah so like what what is the alternative and and why is this better uh yeah totally totally um so an analogy that a lot of people have uh this was actually the thing i wanted to talk about i just remembered so i'm glad you brought it up um uh there's this analogy that a lot of people have have been using while we're talking about this that i thought it would be good to bring up here um which is that if you've used a web browser um you can really think about this in in terms that are that are going to be very familiar so in a web browser you program uh your web pages in javascript but the web browser itself is a very large piece of code that is not written in javascript right so like some of the front end is written in javascript but a lot of the web browser is written in c plus plus or or or rust or something or c or some other low-level systems language and it's compiled ahead of time and it's it's essentially a platform for the applications to run on uh in the end the javascript applications if you if you've written javascript you'll you'll know that you often have uh object references that aren't references to javascript objects right you you can you can have a reference to a dom node or a window or a media container or a an xml http request or something like that and these objects they're not like the other objects right you they're they're not like the javascript code that you have you can't inspect them you can't find the source code to them they're just sort of out there somewhere where they are is they're in the host environment they're they're they're supplied by the c plus platform that you're running on uh they're much more efficient they can do things that the the javascript code isn't capable of doing they're they're often much larger pieces of code and so if you had to ship them over and over again with every application your application would be gigantic and so there's there's a sort of uh the by being part of the the platform and the environment in which your javascript is running they are uh almost like a library that you can call of of uh very fast very reliable very common features uh but but that you operate at some distance from right you if if a function call uh goes into them you know you don't you don't uh get to break on your javascript debugger in the middle of that function call right it comes back to you uh and and then you get control back in your guest code when when it returns so that we're approaching this um this model and as you said it's the same model that uh that i think the lra network uses um in a similar fashion where we're coming up with a set of of uh objects that that the platform will provide um that are implemented in in cpu plus or or rust um and they're kind of baked into the platform they're they're um things that all or quite a lot of smart contracts are likely to want and so ahead of time the stellar core developers ourselves and anyone else who wants to contribute to it would have created this repertoire of of extra uh objects and those objects are again fast so so they're they're gonna you know they're not gonna be written in wells and they're not running on the virtual machine they're they're written in native code um they're much larger typically there's a there's a large code footprint that supports them that will not be included in your smart contract you don't have to include code in your smart contract your smart contract just calls them um and uh and and so your your contract code is much smaller but you operate them at a distance so you you have this uh reference to a host object when you're working on it rather than um you know running in the memory of your smart contracts your smart contract has a little linear memory it has the the virtual machine has its own memory and so you can you can write code in whatever language you're you're writing and i think most of our smart contract source languages are going to be we're looking actually at mostly rust there as well um interestingly enough and so you could write a data structure in rust and have it running in the wasm virtual machine uh just like you would have a you know a javascript array or something running inside your javascript program but um we're also going to try and provide almost every object that you want as a host object so that you don't actually have to compile anything to your contract except for a handle and so this this handle which is essentially a pointer or a certain quasi-pointer it's not actually a memory address it's just an integer number that starts from zero it counts up as we allocate host objects but um these these typed handles that you'll be operating uh on and passing to host functions refer to host objects but they don't actually hold the host object in in the guest's memory and so again there's there's a variety of benefits  one of the benefits i haven't mentioned yet so much but it's in the rationale section and we've we've talked about it a bunch while we were working on this is that um corresponding xdr form and when we've looked at a lot of smart contracts most smart contracts spend most of their time from what we can tell if they're not doing cryptography obviously there's there's the special case of doing cryptographic operations which we'll also get to but a lot of them spend a lot of their time serializing and deserializing their data store um so the smart contract is invoked and it's given a byte buffer uh and then it spends all of this time in its virtual machine running in virtual machine instructions those virtual machine instructions are just like inspecting a byte buffer and copying values out of it into a data structure in memory then operating on the data structure in memory and then re-serializing it back to plate buffer and that's that's a little bit weird for a few reasons it's not a good efficient use of computational resources because um that's like compute expensive work and you're doing it on the virtual machine instead of the host where it would be on in native code and it's also it's very likely to be um shared or shareable right if if if you were using a data structure that is similar to other data structures that other people are using uh the idea that you would need to do custom serialization deserialization as opposed to just reusing a library that does it is a little funny it's sort of it's it's it's making every smart contract ship redundant duplicate contract code that does the same thing as someone else could do um and and on that note with respect to commonality um the more the the the data types are common between smart contracts uh the more you can interoperate between smart contracts so if if smart contract a wants to call smart contract b it's going to want to pass data it's going to want to pass arguments right uh accounts and amounts and maybe vectors containing things maybe large numbers or cryptographic data types or whatever and in order to pass data from one from one contract to another i mean a contract is just a program and for for two programs to interoperate they have to have a common data language and so if you assume that you're going to have this this interoperability requirement between contracts where they share some kind of data vocabulary then necessarily the serialization and deserialization code has to be shared and so factoring that serialization deserialization code out having it be part of the platform and having the user not actually have to ship serialized serialized code but but having the xdr pulled out of a ledger entry and turned into host objects and then just handing handles to those host objects to a contract saves the contract from shipping any of that serialized serialized code it's is the contract from having to to deal with compatibility issues because everyone's using the same the same data model um it just seems like a win all around you know every time every time we uh sort of thought about this problem from another angle we found another way in which it seems advantageous um uh third-party browsers for example would be able to to browse the stable data format as opposed to many smart contract uh systems uh every every data value that the smart contract saves into the blockchain is just an opaque byte byte blob that no one can inspect um if we have a common data type such as the one that's presented here all of the ledger entries will be at least structured so you could browse them now you might not be able to make total sense of the contents of it but at least have some structure that you'd be able to to browse which would make diagnostics easier it would make writing third-party adapters to consuming events coming out of the system easier it would make um testing easier creating mock data of attaching fuzzers to it there's all sorts of advantages to using a common data format so um so i tried to lay some of them out in the rationale section here but it really does seem like like this is this is a huge key to a better design for smart contracts than what we've seen in a lot of other platforms and um and so so again that's that's sort of why this made up the first building block cap is because if we do adopt this approach we'll be will be uh deeply structured by this decision and obviously if if we don't adopt it if there's if there's really strong community feedback this is a terrible idea nobody likes it uh if all the technical review says this is impossible it won't be able to make it work or it's uh you know there's there's there's no way you can never come up with common data types that everyone would find agreeable that's really important information to know because it does seem very very appealing but if it's if it's not going to work that will also change our strategy very dramatically so i've talked a lot right now i don't know if you have any other questions or uh other things that you wanted to to discuss about it there's there's some detail in the cap most of mostly conversation we've been having so far is just like around missing detail in the cap or um or or debating a set of objects that's that's that's one of the big questions is like which objects do you include as your sort of mvp first pass what host objects do you include as your baseline so i actually have one follow-up question before we go deep into the details which is how do we encourage people to use these managed objects rather than to do something you know very offensive on the um on the like the source language side just because they can yeah so this does not this of course this does not preclude you know shipping your own encoder and decoder and just storing there's a there's a there's a data type in this cap called a binary which is just a raw bite array and so if you want to store a rod by right and you want to ship the serialized deserialized code yourself uh we're not gonna be able to stop you i mean it's a it's a touring complete environment right so that's that's like trying to prevent someone from computing a particular function it's just not it's against the whole point of the platform to try to prevent that but um i think you'll have a fairly strong disincentive just from the fee model if there's any type of pricing of resources here which you know there has to be in order to make uh to arbitrate access to to cpu and disk resources on the validators um it will be a lot more expensive to do it that way and so i i think you'll just my hope anyway is obviously this won't work very well if the fees turned out the other way but um my hope and my assumption is that you'll be saving a ton of of uh you know whatever gas metering fees the system is charging uh users by using host objects because they're so much faster and efficient i mean is it time to start digging into some of these details or does anyone i guess my first the first question is in general do people feel pretty good about this model i mean so so i have kind of a meta comment which is that um it seems to me it seems you know having you know been involved in like a few standardization efforts it seems a little weird to be contemplating a change of this scope without uh like a requirements document first to reference so like i have a bunch of nits but to some extent it's gonna be like who knows because like we don't know what the requirements are and aren't right so um so i have like i have huge concerns about the uh about the use of floating point values for example it just seems like i can think of like a million bugs that like really catastrophic bugs that are um that could happen right like certainly in my lifetime like literally hardware has implemented ieee floating point incorrectly right on top of that there's like from one release to the next of like the compiler runtime there might be small changes like that they might use like a different not a number representation because there's like tons of ways of representing not a number things like that you know positive negative zero so uh but you know maybe we need it maybe we don't but like this is just um without a requirements document to go back to like how do how do we know whether some of these things are good ideas or not or whether they're gonna serve serve our purposes so david we've been uh you know we've been like the one thing that we have going for us right now is that there's a lot of prior art in the world of smart contracts uh and we have uh made a list of like sample smart contracts that we are interested in uh seeing like that should be like a sep or something there should be like this should reference like a document uh saying like you know like these are the requirements for our for like smart contracts on stellar right okay that makes sense uh i can work on that uh maybe in the meantime if you have specific concerns like the floating point thing is sounds like something we might want to discuss um i can speak to that a little bit i mean just very briefly um wasm as a as a spec does include uh instructions for floating point um this this cap doesn't uh specifically preclude them uh we've we've talked so far somewhat seriously about the possibility of of actually filtering them out of saying that that all the floating point instructions uh equal invalid contract um just just just again to to sort of to allay fears because uh you're not the first person to use expressed fear is your own floating point now personally myself i'm a little bit more of a floating point believer um so i i'm not as concerned about that um there are uh two sources of what we might consider non-determinism or or wiggle room in uh floating point behavior uh that are that are left open uh in the wasm spec in in all other respects uh wasm just just delegates directly to ie754 and if you do not implement 754 correctly yeah you're in error that's that's that um and 754 has not actually changed in 40 years so i mean i think that's actually a fairly stable thing to point to yeah but it's not it's not it's not the standard so much as like implementations of it which have been buggy or uh there's been like there have been like two cpus shipped in my lifetime that had bugs and they were they were like very high priority fixes so i i i think saying like that saying like okay like but these are like exactly the cpus that would be like running stellar core right so this would be like catastrophic for stellar core so again if we have a requirements document and say here's like 10 contracts you want and like six of them need floating point then we need floating point if zero of them need floating point then it seems crazy i i i i agree that we can we can decide whether or not to have floating point i think referring to the f div bug as as a reason that floating point is not a reliable piece of software is hyperbolic i don't think that's a fair objection floating point is very well defined at this point what about compilers that like you know use 80 bit when it's in a register and 64-bit when it's been uh spilled to memory right like things like that so a 80-bit floating point is is not a an accessible format in uh lesson you you you only have access to the 64 um all the operations but i find it like there's like a bug in the run time that it would like accidentally use 80 bit but you're saying like that it's not available it's literally not available on the target the target the wasm target does not does not have uh extended floating point there there is at the same time to like figure out if there's a requirement for floating points before getting too too deep into what might go wrong i think it's the right one okay so so tell me you're making that you're gonna make that awesome sound yep okay are there other you know so floating points is we're putting a bracket on and it may come up and it may not we can have that discussion are there other like concerns like that that we should get into now well i think like the big one is uh concurrency right like do we uh do do we require like if the requirements include sort of performance then we need to be able to run uh you know smart contracts and multiple cores in parallel um which entails one set of requirements like making sure that that we don't run conflicting smart contracts in parallel uh if we don't need performance that you know then then we don't need that but uh but it seems like that again is something that we need to decide pretty early and it needs to be driven by by requirements yeah i can i can speak to that a little bit um that that is uh definitely something that we we have been um extensively considering and and have uh in fact a prototype uh uh planned for um as with everything uh sort of above the single contract single vm interface um it's not specified in this cap so this cap doesn't for example talk about ledger entries at all and so so so any concurrency issues relate to access to the ledger there there is essentially no uh there are there are no concurrent uh host objects in in this model and i i'm happy to spell that fact that that um these host objects are isolated to a single vm the single vm single threaded or or sorry to a single host context uh which is may have multiple vms but they are executed on a single thread uh in serial so so there's no concurrent access to host objects whatsoever in this in this cap um right so this seems potentially not workable depending on our requirements let me finish um concurrent access to ledger entries uh is planned um so so the ledger would be the the the shared uh concurrent data structure um the the thing that it's meaningful to talk about concurrency with respect to um and uh that's something that we will be discussing in later cap because the transaction format for invoking transactions um that we have planned includes a sort of i guess a trick or a standard pattern from the deterministic database literature where transactions carry static read write sets sort of staple to the transaction so um you know the the semantics are strict serializability with the caveat that it's implemented by uh by you know deterministically uh partitioned read write sets uh especially there's no there's no actual contention there's no requirement for concurrency control because um the the concurrent executions are all on disjoint data i think so an account ID for example it's a type that doesn't exactly respond to an actual account it's just yeah it's just the public key or whatever and then and then the contract literally can't can't see any data that it hasn't pre-declared as part of its rewrite sets so so there's there's a there's essentially a static data structure on a static uh schedule for each transaction set that partitions it into non-overlapping partitions and then run concurrently so i i agree it's a it's a concern it's something that we have been thinking quite quite a lot about i i don't think most of its contents show up in this cap i think they show up in in in that the cap that talks about the transaction life cycle and access to ledger which will which will be coming later um but i can uh reiterate in this cap that there is essentially where we're we're not going to be supporting the any of the wasm multi-threading proposals that are floating around in the future um for running inside one of these vms and that the multiple vms that exist inside of a host context that are described in this cap are intended to be strictly serial semantics and that all of the objects would be private to that single thread that are described in this gap so far okay cool and so everything else other than floating point is like completely well defined in the wasm spec like like if you shift a 32-bit number by more than 32 bits like that that's like what does that do for example yeah that that's that is that is well defined in the lessons back um the there are as i said there are two floating point uh idiosyncrasies they're they're actually not the ones you're talking about there's some uh nan normalization uh which all the interpreters we've been looking at have some option for for normalizing bands after every operation is just expected to do uh and um uh the state of the floating point environment flags you have to you know there's there's a hardware environment um the the floating point environment which which control controls the rounding mode and the exception propagation of the exceptions are eager or uh quiet and um that is assumed that something it's something you have to set uh and as as a as a host environment you have to set it to a particular state before you invoke your your wasm code um but there's no interface for changing it from inside wisely code so um you know so long as we specify what this what the settings of the floating point environment are it would be it would be deterministic with respect to that it's just that wasm as a spec doesn't define what you will set the floating point environments settings too so so what happens if you right shift the a 32-bit integer by 32.",
      "keywords": [
        "theres",
        "contract",
        "smart",
        "thats",
        "data",
        "which",
        "dont",
        "point",
        "something",
        "theyre",
        "host",
        "code"
      ],
      "speakers": []
    },
    "2022-03-15-from-bootcamp-to-the.mdx": {
      "summary": "okay so we're live streaming it right now all right we are live um so welcome to today's panel my name is ankur liu i'm a program manager at the stellar development foundation or sdf for short um sdf just quickly about sdf sdf is a non-profit organization founded in 2014 to support the development and growth of the open source stellar network and so before we begin a little context so stellar was founded in 2014 after bitcoin before ethereum and handles millions of transactions each day submitted by businesses banks governments and developers all over the world to build innovative financial products and services and stellar uses an energy efficient uh syncing mechanism specifically designed for remittances and payments so transactions are processed within seconds and cost way less than a penny so what can you actually do with stellar so on stellar you can issue your own assets as tokens on the network think stable coins such as USDC cryptocurrencies real estates and nfts practically anything then you can also trade these tokens peer-to-peer through a built-in decentralized exchange or automated mark maker functionality and you can also transform currency as you send it which is a powerful feature to streamline cross-border payments but let's get back to why you are all here today um we have launched a blockchain bootcamp in partnership with dfs lab to support the boom of blockchain crypto activities across the african continent this was in fall 2021 and each content each company spent a week at our virtual boot camp going through the design sprint process with the guidance of a mentor and also access to technical support from the stellar development uh seller developers and at the end of the week everyone came together for a virtual demo day with select investors invited to join the audience we have uh we have like in total like nine companies were selected and went through the boot camp and we were definitely not disappointed with the results uh they participated they built a proof of concept they um demoed at the demo day and uh or each earned an award valued at either five or fifteen thousand dollars depending on the depth of their solution so um i'm very excited for today because we have uh five of those nine companies joining me to discuss their experience to discuss their growth and also some tips and tricks for future blockchain particip bootcamp participants so without further ado i wanted to start some introductions um starting with open hi um thanks ankit for introducing me and hello everyone um my name is ope and um ceo and co-founder of bonafide i'm gonna find um stemmed out of another product called money me and um i would give most of that credit um to the sdf um bootcamp and that we had nice to meet you higgins awesome well that's great to hear um great so next up is uh ben from stacks hey everyone i'm ben i'm the ceo of stacks and um stacks is a universal payment app for africa where what we've done is given you one app where you can link all of your bank accounts and mobile wallets to a single interface where you can then transact without a data connection that's really our big um kind of unique selling point is that it works offline and then what we're doing with stellar is adding support for crypto uh where we'll have a self uh self-custody multi-token kind of strategy so think like metamask but built for africa alongside your fiat and integrated with your fiat accounts i'll stop there awesome thank you for introducing yourself uh then phone bank christian and michael hey everyone and i'm chris duffis i'm the founder of phone bank and we offer a unique on-ramp where we bridge uh the less than one percent of the world population within nearly 100 of the world population that have access to a mobile phone um and we really enjoyed our experience at the dfs boot camp and and the stellar product we think it has a great applicability to reducing friction as in our marketplace awesome well thank you for introducing um and then honeycoin david and dominic hey everyone i'm super excited to be here i'm david nander founder and ceo of honeycoin um i always say i found it to describe us it's sort of like if coinbase and patreon had a baby and that's maybe africa so yeah we're standardized monetization platform for both creators and consumers um and basically we exist to make the um payments for goods and services to creators and the transfer value across ecosystems easy and frictionless thank you thank you for introducing yourself and company uh cuidro uh funto please introduce yourself sure thanks nk um credo is an online platform factoring platform actually i should first of all introduce myself so olofontoboroffice co-founder of creature which is an online factory platform um where transactions are streamlined um and our smes on the african continents can get paid within 72 hours by selling their invoices um to get fast fast cash at favorable rates and we had a great time at the um at the boot camp where we where we're seeing um the use of Stellar for our product is um the fact that we're looking for investors we're going to be looking for investors to invest in buying some of these invoices and we're going to be looking at using them for cross-border payments um as we sort of look at transforming currency and peer-to-peer so thank you for having me i'm excited to be here awesome yeah we're excited to have you as well um last stop last but not least at dfs lab joseph yeah um hi everyone uh joseph from dearcuslav here um so the fs lab is an early stage venture capital firm where we invest in digital commerce companies on the continents very early pre-seed and seed stage um and we also you know work with um institutions like the Stellar foundation to kind of onboard companies um to like play around with innovative technologies like Stellar um yeah excited to be here thank you yeah we're so excited to have you and to and thank you all to the participants for introducing yourself and your companies uh even like just rehearing what you're building on is is just like uh it's really great to hear and i'm like also like the way you are growing and the way you are in really innovating in the space is is is magnificent so i guess i know all of that but the participants don't know yet so you know right now i'm going to start uh stop sharing my screen and i'm going to go into the discussion and um for all these though you watching in the zoom there will also be you can also ask questions and i will see if there's some time to answer but without further ado let's uh let's head into the discussion so um i will start with uh with stacks with ben can you quickly talk us through your solution that you've prototyped during the previous boot camp yeah so in the last boot camp we came in really with just the question of of how do we step our foot for or just get our toe into crypto we knew that we wanted to do something with USDC uh and what we what we ended up building in the bootcamp was a prototype of showing um the ability to create a USDC wallet self-custody wallet and to send money over USDC in stacks without using a mobile data connection and so what's kind of novel there is that we our core technology has this ability to automate ussd um so just for our our friends on the west who might not know what that is it's this legacy gsm channel it's ubiquitous across africa and asia and it basically is using part of the voice channel to to transmit data and so what we've done is we've used that technology in an app to make services work offline and even though you're you're actually having a synchronous connection with the server um we've done that with over 100 bank and mobile money services today and 10 african markets but we wanted to start offering crypto services as well and give our users basically a us dollar account um and so that's where stellar and USDC came in and so what we demonstrated was just uh turning off so at the end of the bootcamp you turned off mobile data on your phone open stacks created a USDC wallet and sent USDC to another USDC address all with mobile data entirely disabled wow that's that's really impressive i think like like this is one of the key key like issues also like uh having being able to provide offline services is really key especially in regions where infrastructure is lacking so um definitely so um you know can you tell us a bit about you know your plans for launch and also a little bit uh so i saw that you've recently published that you've acquired 2.2 million dollars in seed funding which is amazing uh congratulations uh yeah honestly congratulations and like kind of like how has your company grown so like kind of what are your plans for launch and what is that what is what does growth look like already yeah so we're getting ready for a big push um so come april uh that's when we plan to actually implement the uh the proof of concept we built in the lab or in the boot camp uh and so april we intend to push that live and really start marketing from may at least in kenya and a few other markets we're still figuring out which markets to start with um but from may you'll see that stax users pretty much anywhere on the continent um will be able to create that USDC account and um and send money and receive money without data um where we want this to go is really kind of like a metamask for africa kind of built for africa play and the idea there is self-custody so you have your crypto you have your keys we don't touch any of that um and uh then the goal is that you'll be able to buy sell you know swap hold all of your tokens you can take them from stacks if you want to any other web3 service because you've got your keys but the goal is that you can do that all in stacks right alongside your bank accounts and your multiple wallets and so then the big lift for us over time is going to be how we stitch those things together so that you can have a seamless kind of fiat crypto crypto to fiat experience whatever token you have whatever fiat accounts you have so um technically us launching that's going to be very quick from me but where the hard work is is going to be in stitching everything together you know based on stellar anchor here or hack there or whatever so that's really our plan great yes and then um you know i think that's really exciting and then also like having acquired the 2.2 million dollars in seat funding do you want to uh um give a few more details about that and how that came to be yeah uh shout out to nomis ventures to world within ventures launch africa ventures orange down some others that participated um it was really useful actually uh coming out of the boot camp to just show that we were we were serious about our our ambitions to get into crypto and that we had kind of we were able to get a kind of trust mark or a seal of approval from uh the community and so that actually really helped us raise money and and actually got us in front of investors we hadn't spoken with before so if you've everyone here has been fundraising too often i'm sure but like um when you're pitching traditional vcs that's one kind of segment or slice of the pie and then when you start pitching crypto that's a whole other big slice of pie that wasn't available um so that's been super helpful to us awesome well congratulations and i think like uh another big player here that has like received uh has started quite a lot of seat funding is phone bank so um chris and michael i would love to bring you to the stage and and kind of like wanting to hear a bit more like how what was that what was that like like the the boot camp what impact did that have and how have you seen phone bank growth since then so i might start out at uh that michael and i we actually met through this boot camp he was our our mentor and uh provided some very sage guidance for us uh and uh obviously it led to us uh being one of the the finalists and i and i think in many respects has led us to dr uh drive hone our product market focus a lot more uh which catalyzed in a 3.5 million dollar seed finance thing among um uh from leading crypto and uh venture investors uh so i thought the the the camp was really great for us and we actually uh in addition to the proceeds um from the camp also received a another stellar grant as we planned to incorporate uh the protocol into um some programs that we'll be uh launching uh uh as soon as next week wow as soon as next week i'm very excited for that yes i heard about it the marketing grant from sdf that's a yeah that's great great news i'm very excited that you know we were able to support in that way and you know kind of like going back to what you said about uh like michael and kind of coming on boards and so michael you were a facilitator of the team of phone bank team right because like okay so to backtrack a real quick so every team in the boot camp has a specific facilitator assigned and in this case michael was the facilitator of phone bank so michael what was that like first being a facilitator of the team in the boot camp and now co-founder and head of growth africa of stone bank yeah thank you thank you very much um i was actually seated at the same spot uh i'm sitting now and chris and i uh met and uh i guess it was a bit over in hindsight it was a bit of a surprise but also a lesson for me on um the the role of such uh ecosystem building programs like the boot camp uh it's really i think a lot of us maybe might have might think about it in terms of coming to raise funding or accelerating uh some of the products that we are working on but for me uh i mean the opportunity i got was uh matchmaking or finding other ways to to benefit from from this network and discord of uh of great companies and great founders so i i think that would be my that was the biggest lesson that i took away from from from the benefit of such programs and the kind of value you can derive from these programs beyond just uh the old-fashioned tried and tested uh funding it can also be a place where you could meet potential partners it could be a place where you could you could meet co-founders like myself you know so who knows so just look at it as a as a as a a a ball of uh of value that you can exploit uh depending on whatever needs you have yeah yeah it's it's it's amazing i love that like matchmaking uh that you really bring that up it's like a book campus a matchmaking event i mean i think like it has actually like it's like when we first started i had like you know like for me also like going in like okay like we are doing this and then coming out it's like all of these connections that you really build and i was also like oh it's going to be like a virtual event i'm not quite sure what that's going to be like but the connection that we made and kind of the lasting relationship have also like on me like really helped um and kind of like last question uh for for either of you to answer um because like last in a prep session uh we we also like talked a bit about kind of like your business model and kind of like what what uh what business model what is the business model that i have allowed for like such growth in the recent growth in the company so we are at its core an exchange um where we match individuals and businesses that might trade in prepaid air time uh with individuals seeking uh digital money and i think that's sort of the inflection point that's taken off in our in our business where you know people are trying to go from the fiat world into crypto web 3 and all and even traditional finance but in a the lowest friction sort of a path and i i think exploring and you know and partnering with uh stellar uh i think is a is a great way to reduce remove that friction in that process and i think you know i mentioned that a couple times because that's something that that's key to sort of user better user experience and act actually in my journey through sort of product discovery in this stellar ecosystem i was very pleasantly surprised as to the progress of many of the developments whether it's the amm and uh the other various stellar products and i think in large part because it is a you know a low-cost um uh eco you know environmentally friendly ecosystem i think it touches all the major items and it's there's been significant improvement and so we're excited to be uh partners i thought that was all muted uh awesome well that's great to hear like we are also excited to to be uh in connection with all of you and sdf is really here to support uh those who are building on stellar sellers open source by the way anyone can choose to build on a network but we as a non-profit really try to see how we can support people that are building real world solutions on the network so you know i'm very it's very great to hear this as well and then kind of uh i wanted to um go into uh bonafide so a few questions for ope actually um what was your experience with the boot camp and um yeah what stood out thank you and kay uh so like i mentioned earlier when we came up into the into the boot camp um we had a different product right um that was a digital bank um for for migrants and um we had already started experiencing some challenges um in terms of um well the product was a great product um did they really communicate or fulfill our mission um which is basically to like democratize opportunities uh in general right and the bootcamp helped us to really walk through a design thinking process to actually answer some of these questions and come up with something that's really simple basic and works and for everyone now uh the result of that um is bonafide that digital wallet that lets uh any anyone save send and receive in digital dollars and these is available to um to to all africans or one billion africans who are currently uh you know not connected um to the global um world of commerce or trade and and that's that's massive um by itself and um also something we're very excited um about that happened within the boot camp was being able to kind of fashion out this no lost price that allows people to actually kind of win big amounts of money right without risk of losing any money i mean that that's like super super fantastic and then that's something that's new um that will bring it um to the continent on that so um the boot camp really helped us pull all of that together and come up with this simple uh product we're still pre-launched we've already been transacting millions of dollars um based on what we've on a monthly basis the 2 million last time last month based on what uh what we've done so far and um soon we'll be going out big time into the into the market yeah oh wow that's a that that's a lot uh congratulations on on that type of volume already before or before launching um that's amazing yeah because i remember like we were like trying to figure out the use case and obviously like you know you know there are some some like restrictions we can do and i kind of like work out a way that really like is a great business model so yeah i'm very excited about that and being able to use blockchain use stellar to allow such features is just something you cannot do with any other technology really um so you know a little bit uh back back checking back um so you have been part of like money me right and money me has been in the stellar ecosystem for quite some time um can you explain a little bit about what moneyb is and did the bootcamp uh kind of experience change anything towards your engagement with stellar yes um so money me like i mentioned earlier or the digital bank um focused on on migrants right and we we built that product within very strict context of u.s regulatory infrastructure um so you know a couple of things you know controlled by the banks as agents of the banks um u.s persons only not fully democratized and you know we were trying to kind of do something that was a bit more democratized and that was what um bonafide um was so um how did this stellar ecosystem up there um beyond you know just the boot camp in itself um i think the relationships we we got we got very very good referrals to other classes ecosystem um that we could um that we could um work with right the folks that we had the folks at wire those were all uh you know relationships that were um broken um by by by the Stellar uh Stellar organization so um so that was really helpful too great yeah i know that that's that's really great to know and it's also like being able to uh grow in the relationship develop and i think like that's also something i want to point out to future like or like to current seller company uh ecosystem companies build on stellar it's like you can always like develop a relationship even through this bootcamp but also through other other avenues and we definitely encourage that so thank you so much opa that was a really great outline i will come back to that later um  i wanted to hear about uh like funta i wanted to hear uh from you of kwedru um and so so creatoru was in a kind of like an early development stage when you applied to the boot camp uh what made you decide to apply thank you okay um i think for us one of the reasons why we decided to apply for the boot camp was because we were really like you mentioned really early stage we wanted to sort of prove or sort of use the the boot camp to sort of make sure that we were going down the right path um and you know the bootcamp definitely exceeded our expectation in making sure um i mean we mentioned the design sprint being able to make sure that you know the idea that we had um was something that was not only legitimate but that would work um and i think some of the other things that came out of the boot camp was also you know just this additional idea of you know being able to um get investors because the way equity works you know it's an essay sms vendors and then investors and you know now with the bootcamp helped us to sort of highlight or crystallize the fact that we can then really go cross-border payment and you know tap you know no matter how small investments from investors from across the world right and so that was one of the things that came out of the boot camp and we're so excited um that um not only did we finish the bootcamp um we got five thousand dollars which we're excited about but then we were able to um transition into the um the development community um and we were able to get additional funding that has allowed us now to hire for additional engineers and we have some funding for um for marketing so we're super excited um and even though we're still pre-launched um i think of the next maybe a few months um what everybody's gonna be hearing about creatures so excited super excited yeah oh i'm i'm i'm excited to hear that also about the scf and i'm coming back to that in a later question um but quickly like kind of like about the boot camp experience because you did mention you know because we had i i believe like uh companies in the booth came from from very different uh levels of development uh and yeah i kind of wanted to uh if you wanted to kind of go through what your experience was and what you liked about it um and and kind of like what impact that had on your business um in in a bit more detail sure so um i'll be the first to say that i'm a female non-tech founder uh and so even coming into um the boot camp there was a bit of trepidation because i was like oh my god what am i getting myself into but i will say that you know not only was i able to keep up um with the design sprint and with everything that was going on um i think there was just a sense of at least for me there was a sense of okay you know the people who are you know there's a big network out there that are willing to support um i mean you just even you anki i mean just the encouragement along the way um our mentor was um joseph benson i don't know i mean just the encouragement to the team i mean we'll just you know i think there are no words to describe and i think also just give us another level of legitimacy in terms of what we were trying to do so for me i think like i said it was just the network to see that there are other people i'm trying to do the same thing but to know that there's a network of people who are like sort of cheering us on and who want us to really succeed um is is just was just phenomenal yeah yeah um well i'm super happy to hear that yes i'm 100 behind all of you uh and definitely um i'm super excited that you're able to grow on it you're also wanting to continue your journey with stellar so thank you so much fonto and also like big claps to all women founders here like it's women history month this uh this uh march so big class honestly like i'm super excited to have you know each of you but also you know in particular because it's women history month on board uh big claps all women founders and i you know like uh so i guess going a bit into that it's a little surprised question but um did did that change anything being a women founder like what would you kind of like say also to encourage other women founders in the space and especially in blockchain as well um to get started so i would say um do it afraid but do it you know um you know because you're not ever going to i don't think you're going to ever get 100 comfortable so just you just need to do it and even if you don't i mean one of the things that i think okay mentioned that the boot camp helped him to do was sort of pivot a bit i think you know this was a space to be able to after you you're done with the design screen you start to sort of question okay will this work won't this work and it the the bootcamp was a safe space to sort of explore those ideas so especially for female founders again i can't say it enough um we don't get as much support i would like to see um but this is a really safe space this is a place where you get a lot of support so i just really want to encourage a lot of female founders who are maybe on the fence to to make sure that they apply um and they will get the best of support um that i can attest to personally so yeah thank you so much for mentioning that yeah i think like we cannot stress enough it's like if you are you know like new to blockchain or you're kind of like on the fence like i think like it's very important just to just to apply just to get started just to get in there uh and who knows what will happen there's a lot of excitement in the space a lot of opportunity and um yeah so i'm super excited so before we kind of go into also recommendations i wanted to highlight a very special project as well that i mentored i'm very excited about i'm excited about all of you by the way just uh but honeycomb in particular i was meant i was a facilitator and i was part of the the boot camp process so very excited dave and dominic uh please um what was that what was participating in the in the boot camp like yeah um participating in the boot comforts um it was grueling i like to tell david that um on the third day of the boot company he was directed uh because i remember he didn't sleep one day on the night before them a day but it was so much fun um we were truly stretched but we were able to like lay the ground up for something that we pretty much worked on for months afterwards and we're really really grateful because of the bootcamp it allowed us to um explore how we we went we went in would come to the question of how do we help our creators and their funds be able to like you know send receive crypto and we walked out of the bootcamp wanting to build a whole nft marketplace and we've been able to do that at least uh we've done a proof of concept for it um we wanted them um in the bootcamp we were able to like implement a fast checkout flow um for our creators being able to like receive um xlm and um like i mean in a in a way that would be pretty easy for non-crypto natives to be able to support their creators and that was so much fun and i mean it really stretched us and we went ahead immediately after to just keep on building on that and i mean it's been it's been really good since yeah yeah and just to add um i think one of the best things about the the boots camp is it forced us to have a sense of urgency i think um everyone in this panel can vouch for that there's there's a certain lethargicness or latency that comes in your kind of startup whether you know you have your roadmap on notion and you queue it up for three months down the line it feels like it never comes you always work yes with some urgency but it's never really like oh this is next week that we need to do you know a specific thing and and that sort of like would have put us in the frame of mind of thinking if if i literally had a week to map out a sprint and get to a point where we actually have an mvp or something that we need to ship out um what life looked like and i think it's something that also helped you know to to to instill that culture in in in the company itself like you know as we expand the team and you know just carrying carrying that three-day sprint culture you know holistically across everything that we do and um the growth attraction has been you know enormous up until this point like we've we've gone from you know free bootcamp we're doing maybe a thousand dollars a day on the high side now we're processing up like up to a hundred thousand dollars in a single day um and that's exciting to us um yeah and the validation that we're able to accomplish in the bootcamp and you know carrying that forward you know building a end-to-end platform we launched our escrange in one of the first platforms to launch a fractional nft protocol that we also brought over to Stellar which is super exciting um you know so just just so much that came out of it and um also just being a part of the stellar ecosystem and which is you know constantly growing and and super supportive on every front um especially sdf um and and having you as a as a mentor was pretty great um to anyone watching this um i'm biased and i was if you guys jumping in anki should be your mentor well that's great to hear but i think like we had great mentors on board too right and i think everyone here like feel free to also chip in and kind of like tell how grueling of an ex well grueling but good of an experience it was to have this like busy packed three-day boot camp but actually having clear results at the anti-demo day and that and it's like having that like working with facilitator very closely um yeah i would love to hear if anyone you know wants to chip in on on what david and dominic just said who else had a grueling experience i believe um was it phone bank i believe uh chris and you you jumped in from the from the u.s yeah so i was in the i was in the u.s so i um it was a very long week getting up at early east african time to participate and just to to demonstrate the committedness of uh the program i think someone called me and woke me up the first morning to make sure that i was uh showed up on time um but i'm actually forever grateful for that uh uh because then we were able to be fully engaged and that just showed the level of um uh um you know the sincerity of the engagement for the program so uh but maybe get some sleep the night before and plan to go to bed early if you're going to join from other parts of the world yeah and just to add in uh i think we still have that problem with chris now because because he's on dc time uh i usually have to have my working hours go all the way up to 7 00 p.m in east africa time yeah um but just to add to david's uh point around grilling i think it's also about the kind of vibe you get with your your mentor facilitator because even at phone bank i felt with chris uh chris was a really mature founder i think he is mentioned it exited a couple of companies so when i met him i really felt i had an easy time working with him we really built up a great relationship together so it doesn't have to be all grueling i think it's also about finding like the right cadence with uh with your mentor and the founder you're assigned to yeah and my and michael was pretty uh great to work with and i think that looking at some of the other relationships uh while i don't know if others joined their the companies like michael but i do think they they spent some time in in providing the matching and uh i think all the mentors are very thoughtful in terms of how they uh helped guide us through the process yeah that's great to know i'm i'm very excited about um you know what happened i was also like quite surprised by the level of engagement that facilitators were like that facilitators had and i was also like oh wow these days especially the first two days like we were like in the zoo and well i guess like was on discord or something we were like in discord we were on um let me see like we had the slides we had the sigma um you know and and also like to the folks watching like obviously like in person and hopefully we can do some in-person bootcamps sometimes and i can all meet you in person um what was kind of like what surprised you about this like virtual model and like uh like like what was your experience with that format and it's it's an open question and then i'll start to get into some more specific questions again okay did you have any oh yeah ben uh feel free to yeah go in yeah just um the follow through is is what surprised me the most so even this event for example is another convening of you know all the participants and we've we've had various conversations since uh anka i know you've reached out multiple times and so i've been a part of different boot camps over the years i actually even worked at dfs lab for a time for a couple years and um i i think the follow through from stellar and dfs lab has been really fantastic and um it's clear that this wasn't just a transaction you know like let's let's do an event let's get some press around it there's actually real relationships formed and invested in and um as as a participant it's clear to me that that's the intent of the organizers um and so i really appreciate that and i do feel like there's kind of an emerging community here i don't feel like an outsider to the ecosystem so just kudos to you all the organizers for um for the follow-through there and really investing in that relationship yeah yeah and kudos to you for also like continuing your relationship on stellar it is it is definitely um so not without its challenges right um because like it you know this space is a new space right uh it's a growing space as like i think someone mentioned earlier like we have constantly new technology coming out and people will adapt to that and implement it and grow in the network it's it's it's a we are growing and there's growing pains coming with this not only from technology but also from you know the regulatory standpoints to you know users users experience and kind of like work we're at the forefront of innovation so i kind of wanted to hear a bit more about opa's experience um in in this um like well because like obviously you know we've talked a lot about how everyone's had a great time how everyone has grown so much but now i also kind of like very important want to highlight some of the challenges uh and so uh opel like what are some of the challenges in getting a bonus what were some of the challenges and getting bonafide to where it is right now thank you uh okay and i love the fact that you you're trying to kind of point out the good and the bad thankfully there was no ugly so i think one of the biggest challenges especially um for folks who are developing um you know blockchain or whether it's cryptocurrency specifically um is navigating the um the regulatory um space um number one um it's not really clear um if you're following the news if you're looking at what other people are doing you tend to think um that makes it writing but might not necessarily be the writing um and um also um in terms of uh in innovation uh some some countries uh like a bit um should i say open around you know what's happening cryptocurrency i'm innovation some are kind of really closed and loves you know available companies but it's you as the right um domicile what does that look like for your partners um do they like you do they love it would they want to be a delaware company but you know a crypto license in some way or some money transfer license is none of the country you know do you need one license in the u.s that allows you to be much out of record but unless it's really operating in the u.s there's a lot of things that we have to kind of figure out the the ad way and um i mean while this is the evolving one of the things i i i i kind of said after the other boot camp and i just want to repeat it yeah i'm for everybody's benefit for prosperity prosperity's sake um is that um it'll be helpful um if um a foundation like Stellar or a consulting foundations um you know publish information out there not necessarily legal information you should have to consult your own lawyer about what old what works and as far as we know it i mean they create the world on regulatory on a country by country basis what are the basic things um you know you need to to to have me by that play point of view so we have to do x you know to be a pilot for example to move money for example or to just play our web tree those things would really help to foster innovation because the reality is folks are confused nobody wants to go to jail for uh trying to change the world right and we all want to do good and we need all the help we can get yes no i totally agree on that front it's it's it can be difficult navigating especially like uh like and not only in in all types of countries every country right now every government is figuring out what do regulations look like around this new paradigm of internet applications and um i think like as a foundation we definitely are on the forefront of policy but there's always room for improvement so definitely i think yeah these are all great recommendations and we should look into that for and like as we grow as a team and i think like it's not only on the foundations and i think it's as a community as a whole being part of it like like getting each other in the know and sharing like what's going on i think it's really important so we can all grow as a community um anyone that wants to add to that because i think it's a very important interesting uh aspect and also like not only challenges with like regulatory but also like others so i would love to uh before we kind of go into recommendations for book and participants i would love to like kind of like reflect on what happened um hi nk i just wanted to say i think danielle had his hand up danielle is one of my co-founders from quidro um but i also just wanted to sort of echo exactly what okay was saying but i think one of the things that we're bumping into as we're building is this whole um regulatory um ecosystem especially in the us and you know i'm too cute to go to jail so i'm like i need to figure out where exactly what exactly is going on and you know i found myself going down this whole of reading about fincen and you know just a lot of information so i'm going to be hitting up me afterwards to say okay dude please what did you do and just you know maybe clear the way um but i know that um danielle also wanted to mention a few things as well from his experience so daniel if you're there please go ahead thank you uh so um hi anki hi everyone um i just wanted to i think it was a question i was asked earlier i risked mine i think somebody else also mentioned something i just wanted to say that um these are my experience i think all the major thing i could pick from the boot camp was the personalized uh mentorship i think um mr joe really did a good work because i'm sure some of us be the engagements and sometimes i feel like drifting off like okay let me just be in the meeting and not be in the meeting or being the whole thing and not being it you know but mr joe will not even give you the opportunity he's always engaging and whatever and at the end of the day you realize that yes it was really worth it and i really was not surprised at the fact that i get i guess everyone who participated actually came out with something and that was because of the all personalized thing in my opinion everybody was carried along no matter what you are building you all everybody got something out of it and it really helped and i'm sure everybody's doing what they need to do at this point in time i just want to have that and say shout out to the uh scf team and um the dsl lab thank you very much yeah yeah i thank you so much to daniel i didn't realize you you had your hand up i guess like i'm in the wrong in the wrong setting in zoom um but definitely like thanks so much for for speaking up um i think uh you know i'm very happy that this personalized uh like feature really works and you know very relying here on dfs lab for the design sprint uh you know boot camp of course so joseph do you want to add a few words to that um yeah so um i think that's one of the things that makes the bootcamps quite like special and engaging it's the fact that we have these mentors who are kind of really working with you to make sure that you are not like dropping off along the way um and just basically you know trying to help you find clarity um so we have like a bunch of so you know you can be a player who has already you know who has a ton of experience building products and has you know had money me or you can be phonto who just like started working with engineers and he's still trying to figure it out and you know there's there's going to be someone who can help you and walk you through you know you know stuff you know during the bootcamp um i think it's also very important that you know like everyone has spoken about like you know the involvement of the stellar team right so you know if you wanted to understand like a business case right for what you're building it was pretty easy to talk to someone and say hey help me figure this out and if you're just ready to like delve into the code and you know the test nets was available that's like really stable enough for you to delve in so um i think that you know that's like the whole package you get you know with with the bootcamp generally yes yes definitely thank you for for providing some more details around that and i think like important to note is that the bootcamp is not the end right um so even like oh we you know we it is not it did feel like the end it definitely felt like oh after these days i'm going to take i actually took a long vacation off oh like man this was a lot and you know everyone else like i'm so excited happy that um you know like we had such a good time together we really spent the energy but you know after boot camp it is not the end it's it's like it's really the beginning of of your journey on stellar and i think like that you know like i think we had uh very quickly after a bit too quickly actually i think we had a round of the stellar community fund fund uh which is an open application grant program to support stellar-based projects with funding but also it's really about that it's from from the community so while sdf provides the funds in the scf which is an acronym for stellar community fund um the community actually allocates it so so it's a way of building your relationship with community and then also growing so um some of you went through the sdf i think like it was a bit early stage in like where and you know as we continue to grow with the communities um there might be more opportunity there will be more opportunities we have current round open but one particular uh project that went through is cuidroo and kweduru i would love to hear your experience and kind of like talk a bit about your your experience with the Stellar community fund and yeah explain that uh yeah you were a winner yeah so um thank you so much okay so um and i first of all again i have to say thank you because you definitely prodded us to make sure that we applied um and i think there was still a bit of the fatigue from the boot camp and we're like yeah we'll apply it but anchor really really really followed up and just said you guys need to get on on top of this and which we did and i'm very grateful for that because that opportunity um allowed us to um get funding of i think was that five thousand dollars which has helped us to like i mentioned earlier on hire like four engineers we're going to do a bit of a marketing blitz right now um and some other cool things and honestly if we didn't get that funding from um the community fund um you know i would be running around like a chicken without his head um looking for money right now and that has just given us enough time to sort of really build and build the way we want to build so i'm super excited i mean one of the things that you know we i mean you mentioned discord earlier on right which is this interesting online platform where the developers and different three people chime in and uh one of the things that that process allowed me to allow myself and daniel to sort of really um to do was to hone our our our our product and and be able to explain to anybody who didn't know anything about what we were trying to do right and we received a few questions where i was like huh and then you know someone would ask the question and just go in and i'll scramble back with you know i'll see yesterday i'll be like how do we this is a value point what do we do how do we solve this problem so again it was teasing us a lot of you know issues questions that we needed to start thinking about and thinking about it you know really deeply so and the process wasn't difficult to be honest we just had to apply um and just again make a case for what we needed the funds for um and we didn't ask for too much money we just asked for really what we needed which i think is also very critical um and we got it so again i'm super excited i can't say enough about this whole process um you know i you know like i said i you know we're building and i'm so excited and you know when i talk to other founders that i know and you know i think after that experience everybody i mentioned were like please where do i sign up so i'm expecting that all the founders that i know are you know going to apply for this bootcamp because again it's giving us just that opportunity to be able to build in a way that we're not rushed to give us a bit more runway i would say um and the process was not difficult and there was a lot of helpful people you know chiming in asking questions sort of prodding what we're trying to do and um yeah and we got the money so yay thank you thank you thank you scf yes yes yes yeah i'm i'm very excited about that now i don't know if daniel wants to see something um but yeah so we're we've been in the trenches together and and i will say that you know um that funding has allowed us like i said to hire more engineers and i think we're 60 of the way um so again like i said very soon we're going to have a product and it would not have been possible without again this funding this intervention and to just even know that we could always come back and the other thing i have to mention quickly to anybody who's watching is this is like non-dilutive so it wasn't nobody asked for equity nobody asked for anything this was just okay we believe in your in your products will be leaving your idea here's money that good good build and let's see what you have so again i can't even say enough of it i hope everybody who's listening signs up signs up for the boot camp so that you can then be recommended for um the scf i can't say it enough so thank you anki yeah yeah awesome yeah i mean thank you honestly like i think and for like weekend they also can't control their community so while i can always encourage you to sign up it's really for scf it's the community of both here so that's a really well the validation and for any anyone watching like it's a great experience but we are coming up on time very soon uh there is one uh question for honeycomb that i really wanted to dive into and then uh dive into like some quick recommendations before we kind of enter uh let's talk about some details about the boot camp since we did start a little bit later so if you need to hop um um don't don't be shy but um yeah so so david and dominic they delved into your project yet but actually uh your project doesn't uh only use stellar it also uses multiple change and i would love to for you to give a bit of details about that and what does that multi-chain future look like and how does stellar really fit in yeah uh thanks for asking that thank you i'm super happy to join in there um so yeah and you're absolutely right like for us you know we we are strong believers in interoperability and and in building bridges so that like there's there's better interaction across chains because because there's also like you know some value props that may come from one chain that um can be found that might not actually be found on another one and and for us and on an infrastructure level um what we've essentially built is like a cross-train bridge for six different blockchains so that would include cello and polygon ethereum stellar um bitcoin and flow as well oh and harmony and and why that's important to us is we believe that in order to like you know create true utility like we want to actually build like a multi-chain platform that allows folks to one benefit from the value props that a particular blockchain might provide but why Stellar is such a key component of that bridging is one the automated marketing making functionality on Stellar is a lot more affordable and allows for a lot more modifiability than other chains might might also provide but you know tying in one the affordability of the blockchain um two the fact that it's it's very programmable um in comparison to like other blockchains as well allows us then to build frameworks and protocols on top of Stellar that we can then leverage in our cross chain bridges so that can be for swaps which already provide so like imagine swapping USDC from xlm to ethereum or imagine escorting a transaction on polygon and receiving it on a different chain like like Stellar um for us Stellar  Stellar as a blockchain provides the interoperability and and programmable nature that allows us to then build like um you know really cool products around the use cases that we're trying to power um on top of multiple chains which is super exciting to us yeah i think i think this is a yeah thank you so much for bringing us up and for explaining that multi-chain nature of honeycomb and i think that's also like where the future's headed right i think like we are kind of in the early days of the internet so to speak like in the 1980s 1990s like when you know like internet started to browse up you have all these different things and you know we're all growing as an ecosystem and and to find like interoperability where needed to really because the end goal really is to provide support uh or answer the needs for your user audience right uh whichever way is best so i'm very excited for that and i'm also very excited that david and nominee to see your product really grow um and also receive funding but we are definitely definitely on time now and i just you know before we dive into kind of like a bit of the details of the boot camps and the discussion i wanted uh from each of uh from whoever wants to um give give their opinion a kind of like if you were like if you were all going all over again you would apply to the boot camp like what would you really what would you recommend uh new boot camp uh participants um uh to for yeah to do to do or like for any advice you wanted to give um i think i can chime in there first um i would say just keep an open mind the thing that you think you might be entering that we're going to build might not be the actual thing that you'd end up building um which is a very it's very good to be open minded if you stay rigid it might limit you from you know the very thing that you probably would you know be more better off building instead of the one that you had in your mind going into the boost yeah go go ahead it's free for all now okay so i think my advice to other people who are coming in is uh to just have an open mind like i said earlier on the kind of value that you can get from the Stellar blockchain network which is more like uh it's a network not just a bootcamp so i think this is that kind of perspective on the value of this bootcamp um i think something else just some general advice for founders out there i think my co-founder chris mentioned that it's really important to have a product that that's relatable that's easy to onboard that really takes out and abstracts away the some of the complexities of the early internet like anchor said and i think for me the other component which is something that i found to from phone bank is solving problems in africa right now you know and a lot of those problems are how can we get more young people jobs how can we get more young people earning in the gig economy how can we likely leave them of some of their daily expenses whether it's air time or data or whatever else you know just whatever it is you can do to help these young people their pockets and they are not living i think it's really going to go a long way in addressing those problems and and as someone who's running growth activities for phone bank it really makes it easy to sell the product i'm having the easiest time selling the product because i'm just telling people look this is something that could help you uh save up on your airtime and your data bills per month you know that's a very strong proposition so those two points for me i was going to say um you know i would encourage everybody to just apply apply for the bootcamp you know don't you know i mean yeah just apply because i think you know once you sort of get over the hump of application and you get accepted it sort of unfolds and unfolds itself where um you know the the amount of support um both technical and just emotional and you know everything comes into play um but also um you know the opportunities that this wall sort of opens up like you said i think you know anybody who's in doubt as to whether this is a wave of the future or not needs to you really get with the program and so to be part of of of this sort of not necessarily wild wild west but i think that unfolding be part of that journey is very critical um and again you're we're all part of a network now of people who are sort of trying to figure this out together so you're not by yourself you're not alone um so again i'll just say please please please um apply um and opportunities will sort of you know one thing sort of builds up after the other you do this and then another opportunity opens up you know um you know through anki's um suggestion we applied for the berkeley accelerator program um and you know hopefully we'll we'll get into the program knock on wood but those are opportunities that we would never have ever thought about um you know if again we didn't even apply for the you know the boot camp so again please please please if you're listening just apply just start start the application and don't leave it too late make sure you hit the deadline apply yeah i love that i love that just apply and also you're not alone in the space like it's it's like there's like i think like because we're all here like we're all together at you know all struggling we're all like building on furthering innovation and it's not easy and so we're together as a community and also the stellar community i'm i'm i'm very closely connected with and i think that's a really great place to get started as well and you know like thank you for for your um i just quickly quickly wanted to because like one thing that's from ope and and also like wanted to hear uh since like what opportunities and kind of like in in the investment advice like a like what are their uh what are the opportunities like and into getting investment in this space look like and like what is your advice um for for for uh future bootcamp participants yeah i would um i would quickly talk about that um definitely webtree is very odds now and um clearly companies that didn't stop in this space as long as um there's a real job to be done for users um there are investors that are willing to back you but the challenge with a lot of entrepreneurs is figuring out how to reach out to those investors how do you get coinbase how do you get cracking how do you get you know Stellar on your captive um i would say this is one of those um those ways you can start getting to some zombies inwards so yes i'm following from those words yeah please click on that body i'm your business on webtree apply for the next bootcamp amazing all right well i've kept you here long enough longer than you wanted to um no but uh you know thank you so much to each and every one of you like i am i am so excited and i honestly like i feel very proud of what we've accomplished and i'm very proud of all of your um all of your growth i take it personally it's like i've been part of this process and i feel like it's kind of like part of uh of your growth so definitely um you know are very excited and also you know like going into that we have another boot camp coming up i am super excited um and i would love joseph if you wanted to i'm going to share my screen so we actually have some fancy slides coming up one second uh for joseph to present and then we can we can start to end the boot camp but not and this the discussion of um beautiful growth among these companies so joseph take it away yeah so you know it's like we've spent like the past like our floors talking about um the boots camp um and we're we have another one coming up um it's a three-day virtual boot camp um where we basically work with you know teams to go from you know your idea to a prototype in those three days and the idea is to basically help you like think fast and think through like some of the problems you face some of the challenges you face and then kind of come to like a very simple like you know solution that you can immediately like start playing around with um you get to work with mentors um you know whatever um idea you have you you'll have a mentor to work with you have the exciting amazing team from sdf that everyone has been talking about so far to also guide you um from anything you know from business cases to technical um challenges um and then even past like the boots camp you have all that support still you still have the community um you there's going to be a demo day at the end of the boots camp where you present you know your prototype and we are you know awarding prizes with the sdf for the foundation from anywhere from you know five thousand to twenty thousand dollars a lot of um excellent um and so and there's of course like funto has pointed out opportunity for follow-up funding um you know from a bunch of you know people including um the Stellar the wider stellar community itself um so applications are ongoing now you should definitely apply um you just go to the link as seen on this screen and apply we you know extended the application date again just so like more people can get get the opportunity so applications close on the 27th um so please please please do apply it's really it's it's like it's um it's it's challenging in many ways um but it's also like very rewarding i i can assure you and just like you know most of the panelists here said like it's it's really it's a really great opportunity yeah thanks you did awesome well thank you so much everyone for being here for sharing your stories for your experience and i really look forward to your growth as companies please keep me updated and stay in the stellar community and the sdf because the stf is also upcoming and definitely has a lot of opportunities this round um and yeah i'm excited to hear from you and definitely to all of future bootcamp participating participants watching applications are open as joseph mentioned and definitely apply so thank you so much again to everyone really grateful for your work and yeah let's stay in touch",
      "keywords": [
        "camp",
        "thats",
        "boot",
        "excited",
        "stellar",
        "thank",
        "great",
        "actually",
        "bootcamp",
        "wanted",
        "able",
        "other"
      ],
      "speakers": []
    },
    "2022-03-11-create-innovative-nfts-on.mdx": {
      "summary": "all right uh let me know when those streams live all right all right hello like thank you so much for coming and uh also thank you for bearing with us we had a few technical difficulties but we're able to get it started shortly you know welcome everyone to the workshop my name is uncle liu i'm a program manager at the Stellar development foundation and i'll kick off today's workshop and this weekend's hackathon you must know me from the many emails i've sent you over the past few days with the result of you either being here in person or watching virtually um and uh like so uh again thanks all for coming and uh let's start off a little bit about sdf so the stellar development foundation or sdf for short is a non-profit organization founded in 2014 to support the development and growth of the open source stellar network and with seller stf seeks to unlock the world's economic potential by making money more fluid markets more open and people more empowered the foundation helps stellar maintain stellar's code base supports the technical and business communities around stellar and provides thought leadership to regulators and other stakeholders so what is this network that we're looking to support stellar is an open source blockchain network with the goal to provide financial infrastructure that's fast cost effective uh resilient and most importantly available and accessible to anyone regardless of where they live and this is really important individual individual payment schemes are currently not interoperable in the traditional financial system and this leads to high fees and delays especially when transferring value and it's also inequitable as it excludes billions of people who currently do not have access to traditional financial services blockchain technology is challenging us to think about money and value in a new way presenting the opportunity to make it better more effective and more efficient its use cases go far beyond just investing in cryptocurrencies and in much the same way that the internet democratized access to information stellar uses blockchain to democratize access to the financial system and it can make sending value around the world as easy as sending an email Stellar was founded in 2014 after bitcoin and ethereum oh sorry i think my mic had some of my hair and handles millions of transactions each day submitted by businesses banks governments and developers like yourselves all over the world to build innovative financial products and services to date there are over 90 2000 unique assets issued on stellar and there are over 6.6 million accounts in existence and in 2021 alone uh the network processed over two billion operations from which 155 million are payments and this shows really that the network is built to scale and is actively used and a stellar is an energy efficient syncing mechanism specifically designed for remittances and payments transactions are processed within seconds and cost way less than a penny so what can you actually do with stellar on stellar you can issue your own assets as tokens on the network think stable coins like uscc cryptocurrencies real estate and of course nfds practically anything then you can also trade these tokens peer-to-peer using a built-in decentralized exchange or the recently added automatic market maker functionality you can also transform currency as you send it which is a powerful feature for cross-border payments but let's get back to why you're all here today the stellar nft hackathon as the main sponsors of this year's south by southwest financial 3.0 summit the stellar development foundation is sponsoring a 48 hour hybrid hackathon starting right now that challenges the experience and newcomers alike to build a project on stellar that incorporates the use of nfts so we have ten thousand dollars worth in prizes uh worth of excellent prizes excellent stellar's native currency and these prizes will will be awarded to the best implementations of the following challenges that combine the best of art and technology so let's start with the artist challenge so first up we have the stellar nft artist challenge where you will create art based on a prompt and mint it as an nft enlightenment which is an nft marketplace on stellar and so the art prompt that we'll use for this challenge will embody the spirit of the metaverse so there is a very different many interpretations to what the metaverse actually looks like so we encourage you to explore your inner artists and create an image video or audio file that reflect your version of the metaphors in whatever form it takes awards for the most stunning nfts will be uh willow win awards totaling fifteen hundred dollars worth of xlm allocated by the stellar dev and nft community and to participate in this particular challenge you can scan the qr code or enter bit.li stellar nft artist and register but more relevant to this workshop we have the stellar nft wizard challenge where you will build innovative nft experiences on stellar go beyond just buying and selling and explore how these composable nfts open up opportunities for you as a developer prices totaling 8500 worth dollars worth of xlm will be awarded to the most interesting implementations so to all of you watching right now head over to stellarnft.devpost.com and make sure to register today the deadline for both of these challenges is sunday march 13th at 2 30 p.m central time so go out there and build something awesome and all communications will be in the stellar developer discord including the live chat for today's workshop so uh definitely i recommend if you want to ask any questions please scan the link or head over to the steli developer discord and ask your questions in the workshop um live chat and all of the virtual identities and in personalities should have received an email with that link as well so if you're not able to scan it uh please uh look it up in your email and now i leave this up for a bit while i give the word to tyler to actually start our nft workshop all right i will add my welcome thank you all so much for attending thanks for your patience while we got ourselves settled we're here to talk about nfts nfts are an incredible economic innovation being developed on the blockchain but as with any innovation there's a lot of funk mixed in with the fresh it's my aim today to focus on some of the interesting use cases for nfts made possible by the incredible technical functionality of the blockchain they're built on specifically the stellar blockchain but who am i my name is tyler van der hoeven and i lead ecosystem engineering at the stellar development foundation i've been at the sdf for just over two years but have been building on the stellar stack for almost six years now i've built many various production and experimental products on stellar everything from games and developer tooling to educational resources and funding programs stellar is a vibrant and expressive tech stack able to handle an incredibly diverse scope of financial use cases before we get into the meat of the talk i'm going to quickly call out our stellar developer discord server as well and ensure that everyone has a chance to join that myself and the rest of the devrel team will be hanging out there this weekend to answer questions and help you as you continue your exciting journey into stellar and once you join that discord the server you're going to want to look look for is the workshop live channel for entering your qa we're going to have a couple of sessions for q a today so if you're in that discord server if you have as you have questions enter those into that discord server so we can get to those questions later on during our q a all right let's talk road map where are we headed today what will we be covering our talk is going to be divided into three main sections we're going to talk about kind of the theory and background nft's explained talk about nfts more specifically on the stellar blockchain and then finally we'll have a break in there and then and then finally we'll come back to actually create an innovative stellar nft so we'll get into the into the codes so so firstly we'll dive into nfts explain more generally so we'll define some terminology then we'll cover some basic technical underpinnings of nfts with a specific aim of ensuring that we lead with the tech of nfts and not the hype this is a cart and horse scenario and we must ensure the order is correct or will end up in the funk arena of nfts and that is not where you want to be finally we'll spend a little time covering a specific use case involving creator economies this is an area i believe is ripe for innovation and upset so as you're thinking through in your heads what might i build with nfts or what should i produce for this hackathon or even looking beyond this is an area that i'm particularly interested in the goal here simply to to properly orient our basic understanding of nfts as technology first before use case and then to hopefully ignite some excitement for what the proper orientation will then allow us to build next in section two of our talk we'll pivot our attention to observing nfts on the stellar blockchain we'll cover some basic stellar terminology to ensure we don't get too lost in the woods of mumbo jumbo from there we'll take a closer look more specifically at the stellar chain itself and its unique benefits as the host chain for your nft initiatives next we'll finally uh we'll spend some time dissecting an actual nft uh live on the stellar uh blockchain observe its anatomy it's technical composition finally we'll end this section the the second section here uh actually playing around with uh with the project that we're going to be building later on after the break the goal here to make a convincing argument for stellar is your chain of choice for your next nft project and to crack the door on what they might actually look like in practice after this we'll have some we'll have some time for some questions and then we'll move into a bit of a break finally we'll come back for section three after the break we'll come back uh start working on our project for the afternoon we'll actually dive into the code covering the the layout and design constraints criteria of our project to ensure that we're all on the same page for what we'll actually be building then we'll dive right into the code as i'll walk us through the repo that i've constructed for this project it'll be a guided tour if you will through the wonderful world of innovative nfts on stellar finally of course we'll end with a with that repo and a website where you can you can all clone that and play around yourselves in the hopes that that project will serve as a good launch pad for your own innovative nft projects all right nfts explained let's cover some terminology there's really only three main terms that i feel like we really need to define at the outset terms that regardless of whether or not you agree with me or not are fundamental to our understanding of the construction and utility of nfts and these terms are fungible non-fungible and smart contracts we won't spend a lot of time believering these terms i'm just going to define them for the context of this talk and then move on so first fungible fungibility is the defining characteristic of an asset able to be divided and interchanged indistinguishably from other units of that same asset so you can think about it like drinking from a glass of water you can sip more or less water but it's all just water each drop is indistinguishable identical equal to every other drop in the glass this is uh traditional this is like traditional currency so dollars dimes pennies it's just money divisible exchangeable and identical in value its utility is to be an avenue of exchange for something else it is not itself the commodity alternatively you've got non-fungible so non-fungibility is aiming to be a commodity or a collectible remember nft stands for non-fungible token so an asset intended to be held and enjoyed or at least to be a direct vehicle for those types of experiences non-fungible assets achieve this in their nature as indivisible assets where each one is a whole on its own distinguishable and unique where fungible assets behave like water non-fungible assets behave more like tickets both opening access to experiences and each one being unique at some level even as there may be tickets to the same experience each one may be for like a different seat finally that brings us to smart contracts the final essential term in the in the this sort of trifecta of nfts more generally and this i define as a decentralized computer function controlling cryptographic accounts this is the the experience engine of our nft nfts are the ticket unlocking the experiences as defined by these smart contracts this is where all of the innovation lies in our work on nfts this is where we begin to do things others could only dream and hope for in previous generations what blockchain gives us is decentralized cryptographic computer functions is this this ability to unlock an entirely new way to interact and transact within our communities let's dive into that a little more so nfts let's talk about nfts explained we start at the the fundamental foundational layer this is the the programmable contractible decentralized ticket concept we can move safely and powerful into a new realm of behaviors so asking questions which must always return consistent results these aren't necessarily new questions but they've never been decentralized and assured to be consistent before there was always some third party entity in the middle able to alter state change the narrative disrupt the experience what nfts give us is a tech stack on which to build consistent programmable experiences without disinterested or potentially or eventually nefarious middlemen and this is a revolutionary concept and i really want to i really want it to sink in and it's tough because nowhere else in our world do we operate like this absolutely every internet interaction that we have today operates on fluid fundamentals prices change fees change morals change availability changes culture and ease of access change nothing is consistent but math is computer programs are smart contracts on chain are tie that to internet experiences and you've just changed for the better every online interaction for everyone everywhere instantly no if you're not getting it yet let's look into an example modern creator economies so consider all the big social media platforms of our day instagram facebook tick tock youtube etsy spotify twitch the app stores these are all the way that we entertain ourselves today these are the platforms where creators get paid it's where audiences pay to enjoy the art and creativity of their fellow humans it's a wonderful thing that these platforms exist but there's one singular fundamental flaw the platforms are fluid there's no consistency or guarantee the only thing that you can be sure of as a creator and consumer is that middlemen will squeeze out maximum profit margins between your money in and the creator's paycheck out it's unfortunate but now thanks to blockchain and nfts it's unnecessary the programming the contracts that run these these platforms could and should be run on chain wherever the transfer of value is involved consistency can and should be added to ensure the link between creators and fans is as close to peer-to-peer as possible and then all decentralized and and all of it decentralized such that no single third party can alter the fees shut down the content and suck as much life out of the experience as possible so alternatively to that what we have today let's consider enlightenment a decentralized nft marketplace on stellar which we'll observe in use in a bit the essential monetary transaction programming is all running directly on chain enlightenment the visual interface has been disassociated from the monetary compensation model artists and fans can connect directly via on-chain nft data there's a world of work to be done beyond just marketplaces though we really need to move away from just curation and discovery to deeper connections and interactions with those we already enjoy and appreciate so i really consider this to be a greenfield space for innovation and an entirely new way of looking at creator economies it's really a creator micro economy where interactions and experiences are much smaller and more catered directly between artists and fans living room jam sessions kind of versus just another picture and an endless feed of content nfts allow for this we just need to build for it so this brings us to our second section where we move away from nfts more generally and begin to look specifically at stellar so just like nfts more generally there are some terminologies some some terms that we should be familiar with before jumping into to stellar more deeply first is core core is the fundamental software stellar validators used to run the stellar blockchain all the features and functions describing what stellar can and cannot do live here in the core program that is stellar next Horizon the api access point unpacking core data into a collection of usable json endpoints for clients to connect with both on the browser and on the server for the applications we'll build on stellar most of your interactions when you're building stellar applications will be interacting with Horizon at some level another one that you'll see pop up a lot we talked about just a moment ago is lightmint this is our premier nfc marketplace which is pioneering nft best practices for the stellar ecosystem another one is ipfs interplanetary file system it's the de facto decentralized nft metadata database so it's not a stellar technology but it is one that we can easily integrate with when constructing our stellar nfts that's uh that's one you're going to see popping up a lot finally trust lines this is a stellar specific technology these are assets so trust lines are assets on stellar they exist as trust lines for an asset to exist a holder must first opt in by creating a trust line to the assets issuing account this is accomplished via a change trust operation which we'll observe later on when we dive into our project so these are terminologies you're going to see popping up a lot in different documentation and we'll cover some of these in more detail later on next why build on stellar there are many reasons you might choose to build on stellar not least of which are things like stellar being fast accessible affordable lean secure scalable compliance friendly and reliable however of all these significant benefits there's one often unsung hero in this entourage of excellence that i would really like to highlight and that is that stellar is equitable stellar is a purpose-built blockchain on a mission to become the global payment standard and at the floor of this objective is the fundamental technical requirement that stellar maintain accessibility the only way to become a global payment standard is if everyone in the world is able to access and benefit from the chain from this foundation of accessibility comes reliability but i don't i don't really mean or i don't just mean that the network stays up i more primarily mean the reliability that comes from the actual governance structure of the stellar chain blockchains are expensive and validators shoulder that cost the node's running the core software and actually providing the decentralization of our network in most other chains the compensation for this service is provided in the form of transaction fees where validators are paid by the network for running the network it's a reasonable model but it has one glaring flaw in that now validators are directly incentivized to ensure the network is maximizing their profit returns for running the network versus using the network so in this world high fees and inefficiencies are a good thing for validators on stellar this struggle is nowhere to be seen because the network validators have the same incentives as the users they derive profit from their own projects using stellar versus those validators actually running stellar validators are not paid by stellar they are paid same as you to build profitable businesses on the network this fosters a network of low fees and innovation for improving network efficiencies when we all make money the same way we're all aligned on the same mission we have a recipe for consistent reliable and an accessible an accessible network for building long-term legitimate profitable businesses finally let's let's move away from theory to some practice uh what does an nft on instiller actually look like what are the components necessary to pull one off there are three primary components an nft issuing account the nft metadata or the the link to the asset and then there are there's nft issuing criteria or the smart contract things like timed auctions the royalty payments will be building today also things like holder restrictions if you have different controls on your asset i'm going to walk through the anatomy of an nft on stellar quickly so we're going to jump off of our slides for a moment so this is over on lightmint this is one of my nft projects that i built way back when i was getting started it's just a very simple um algorithmic created pixel glyph there's some neural network that's running you can see did a little phrase and it'll build you an interesting nft so it exists as an image a title description it's got some tags and stuff if we scroll down here to our details you can see the ipfs hash right here which would hold if we were to click on that it would pull up an actual json file this is this is a kind of standard way of describing an nft from an ipfs hash so it's got that title description an image link if we were to actually open up that image link you can see the the picture here on ipfs if we open up the uh the actual asset on stellar so i'm going to open up stellar expert which is a blockchain explorer for stellar you can see the asset right here we've got our issuing accounts kind of hidden behind this our issuing account right here you can see that ipfs hash that's been associated with our issuing account so a stellar account issues the nft other users can then open up a trust line for that asset at which point the nft can move to that account whenever it's sold uh there's there's a couple other pieces of information here if you scroll down you can see some of the history of the nft some different operations for when it was bought and sold we've already mentioned the the ipfs hash there you've got that asset code but all kind of going back to that original issuing account and then when you're on lightmint it's just providing this visual interface to something that exists on chain so if lightman were to go down you could very easily spin up some other interface and begin using Horizon to pull in that in that information to pull in that data and show the uh show the nft again so that particular nft is really primarily it just deals in those first two elements uh an nft issuing account and the metadata the the issuing criteria or smart contract ability of the nft when interacting directly on the sterile will be somewhat limiting in that particular scenario you have the native stellar decks for buying and selling nfts but that's about it if you want to add more conditions to the experience of your nft you'll need to look beyond these vanilla nfts and move into the realm of what i'm calling innovative nfts where you combine arbitrary smart contract logic with this basic issuing account and stored metadata for that we turn to a project that i launched in fall last year so nft.klpl.com i've got a couple of innovative smart nfts that i've built we'll go ahead and take a look at that i'm going to switch over here again so i've got a few of them i became interested in nfts background august of last year and began just kind of poking around at what they were what you could do with them quickly kind of got bored of just making art and putting it on chain and wanted to do something a little different more interesting more programmed and that's where smart nfcs came from the one that we're going to look at today is called the dig i've only done three of these but they're all quite different so i leave it to you to explore the rest of those but if we look at the dig this is a an nft experience so it's like a social experiment experience nft it's this singular nft that's this pixel grid 40 by 40 pixels and the way that you interact with it is actually by purchasing individual pixels off of the grid so users will come in they pick they kind of use the interface to poke a couple of pixels the ones that they want to buy and then as this uh pic as this nft kind of becomes minted as it gets as a as these plot tokens is what they're called get purchased you get closer and closer to the final nft you can see right here we've actually got a few uh left so the final nft hasn't actually minted yet um does look like they've kind of uncovered the wizard in the middle so the secret's been revealed i guess if i were to log in with my albedo account which is one of our if you've ever used metamask this is kind of similar you can see my my plot token that i purchased somewhere down in here so there's a couple of different things going on in this particular smart nft or innovative nft and that is that there is an nft that will be minted but only after certain conditions have been met and in this case there are two first all of the pixels have to be minted for this final nft to to be minted and then second if you actually want to get this final nft you have to hold one of these plot tokens so only plot token holders only people who participated in the dig will actually be eligible to hold or claim this final nft and so you kind of set up this arbitrary logic within your smart contract which create this interesting experience for an nft if you go and read our drop document here you can see i've outlined all of the different criteria you know what's going on for this nft the different operations within the command if you go and look at there's a guest that has the the actual code for the smart contract there's actually three different commands in this single smart contract one for digging up plot tokens one for minting which you can't actually run yet because the nft hasn't been fully dug and then there'll be another one that'll open up as well once the mint command has been run where you can issue yourself for free essentially that final nft if you hold a plot token so you can go through these different functions here that actually provide the criteria under which those individual commands can actually be run so again i've done a couple of these they've all been a lot of fun um to really start to explore what can we do beyond just putting art on chain you can build these little microcosmic experiences these little games where yes it might be pretty focused there may not be millions of people that interact with this but you don't need that if you can build something interesting and something focused you can get your small community your people to get engaged with the content that you're generating without having to go through any specific third party next uh so that's that's the the kale pale collection it's it's quite fancy but it's a little bit too deep for our first stab at an innovative nft for for our time here uh this afternoon for that we're finally going to turn to the afternoon's task at hand and that's the project that we'll be covering today an innovative royalty payments nft project so i'm going to walk through this real quick before we uh have some questions again if you've got questions make sure you're in that discord pop those into the chat we'll answer those in just a moment but i'm going to walk through the project that we're actually going to be building today so this is a royalty payments nft project so i've got an account over in our gorgeous interface i've got a user account that i've generated so this is this is going to be the original minting account for the nft or the nfts that this account mints if you remember each nft has its own issuing account so we're going to go ahead and generate a brand new issuing account which will be the the host of our new nft that we're about to mint the next thing we're going to need is an ipfs hash and i'm using nft.storage to host my uh nfts the images and i've gone ahead and uploaded one here i'm gonna grab that we've got our new issuing account right here funded we'll put in this ipfs hash and then we'll click mint and when we do that ipfs hash will be attached to the issuing account that we just generated up above kind of bundling it all together and then issuing my user account this brand new nft so we'll go ahead and do that and this is actually happening right now on chain all of these nfts are actually going on to it's right now the stellar test net but we've actually literally gone and minted a brand new nft um on the stellar test net so there it is that's my nft i'm going to go ahead and sell this i'm going to sell it for 100 xlm you'll remember that we're actually adding a 10 royalty so what's 10 of 100 it's 10 so this nft will actually be being sold for 110 xlm if we go and open up an alternative browser here i'm going to pull this over i'm also going to open up browsers to work with let's go ahead and refresh this we should see that nft available for sale right there we can see those nfts available to purchase i'm going to go ahead and buy this one so this is we will go down 110 here and we should go up 110 for the account that actually owns it so we'll make that purchase over on this page we're able to sell it now because we're the owner if we refresh this browser over here and i'm actually just going to shrink this down for a moment we can see that that now has 110. if we sell this let's say we'll do 50 they're going to sell their xlm at a loss bummer and then we'll refresh this page we'll should see 55 because it's the the 50 plus the five for the 10 royalty and if we buy this what should happen this account should receive 50 and this account should actually receive five because the royalty payment is going from the purchase here where five goes over to the original minter as a royalty payment and then 50 goes to the user who's actually selling so we should see this go up by 50 and this one should go to 10 1 5 and that's exactly what happened so our contract is working uh the nft is actually being able to it's being sold between these two accounts so these two accounts interacting directly with each other not involving the minting account at all and yet this account is consistently receiving its royalty payments as the nft is sold by other users so this is uh this is what we're going to be building today after a little bit of q a so if you're uh interested excited intrigued uh i know i am uh but before we before we go to that we're gonna we've kind of gotten a taste we've gotten a nice overlook of nfts in general nfts on stellar we'll take a a quick moment for some for some q a off of our discord uh server we'll take a break for about 15 minutes or so and then we'll come back for our afternoon of actually looking at looking at the programming looking at the code all right do we have questions off of discord are we good let's go ahead and start oops let's uh let's start with um some discord ones nope no in fact the application we'll be building will not be fully decentralized for sake of making it a lot simpler to actually uh initiate but adding decentralization um isn't super difficult so it's but it's not required for the hackathon  yeah sorry the question is does the uh go let's go back just real quick to the first question so that i can read that off again no no just uh ask me the first question again just so i can get it for the folks on online does it need to be fully decentralized so the question was does the application does the hackathon app need to be fully decentralized for it to be valid and no it does not um it's fine if it's running centralized so long as it's actually on stellar um and then the second question was do they need to have like a user interface for interact there needs to be something that we can actually test and use and building a gui is probably a really good way to do that if you've got like api docs that might be sufficient but there has to be something for us to actually uh test and play around with so i would say a soft yes there needs to be something to play with good question anything else all right do we have any uh questions from the audience anybody have anything pressing on their mind before we uh move to a break all right perfect we will move to a break and then come back in about 15 minutes or so and start diving into our actual project all right we're gonna jump back to our seats or you can stand you know if you want all right so who's ready to start getting into some code before we do though i've got two slides left that i want to cover about both the technical blueprint for a project along with the relationship between how our seller nft uh exists and it's like the relationship between our seller nft and what i'm calling the nft auth server so first the design of our nft so what we're going to build what we're going to build is an application that configures an issuing account attaches metadata to it issues that nft and then finally obviously it will require that all sales of the nft sends back a 10 royalty payment to the original minting account whenever the nft is sold next how we're going to build it there's going to be a client interface so this is the website or marketplace for our royalty payment nft and we're also going to build an authorization server so that'll be that the authorization server auth server is a stellar transaction builder that opens and closes authorization for our innovative nft ensuring that royalty payments are in fact being issued whenever the nft uh is sold so finally tying this all together let's talk a little bit more about uh about our auth server as it relates to asset authorization controls so there was a question about decentralization so let's talk about that just a little bit seller's design includes account and trustline controls there are a few different types of controls that assets can have but in our case we're going to configure full control where an asset exists as an entirely permissioned asset its movement then its ability to be bought sold and even held is entirely under the control of the issuing account this will allow us to insert our royalty payment logic in between some authorization operations when building stellar transactions so the transaction building will be taking place on our auth server right now this auth server will be hosted by us not very decentralized but for those taking notes this liability can be removed right now via an ecosystem initiative called stellar turrets which takes the auth server smart contracts that we'll be building and executes them on a decentralized network of servers alternatively the seller development foundation sdf has recently announced an exciting new initiative code named jump can it project jump canon which will bring this auth server functionality straight to layer one so in a word smart contracts directly on stellar with our nft design understood and the foundations of asset authorization laid we can finally turn to our code editor to begin walking through the repo containing our innovative royalty payments project so i'm going to switch real quick to mirror my displays so that i can code here so inside our project and i'll give you the repo if you haven't already found it yet some of you aggressive personalities probably already found my repo but i'm going to be walking through the repo i'll share it with you afterwards but try and follow with me as we walk through the project that we have and then when you get your own version of the repo you can kind of dive through what we've got so we've got two different directories here one is our client and one is our server the client obviously being the front end of the application and the server being the back end auth server for our application let's go ahead and start on the client side so this would be the website when we load in something like our application not sure why that's there we go and so let's walk through that i've put some comments in the most um used parts of the uh the application so i'm not going to talk about css or html much today so we'll go ahead and close those ones up what i want to walk through more particularly are the actual methods that we're using to mint an nft and then offer or trade the nft so those are the two primary functions happening in our frontend application right where you can mint a brand new nft and then you can offer it for sale you can buy it so there's really just two interactions but the first thing before we can even get to that minting of an nft is when we actually click generate for creating a new public key so inside of methods i've got three javascript files that i want to walk through the first one being creating an account so this this is triggered by the buttons that you click when you generate or regenerate kind of create a new user account and that lives inside of this method right here so let's walk through it and a lot of this is like once we've covered one of these the way that you build stellar transactions is kind of always the same so it'll start to feel a little bit repetitive but that's a good thing when we initially create an account what we need to do is generate a brand new key pair so 910 here we generate a new public private key pair for for stellar and since we're on test net we can use friendbot to go ahead and create that account so that it exists on changes because you have a valid public private key fair doesn't mean that it automatically exists on chain you need to fund it you need to get it into a state where it exists on chain it can begin to receive or be the issuing account for an nft or hold nfts so we're using friendbot here to do that where we actually get some free it's kind of like a faucet if you've ever used those before get some free test net lumens so we call that then we're going to load up the account to get its status as on chain so after we've created it we can then call it to load up its current state on chain if we're clicking the button where it's just generating a new user account we go ahead and exit out of the then statement and we just say super duper thanks for the new account and i'll assign it to my user um that's what happens when you click on this generator regenerate button right here if however you are actually creating a new issuing account we need to do a little bit more uh what we need to do is create the account and then we actually need to associate a brand new signer to that account so stellar has a multi-sig built right in at layer one where you can attach multiple signers when you initially create a public private key pair the secret key you create for the public key those two things are connected when you go and fund it that private key is what gives you access to do anything with the public key make payments send operations etc but you can also associate other private keys other keys to that account where they also will have control over that account and in our case that's what we need to do remember every nft has its own issuing account so in your nft project scenario you've got dozens hundreds of individual nfts but each one of those needs to be controlled by this authorization server where it's kind of inserting itself in the middle saying like oh before you do anything we need to make sure that if the sale is happening that an nft a royalty payment is going back to the original mentor you can't just do whatever you want with this nft there's an authorization server sitting in the middle that's ensuring royalty payments go out whenever it's appropriate and so for that check to happen you need you need a signer but rather than storing hundreds and hundreds and hundreds of secret seeds in your database we're going to attach one to every single issuing account so every single new nft that we mint we're going to add this same authorization server signer that will now act as the intermediary sort of saying okay i have permission to sign for this nft anytime you're trying to do something with it and so before that can happen we need to add this signer to each of these new issuing accounts and so that's what we're doing right here on line uh 28 through 33 we're adding this new set operations operation so right here in this block in this if block we're building a new transaction for the new account that we just created we're on testnet here you can read a little bit more information about fees or network passphrases and then on this transaction we're adding a single operation and this is the set options operation where this signer is added this signer comes from an environment variable on the client side which is the public key for the auth servers signer that auth server signer again being that single signing key that will be attached to every single new nft that's minted so now the auth server has control over every single nft that's being issued hopefully this is sending off some red flags in your mind this is where the decentralization piece will come in right you don't want one account controlling every single nft on your platform so in the stellar turrets model which i mentioned before you actually add lots of different signing keys each holding a different weight of the threshold right so if the if the account has let's say a weight of 10 and each of these signers has a threshold of one you would need 10 to agree before anything could happen with that nft in the on-chain smart contract model the actual account itself would be controlled by the code there wouldn't necessarily be some signer it would be the contract itself which would control the account the the contract would act as a signer and so this right here super useful really interesting but this is where the decentralization piece becomes really important if you were to try and ship this more widely moving on after we build our transaction we can then get it signed and then submit it to the network where this issuing account now has the signing key for the authorization server at that point our account is fully ready to have nft data associated to it and that's where api mint command comes in so we move after we create our account we go to api mint this is what comes in whenever you have your ipfs hash input there will be a button for minting that will pop up we don't want to mint until we actually have an ipfs hash so if we actually were to click this i don't think abc is probably a valid ipfs hash but my check is not particularly uh intelligent there's something here and so then the mint button becomes available that button fires off this api mint uh function inside here we're actually all we're doing is calling our authorization server because we need to set up this new issuing account with the ipfs hash that we want to attach which becomes the the representation of what our nrft actually behaves as so this we're going to look at this on the server but this is a a fetch command that's made to our auth server we're going to pass it the user account the issuer account that ipfs hash that we uh we input and then it's going to go to the auth server the auth server is going to make a check make sure everything looks fine it's going to the out server is actually going to build the transaction so we don't build the transaction on the client side we want to really be sure that the transaction that's being built is exactly what we want it's kind of the building a smart contract on the fly if you will so the request goes to the server the server will build this xdr will build this transaction the stellar transaction according to whatever your smart contract logic is and then send that transaction back to the client for any final signatures that might be needed for that transaction to be valid in our case the user needs to sign it and we'll look at why that's the case in a moment when we go to the server to see what transaction is actually being built finally then just like before once it's signed we can submit it to the network at this point i think it's probably worth actually going to the server and looking at what's going on here there's not a lot that's going on inside of our server we have some environment variables which actually denote those signer secrets there's also a sponsor secret which we'll look at in a minute but this is the signer secret this is the actual signing key that will be the authority for all of the nfts that are issued from our project this is the signing key that will be that will be added to any xdr in each stellar transaction xdr seller transaction same thing that will be generated from the back end of our application from our auth server we've got an index here which is our router just a very simple collection of some routes you can see contract right here and then based off of the command of mint or offer it'll go here and then there's a little switch statement if it's a mint it runs the mint function if it's an offer it runs the offer function and those exist inside of the contracts directory and so let's go ahead and look at our mint function here on the server and so this is going to look kind of familiar remember that the stellar sdk that we're using this stellar base in this case works on both the client and the server side so what you will build when you build transactions on the client it'll be very similar to how you build it on a server we go ahead and instantiate the function here this mint function we can gather our arguments you'll notice these look very similar to what we passed in on the client side we gather those put them into some consts we instantiate nft as our asset this is going to be the nft asset that we're actually going to issue that this issuing account is going to send out it's going to be called nft that'll be the code for it and then we go and make a quick fetch on Horizon itself looking up this account got to make sure that it actually exists and then once we pull in that information we can begin to use that account's information so that the user account they're going to behave as the source for any fees that are incurred when we actually submit the transaction to the network and then once we have that it's time to actually begin building out our transaction so stellar transactions exist kind of these envelopes that you put operations into transactions on stellar are atomic which means you can put lots of different operations into a stellar transaction this kind of chain of events and either all succeeds or it all fails together you don't kind of have a partially successful stellar transaction the whole thing succeeds or fails together and this allows you to build some really complex and relational logic in your transaction you can build you can include up to a hundred operations so that's a lot of logic that you can include into a seller transaction and again it will all succeed or fail together you kind of you don't have to do this like oops it failed at this point now we need to like reverse go back up the chain and undo whatever we did before and this becomes really important when we start getting into the offer contract right here we've got a collection of these different operations inside of our mint contract and the first one you'll notice is set options where we are setting flags an inflation destination and then the source the flags here this is where we're actually locking down the issuing account we're saying this asset is an authorized asset it's a controlled asset no one's allowed to do anything with this asset unless the issuing account permits it unless we say so you can look there's a couple of different flags that you can set inside of the set options you can look those up later but 15 that's kind of our max right now we're i'm allowed to do anything is the issuing account i have full control over this asset the inflation destination uh stellar used to have an inflation mechanic that was uh retired by the ecosystem decided that it wasn't all that helpful but there's still a field that exists on stellar accounts that you uh i'm kind of now sub-opting i'm taking it over and i'm using it to store the address for the the original mentor so that when we come back in the future and we're trying to make offers i know who am i supposed to send the royalty payment to this is where i'm going to store that so i'm going i'm gonna go ahead and include it right here the user account the original minter next up we've got a manage data operation where that ipfs hash is being stored nothing fancy going on there you've got a name and a value so ipfs hash so we know what it what key to look for and then the value of that we're going to change trust if you remember trust lines this is where this is going to come into play you've got we're going to put this on put this on the user account the user account now is opening up trust for the nft right so the issuing account in this minting transaction is going to the nft is going to exist but a user still needs to trust it the user doesn't hold the nft yet the issuing account needs to send it but it can't send it unless the user trusts it first so that's what we're doing here in change trust we're opening up a trust line for the nft next there are trustline flags this is where this is kind of the magic part of an authorized asset anything that exists between the set trustline flags authorized true and authorized false this is kind of the what do i want to allow that i couldn't if this asset were not authorized so because this is an authorized asset now i'm allowed to insert arbitrary logic in between in our case it's a royalty payment so i'm trusting the user account to hold this asset yes they're allowed to and inside of this authorization i'm making a payment i'm going to send to the nft now that it's trusted i'm going to send the nft back to the user for for one one nft that they're going to hold and then i'm going to lock that asset back down immediately so they can hold the asset the asset exists in the user account but they're not allowed to do anything with it they can't burn it they can't sell it the only way they're going to be allowed to do anything else with this nft is to go back to the issuing account and get some authorization to do something with it so at this point again because it's atomic you kind of have this chain of logic that's going down of these different operations that are happening we open up the trust line we authorize it we send the payment and then we de-authorize it so the user now has it once this transaction executes but they can't do anything with it finally then we've kind of bundle up this whole transaction into the the xdr that we send back to the client so this is where we take that transaction we convert it xdr is kind of like json it's a little bit more compact but same sort of thing where you're just taking some instructions and encoding it into a nice little package that you can send back to the to the client in this case so that is our mint um method and so at this point once we've minted an nft the user holds that nft they can't the the original minter holds that nft they can't do anything with it except whatever the authorization server allows for and the only thing in this case in our case that the authorization server allows for is this api offer function and this is where you can start to get really creative like minting the the process that i've used for minting will kind of be the same you need to have an authorized asset that you can now control what it's allowed to do so that people can't just bypass your royalty payments or whatever other logic you have but after it's been authorized after you know that you have an asset that is off controlled now you can insert whatever kind of logic you want in our case we're going to do royalty payments but you've seen previously i had a whole bunch of random arbitrary logic inserted between authorizing open and closed in different transactions so this is where you're really going to start to look at what kind of creative interesting things do i want to do in my case it's royalty payments so let's look at that when you actually go to uh on the client side so we're back inside the client application we've got this api offer method so let's just walk through it briefly you've got a sell side or a buy side so there's two things that are going to happen when you have an nft either you're going to be selling it or you're going to be buying it those are the only two things you can do uh and if you're the only way you can buy it is if somebody else is selling it and so we're going to assume that if you don't have it if you if you do have it that you're selling it and if you don't have it you're buying it right so there's it's a one of one nft and so if it does exist uh out there as an offer you're going to be trying to buy it otherwise if you have it you're going to be trying to sell it and so here if you're selling it you can enter the the sale price for it i don't actually have any nfts at the moment i think if i go to one of my i think this one holds it at the moment so i can go and sell that that little modal pops up we'll put in that hundred and then this one will be for sale and we can move into seeing that on this page here where we have the option to buy it so when we sold that right then this is the modal that popped up we're on the buy we were on the sell side we configure our price we make sure that the price is actually something valid we need to go and find the issuing account because that's the account that's going to hold information about who the royalty payment should be going to uh it's also going to include what nft are you selling and do you actually own it do you have the right to sell it next up we actually call the uh the auth server contract offers we have mint and we also had offer this one is offer we've got a couple of different arguments here you got your user account issuer account the offer ID you can delete open offers otherwise you'll be creating a brand new one the price that you're inputting um in our case that was uh that was 100 and then depending on whether or not it's a buy or a sell you're either going to be buying an nft or you're going to be buying i guess xlm right so it's always going to be putting out this offer of i want to give an nft and receive xlm or i want to get an nft uh and give xlm these are some of these things are hard-coded if you wanted to get more complex and do other assets you absolutely could it doesn't have to be done in xlm you can use other assets there's loads and loads of them as you saw previously in our example to keep things simple we are doing xlm for nfts but just be aware that it's not that difficult actually to open up uh access for for assets other than just native xlm then just like before we're going to make that call to the auth server everything's going to we're going to check everything make sure it's all legitimate then that auth server is going to build a transaction and send that xdr back to the client the client will then sign that sign that transaction and submit it to the network so this point we should actually look at that particular contract over on our server so this is the this one right here is the offer so there's a little bit more going on here but it's not still not that complex essentially we're trying to achieve the same thing we're trying to build an xdr which is either going to sell an nft or buy an nft depending on this the state and the requester the actual user account that's coming in and the whether or not the that user holds or is looking to hold the nft so we set up some very basic checks we get the parameters from the request maybe some of those comments and then what we do here very similar to what we did before we go to the Horizon we load up the account the user account is going to be the source of this transaction so they will consume any fees again for this transaction then we're going to look up the nft balance for the user account again this is going to be this toggle that if you hold the nft you're going to be a seller if you don't have the nft you're going to be a buyer we need to make sure that the user regardless of whether or not they're buying or selling like you can't do anything with an nft if you don't hold it remember we need that trust line opened to be able to do anything with this nft so the very first thing we're going to do is check if you don't have an nft balance we definitely need to open up a trust line for that so we do that first the next thing again regardless of whether you're buying or you're selling you need permission from the auth server to do anything with this asset and so we're going to open up that trustline flag again and say as long as this trustline flag is open so long as you have permission you're authorized anything that comes next you're allowed to do and then we'll lock it back down again at the end and so we open up that kind of regardless of whether you're buying or selling you're going to need permission so we're going to open up that authorization and then we do the toggle of whether or not you're buying or you're selling if you have an nft balance and that balance is greater than zero if you hold the nft then you are going to be trying to sell it we're going to grab and we're going to begin so the sponsor account we'll get to this in just a minute this is actually something very helpful when we're starting to deal with Horizon and showcasing data so we'll skip that for just a moment and come back to it but if you're a seller of the nft the thing that you that we really need to be doing is is manage a sell offer so there's a stellar operation called manage sell offer where you take a selling asset and a buying asset an amount that you're trying to sell and the price that you're trying to sell it at and then the offer ID in our case is going to be zero if it's not zero you're going to be deleting the offer but if you're creating a brand new offer then that will be zero so essentially you'll be selling the nft buying xlm you'll be selling one whole nft for whatever price you set on the client side and then we're going to close that sponsorship again we'll come back to that in just a bit and so that would be the if statement if you are selling an entity the only thing that you need to do if you're selling the nft is get the nft up on the the stellar decks to actually put it up for sale so that other people can see it for sale and then offer to buy it and so if we skip this other else statement the only thing the only other thing that that that exists in that transaction is to close the trustline flags that we opened up at the very beginning we closed that so anything that happens in between in this case the only thing that's happening is the offer to open up that offer we lock that down now the offer exists on the decks but you can't do anything else with it you've been given permission by the auth server to put that nft up for sale but now you can't do anything else with it and so that xdr that transaction goes back to the client and then it can be signed and submitted so if we were actually that's what we did over here when we created the offer you can see delete offer that would obviously go take the offer ID send it back up hey we're we're going to delete that offer it's removed if we go back and we refresh we'll see that there are no nfts available to purchase at the moment so let's go ahead and put that back up so now we've got the ability to sell and delete offers as an owner of an nft but what if we want to buy an nft so we've got either we don't have a trustline open yet for this nft or we do but it's zero we don't we don't actually hold the nft yet in that case we're inside of our else statement right so we've got either we've got no nft balance or the balance is zero less than zero um that's when this else statement uh will will fire off and so in this case what do we need to do this is where things get a little bit interesting with our inflation destination when you hold the nft and you're offering it for sale there's no royalty payments involved right i don't want to make a royalty payment if the if the nft is not actually changing hands if nobody's actually purchased it if it hasn't swapped so in that case no royalty payment is being made the only time we actually want the royalty payment to be made is when a payment is being made when when the nft is changing hands and in that case we need to look up the inflation destination that comes again from our issuing account it's stored inside of the inflation destination from when we were originally minting and so we grabbed that inflation destination that's what's going to be used in our royalty payment here as the second op but the first stop we're actually using a path payment strict receive you might wonder why we're not using just a counter offer and that's because we have to be absolutely sure in this case that and that the nft is actually changing hands right can you imagine if we actually made a royalty payment using an offer but the offer wasn't actually taken but the royalty payment was so you would lose your money from your royalty payment but you didn't actually get an nft offers don't have to be taken necessarily especially if like the the offer maybe existed but they deleted it right as soon as you were trying to take it so your offer went up to buy an nft but there now is no nft to take but the royalty payment would still go through if we were just making an offer and now there's an offer to sell the nf there's an offer to buy the nft uh but nobody's at that point in time selling the nft but your royalty payment got taken uh that would be unfortunate so to cover that case we're actually doing a path payment strict receive and this consumes an offer it is guaranteed to consume an offer for whatever criteria you put inside and if there if it doesn't succeed if you don't meet the criteria of the path payment the actual transaction will fail and so this is a really useful way to ensure that the nft has actually changed hands before the royalty payment is consumed so in this case what's our send asset we are sending xlm and we're sending up to the price for whatever the nft exists as in our case it's a 55 lumens i think at this point actually it might be 110. but regardless that's the max we're willing to send the destination is our user account and the source is our user account the the user is actually doing like a self pay if you ever done a market order on coinbase or something this is kind of what we're doing we're essentially doing this like auto swap of an asset we're making a payment to ourself where an xlm goes out and an nft comes back the destination asset so what do we want to receive we want to send xlm and then have magically come back on nft and we have to receive we required we are required to receive one nft so the whole nft and if we if we don't then this operation will fail the whole thing will fail nobody will receive royalty payments and maybe we'll try again maybe the the seller of the nft is pulled back they're not actually selling the nft anymore and the whole thing fails if we do not receive this one nft then nothing else will succeed uh the path path payments can be used for other things where you can have like multiple paths multiple hops to go through in our case we're just doing xlm to nft so we don't need any paths and then finally that source again we're kind of paying ourselves using xlm and receiving an nft this is a way to consume an open offer but guarantee that we we consume that open offer otherwise the whole thing fails and we don't accidentally make a royalty payment without receiving our nft once we're guaranteed that we now have this one nft it's safe for us then to make a royalty payment again because this is all atomic this whole thing succeeds or fails together you can't you can't sort of uh time it or or interes intercept this transaction and say like oh i got my nft i'm going to kill this transaction and not make the royalty payment the whole thing succeeds or fails together and so at this point we have our nft in in this transaction at this point it's safe for us now to make the royalty payment we're going to make that royalty payment to the influence inflation destination for the selling asset in this case it's enforced to be xlm and what's the amount going to be it's going to be whatever the sale price was times 10 so if we're selling for 100 it's going to be 10 xlm once that payment is made we can then carry on with that logic of closing down the trustline flags uh the user now holds that nft but they are not allowed to do anything with it so we're kind of back where we started where some cool arbitrary logic has happened in our case royalty payments has been enforced but now we've locked down the asset nothing else can happen until the user then comes back and calls the offer api endpoint again and we offer it for sale again and then someone else can buy it again but the inflation destination being that thing that's always going back that royalty payment always going back to that original inflation destination and so at this point when we come back into our api offer again they get that xdr back the user will sign it the user needs to sign it because they're making a payment and we need their permission to make that payment so that user will sign with their key pair if you're using something like albedo or one of those um delegated signing services like metamask this is where that modal might pop up and they confirm that they actually want to sell this i'm encoding putting those secret seeds in local storage just to make things a little bit easier for the user but if you want to have confirm logic kind of like that web 3 stuff you can use those different delegated signing services where that secret account is a c that secrecy is managed by the user all right so at this point we kind of have really all of the logic through just those two functions and that original minting where we assign the signer to the the the auth signer to the new issuing account there's not a lot of logic here it's actually quite simple you might you'll probably want to do more interesting things in your project but a lot of times and this is actually true in most smart contract programming there really isn't a whole lot of fancy stuff going on there might be some complex math for some of these bigger d5 projects but a lot of this isn't very complex you've got a client service a user interface and some really basic logic the thing that's magical the thing that's really innovative is when you add decentralization when you have multiple machines running these lot running this logic to where you can't just shut this down and now anytime this auth server is called if it's being run by five different machines one decides i don't want to run this anymore the four others can continue to run it or in the case of a decentralized on-chain smart contract um there's there's thousands of machines that are running this and you can't shut it down the account is actually controlled by the machine not by a single third party so it's not that the functionality the contract logic is that complex it's that it's decentralized there's lots of people that are like okaying this that are putting their sign their signature stamp on this saying yes we we approve of this transfer of this asset i mean most of these are less than 100 lines of code and you can get away with some really cool stuff in this case enforced um royalty payments for an nft that can just exist it's out there uh it's on chain any interface that wants to show it and sell it can use the same logic to accomplish that it's it's quite fantastic and again not that complex there is one more thing though that i would like to cover uh and that's that it's it's true in any sort of defy application development where you're kind of it's not a fight but sometimes it'll feel like a fight between the the data that's on chain and how you actually build an interface around that data so you've got all this stuff happening on chain usually in a very efficient manner that can sometimes make it really hard to showcase that in an interface so in our case we have a bit of a challenge that i haven't discussed and that is actually showing nft nfts on the interface so when you when you have this ui how am i how am i supposed to show just the offers for my nft project just the offers that are for royalty payments why aren't all of the nfts on stellar showing up in this interface how have we gotten it to where it's only showing ones that are involved in in my project well the way we do that if we look at app.view again there's a method here called update offers and this is going to you guessed it update offers that that array of different nfts and this is an actual uh Horizon api call that's getting offers from the stellar blockchain so if we were to go to um laboratory stellar laboratory really quickly on test net and explore the endpoints here we can actually look at what this api endpoint that it's calling it's calling this one right here all offers now obviously all the offers is not what we want we don't want all of the offers because that's going to be literally all of the offers on sellers these are not just the ones that are involved in my nft project so how am i going to filter all of the offers on stellar to only show just the ones that are involving my project we might think you could filter by like some sort of nft code or something and that's actually a it's a good assumption so it's not a bad one you could maybe use like nft code or some some special code the problem is now you're open to an attack vector right so if you used the nft code where you just said like nft any any asset that uses a code nft is going to be part of this project or you could you could you know use your name nft the problem is there's an attack vector now that anybody else like if they want to like insert them their nft into your project they just need to name their nft after the naming convention that you've used so somehow you need to use something that's like official that's secure that only your project knows as a filter mechanic so that nobody else can insert themselves and say like i'm going to issue an nft that's actually a scam and get my way into your project this is a real legitimate concern when you're building projects in open on a decentralized network it becomes kind of tricky because everybody knows what your project looks like everybody knows what your asset codes are and so you have to use cryptography you need to use something that's like signed something that only you have permission to do to be able to build out filter mechanics for your ui so in our case what we're doing is using sponsorship sponsorship is something that exists on stellar where a sponsor will say whatever the the fee is to put this on chain right so uh you have to stake a certain amount of lumens to to hold things on chain so an account is one lumen trust lines and offers are half of a lumen to actually have them exist on chain on stellar and so a nice mechanic to to offload that from your users is to use sponsorship where your service account can say like hey i'm gonna i'll take the brunt for you i'll sponsor those things for your user account so your users kind of insulated from those fees but another nice feature of this is that sponsorship can only happen if it's signed for you can't just add a say like hey you sponsor my account please it has to be signed for i need to give permission for your account to be signed for so we can actually use this functionality to sponsor the offers for these nfts now they're signed for so that when we go to Horizon we say i would like to get all the offers i only want the offers that are sponsored by a specific account and that specific account is something that i the auth the authorized account controls and so that authorized server controls the sponsorship for each of these offers and now when we filter we only get the offers that are sponsored by our account and so if we go back to our code here inside of our offer logic that's what this begin and end sponsoring future reserves operations are where we're sponsoring the user account with our sponsor account and this is coming from an environment variable very similar to the actual um signing secret the the signing server uh that was controlling the nft this is a sponsor signer that's going to sponsor the offers for these nfts and so by wrapping this managed sell offer inside of this open and close sponsorship we now have a mechanic a secure mechanic by which we can filter our front end to only show offers that have been issued or that have been sponsored by this particular sponsoring account and you're going to see like there there's only so many there's a lot of these like little tips and tricks that can really help building out your front ends but you're going to find that if you're not careful building in public like this building on a decentralized chain like this there's a lot of little gotchas and this is really true on like fully on-chain platforms where it's i mean there's just so many little hacks that people can use when you don't control when it's not a centralized authority that you have complete control over everything you're going to have a lot of these little foot guns but by doing things like this where you're sponsoring offers and having kind of these little nuggets of control you now can have the interface the the user interface that you exactly specifically want so there's a couple of those sponsorship is a really good one you'll find a couple others if you go through the drop docs on my smart nft so kalepale.com you go through the drop docs you'll find a few more that will really help as you build out and kind of find yourself fighting a little bit between server and client and things might work great but if you're not careful somebody else could say like ha ha i've found a vulnerability i found a way to insert my nfts into your project if it's not fully signed for and secured so that's just a nice little feature here you'll find a few more but that's a really nice one um so with that there there are other pieces here but they're all commented pretty well again the the application's not super complex you've got a client and server there's instructions for how to run those i'm going to move now back to the slide deck i think this is a qr code for our dev discord we're actually moving into the hackathon part now so hopefully you'll be able to build some innovative nfts and actually get rolling on some of these interesting and innovative projects as promised there is a github repo if you go to nft.steller.buzz there's a link down at the bottom where you can actually grab the the repo for this and clone it and begin poking around get comfortable with the code feel free to clone this and use this as the base for your hackathon projects if you want to again if you go to those parts where the the your opening and closing authorization that's where you may start to choose to insert your own arbitrary interesting innovative logic with that we will move to any qa that folks have around anything that we've discussed uh today any any questions so the question is is there any mechanic natively on chain that allows you to ensure that you can't issue any more of an nft without locking the account so by locking the account you essentially remove signers from the issuing account such that you can't do anything else with the issuing account in so if you've issued if you've said to the world like hey it's a one of one nft but you've left yourself as a signer you could go actually in the future and issue more nfts um i don't think so right now on stellar without actually locking the account there are some things you can do uh with signers that would disable you from submitting specific operations like payment operations where you would send more nft so you could lock yourself out of those specific operations through the signing thresholds um but yeah until we get on chain smart contracts or you use turrets and give control of the account over to the turrets network i don't think so uh it cannot the the question was can the inflation destination be an array of strings for multiple accounts it cannot um but you don't have to use the inflation destination to store your royalty payment addresses you could use so if you remember back in the manage data operation managed data allows you to assign arbitrary key value pairs inside of an account and we saw we stored ipfshash in the ipfs hash for the metadata for nft as a key value pair in the metadata um you've got up to 1 000 key value pairs per account so you could store your royalty payment addresses inside of the set options or inside of the managed data operations for that account and just put a bunch of your royalty payment addresses inside of the managed data operations instead of using the inflation destination yes the question was can you submit a pre-authorized transaction so now we're getting into the weeds um so there are different types of signers that you can add to a stellar account the most obvious one is just other stellar accounts but you can actually also add preimages for sha 256 hashes and you can add transactions so actual transaction hashes so whenever you build a transaction xdr a sha 256 hash is generated and you can store that hash inside of the signer array of your account sort of saying i give my pre-authorization that if you can ever find this transaction again i give my permission to sign off on it and so what you could do in this particular scenario is build a transaction that re-enables your account that re-adds master signers that reconfigures the signing thresholds to your account at some point in the future that would then put your account back into a state where it could issue more nfts which could be a kind of interesting scenario because you could actually flip the script on that a little bit and say i'm not going to lock my account but i'm creating a pre-authorized transaction to guarantee that at this point in the future i will lock my account so give me six months to figure this out and then at that point i'm guaranteeing to lock my account with this pre-authorized transaction that i've like pushed to the public everybody can see it and in some at six months in the future we will be able to submit this transaction and it will lock the account or you can yes do the inverse of that and unlock your account with that pre-authorized transaction it's pretty cool feature but definitely an advanced one good question good any audience questions feel free if you if you have questions for projects you're working on we're kind of moving into our q a building session there are no dumb questions just you know people that didn't ask questions when they should have oh let me read that one let me read that one off offline that one sounds interesting we'll go ahead and uh and wrap up we have a happy hour coming up we're gonna i mean the hackathon has already started so get hacking keep building make sure you join our developer discord if you haven't uh we'll be around all weekend to answer questions i'll be milling about for quite a while to answer questions excited to see what you guys are building thanks so much for giving me your time super bullish excited about nfts hope you are as well thank you so much [Applause]",
      "keywords": [
        "account",
        "stellar",
        "actually",
        "thats",
        "nfts",
        "youre",
        "server",
        "these",
        "transaction",
        "royalty",
        "offer",
        "theres"
      ],
      "speakers": []
    },
    "2022-03-03.mdx": {
      "summary": "all right hello everyone and welcome once again to the stellar open protocol discussion um these meetings are for discussing core advancement proposals or caps they're technical specs that suggest changes to the stellar protocol and they allow the protocol to advance to evolve to meet the needs of the ecosystem they allow us to add new features to the protocol these meetings are live streamed so that anyone who's interested can follow along but again it's a technical discussion about these very technical caps so if you're watching you probably want to take a look at the caps that are linked to in the show descriptions along with the mailing list discussions about those caps today we're once again discussing the two caps we discussed last time cap 42 multi-part transaction sets which again has been revised since our last discussion um and cap 44 speed x configuration there have been a lot of questions on the mailing list about that um so this meeting again is just part of the caf cap life cycle um and a lot of open discussion about the caps actually happens on that mailing list again link to in the show description um so if you're really interested in joining the discussion please sign up for that mailing list and you can sort of see a lot of these questions come in and a lot of the answers are made there or they're sort of brought the questions are brought to this meeting um and so i'm going to sort of end it there if you want to look up anyone who is in this meeting and find out who we are you can see our names i'll let you do that on your own but in the interest of just keeping things moving along let's actually just kick off the conversation so first up we're going to talk about cap 42 multi-part transaction sets um this cap would give validators control over which fee policy to use for individual transactions including included in a ledger um and we actually discussed it previous meeting it was revised it was revised again and so i'm going to kick it over to nikola who made some of those revisions so that he can walk us through the changes real quick nico yeah thanks uh justin so yeah like the actually there was the changes i made were actually pretty minor um i mean expected given where we are um so yeah like the the changes were basically reflecting the uh what we discussed at the last protocol meeting so the the actual functional change in the cap is the um the use of the total uh on the sum of fibs as uh to to to sort um transaction sets um and then the other change is uh related to questions that um that we had uh last time and that were also raised on the on the mailing list around what does it mean for clients in particular we have documentation today that talks about using like um like the fee stats or the uh um like bidding as much as you can as a strategy and uh this uh needed to be tweaked a little bit so i i put a um possible approach to uh how to to do this uh with the after this new captex takes effect so like i don't know if people have time to review it i think i imagine actually that maybe lee that i think was not at the last protocol meeting maybe has uh some questions yeah i i did listen to the last protocol meeting and i think the conversation actually answered a lot of the questions that i had and i think you and it goes on the mailing list um i think the only comment that i had about the conversation where you know the wallets will probably change the pattern that they use to use things like fee bumps um you know if they need to bump the up the the fee they're paying i think realistically for your average wallet um you know fee bumps will probably not even be necessary it'll be more like you know you try to submit a transaction it fails and so you just modify the fee on your current transaction so you've got a new transaction and then you sign that again and submit it um the pattern sounds pretty clear um and i think uh the the only remaining question i have is do we need to discuss what the rollout will look like because given that um given that wallets will you know there is some change in expectations um you know what sort of lead time do we basically need to give the ecosystem to to adjust or learn about this new process right so like time i mean um yeah like as as long as people like you said like today i imagine that uh most wallets actually deal with like failures uh like timeouts of when they submit transactions uh but i i do agree that there is like some awareness here on this is about to change you may actually run into uh well you probably want to maybe reduce the the maximum bid for for wallets that are where people actually set very high bids which i think there are some i mean not very high but like you know like let's say one lumen which is very high for in today's standard um so yeah so there's probably some communication that needs to go out there too that people should actually not put like some very high number that they don't expect to to uh to pay and instead uh i think maybe aligned with what actually a lot of wallets are it seems to be doing a lot of what the common fee we see which is more in the 10 000 troops or something or 40 000 troops which is still some penny yeah i think i think a lot go with a hundred thousand which is i mean this is still fine yeah i mean there are still even with this new thing unless people are doing uh i think the the first wave of changes uh will probably be around but we discussed earlier in the morning is that was make it a bit more aggressive for uh like this those trading this kind of trading activity there is more competition there so if people are submitting uh at yeah like 100 000 troops they may actually uh end up paying that with the with this update for trading yeah um so yeah i don't know like i think it's more like yeah like a communication strategy and documentation i think that we need to work on just in terms of communication strategy and documentation are we imagining that it is possible that this cap could be included in protocol 19 or is this already something that might be for a subsequent protocol oh uh yeah protocol 19 i mean like ideally i think we we can put it in protocol knighting which will  i think at the current pace uh it looks like maybe it will be like in the at the earliest end of may which is quite a bit of time for people to adjust their wallets or their settings in their wallets yeah i also think the the lead time on using the feature doesn't have to be the same as the lead time on implementing the feature so if this went into protocol 19 but we do some surveying and it looks like you know that's not a realistic time frame for wallets like maybe we could maybe the ecosystem will hold off using the feature for some period of time right because validators would have to decide to use the feature and so there could be some readiness check where before any validator use of the feature happens there's just like a sort of coordination okay yeah like very like yeah exactly like those things will be enabled by flags on the validator so uh yeah there will be a an actual role i mean it means i mean it still means that if uh like after this change takes effect you if you have like one of the validators that decides they want to ignore the flags or enable the features anyways they can um but that's part of the like uh the uh audi trail that we have in the uh in the um in the archives on the on on behavior of your validity are there any questions about where we are with cap 42 but it sounds like we're in a pretty good spot i think we left it at a good spot last time and this addressed the things that came up so seems pretty much ready to me i mean i have one nit but it actually doesn't come up in this um in this cap um which is the way we indent our case statements is not compatible with git diff so as a general point maybe we should either like include both the diff and the actual data structures or we should like reconsider how we indent uh xdr files it just so happens that we lucked out and then this diff like there's enough context to read it uh properly but sure i think that that's a formatting issue right which we can sort of talk about offline cool i mean it sounds like with this cap it is probably ready to bring to a vote which i can do off which i can i guess we can maybe do at the beginning of the next meeting since jed happens to not be here today in which case i think we can move on and talk about we could vote asynchronously i don't think we need to wait for the next meet i mean i'm ready to vote and to move this forward so okay cool i'll i'll um schedule a vote asynchronously um and then we can share the results publicly um and that way we don't have to wait and we can sort of push that forward cool so i think then in other words cat 42 is ready to put to the cap committee for vote which is super cool um possibly for inclusion protocol 19. um but now it is time to move on to the next discussion point cap 44 um so cap 44 again is the speed x configuration cap um speed x is a uh new design for essentially a fully on chain uh dex decentralized exchange um that allows for scaling high trend to high transaction throughput and um we talked about speed x a fair amount this year it's part of the s more importantly get rid of path payments so you no longer have to guess intermediary uh currencies to get the best price cool yes and uh but but for speed x we actually decided to break up the implementation of speed x into several caps and this first one cap 44 is about how speed x is about who and how speed x can be configured and there's been some pretty interesting discussion on the mailing list but to sort of kick off i'm going to pass it to john sure thanks justin so just to give like a quick overview of like what the discussion on the mailing list has uh kind of been about the conversations have kind of gone in like a couple different directions one question is about um can we practically derive the the set of assets that we can use with speedx rather than trying to configure it um i think the answer to that at this point is probably no but we can talk about it more then another line of conversation has been around the basically the lane of like okay let's say that we do the simplest thing and just you know do a do what's in the cap now just like a voting upgrade system can we um can we give some guidelines to the validators that are actionable and predictable so that we don't have arguments in the community about like what should be included and then a third line of conversation has kind of been about like the more general more general process types of things like should we change the way that we do upgrades to make this easier and increase visibility and stuff like that but none of this has resulted in any changes to the actual proposal yet because it's not remotely clear which direction we should go so um with that kind of overview of where the conversation has gone maybe we should just like open up the floor and see what people want to talk about um my my two cents around the the actual like ecosystem stuff around how to how to make decisions i don't think this belongs in the cap um i as a starting point i think we could just discuss you know validators can discuss over the values channel on key base of the validators channel on on the discord uh there's no need to put too much structure around this uh same way that we coordinate uh protocol upgrades these days obviously this is much more uh you know there will be some some arguments and it's good but i don't think we need to like let's see what this looks like before we start solving for a problem that we don't actually know what it's going to look like i mean i think the fact that we have this debate in these questions suggests to me that this isn't quite the right design um so i still think that um there's multiple stakeholders here yes validators are stakeholders but so are the asset issuers and i don't think that i think that we should give more weight to the asset issuers than uh the validators and to the extent that validators should be important it's only because they're designated as kind of official uh repositories of information by the asset issuers i agree with david but i don't agree with with the result i think that uh asset issuers should strive to be validators uh i think that's like proper scp usage and then they will have a vote um but you know just by virtue of having like an asset issued i don't think that's enough to inform the validator network what to do but i think as an asset issuer you are you are choosing to i issue your asset on stellar because you know in large part because you want a liquid market between your asset and and other assets right and so you have an opinion about which uh which markets are important for your asset and um and and that's just not reflected by by having the validators uh uh make this decision so what are the mechanics that you suggest for allowing acid issuers to do this david uh well i think that instead of a protocol upgrade this could be um a new type of operation um or a new type of uh of ledger entry which is the um the other assets that like you're interested in being in a speed x with and once uh you know when there's like a kind of mutually uh satisfactory um speed x's then uh like you could potentially uh then you could like sort of create the speed x but it should come it should we should somehow have a way for the assad issuers to express which or rank sort of which assets they're most interested in in being in a speed x with and but and we shouldn't necessarily have only one speed x right because uh you know maybe there's you know multiple disjoint sets of assets and you know who are the validators to say like which one is is reality right like and and how are the asset issuers expected to you know like this operation what is it i think one of the options that we were talking about was like staking lumens right are there are there other options or are we just like reverting back to kind of like stake weighted voting mechanisms the same no it could just be like it could just be um uh a um like a a ledger like um you know an account entry or whatever that you say like which which assets you want to be like you have trust lines you could have sort of like um you know speedx participations where you like specify almost like a quorum slice of of uh of assets that you want to have in your speedx but every asset's gonna um issue or like lots of assets are gonna issue these and there's um you know the the protocol still needs some way of deciding like which um which assets are sort of important and then maybe there's like some kind of i don't know max weight matching computation or something going on but um we still probably have to restrict it down um to like a certain size or a certain um like network objective right so there should be a configuration parameter which is kind of like maximum size of a speed x right but to me that seems like the only thing the validators should really be deciding and then it should be the assets themselves that um that choose to make uh a market what what are you wait am i unmuted yeah i am what about the uh what about the case of contention like take the most liquid assets on stellar which like buy uh by like amm liquidity we could say uh would be like um i don't know i think it's like ustc xln aqua a couple other assets um what um like most assets would want to be able to trade with those because that's where you get a lot of benefit from speed x being able to swap with the liquid ones so let's just say that like for the sake of argument to say that ustc has like the most liquid markets on seller i don't know if that's true but let's pretend for the sake of argument um and then basically there's like global contention on wanting to be in the same speedx as USDC who do we choose well that gives USDC a lot of cloud i think USDC should be then uh should be able to decide uh you know who gets to be in a speed x with them or maybe USDC can be in multiple speed x's i mean that that creates arbitrage opportunity but maybe it's not ridiculous maybe we think that the price of uscc is so stable that if it's in multiple speed x's who cares it's the thing that will anchor the valuations of all the other assets i think we're putting a bit too much responsibility and weight on the asset issuers uh in this case like if you look at prior art and other networks you know like that the issuer just issues their asset and then there's like a governing body for whatever decentralized exchange yeah i understand and so i would be into like uh reducing responsibility but not reducing sort of like the privilege of like a powerful asset issuer right because when it comes down to it uh you know you know if USDC still like the problem is we might have you it might be the uscc issues their asset and they just don't care they don't want to think about speed x if other people have a use for it that's great and so it'd be great if kind of the default word that you could be like recruited into whatever speed x uh but that uh if it comes down to it like you actually have a say in like which markets are are more important for your asset i mean maybe the problem is i don't have a concrete proposal so maybe what i need to do in the next week or something is like come up with like a concrete counter proposal for like what this would look like or maybe we could kind of a few of us could meet offline and like brainstorm about this um you know at the very least i would like to convince myself maybe what i'm asking for is impossible right but at the very least i'd like to convince myself that it's impossible um well and the other thing uh like and i think that's why where i started when i when i discussed this on the main list i was wondering like why does like if you want to have issuers for example um have some say in the composition of speedex that should be part of how that sep is written right for how that that set is is managed by the validator i mean it's governance so you know it's one component i don't know if it's if it needs to be kind of baked into the protocol in any way really well one thing i need to baked in is whether there's one speed x or sort of one or more speed x's and i i'm very much of the feeling that um you know the the the whole kind of stellar philosophy is like you know we're not here to tell anyone what the ground truth is we'll just let you know like you can have some weird quorum slice that you're some weird quorum that's an entire entirely civil attack and then you can have the real world and like if they diverge like no big deal right and so i would similarly like to be able to have like if there's assets that are happy being in a speed x together um and they're disjoint then i don't want to be in a position to decide which are the real assets and which of the fake out like validators shouldn't be doing that i guess at the same time oh sorry go ahead no go ahead jeff the validators are the one expending the compute to um to run it right um so they should have a say at least um i think well there's fees being collected and i mean you know um yeah but the there's like a non-zero cost of just like running and maintaining speed x that's more than just like you have the assets in your database i mean well now there's a question of like should we be compensating validators or is like is it cheap enough to run a validator that's not a big deal well i'm just worried about like somebody spinning up like a thousand instances um or there should be some kind of we have to process it appropriately right i mean sure um um i guess it's i just i prefer i prefer to use like market-based solutions like we think that this like consumes resources on the network therefore people should be paying for it uh i prefer a marketplace solution to a like validators know best type solution which is kind of what we're doing here let me let me offer you maybe such a like it's not quite what you want i think but it it fits kind of nicely into that space it's something that i mentioned it both to jeff and nico offline um so like the cap currently written is basically like validators control the speed x asset set and there was a whole line of questioning like could we drive the speed x assets which i kind of was like i have no idea how to do this i don't know if it's actually even remotely possible even feasible um and i presented some examples that are like kind of challenging but when i was looking at that example one of the things i realized is like there's probably a core set of assets that you'd kind of want in your speedx no matter what like you know the world's most liquid assets you know i think the example i gave for like the imf what's their thing called uh the reserve basket thing i can't think of the word off the top of my head right now um it's kind of like a good representation of that or in america it's like t-bonds and you know s p 500 or whatever um you know you'd always want those just have the liquidity from them but um there's a whole bunch of stuff you might want to trade that's not those assets and so a hybrid solution is okay like dr's yeah sdrs thank you that's the word i could not think of um i appreciate it um and so um one like world you could imagine is a world where like you know you have let's say we have space for 100 speed x assets that's like the com the compute power we have um so then we say like okay like the validators can configure 50 and they can configure it however they like using some off-chain governance protocol whatever cares the other 50 are literally what's in the transaction set determined by fees just like any other way you get into the transaction set so in that case the transaction set can still have 100 total speed x assets 50 are fixed and advanced by the validators the other 50 are just like literally the ones that appear in that transaction set if there's if there's 51 in the transaction set it's invalid um and that basically means like the validators don't have like the truth power they just have the power to say like hey like we think these are the things that everybody always wants so we can try to give you consistently good prices but why don't we i mean why why speculate that these are the things people always want why not um have people actually say what they want right so i mean so here's a like a dumb thing we could do okay let's say there's only one speed x but we could have is we could have everybody like vote their lumens for like which assets they most want to see in the speed x right and then uh you know we just take this set of assets that that has the the greatest vote why are we reverted reverting to stake weighted voting uh this is like like because it's less stellar philosophy no why is it a anti-stellar philosophy because because like we shy away from the idea of of of you know more money equals more votes well i mean what we're trying to what we're trying to capture with scp is like some abstract notion of cloud right and you know we want this idea of like if people are interested in a particular uh in a you know particular asset then and that asset you know say like designates a validator then like that validator is going to have more clout in the network um i mean i agree like this stigmatic voting isn't perfect but it's at least a market-based solution the problem is like you can't have a market-based solution to consensus if you don't already have consensus or you can't but i mean there's our proof-of-stake systems but they have all these other drawbacks right which we which we don't have um but once we have consensus um then i'd rather have you know market-based solution just because we do trust the validators to maintain consensus doesn't mean we should give them lots of extra power too if we don't have to i think going back to my original appointment i think this is a great opportunity to get stakeholders to actually run their own validators which is what you know like we've been talking about sap forever as actual stakeholders running validators this gives them a reason to do that um i guess that's true but that it seems a little indirect um i mean um i i actually agree with tomorrow's point here like if you're if you're issuing like an asset that's going to be um used by everyone then like you certainly at least should like have a strong incentive to run a validator or if you're not you're sort of free loading off of everyone else running validators well i i mean in an ideal world you wouldn't necessarily need to run a validator but you would need to like hire someone to run a validator so i think like a reasonable like uh state of the world in like the three years is that um there are various companies like block demon or whatever who run like sort of validator in a sorry uh anchor in a box type products where you uh you know what you could do is you could uh you don't have to run a value but you pay them to run the validator for you and they can provide insurance or like you sort of whatever else um and it's there's no reason why someone just just is like probably a lot of people like running their validators on amazon right and so we don't need like everybody to run a physical server we just need everyone to say hey like we trust amazon to like host our validator and like and and and that's fine but it's but they're at least explicitly saying like yes this is the validator that you should trust sure sure but but there's that contractual relationship there and through that i can tell um whoever is running my validator to vote for my asset to be in speed x in whatever way right um and uh you know i'm still funding them to run the validator but the problem is that now let's say let's say that you know in in three years um you know 40 of all the kind of assets that anybody cares about have like contracted with block demon to be their validator right now we still haven't uh you know so now like we haven't told block demon like how to wait like various votes or whatever so it's now is now black demon gonna be actually the one deciding which assets are important this is going to be some term of like you know negotiation and these like confidential contracts they potentially have with their more important customers or can we do it in an open transparent like uh you know reasonable non-discriminatory uh way where it's just like public how this is happening and the decision is is is out in the open you guys mind if we zoom in on a different aspect of what david was talking about a second ago for a few minutes can we zoom in on the one speed x versus multiple speed x question um  i think like we have not given a lot of thought to this this did not come up on the like uh on the cellar dev mailing list also i just want to make sure we talk about it at least a little bit i think it loops back into the other question as well i can imagine i think that if we come up it's possible if we come up with an answer to the thing we're just talking about that it would work more easily if there's a single speed x but otherwise then you know all sql we should have multiple speed x's i would yeah my vote is is like i don't find the idea offensive i'm just not sure that we need to be thinking about this right now i think that if we do get to a point where it looks like the list of relevant assets is growing uh to a point where this is like it's too much for a single speed x then we can start uh you know contemplating the idea of adding another one but it seems like getting started with with more than one speed x given the uh the shape of of the markets on stellar i think it's it's getting ahead of ourselves i think that we should absolutely think it's like we literally have like you know an xdr diff in front of us which is actually what we're uh debating at the end of the day and so there's absolutely a question of like should there be an array of maximum length one such that down the line we can like you know increase the array size uh or should it be sort of hard-coded like this to have like only a single speed x but again i think it's like preliminary to make that decision right now until we figured out how we're going to choose what the assets are but i think like an important kind of safety valve of of like ensuring that like we're choosing assets in a in a kind of stellar and and like egalitarian way and and market-based way is to say that hey like you know if if there's like complete disagreement in the world then fine like have two speed x's like let's not decide which one is the civil attack and which one are the real assets okay let's go back to the other thing for one second then since there's people don't seem to want to talk about this but let me offer you a thing a version of the world where issuers actually have some control um it's like a kind of slightly weird version of the world but it's not one that we've spoken about yet so in this version of configuration the validators don't vote on any asset configuration doesn't apply at all every issuer can like produce a list of assets that they'd like to be in speed x with them my guess is that most of those lists will be exactly the same or we could even have the validators configure the default list and you only get a different list if you actually put something in that way if you're happy with the default you don't have to do anything my guess is still that they would all be very much the same but it's possible they wouldn't and then the way that we get the actual set of assets in speedx is we take every asset that appears in the transaction set you bid for fees to get a transaction step so that's very market-based and then the way we fill out the rest of the asset set is we go over every asset issuer for um for each of the assets that appears in the transaction set and we grab the asks from their list now like the reason you have to do that second part is like you definitely don't want to so there's a different speed x for every block every block would have a different set of assets potentially but actually i almost prefer this we can even say like you're just not allowed to when you're forming a block it's like ill-formed if your speed x involves more than whatever the parameter number of assets is right so any given block can only have a certain number of uh of assets being touched by the speedx operations and that could change from block to block but hold on just i want to make before you go jeff i just want to make sure that i'm on the same page as you david do you want the pure anarchy approach where the validator like the validator nominating the transaction set chooses all the assets in the set or do you want the semi-anarchy approach where they choose the asset like they choose the off the operations and then you go to the issuers to get to fill out the set no i think i think actually the idea that like um each each you know you have one speed x per block and it just there's some maximum number of assets that can be can be mentioned in a given block for the speedx transactions like i i think that this um well so so one point like why are we talking about filling out the asset set uh my instinct is that um in um almost every situation we're going to be having to prune um down to a certain size not like fill out assets um and then point two i think is um there's a huge value in having predictability in what the assets that's going to be um otherwise um like i like otherwise that like maybe you know some validator says like i'm going to have this at some other validator says i'm going to have that asset and i'm like now i started playing games about like where i send my transactions um and then like transactions get you know buffered and then things get front run and then um starts getting really messy we'll have a deterministic set of rules like it'll be whoever like whatever collects the most transaction fees or something um but i can still gain that um with the deterministic i like i i had a hard time coming up with like a deterministic rule that wasn't gainable because i can always submit um like transactions that are out of the money or whatever um to get my um assets in maybe maybe i'm just being paranoid i see so you're saying like you can you can create standing orders right i can set an order with like a minimum price of like a million or something and that'll never trade um and manipulate this manipulate the asset selection rules which then manipulates the prices um i think i mean i'd like to brainstorm about this maybe offline a little bit uh because like if there's if there's transactions that you know are not going to like i wonder if you can have a you know how like you can have a post limit order only um type order so like maybe those could be free um and then like maybe we could have people post however and cancel limit orders like for as many assets as we want and then we actually choose speed x based on like the i don't know the depth of the order book or the um the number of transactions or something um because in a way you really want speed x for the trend for to to like you you want the ones with the highest number of transactions because that's where you need the extra efficiency i i don't know if that's true at all i mean like you should just revert back to the mailing list where i gave like a whole bunch of examples every time anybody mentioned like a derivable set about how you could game them and i i feel i feel so confident that they're all gameable that i i'd be willing to wager that for any heuristic that you came up with i could find a way to gain it um i feel pretty confident not that much but i still feel pretty confident um so uh i don't know david's come up with some pretty crazy stuff before i feel like he could maybe come up with something that i couldn't figure out how to how to game even though i still believe it would be game so that's why i'm not willing to really make a big league but my point is like any kind of heuristic is probably extremely vulnerable and like the burden of proof to get me to want to vote for something like that to want to support something like that and to want to implement something like that would be convincing me that it's not gameable and i think that's going to be really really hard um just like just being honest i think driving the transaction set is just borderline so but but if there's multiple speed x's it could make the gaming not a problem right if the way i game the system is by creating a second speed x who cares right but we still like to determine the competition yeah it's not like you're creating an infinite number of speed x's either so at some point you have to pick which one of those feed x's is well it's not like you have an infinite number of of transactions in a block either so no but that's it goes back to it it's all gameable i think there's just generally value value in having a system that sort of runs predictably here um i agree i agree but um all right i feel like that i feel well look this thing obviously is not ready to to move oh well to be accepted today anyway right so i feel like now and i feel like now i have a challenge to like at least propose something um or try or figure out why i can't you know um i think we should also think about or sorry go ahead i did want to answer one question that you had actually before jeff which is like why are you talking about filling out the transaction set and it goes back to that like uh that example i posted like it's like five or six or seven or eight emails back now on the mailing list like it was like an example using like major world currencies and like it was a trade for like pounds for yen um but basically like the concern i have is like you end up in a in a world where like imagine that like you know imagine that the russian central bank just like happened to announce for some crazy reason that they were going to raise their interest rate from 9.5 to 20 um not that this is realistic at all but like imagine that would happen i imagine that there might be a ton of people who wanted to sell their rubles maybe all for euros and usd but like if you only have those three assets you're potentially missing out of a lot of like cross liquidity that you can get from area to bro markets like you know where you use the other amms to pull more source and sync through so that you can trade more rubles at a good price so now imagine that for some crazy reason USDC doesn't want there to be a very liquid market between rubles and USDC um and so they feel like if they're going to be in a speed x they would prefer to be at a speed x without e rubles or whatever that is a good point i think at least the asset issuer should have a veto on on participation well either they should have veto or if they should they should at least not be in any way complicit like it should be like uh it should be like everybody else wanted it and they were overruled or something uh yeah i guess yeah and also um we've been we've been expressing like asset issuers want good markets with certain assets and we should also let them express the opposite opinion i don't want to market with this asset uh you know listen six years here's something here's something we could do um we could uh actually have like speed x's owned by account so we could say like look we're actually going to you know instead of a validator there's just like someone everybody thinks is important and we're going to let them choose the assets and they're going to create a speed x and if you don't like that then you can create your own speed x and if people start trading on your speed x great if not then you're irrelevant um this makes it harder with the liquidity pools and also isn't this like more unaccountable than the validator well it's it's both more and less like we know who it is right there's now like someone who's running the speed x and if that person needs to comply with like russian sanctions that person can remove the ruble and if somebody else you know if uh if if somebody in russia says hey you guys suck i'm going to create a new speed x on stellar you know more power to them they can do that but if none of the other assets want to move over to the new speed x then uh then that new speed x with the ruble it'll be the ruble trading against nothing right what if we did something with like asset issuers issue preferences and then validators issue like weights to different assets and then we compute um via some like global optimization like min i don't know max matching or something um based on uh the express preferences or something sounds complicated at some point you're really starting to ask a lot of people to do a lot of complications okay so well so what i'm saying is simple what's wrong with my thing like there's just a there's just each speed x has a dictator but there's multiple speed x's so at the end of the day uh if the dictator is bad people will just go to a different speed x and is there in your world an unlimited number of speed x's that can be created because that's our question how do you stop an evil dick or just like some someone who should not be creating a bunch of speed x's from creating a bunch of speed-ups maybe they were there you need some like reserve currency or you need some reserve balance to do it or something or like well what we have i think we're probably fine having like five speed x's right you probably don't want like five million but um this has the um nice benefit of giving a particular person accountability for like running the price computation um but it also um we need to figure out how to um bring the liquidity pools um like what if there's a you know competition between for like liquidity pool liquidity i think we could just have arbitrage opportunities i mean like we hope no but but like you can't run this price competition with like if USDC and euros are um both in two different speed x's um then there's like contention on the liquidity pull between the two assets um and and like maybe there's only maybe the only asset that can be more than one liquidity pool is the lumen because no one's there to like control the lumen but otherwise the asset issuer has to uh has to say which liquidity pool they want to be in right so then we're saying like asset issuers declare exactly which fedex they're in yeah um which is back to the first point that you decided you didn't like or somebody decided they didn't like it there's one additional point that i want to bring into the picture here which is um you know our acid issuers they're active on on several networks and a lot of a lot of the activity in the in the space is kind of like multi-chain the i think we really need to focus on our differentiators being like high value differentiators because every time we add something to stellar that makes it so much more different than any other network network index out there we we just make it more challenging for these for these players to actually be idiomatic players in a stellar ecosystem so we really need to make sure that whenever we add something that's different it's really worth it okay and having asset issuers need to to be involved in listing on decentralized exchanges is a big step away from what they're used to be used to doing right now so i just want to be cognizant about that so yeah i think your your point is right but it's not inc so i think what we want to do is we want asset we want to give asset assures the control but we want to ensure that something good happens to an asset issuer who just doesn't care and hasn't configured it yet right like maybe USDC like they can't be bothered to learn about speedx but everybody else is interested in that asset and so we need to make sure that that makes it onto like a good speed x uh you know like going like a different direction in this conversation do people actually care like like right now there's no way to really stop your asset from trading against another asset like it can happen on the decks for like basically any asset like as long as you as long as somebody is authorized to hold your asset like i mean they can trade it for anything they want so like why should we give that additional power in speed x like i i know that there's some like interesting because of scalability right only if yes if we could have a million assets in a single speed x um i would say we shouldn't do any of this right so it's only i think for the scalability problem i guess my point is like there are two kinds of preferences we were talking about one is the positive preference like i'd like to have this liquidity available to me that's that's pretty easy like my proposal or rather not to me but to my to like people who want to trade my ass i'd like to have this liquidity available the reverse position which is like i'd like to not have this liquidity available is not not something expressible really on stellar today i don't know why we should make that accessible so basically what you're saying is like you shouldn't um you shouldn't uh you shouldn't let uh an asset issuer uh prevent their asset from being traded with ruble anyway if they really care what they should do is they should like you know use reclaimable assets they should sanction you know they should kyc their users and they should like to go to the appropriate authorities if they have evidence that someone is like evading sanctions and you know they've kyc people so exactly so okay i think that's fine because that's um and and if they really care they can use clawback or they can you know revoke the trust line to freeze it exactly they can basically say okay like you're doing stuff that we don't approve of like it's not in our terms of service that's true and in fact so really what we should be thinking of is the only reason we're talking about any of this is because we can't put every asset in the speed x it's just for scalability and so just real quick quick question about that that is a functional limit that we can't change is that correct or is there a chance that we could through some sort of engine ingenuity or engineering research breakthrough absolutely but but but but they're like the limit is just remind me like what is the reason for the limit that's a great question and jeff is the best place to answer it um right so there's two things right so there's um the price computation itself and then the sort of follow-up correction linear programming um and uh basically the the um the runtime of each loop of the price computation is linear in the number of asset pairs um and also you might need more rounds based on more assets this is especially um like you need more rounds of the price computation typically for assets that are more thinly traded um and then so so there's that scalability problem um and then there's also uh the the follow-up sort of linear programming step um uh if i just threw a standard linear programming solver at it i would sort of that that seems to top out at like 50 to 100 assets um and then i was running experiments last night which you know caveat that code that you run right late at night is usually broken but um i was um pulling in some other open source libraries that i hadn't played with before and that seemed to push it to like a few hundred like three or four hundred assets um but but after that um you know you're solving a um some variant of a linear program which has typically a quadratic or cubic or something some kind of run time um which which sort of no matter what you're eventually going to have a prohibitive bottleneck there there's some things you can play with it and and possibly you know breakthroughs you can make but we're doing some more research on that topic it's something that like me and jeff and a couple other people around sdf were talking about quite extensively yesterday um and it looks like you know it's pretty clear we can do better than jeff's original estimate of 100 but like getting significantly better than a thousand also probably looks kind of out of reach right now um like even if we can do better than you know what jeff hacked up in the middle of the night yesterday um i i wouldn't be confident to say we could do a thousand that already sounds really high uh maybe we'll find out we're wrong but like 10 000 or you know 50 those are numbers that like are not even really in the conversation like they don't even sound remotely plausible within like the limits we're working right now like to achieve those kinds of numbers which would still be a fraction of the total number of assets on stellar um we would be like we'd be as david said like doing novel perhaps unprecedented research so so here's an idea what if each what if each speed x had its own order book sorry what do you mean in other words so so the problem so one of the problems with having the with the sort of the dictator one dictator per speed x model that i think john brought up is that you could have um uh you could have two dictators each of whom wants to include both USDC and and eurt right and so now um what if like you so now they're sort of competing for the same set of orders but they the pearson the person placing the order could also name the the speed x or we could somehow divvy up the or the order book between speed x's i mean this seems fine to me i think anytime you have multiple speed x's with the same assets you're going to fragment liquidity but or actually what if you just run them in different phases i mean like you know if we if we only have like five speed x's right if we run the speed x's uh serially then we just have some random order you do the first speed x and then you just use whatever's left over the order book to do the second speed x and then the third speed x my real concern is just like i i just really feel like the returns of doing this are just like really marginal um like my intuition and my intuition's been wrong many times before so i'm not claiming that what i believe is necessarily right but like my guess is all the really high quality liquid assets appear in the first speed x uh whatever you want to label this first spur speed x and some ordering you know i'm not saying that the first px might be the one that executes second right i understand i understand but what i mean is like basically the first speed x is the place where you want to trade and it has all the value basically right the first in terms of the liquidity ordering and then all the second tier assets trade with each other but because they're all low liquidity assets the aggregate liquidity is really low there's no good asset in there no super liquid acid in there to provide a lot of liquidity and then anything that doesn't make it into that one has even worse liquidity globally and so basically it's like you know you have like the vc thing where it's like the first thing has to do better than all the other things the second thing has to be better than all the other things except the first um and like is there anything so that's why i think there wouldn't be more than five speed x's right but i just it's it's a way to uh i just i just don't want to put validators in a position of having to like justify like particular assets i imagine that like there's a really popular asset and it turns out to be a fraud and like you were operating a validator and you like voted to include that asset in the thing right so now are you liable for that like you could have chosen a good asset and you you chose to make it easier for people to buy this fraudulent asset like what's your responsibility there uh i'm not a legal expert but like probably very little like i i don't think that you know american stock exchanges get listed when you know like sorry american stock exchanges get sued over listing well nobody is but that's that's a good example the stock exchanges have like relatively stringent uh requirements for companies to get listed and when the companies don't comply they get de-listed right so we're now putting so if we if we use that analogy now validators are actually required to police these assets right and to you know potentially making sure that they're disclosing things and whatever because otherwise they bear some responsibility that is a good point and it's also possible we would get validators just like not paying attention and voting no on everything so they don't have this liability um and then we wouldn't have any assets in speedx so at this point we only have two minutes left and i think what i want to make sure that we do is it seems like there are some actions that need to happen between now and the next time that we need to move this long and principally david i think it falls to you because it sounds like you want to come up with some sort of concrete explanation of another way to determine or at least try let's try yeah um is it uh so so that's sort of something that you're gonna work on is there anything else um that needs to happen after this meeting in order to keep the conversation going forward or is it primarily we should move all the extension units to the top of the structure i'm not never gonna vote to prove another proposal on which the ext fields aren't like the first one in the structure but that's not a huge ask i have right do some housekeeping we should do something but for the speedx configuration proposal like i believe from everything i've heard it's it's time to see if david can come up with an alternative concrete proposal right and maybe we can meet offline or something maybe john and jeff we could like talk at some point yeah this afternoon or what and uh and likewise i'll like i actually have some like intrigue about the proposal i made quite a bit earlier about like the you know take the stuff from the transaction set and then use the issuers list to fill out the set um i'll write something up on the mailing list about that too to kind of give like a full overview of how that would work and why i think it's not a terrible idea i think it fits somewhere in between some of these other proposals and david's proposals so all right perfect so we'll look forward to that stuff and obviously the sooner that you can get it done ideally if there's something for people to read with enough time in advance for the meeting so like there's just you know the meeting is two weeks two weeks yeah yeah that's ideal all right cool thanks everybody thanks everyone for watching if you want to follow along there's a link there for the stellar dev mailing list that's where these discussions happen asynchronously so please join and watch the discussion unfold and contribute if you have good ideas everybody thanks so much bye",
      "keywords": [
        "speed",
        "assets",
        "theres",
        "which",
        "asset",
        "dont",
        "thats",
        "actually",
        "mean",
        "maybe",
        "validators",
        "something"
      ],
      "speakers": []
    },
    "2022-02-17.mdx": {
      "summary": "i think that's our cue hello everyone and welcome to the stellar open protocol discussion um as always in these meetings we discuss core advancement proposals aka caps um caps are technical specs that suggest changes to the stellar protocol in order to allow the protocol to continue to drive forward make progress evolve to meet the needs of the ecosystem these meetings if you're watching this is probably pretty obvious are live streamed um so that you can follow along i do want to know this is a very very technical discussion right so if you're watching you probably want to take a look at the caps that are linked to in the show descriptions as are the previous conversations about those caps on the stellar dev mailing list i'm not going to identify all the participants they're also listed there so you can look them up they're qualified um so today what are we doing today we will again discuss cap 42 multi-part transaction sets which was what we discussed last time but it's been significantly revised since that discussion um we are also going to have an initial discussion about cap 44 speedx configuration and we'll get into what those proposals entail in a minute um but first i want to give a quick word about the life cycle of a cap and there's a purpose for me saying all this that i'll get to um so this meeting is really just part of the process of the creation and implementation of a cap open discussion about caps it happens on the stellar dev mailing list there's a link to that in the event description as well so if you want to join that's the current discussions or future discussions sign up for that mailing list caps are drafted and um sort of iterated on based on the async feedback and suggestions that come in via that list before they end up here being discussed in this meeting so in this meeting we go over very specific questions and the goal is to get a cap ready to move on if a cap is ready it may be put up for a vote before the cap committee um and they decide on whether or not to accept it so after a cap committee vote by the way the cap enters into a one week final comment period and that gives everyone a chance to sort of raise questions again on the stellar debt mailing list if cap makes it through a final comment period it's implemented in a major stellar core release before that stellar core release actually hits the network validators have to vote to upgrade the network to accept that release and so ultimately any sort of proposal that makes it into implementation into a stellar core release is accepted by the network through that governance mechanism so part of the reason i'm bringing all that up today um is that before we go on to the main discussion about caps 42 and caps 44 we're going to revisit a couple of caps cap 21 which generalizes transaction preconditions and cap 40 which adds a new signer type that multiple parties can use to more effectively share a transaction set for signing so these are two caps that we sort of got pretty much across the finish line they have they basically include changes that are helpful for people that are looking to develop innovative solutions on stellar specifically payment channels and bridges to other network the goal of these is to sort of unlock the potential for greater interoperability so again these caps they already went through the ringer they're currently in a waiting decision so that's their official status awaiting decision but uh first things first i think the cap committee is ready to approve both caps and so i want to check in with the cap committee and see if that's true now the cap committee is uh jed and nico and david and jed who is not here i checked with before and he is ready to approve um nico and david are you also ready to approve or is there more to talk about for capital 21 david you approve okay yeah it's the same for me yeah yeah same for me uh like the there was a change yesterday or the day before on cap 40 but it's uh yeah it's a minor change so we're good all right approved so after this meeting um i'm going to change the status of those caps to final comment period pending approval and again that gives everyone a one week window to like raise any final questions or concerns um i guess if a legitimate concern comes up during that time we can send it back to draft mode but if there's no concerns legitimate concerns that arise during that time those caps will be approved and that means they're going to be ready to move on to implementation for inclusion in the next protocol release which is protocol 19. so as of right now shortly after this meeting cap 21 and cap 40 officially move into final comment period all right now on to the real meat of the matter um we're going to talk about these two caps and the first one that we're going to talk about is cap 42 multi-part transaction sets this cap gives validators control over which fee policy to use for individual transactions included in a ledger um we discussed it two weeks ago and there were several suggestions about how to improve it and based on those suggestions uh it was revised and so i think to start with let's just get a quick overview of the changes to cap 42. um nico you want to take that yeah and um yeah so what i ended up doing is uh basically uh i added the uh notion of uh execution phase that in the short term we are not going to have a new phase it's more incorporation for things like speed x where we expect to have that being done in as a separate uh phase uh isolated from the the existing uh transaction subsystem and then uh within a phase what i did is that uh yeah after our conversation last time um like i it was clear that we needed to maybe clarify better like what uh like when transactions or make it more explicit i guess that there was uh actually full control of uh the fee regime that was given to validators so what i did was i added a new tag that allows validators to to basically um use the uh actual feedback as fee being charged for uh certain transactions as well as uh having the possibility of having a discounted uh rates um when it comes to for example i mean actually that's what we do today like we actually give large discounts to uh to transactions that are when we're not in search pricing um so that's what i did i also added some clarifications on uh on on how this makes and why this makes sense uh i think there were more questions actually and that maybe where we we can maybe like spend some more time today around um like are we basically defeating um like the um existing guidance that we give people uh when we say bid whatever you feel comfortable with and then the network will you will actually you're unlikely to actually pay for what you're bidding if you're over bidding and uh i think there's a this is a fair question so on that uh yeah i don't know if uh david or john i know like we use i mean i i you know i i like this new version i think it's a lot cleaner i think possibly in line with with what you're saying if i have one one nit to pick in the backwards in the protocol upgrade transition we state uh as this cap does not change transition semantics i think maybe we should just qualify this or you know like you know changes the fee but it's within this originally permitted semantics or something um but that's that's pretty uh nitpicky yeah i mean i think yeah like uh yeah i can fix that definitely like i think the um interesting thing that was raised both by john that is on the call and by lee that is uh not here today um are actually good questions around like today you can basically bid by a factor of like a million let's say and you're actually very unlikely to be pay for i mean you're exposing yourself to that but then a bunch of other people would have to pay that type of fee um whereas with this proposal um depending on on which uh the data you you run into um you may actually pay that fee so like for me the rationale for that is um that we are actually kind of uh put it's it's uh i think i put that as my notes as uh we can actually rely on some of the um  a contract between uh validators that the you know the responsibility of a validator is to actually have lower fees and then we can actually use uh in a way um that as an expectation for validators when they um just like today when you run a validator you have to have an archive uh like you you basically have a contract with uh with other validators um and at any time other validators can basically decide to remove that faulty or not not fully compliant validator from their current set and then we end up with with i think a system that um  yeah that's realized more on this uh on this contract that it's not necessarily a technical contract it's a kind of a in order to be aligned with the values of the network uh you have you know you shouldn't be uh forcing like isolating for example transactions uh so that they just to mess with people just a question if it's more of like a social contract or a set of expectations that validators follow um is there a method for them to to know if other validators are living up to that yeah so that's actually a good question so like it's we actually have a similar contract today with uh like validators should not be uh excluding certain transactions from their current set like you would uh like the only way you can discover that today is by looking if there are patterns where some transactions let's say for certain assets or things like that are always excluded by some validators you can actually go through history this is all public and you know um you can basically kind of uh audit the behavior of the details and i think we this is a similar problem here where you want to have the tools for auditing validators when it comes to this um new power that we are giving them so the data will be in history um i think what we have right now is that in Horizon for example we don't actually expose much of the sap information so we don't know if what was actually happening during consensus runs for example like we don't know if some people are never aligned with other people like for example so um i think this is this is the type of work that can be done either by uh yeah by the sdf or by other people in the community to kind of raise the bar just like we have raise the bar when it comes to uh what it means to run a validator with uh you know like projects like uh like stellar b right that are showing when validators are flailing or things like that so i i mean this is like what you've just mentioned is sort of one solution like yes we need a we need a uh you know some kind of validator conventions and ultimately there needs to be some kind of companion companion document that you know this guy might not be a cap but it discusses a like how you configure your stellar core to express these policies and like what we make easy and hard to do like in the kind of default stellar core release it's obviously gonna have a big impact on this but i think there's another side of this which uh where you know we don't want people to have the trust validators so we should be maybe promoting fee bump transactions like a bit more heavily right i mean certainly you know one thing that like wallets could do is they could sort of by default like you know whenever you sign a transaction it would also sign like a couple of fee bump transactions that it would kind of like resubmit uh you know like more expensive versions if the first one didn't get through or things like that so i think we should be you know in terms of backwards compatibility i think we should not you know i think we should make clear that there may be some expectations on on the ecosystem the sort of wallet side yep that yeah i'm sorry justin go ahead i was just gonna say because on some level there needs to be education and tooling to understand how to manage dynamic fees more actively because right now as nico said you can just set your highest fee and dynamic fees the network you know what to expect but you won't necessarily is that so what you're saying david is that we would need documentation and potentially tooling to in order to educate people to the expectation that they like wallets will need to more actively managed dynamics or maybe maybe we need a feature an optional feature for Horizon that people would enable on their private Horizons maybe on the public ones but where you submit three versions of a transaction and it sort of like keeps submitting like the more expensive one if the previous one hasn't cleared in some period of time or something right um you know i can't design the the the feature on the fly but it seems like something you we might want to to think about and if people if want to take their wallets offline or not be sort of constantly monitoring the network maybe this should be uh this should be part of Horizon maybe this is an incentive for organizations to run their own Horizon because they can you know control this better asked me to say the following the cp is built on reputation the concern that a reputable validator is going to go rogue and build an alternative transaction set nomination rule set is a bit far-fetched and the ecosystem can build tools that monitor validators for behaving sensibly sorry but there's a there's a big space between rogue and between like something like i might not agree with right um so i think like the point is like there could be legitimate disagreement about this and we want uh users to be in control or to you know they might you know rather not have their transaction be uh be executed if they're gonna get charged way more than somebody else i think like um as far as tooling goes i think like you know one thing that seller beat could do that would do would be really cool in this context would be like hey like what are the like you know you know every 10th percentile 10 20 30 etc uh fees that this this validator is nominating if validators are being like pretty fair you would expect every validator to nominate basically the same percentiles total fees um more or less and that would give a lot of people evidence about like oh you know like this guy's being a big jerk and really just trying to get people to pay whereas other people aren't doing that but i agree with you david that you know that doesn't change the fact that you know your validator might say like hey like i think this type of transactions pay high fee and this one for payloafi i think the opposite they're equal distributions and so like our stats look the same but we're treating people differently um maybe all the validators agree but it just turns out that it's there's some small number of like legitimate transactions that are hard to separate from spam right and so you need to uh i think just not participate we need we need an up we don't people shouldn't be forced into participating in the dutch auction right they should be able to uh you know control their you know maximum fee to ensure that they're not paying more than like twice as much as other people and that's something that's it's doable it just requires a little bit of support on the uh you know sort of um platform side of things for me kind of the like i've been thinking about this this whole thing since we since we spoke about it last was that last thursday two thursdays ago whenever it was um and i've kind of convinced myself that in the long run like looking like let's say that we did this in x months and then you look at x plus 12 months in the future like probably everything is fine everybody adapts to the new world you know maybe some new tooling develops like david is talking about everybody switches to kind of this lower fee mentality where you don't just bid like 10x 100x whatever what you're willing what you actually want to pay at the present um but like looking right now you know i was looking at dashboard uh for the last couple minutes like every minute and the 50th 60th 70th percentile fees have been sitting around 20 000 uh stroops pretty much non-stop in that period sometimes it's been the 60th 70th 80th but um 20 000 troops um and that's you know about one-third of the total traffic um so there are a lot of people who are bidding way above the fees that are actually getting accepted in the short run if those people aren't paying attention those people are going to be pretty sad i think yeah they're just 100 million stroop uh bid yeah yeah yeah so i mean i guess that's 10 lumens or whatever is that 250.",
      "keywords": [
        "actually",
        "thats",
        "people",
        "maybe",
        "dont",
        "other",
        "assets",
        "validators",
        "mean",
        "youre",
        "theres",
        "speed"
      ],
      "speakers": []
    },
    "2022-02-03.mdx": {
      "summary": "hello and welcome to the stellar open protocol discussion um in these meetings uh we discussed uh core advancement proposals aka caps which are technical specs that suggest changes to the stellar protocol they're necessary to allow the protocol to continue to evolve to meet the needs of the ecosystem so we uh we live stream these meetings so that anyone who's interested can follow along although i do want to note it is a technical discussion so if you're watching you may want to take a look at the cap link to in the show description there's also a description in the description all the participants are listed um uh we do keep an eye on sort of the the dialogue that's happening in the chat box but the goal really is to talk through questions about the cap that we're discussing which is cat 42 so we will only really address questions if they're directly related to that goal but we will collect them and take a look at them later too today the cap we're discussing is cap 42 titled multi-part transaction sets um it suggests a mechanism that makes it possible to implement different fee structures based on transaction set composition so currently in transaction set composition it can sometimes be heavily biased towards undesirable behaviors including spikes of arbitrage trades that eventually fail this cap basically empowers validators to isolate subsets of transactions that can compete on fees without causing overall fees to increase and it also makes it possible to expand policies to other dimensions in the future so cap 42. um again it's linked to uh before this meeting cap 42 is drafted that's the link to it there um it was also discussed on the mailing list and there's a link to the thread to that to that discussion thread as well so our goal today is really just to see if there are any blockers that would prevent us from moving it forward to the next step of its life cycle and i will stop talking and i'm going to turn it over to nico who is the original author of this cap to see sort of what if he has any questions um that he wants addressed by this meeting nico take it away hi you can hear me all right so yeah i'm happy that i got to get gap 42 because you know it is the answer to everything of course and in particular uh the problem with fees and i've already networks in some ways that we're not necessarily happy with and when i say we here it's the community that has been also complaining quite a bit about uh the number of failed transactions or or like patterns that that are just not the type of patterns we want to see uh on the network so anyways uh like maybe a little additional background uh that is not in the cap itself uh is that uh it's actually on the dev mailing list but not in the cap is that uh as part of of uh of the uh of this uh we actually had to uh roll out some changes to overlay in uh back in december um that we're dropping um based on a heuristic um like uh but we think are likely to be arbitrage trades and um which mitigated to certain extent uh some of the things that we were seeing at the time but that has a lot of undesirable properties and i think as part of cap 42 uh my hope is that we can actually go and fix the some of those aspects that we introduced at the time um so in particular like the the type of uh aspect i'm looking uh forward that to to fix here is um and this is actually true in uh all networks uh like it's not actually a stellar specific type of problem there has been discussions in the past few months on ethereum and solana i'd like to name a couple on changing these structures when it comes to to this kind of spam uh and when i say spam here i mean it's kind of a funny thing but it's basically um uh like a natural thing that happens i guess when uh when you have uh an opportunity to for somebody to make money is um based on um the cost that you have to submit transactions uh if you can make let's say a thousand dollars uh on on a trade um well you you'd be okay actually to pay 900 dollars in fees uh because you make some money obviously this is uh like this is where like the the way you can end up with um and at the same time if uh if all the transactions on the network are kind of uh derived on the step of keys then it kind of kills off a whole category of uh of other use cases that that you want the network to have uh so for example payments or uh like simple um airdrops or whatever like people want to do that uh that are actually unrelated to those uh to this type of uh trading uh trading activity so anyways um that's for the background on why why this cap and um yeah so like the i don't know uh like uh people had uh time to to look over in more detail at the refreshed uh cap that i did it yesterday uh like it has actually two parts to it is one part that is extending the uh what is the what is attached to a transaction set basically so that we can uh add like new properties to the transaction set and um and the second part is uh actually the the actual reason for this gap which is uh changing how um uh how fees uh get calculated uh within a transaction set sorry is the latest version the one that's in uh that's in the master branch in the repo 22 hours ago okay yeah that's it yeah and i'm sure there are typos because i kind of updated it quickly yesterday to make sure that people had time to and to have access to it uh but it's a early trough summer did you raise a hand yes i did otherwise i tried to be polite but niko didn't see um so first of all i think this is this is pretty cool because uh it takes advantage of something that's unique to the ecosystem and uh like we can actually prioritize transactions not only based on fees this is very different in other ecosystems because uh you know validators are kind of like incentivized by transaction awards so so they don't have the motivation to actually push these kind of changes uh it's pretty cool nico i'd like to hear your take on we've been talking a lot about strategy for 2022 recently and things like speed x and things like smart contracts in the future these are like um you know more transaction engines or like transactors how will cap 42 interact with these uh or how do you think they'll like it'll interact with these features yeah that's a good question and i think the uh this is actually in line with uh when i wrote it i was i i thought that we we would actually over time kind of create more sea lanes or for lack of better words uh so an example of a three lane that i think would make complete sense is to have a separate lane for speed x trades uh given that they're a lot more efficient uh compared to existing uh dex uh operations and um yeah we basically say okay if you you have the choice between a speed x trade and a submitted a managed offer to the network you're going to go and have more space basically on that ledger and for smart contracts i mean it's uh i mean it gets i think a little more complicated when we talk about smart on tracks like a very primitive version of this would be well we are going to maybe create a lane just for smart contracts that would be like a simple first step obviously there might be more interesting interesting things that can be done uh on that front but at the minimum it would be you would create a different kind of free regime right for for smartphone tracks i mean i guess uh the thing is it seems like not really optimal for those use cases like in those use cases it would be much better to just partition the transactions because you could you know then you could just you might want to for example say that all the smart contracts get executed like after all the regular operations right so just kind of having these like uh intermingled like this index set just seems like it's gonna add a lot of overhead and and not be you know what you would want um so so so i kind of have two reservations about this right one is that it just seems like a little bit uh too complicated for what we really need especially if you want to start having you know uh you know blocks with like 100 000 transactions for example which would be like totally uh doable with with something like speedx if they were all speedx transactions right you're not going to want to also have a added overhead of like sanity checking these index checks and whatever you're just going to want to blast through your array of speed x trades uh and do like a parallel execution of those um and i guess the second thing that like bugs me a little bit about this um it just seems like very indirect right either we believe that dutch auctions are the right thing or we don't right and maybe dutch auctions aren't aren't the right thing um but what we're we're sort of trying to say like well we're sort of going to keep the dutch oxygen but we're sort of not because we're going to let validators really kind of pick and choose uh different sets of transactions that are going to going to pay different fees um and i think the reason is because we want to filter out spam so like that is a form of censorship maybe it's okay but like maybe we should just like be a little bit more direct and say like validators should you know we're gonna just have a way for like different validators to like filter out certain transactions that we we don't think are are productive um and to the extent that you might not want that you might want to say well what if my transaction is like really really important then i should be able to like pay a high fee and like get it in the problem is that this doesn't actually solve that problem right because i could i could put a maximum fee of you know uh two to the 32 lumens in my transaction but a validator who wants to censor me could like put me in my own group with a very low uh base fee and then put everybody else in a group with a higher base fee and it'll look like you know you know like the block with that transaction will like not compare favorably um potentially to to to other blocks so or i mean whatever you could just like filter out the transaction anyway so i just i don't see this doesn't seem like as much it seems like this is partly to solve a problem but also partly to i don't know like for to appear to be preserving the dutch auction when we're not and if we're going to have some extensible way for validators to filter out transactions why don't we just do that in a more straightforward way well so first of all like the when you say like we're not preserving the auction mechanism here what i'm saying is that uh validators when they nominate those transactions those transaction sets uh the expectation is that they would actually be doing this type of action in in any given group but if they can choose the groups they might as well not you might as well just let validators choose the fee for every transaction and just as well it's the same thing yeah yeah you can you can do that straightforward thing just annotate each transaction with the fee that would like you know a 32-bit number that's like or 60 on the right list actually was to just annotate every transaction with the fee yeah but that's uh like that's actually even less transparent in terms of what the intent is so that's why i didn't do that uh like it's a like uh that's effectively what you're doing yeah no i know i know i'm doing that like i'm basically allowing for this but i don't want people to be doing like arbitrary fee structure per transaction but that's what you're enabling right you're just making i mean i know it's being enabled but that's not what uh what we we don't expect for the data to do that and actually this is there's a discussion in the uh later in the document that that talks about um because like basically today validators can already censor quite a bit uh like what gets into a transaction set so the example of like following the fee structure today is already not exactly right like like if if validity doesn't want to do it they just don't do it um and um yeah like here what i'm trying to promote is more of a compact i guess like the yeah the uh those indexes thing i agree uh this could be done maybe in a slightly different way i was trying to preserve the transaction set itself like the existing transaction sets um but that's not good either if it turns out that we want to like actually change the order in which we execute transactions then like preserving the transaction set isn't actually that useful right we already so for speed x what we are what is in the current uh proposal is to just like we partition on type and it's actually not we actually keep the transaction set at it as it is like from a serialized version because we can always partition after the fact yeah but it just seems more useful to have to have it uh partitioned ahead of time if you have sort of like just totally different phases of block execution i see no intermingling transactions from the different phases that's true so i mean i guess what i'm saying is like this will get the job done but i can think of sort of much simpler ways of getting the job done and it seems like this cap is too concerned with sort of like appearances uh and those appearances you know effectively don't matter when what you're doing is equivalent to something where every whatever validator wins nomination can just like literally set the fee for every transaction so like we're giving value if we're going to give validators that power let's just be upfront about it i mean i thought it was pretty upfront i was optimizing again for uh like ease of audit and and uh and like maybe like more compact potentially uh format but that's true it could be more compact or it could be less compact depending on how many if you have an extension point per transaction you at least have an integer their transaction additional well you could just change the transaction set format and add like a four byte feed you know no but then less expensive like uh david can you can you articulate your alternative for a second so that we're all on the same page but the thing is that what we are discussing here is more like we're actually not discussing i think we are discussing more like the format of the like the transaction set we're actually not talking i don't think we are discussing uh and maybe we should start with that the the premise of allowing to control uh fees right because i think that's the important one i mean i guess i can see two um i can see uh i don't have a particular sort of alternative proposal because it seems like we're trying to do two different things and those might be uh better served by like two different mechanisms that are um you know each that some of which is like maybe less complicated or more efficient to implement than this right so the first thing that we want is we want kind of uh multi-phase block execution down the line so we'd like to lay the groundwork for things like speedx and smart contracts and stuff to coexist with the legacy stellar transaction format um and then the second thing that we want is we want to like weed out spam or you know transactions that are gonna gonna fail a lot and so um i just think you know these could be handled in two separate ways or if you wanna have multi-phase blocks let's just have multiple phases in the blocks and potentially have like fees per phase if we want to weed out spam then let's just you know have a way to weed out spam and you know regardless of fees we can just weed out the transactions without spam without uh doing it via fees is kind of what we're doing now and it's actually very hard to keep up with whatever people do like uh you know people are very clever right they will find better ways to get around it what power does this give us to weed out spam uh that that we don't have in the existing consensus layer in other words i agree that we want to be able to kind of unilaterally update uh like update stellar core without going through the transaction layer or like you know eventually have like a configurable algorithm to weed out spam potentially and maybe different validators have different uh different mechanisms but i don't see how this change to the consensus layer actually gives us more power to do that it may give us some sort of plausible deniability or something that works it actually gives quite a bit of new super powers to the network because uh like i was saying earlier like if i have an arbitrage trade where i can make a thousand dollars ideally i would want people to actually pay up to a thousand dollars in fees if they if they are really serious about that transaction right now they don't that's not what happens because they're actually competing with the entire pool of of transactions and they are filling up entire ledgers and then the the ledger fees go up to okay 20 bucks you know for a transaction but that's so that's not a thousand dollars but that's still ridiculously high and 20 bucks is not the number i think it was like what we saw was uh close to five dollars i think per transaction so your point is you you want the spam you just don't want it to be as profitable like if someone can do like this yeah that's what that's kind of the idea here is that uh like you know in the current proposal i'm say i'm saying well any decks any operation that may cross an offer is going to be put in a separate bin and then that bin uh we do this the action system on that so and then if you're not interacting with the dex then you're in the you know general uh group so it's you know that's like first step like you know we can probably do much better than this but you know so why don't we just throw in phases and say that you know like that's what i'm saying that's already what i'm saying sorry i'm saying instead of indexes let's just have straight up phases and let's just execute them in you know uh like it's just such that like the dex operation oh like you would want also execution order to change i mean like yeah that's fine we want to we want we want to like segregate is going to lay the groundwork for paralyzation right and so if we're going to do a change like this or segregating operations eventually we're going to want sort of the community of operations in one group and the non-community in another and so the legacy dex operations are exactly never going to be able to make uh community yeah like but like i think the issue here if we have groups in like impact somehow uh apply order like because we can have transactions with multiple operations i think you can basically take that use that to your advantage to maybe get executed in front of somebody else just because you happen to have the right operation no it's because you don't you'll be people will say that the like we'll flag certain operations like path payment and you know manage offer and whatever and say that these visa any you know there's a first phase uh which is might have a lower fee but the in order to get into the first phase there's certain operations that are off limit like the ones that we we can't necessarily make efficient and then in the second phase uh you can you know have arbitrary uh like my point is that this forces the to think about those um those those um feelings or whatever have to be somehow completely independent or something like uh like and i'm not sure it's uh you can always claim that not necessarily you could have like you know like i can see like for speed x like things like that yes you know that makes total sense for the existing transaction subsystem i don't know if uh well i think we're going to want to have like fast payments and faster payments than we can do order book operations so to uh just to you know if we're going to be making this this change like why not make it in a way that is is will kind of facilitate that that future where maybe you know payment processing could be parallelized even if order book processing can't be it's more like i think of this as it's it's it may be a multi-dimensional thing coffees and then how do you how do you turn that into a something that makes sense from a like a an ordering point of view right that's kind of i think i don't i think that's leave it as open-ended as the current draft you could just say that we're going to do that with our groups sorry i think if you say they are groups um if you're linking the groups to execution or yeah so you have to apply other groups yeah and so each group has it has a different apply order and a different fee structure and then we can kind of um you know have different rules for for different groups if you want to execute early and fast then you know uh you should you should have a transaction that goes in one group i think we could also i mean it might be worth considering uh if if we're changing the fee structure anyway to have a separate base fee for uh successful versus failed transactions right no that is wrong like that doesn't work like i don't see like doesn't work it makes things so complicated in the existing transaction subsystem that we've talked about that one a couple times before yeah that would be pretty tricky it's super complicated because you can merge accounts that's kind of one of the reason for example one of the things that can happen you have to refund people at the end yeah it is kind of crazy stuff and it doesn't and and this actually doesn't solve the it's it's it's not that we want to penalize transactions you're going to have buckets the the buckets could they could be morgan your granularity on the fee but that's fine i i believe you that that would be too hard for me the most interesting question was your first question david which was just like do we believe in the dutch auction still like let's just like start with that like do we think that even works like do we think that is a system that is a good system for blockchains because like we thought that what like in 2018 well maybe 2018 us was wrong right like i wouldn't deny that 2018 me was wrong about a whole bunch of stuff yeah but that way but the thing is that if you even if you go back to the regular fees it doesn't solve the problem that people are still going to be a stupid number and you take over the ledger agreed but like if we don't believe in the dutch auction thing like one of the things that i mentioned in like my email was like we could just like chart instead of like assigning a base fee to different groups we could just say like hey like if you're inserting groups you actually pay your bid so instead of being like a dutch auction now you become like a first price yeah i guess like a first price auction basically um and then like that that's really punitive basically to people who choose high bid high fee bids but then if you choose those high fee bids you are guaranteed to pay them basically so it avoids that situation where it's like oh there's a thousand dollar opportunity you build 900 dollars but you end up paying 20. it's like no i mean transactions right so this is one thing that's changed now so one of the reasons why you might want to have bid a fairly high amount in 2018 is because you were like pre-signing a transaction right and now we have a solution to that it's not just that but also like for like clients like it it really avoids having to to keep track of market activity like the activity like and especially if you start to say okay the predicting fees is basically uh is is becoming even harder i think you have to have uh this kind of mechanism well no but i mean what this current mechanism is is basically you say the maximum fee and then whichever validator wins nomination decides how much you actually pay right like that's that's what this is going on but it's sort of right um looks like a dutch auction kind of because there's these groups are you running the dutch auction but like if i can kind of pull people into different groups who are paying who are gonna end up paying different amounts for the same good then it's like i might as well just set the price you know it just it seems like it's trying to look like it's still a dutch auction when it's not so let's just be more directly what it is which is validators setting fees per transaction but it's like saying oh yeah like because uh like validators may decide to not do what we want people to do then let's throw away the whole thing right and make plans as complicated as possible no i'm just saying like figure out what we want validators to do and just directly give them that power instead of no but like that that's fine like we already like that's the point of this cap is we give them that power but then saying we also get rid of the bidding aspect well validators could decide to run a dutch auction right the point is if we if we're giving values the discretion to set fees then one of the things they could do is run a dutch auction but there's no reason to still have like to have cap five somehow wired into the consensus layer cap five is now going to be true yeah that's yeah exactly that's actually that's what the cap 42 already says it there's no more search prices we're running these we're running these dutch auctions per group which just seems like an inefficient we're adding this unnecessary level of indirection right we're giving we're giving validators the ability to set the fee of every transaction um and then we're doing it in this like weird clumsy bucketing way that you know is gonna require you to like check large sets of integers that they're not overlapping and all this other stuff which is just like you know why just like set the fee per transaction but how would you resolve contention if it came up like if everyone submitted the same kind of transaction all at once and there's contention for ledger space in that situation it's just uh you know highest it's basically the normal you know like i'm speaking at auction or a first price auction but just not at the consensus layer like it would be uh the block the nominator would be the one who's basically setting the fee rules for the block as opposed to uh having happen at the consensus layer and like you don't like when i was saying that like we don't necessarily want to do the dot auction i wasn't saying we don't want to do it for any transactions but what do you do but there's no reason you can't implement a duns auction like as you're nominating a block right but we might want to like for certain types of transactions that we think are very benign we might actually want to mandate it basically leave it giving clients the opportunity to do very simple fee estimation and then if you're trying to do something that's very you know profit generating deliberately profit generating but not otherwise useful um then you have this more complicated fee situation to deal with and you pay higher fees okay but if you want to audit that then it's going to be easier to segregate the transactions right i think i'm not opposed to that at all we can say like i could definitely see a thing where we say like at the consensus layer you know group zero uh is uh transaction envelope group zero is going to be uh not going to allow order book things and it's gonna have to be a dutch auction right and then like number one you know group one is like discretionary sure yeah that i would be super comfortable with that but like for me it just comes back to like do do we want to do stuff like that do like if we want to keep the dutch auction aspect of it i think we should probably mandate it in some parts and if we don't want to keep it then we should just be honest like you were saying and just like not even have any pretense of doing it and just say okay like validators you choose whatever you want and this is uh like cat 42 supports this basically my argument here would be just like remove the directions um for what you're supposed to do and say like do whatever you want i mean like to mandated you have to actually include whatever rule is used for partitioning has to be part of the protocol then exactly at least which makes it into that one subset the rest of them which means that for any any change we want to make uh to this partitioning scheme is a protocol change only to that one partition well like it could be a parameter too it could be like you know a bitmap of the operation types that are allowed in like actually the first version of this cap was not it was not operation type it was based on which markets you would uh will you be uh you know doing so it was much more granular so that's not the type of thing you would want to you can encode as a parameter it's uh but those would be the things that aren't in uh so basically like when you do a path payment you are not guaranteed to pay dutch auction to get the dutch auction treatment um uh if you do a simple payment you're guaranteed to get the dutch auction treatment that's exactly the kind of thing i'm talking about and then of course whether or not you get the dutch auction or something close to it would depend on the particular validator and that validator could decide it depends on the particular assets that you're touching do we think that changing the fee structure for these kinds of operations meaning like these non the non super benign very efficiently implementable operations would make a big difference i think that david you were already questioning that like is this enough control to discourage those kinds of things or split things up appropriately is that right is the fees the thing that matters is the segregation in terms of number of those operations that can enter the transaction set the right thing to control like what is the thing that matters i mean i you know i think that oh yeah of course we want to get uh you know we want to uh some of this is going to be subjective right it's going to be like validators are gonna have an idea that there's some stuff that is um you know more valuable to the network than other stuff right um and then people creating transactions are gonna have some idea of how important their transactions are which is going to be uh reflected in the fee or the max fee that they're they're willing to bid for that transaction and so i think we kind of we like the idea that you know if my transaction's really important i can like pay a lot of money and and get it included this cap doesn't actually guarantee that right because i could bid like a large amount for my transaction but the validator could you know either not included or could include it in a transaction set with a low a subset with a low uh base fee and then this my the block that contained my transaction would like compare unfavorably to a block that has like higher fees for other transactions even though their max fees are lower the way that so so that we actually almost never compare blocks it's true that's true so uh and then the the the spell spell that's actually already going to happen today so i don't want that okay i suppose there's not really much guarantee that any validator will include your trend like you can imagine that david you know you like want to send justin a payment or something to like close out a payment channel or something and you're willing to pay like a million xlm to do it yeah um but like maybe me and nico and tomer are the validators and we're just like yeah maybe not uh and then we just like refused to include your transaction is that that you know uh if some if some validator uh eventually uh if there's some validator willing to do it and that validator eventually wins consensus then it will your transaction will see the light of day yeah right you need consent you need some offline uh agreement basically to really censor transactions and that's that doesn't change this cap i don't think this cap can change that it changes it a little well no i guess not not really not any amount that matters i think we have not heard from lee and not much from tumer where do you guys kind of stand on all of this i i kind of want to understand it sounds like david has a much like more simplified approach uh i'm trying to understand like from a mechanical perspective what this looks like what is what are the protocol changes required if any for validators to start assigning random fees or not random fees to uh to transactions um yeah i'm yeah i think about this but i think like david has a point if we're just like pretending with this uh uh with this like uh group based approach you know like we can implement that logic without that so i mean like so the group thing is more like yeah like i don't really care that's more like like i said it's a sterilization format problem uh like i think we still have like the new thing i think the the new point that that david raised uh which is interesting is should we basically hard code the this split that is in the proposal right now as an optional thing so that should like this split being that there's like a presumption there that uh that non-decks uh operations uh or yeah transactions uh we're not going to need to do to to split that further you know uh oh sure or without going through consensus sure i guess put another way do we feel that for certain kinds of transactions people should be guaranteed the dutch auction and the validator shouldn't have discretion that's the question i was wondering too david and i think nico thinks the answer to that is yes i i am also inclined to think the answer to that is probably yes um i'm not sure maybe i'm wrong that niko thinks that but i think he thinks that based on his reaction when we were talking about removing the dutch auction i mean i like the that system that you basically express uh you know a maximum bid and then you and then it's the job of adidas to try to minimize this for you okay so this this does not currently guarantee that right cap 42.",
      "keywords": [
        "transaction",
        "thats",
        "actually",
        "dont",
        "thing",
        "mean",
        "transactions",
        "theres",
        "people",
        "maybe",
        "validators",
        "fees"
      ],
      "speakers": []
    },
    "2021-11-19-stellar-next-gen-technical.mdx": {
      "summary": "justin rice i'm the vp of the ecosystem at the stellar development foundation um where i work with people to understand how to use the network developers and enterprises and at the sdf our goal is to support the open source open participation stellar network of which you will hear a lot about in a minute in order to increase equitable access to the world's financial infrastructure marta hello and yeah i'm martha lakova i'm a software engineer on the stellar core team at cell development foundation and so i work on the actual implementation of a distributed ledger which is what powers the stellar network um so really excited to be here with you we ready all right we are going to dive in this is going to be a fairly in-depth explanation of stellar and of the blockchain technology that powers it um we're going to talk for a while i'm going to talk for a while hand it to marta and then we'll probably pause about halfway through for questions and then we'll sort of dig roll up our sleeves and sort of do a little bit of playing around with the actual network so technical deep dive interstellar quick agenda i'll explain how the stellar network works i guess i just sort of went through this give it to marta to talk about how it compares to other blockchains and then we will talk about sort of open source and an open source project and then we'll use the stellar laboratory and leave some time for q a okay the stellar network the stellar network is made up of nodes nodes nodes nodes what are nodes nodes are computers that connect and communicate with one another to keep a common accounting ledger and to approve and ratify changes to it so on the image on the right all those dots those are nodes stellar's open participation so anyone can spin up one of these nodes and they run this thing called stellar core that marta helps build it's decentralized because these nodes are run by independent individuals and organizations all over the globe so each of those dots is a computer running style according to community um the common ledger that nodes work together to keep it's stable physics major in the college nice and you guys are all students can you please um mute your microphones thank you i thought that was like a like just like coming in hot with a question at the top and i would i approved that uh that level of verve and engagement um okay ledger understanding the ledger so i said that knowns work to keep a common ledger it's stable it's secure it's transparent stable because the network is spread over a bunch of servers and computers all over the world so you can't turn it off there's not a central server it's secure um because the ledger entries are immutable right once a transaction has been processed no one can change the data or manipulate the numbers to their liking and it's transparent because like many blockchains like all black public blockchains everyone can see the ledger and trust that the information is correct that's the ledger so nodes keep the ledger and what's on the ledger well accounts accounts accounts accounts accounts are the essential data structure in stellar they are saved on this global ledger um they hold balances they sign transactions they also issue assets and account access is controlled by public private key cryptography so every stellar account has a public key usually they start with g and every account also has a secret key which always starts with an s the public key is safe to share right that's how people identify your account so they verify you authorize the transaction it's kind of like your email address people need to know it to send you an email that reference feels probably dated to many of you your secret key however is private information that proves that you own your account it's like your password can't share with anybody you use your secret key to sign transactions which essentially call functions that change the state of the ledger so transactions that's the next word transactions transactions transactions transactions on stellar are made up of operations which are the actual functions that change the ledger so a payment that's an operation offered to buy an asset to sell an asset that is an operation now this is stellar vernacular here it's a little confusing because operations honestly that's what most people think of when they think of transactions but on stellar you can actually bundle 100 operations into a single transaction you can put them in a specific order they execute in that order you can use that to do some interesting things we won't get into it right now but when i say operations you can kind of think transactions most transactions in fact consist of a single operation um each of the entries that you see in this example ledger that's a single operation transaction so lisa sends me fifty dollars thank you lisa transactions are time stamped um and they contain unique identifying information and every three to five seconds those nodes that we talked about earlier they bundle all the transactions together into a set they apply that set to change the state of the ledger let us walk through that process so it all starts with a ledger which is again is essentially a list of accounts and balances it's like a giant spreadsheet and a sql database users wherever they are in the world they submit transactions to send and exchange assets on the network some of these are individual users with stellar wallets some of these are businesses using making b2b payments and using stellar they can move funds anywhere in the world they can convert currency along the way thanks to a built-in system of exchange that includes order books and automated market makers which we will talk about later um these transactions are essentially bundled into sets they're confirmed by validating nodes they are applied to the ledger at which point they're final and create an immutable record and then the whole process starts over so why is a blockchain ledger immutable why can't someone change the previous entries on the ledger how do these transaction sets come together and get finalized anyway to answer those questions i'm going to pass the mic to marta who's going to dig in and explain how blockchain protocols work generally and also how the stellar consensus protocol works specifically marta hello justin thank you always great to hear you talk about these things so um yeah so let's dive a bit deeper into um technical aspects of the stellar network and the stellar consensus protocol in particular so to do this we're going to put things into perspective we're going to compare stellar to two biggest blockchains out there bitcoin and ethereum so let's start with the intended function of these three blockchains so bitcoin was the first blockchain to show a decentralized completely native store of value a completely internet native store of value excuse me so we think of it as the first internet native money recently more and more people have been referring to bitcoin as digital gold uh due to its scarcity and potentially a way to beat inflation but in this talk which is going to focus on kind of the initial um goal of bitcoin as outlined in the bitcoin paper which is uh digital money on the other hand ethereum acts as a general purpose decentralized computer so what i mean here is that it provides infrastructure for developers to write programs or smart contracts that can really execute anything so this allows a variety of different applications on the ethereum network so things like nfts or borrowing lending applications asset issuance and so forth and so finally stellar focuses on payments so stellar is really good for fast and cheap payments as well as issuing digital assets on the network for example on stellar you can issue stable coins such as USDC so next let's compare consensus mechanisms for each of these blockchains so bitcoin and ethereum both use proof-of-work which we're going to discuss in a lot more detail in the next slide um but for now i also wanted to know that ethereum is actually in the process of a major upgrade as they're moving away from proof of work towards proof of stake so while the intended proof of stake model actually has some better properties when it comes to securities and scalability um in this talk we'll mostly focus on the current state of ethereum and then so for seller um it actually used a completely different approach to consensus specifically it uses federated byzantine agreement which is implemented via the stellar consensus protocol to achieve consensus so let's actually dive a little deeper and try to understand what different differentiates all these consensus mechanisms so first i just want to kind of step back and emphasize that a consensus mechanism is vital for the security of the blockchain it is essentially what allows all the nodes on the blockchain to agree on something in a safe way if nodes don't agree on transaction in a safe way it opens up a possibility for double spend attack so a double spend attack is essentially spending the same money twice um a quick example here imagine paying five dollars for parking but then spending the same five dollars to buy an ice cream so you received the goods for a total of value of ten dollars meaning that you got the parking space time and you got an ice cream yet you only paid five dollars for everything so consensus mechanisms want to ensure that such a scenario can happen so now let's dive a little deeper into what a proof-of-work system is so to reach consensus nodes need to agree on transactions to confirm in the next block in proof-of-work systems each validator solves a very difficult math problem that requires a lot of computational resources um it is also proven that there's no shortcuts to the solution so the only way to get to the right answer is to actually perform the computation i.e show the proof of work so validators the first validator that uh solves that problem essentially gets to create the next block and then validators that create creates that block they broadcast it to everyone else on a network so as other nodes on the network discover the new block they basically accept it since it's it's essentially a longer chain and then once they accept it they can start working on the next block on top of that newly created block so here again i want to kind of emphasize that validators on the network accept the longest chain so if the validator is first to mine the block it basically creates that longer chain that is later discovered and accepted by others so another thing about proof-of-work is that validators are incentivized to participate in the block creation that we just discussed because they receive monetary rewards in the form of coins for producing these new blocks and you might have heard about about this this process is called mining and it's very popular so now let's shift gears a little bit and talk about how stellar approaches consensus it's actually a completely different consensus mechanism because there are no computationally heavy tasks so instead nodes select other nodes on a network that they trust and they exchange messages with those nodes to agree on a set of transactions to confirm in a particular block and we call these sets of trusted nodes quorum slices so let's unpack what quorum slices actually mean so to understand how consensus is reached on stellar let's first look at the examples of these quantum slices that we just discussed so recall that a quorum slice is a set of nodes that a validator chooses to trust on the right we have a network of four nodes a b c and d and we express trust relationship between these nodes with arrows so for example a has b and c in its quorum slice and another example is node b it has a c and d in its quorum slice so now that we know what quorum slices are let's define quorum so quorum is a non-empty set of nodes that contains a slice for each member so for example a b and c is not a quorum why well because it actually does not contain a slice full slice for b and c if you look at the diagram so you see that d is in the quorum slice for both b and c so it must be in the form on the other hand a b c and d is a quorum because it includes a slice for each member so now that we know what quorum slices and forms are the key detail of consensus on stellar is that network the network only confirms a block if a quorum agrees on that block so it needs the agreement of a whole quorum to confirm the transactions great so now that we've talked a little bit about consensus let's switch to open participation so what does it mean to have open participation it means that there's no central authority allowing or preventing you from participating on the network meaning that anyone can join and start validating transactions and participating in consensus and we wanted to include this feature because it's just so vital for decentralization as and as you can see all three networks have that but we thought it was important to include uh this feature as well all right cool so next uh we have some key security properties to go over so as you can see bitcoin and ethereum prefer liveness and Stellar prefers safety and you're probably very confused because i haven't defined either liveness or safety so we're going to unpack this so we're not going to spend too much time on the actual computer science theory here but the most important important point that i want to convey is that there are three desired properties that consensus mechanisms always want to have so those are safety liveness and full tolerance what do they mean so safety is a guarantee that all nodes produce the same block the same valid block meaning that nodes can't produce contradicting block blocks aliveness guarantees that nodes will eventually produce a new block and won't just hold and you know be not being unresponsive and then finally fault tolerance ensures that the network can tolerate uh node failure so either nodes going down or actually becoming malicious and sending like conflicting messages to other nodes so in distributed systems it is proven that you can only have two out of three of these properties and typically consensus protocols always want to guarantee fault tolerance and because consensus protocols select fault tolerance they're left with deciding between safety and lightness so what exactly happens when either safety or liveness are selected so if we choose safety which guarantees that all nodes will produce the same block nodes will get stuck until they can they can all produce the same block remember safety means that nodes can't produce differing blocks on the other hand if we choose liveness nodes choose to produce a blog any blog meaning that they choose to stay alive but they may produce a block that will later be overridden by a different block as network advances in consensus so this this potentially invalid block is actually what can open up a possibility for a a double spend attack and we'll look into example of this a little bit closer in the next slide as well yeah so let's see a visual example of how liveness is picked over safety so here yeah each clipboard icon basically represents a block and so as new blocks are propagated on the network nodes can learn about it at different speeds so it's actually possible for two blocks on the network to have a different view of the blockchain so remember how nodes choose to follow the longest chain in proof-of-work systems but what if some nodes haven't learned about the longer chain yet so they continue to follow the chain uh that they currently consider the longest and this is how you can end up with a different view of the blockchain as we try to show in in this example so on the other hand let's look at the network that prefers safety over liveness which is what stellar consensus protocol does so the important thing to realize here is that a split that we had in proof of work systems can actually never happen because stellar consensus protocol prefers or chooses safety over liveness so instead nodes hold if they can't agree on the same block so if there is no quorum that agrees on a particular block nodes just hold and stop processing transactions so we just covered some important security properties let's actually see how long it takes to confirm a transaction on these blockchains so every bitcoin block takes about 10 minutes uh while ethereum blocks block is about 13 seconds uh note that we also included the number of confirmations uh needed to consider the transaction final and this data is uh from from coinbase so remember that in proof-of-work systems nodes continue producing blocks and as they discover newer blocks on the network they might switch to a longer chain potentially abandoning the previous chain they considered longest so because of this we typically want to wait uh for the network to confirm several blocks after your transaction made it into a block so and this is needed to reduce the chances of the network switching to another longer chain and so on coinbase uh as you see in it in a in a table users wait for three confirmations uh for a bitcoin transactions and on ethereum it's a 35 confirmations so this is completely different on stellar uh there's actually no need to wait because exactly because of the feature that we just described in the previous slide where stellar prefers safety over liveness so because the agreement of the whole quorum is needed in order to produce a block once a block is produced operators can be sure that the block won't later be revoked so once it's confirmed it's confirmed and on stellar a block is produced every five seconds and only one confirmation is needed to deem the transaction final exactly for the reasons that we just described okay so now let's also look at the average transaction cost so again we averaged the data over the past 12 months as you can see it's quite different acro across these uh networks and um i just also wanted to kind of point out that uh this fees fluctuate is they depend a lot on how much competition there is uh for a particular transaction to be included in the block but kind of the most important point that that i want to make here is that is the order of magnitude difference between stellar and these other networks despite the fact that these fees fluctuate all right so now let's talk about sustainability uh so as you can see uh proof-of-work systems require high energy consumption um and energy consumption on stellar is quite low and why is that so remember how we said that in proof-of-work systems nodes try to solve a heavy computational task as fast as they can so this is directly related to energy impact so heavy computational tasks require a lot of cpu which in turn requires a lot of power and in proof-of-work systems validators are essentially incentivized to have high quality hardware that uses a lot of power in order to increase their chances of producing the next block this is different on stellar so because stellar does not require computationally intensive operations to reach consensus and instead it has nodes establish trust relationship with each other and just exchange messages to reach consensus this can actually be done on the very modest hardware and it does not require a lot of power all right so we just talked a lot about a lot of things and the final feature that i want to talk about is resistance to 51 attacks so what are these attacks um so again remember that proof of work systems nodes that solve a computationally heavy task they get to produce the next block so this is also directly related to how much computational power a validator has if a validator has a lot of computational power it is more likely to win the block race and have the network accept that block this means that if validators with over 50 percent of the computing power become malicious they have the ability to take over the network and dictate every subsequent block so as an example if a top few miners in a bitcoin network colluded or for example a large government felt threatened by bitcoin and invested a lot of resources into mining rigs the network could be taken over so on stellar such an attack is not possible because computing power is not a feature of consensus on stellar nodes choose other nodes that they trust to decide which transactions to confirm in the blog nodes do not accept the block based on computational power so this means that even if an attacker adds a million nodes to the network this will not impact consensus as long as nodes in network do not add those malicious nodes to the quorum slices and so usually nodes on stellar add organizations that they trust to the aquarium slices so this means an attacker will need to convince other nodes to you know on the network to add attackers nodes to the quorum sizes which can be difficult all right great so to summarize uh the stellar consensus protocol is a federated byzantine agreement which allows for open membership to support growing decentralization it has low latency which allows fast transaction times it is resistant to malicious actors and 51 attacks and it prefers safety over liveness to prevent forks and i know i just said a bunch of things i'm going to stop here and see if there are any questions before giving back to justin any takers any questions about consensus protocols about the stellar consensus protocol i'm always thinking that i trip over federated byzantine agreement system sometime and i'm like oh we should i want to call proof of vote or something that's not a question shy students if you have questions sometimes they put them in the chat too marta um oh yeah right we can do chat as well oh somebody really encourage you guys to ask questions yes yeah hi i was wondering if um so if when you're talking about security or safety versus liveness like how does seller have low isn't that what's the benefit of live of like liveliness if the speed for transactions is still faster on like stellar like why would anyone choose to value liveliness um i i think it's just that those consensus protocols are like completely different like um so on stellar for example yeah you prefer safety but then you have to also select your quorum set correctly and make sure that it's actually configured correctly which can be sometimes like difficult and so like you know on this proof of work systems i think that's just like a feature of consensus um yeah because uh you know this you can basically have like multiple chains at the same time and because it's a distributed system and you know these computers need to learn about these different chains on the proof of work system um then they can have like a partial view um of the network uh at the time so i i'm not sure that uh well you know one thing i i sometimes think about with stellar is like the validators on the network are known entities so as smart to point it out like they have to trust one another they have to opt into adding entities to their quorum set they know who those people are and so when you value safe uh safety right if the network halts what that means is that remember it's a decentralized network nobody has the ability to turn it off no one can just turn it back on either right like you actually have to coordinate validators if a network holds and so i almost also think that like one feature one necessity for like a network that does value safety over liveness is that validators have to be able to find one another right to restart the network if something goes wrong and i think on a lot of like in in networks that are proof of work where miners are basically like anonymous um i don't even know if that would be possible yeah and i think like because um stellar was designed for payments like it was really important then if you know if something happens like some kind of split on the network like everybody just stops uh you know there's there's no kind of forking and continuing to different views of the world um if nobody can agree on one view of the world everybody just holds so it's kind of like a important feature given how the network is used you know like for payments for cross-border payments um and like assets thank you marta that was awesome all right i'm going okay i'm picking it up and i'm talking about open source contribution so all of that that martin talked about is super awesome that is there is a code base that sort of all these nodes run that allow them to run to sort of talk to one another to vote to come to consensus to ratify transactions and a fundamental ethos behind the development of that code base and it's part of what makes me love sdf is that it's open source right anyone can review the code anyone can contribute to the code no one owes the owns the code right it's open it's free it's participatory you listening can join the good fight today you can work on the code all you need is a github account um there's a wide world of innovative stellar developers and while many of them are focused on building their own apps and services that make use of the network which we'll talk about in a second the sort of application layer many are also contributing to helping evolve the software that powers the network itself and that software that powers the network it never sits still it's constantly being iterated improved on worked on in order to fulfill the needs of the ecosystem including all the projects that are built to the application level so here's a question if you have this code base and it's evolving and no one owns it well how does it evolve and i'm going to talk about that quickly two main ways core advancement proposals and stellar ecosystem proposals bear with me here court advancement proposals caps this is a method that we sort of came up with the foundation actually i don't even know who started it but at this point it is a codified process to allow contribution to come in and amend and update the code that runs stellar core that martin talked about so coordinates my proposals they're suggested changes to the protocol of stellar they have a direct effect on how the network operates um they're about 40 plus of them each one outlines a specific change and they're used to add new features to the network itself so a recent example is one called feedback transactions which allows fees to be paid by any account on the network and it enables an application to cover its users transaction fees now network fees are handled at the protocol level so this new feature it required a new operation to be built into the protocol and that's why it had to be implemented in stellar core and that's why it was a cap according proposal had to be done that one incidentally we just added automated market making functionality to stellar core cap 38. i'm not gonna get into it right now but it was super cool two weeks ago um so caps they have a life cycle right it's it's it's a multi-step process to ensure it's high quality and backwards compatible for cap to be qualified classified as final and go live on the network it has to go through all these stages has to be implemented in the code but then fundamentally before it actually hits the network it has to be accepted by a majority of the network validators validators vote on the protocol number the network runs using the same stellar consensus protocol they use to ratify transactions so governance wise anyone can contribute to code code can be implemented but before it is actually adopted the network has to give it the thumbs up now that's different that count process is different than the other kinds of standards that live outside of the stellar code stellar eco system proposals seps for short these deal with changes to the standards and methods used to build on top of the network again there are 40 plus of these for various purposes they're labeled by numbers these don't alter the stellar code but they are technical blueprints that allow developers to agree on how services using the network should be implemented to allow for maximum interoperability so basically a lot of the times these say here's how to set up an extra network api there they detail like sort of two sides of an interaction server side how to create the api the client side how to consume the api um again they also follow a a a life cycle from draft to final i'm going to give you an example so this is less abstract step 31 is a standard that allows businesses to make compliant cross-border payments on behalf of two users so imagine a user wants to make a traditional remittance payment right they log into admittance providers website they provide funds and they enter information about the recipient and they want to have the money just show up in the recipients account they don't even know they're using stellar but they're working with companies that have integrated stellar on the back end so to complete the to complete the transaction and comply with regulations the remittance provider they actually need to know the recipient's bank account and routing number and they need to collect kyc information about the recipient and to do all that they're receiving and they need to share it with the receiving party right so uh there isn't a direct path between two yet user stellar account on network and so instead uh the anchors will uh create use a sep to create these extra network apis that allow them to share kyc information okay that was sort of a lot again that was the code uh marta talked about the actual consensus protocol those two things steps and caps were the ways that the code evolves um but in truth um interacting with stellar is actually quite simple and because we're actually going to move way up the stack now so most developers who are building on stellar they aren't necessarily working caps or seps they aren't necessarily thinking about the protocol level or interacting with stellar core in the raw every day they're using an sdk a software development kit in their preferred language and those sdks are interacting with a network api called Horizon so this three-tiered stack of responsibilities it sort of divides things so that each piece of software can focus on its specific purpose right stellar core concentrates on transaction submission and consensus Horizon provides an ergonomic interface to allow people to submit to to actually interact with the network and sdks kind of abstract away the complexity in a variety of different languages so when you're developing on stellar you can for the most part kind of not think about what's going on in the hood at least not all the time and you can just use an intuitive rest api to submit transactions query network data it's actually pretty cool but again that feels a bit abstract so let's make it concrete um we actually have a thing called the stellar laboratory this is a handy tool that you can use to build sign and submit transactions to the network and you can use it to query all the api endpoints um and to understand what that means and how to use it we're going to do something quickly right now i hope this works we're going to issue an asset so we're going to do it on the test net which is the development sandbox for stellar it's just like the main public network but it's not connected to real-world money so this is the process for issuing an asset on the test net it would be the same for the real network quick overview okay and issuing an asset requires a number of steps and the basic way to do this which is covered in the developer docs the easiest way to do this is to create two accounts one is an issuing account and one is a distribution account because in order to issue an asset on stellar one account has to trust the other to give it the asset and then that account has to make the payment this might seem weird but you'll see what it looks like in action um and so i'm going to now open stellar laboratory let's see are you seeing stellar laboratory okay this is stellar laboratory and as you can see it's on the test network i first want to create two new stellar accounts so this is what we will call the issuing account it's really crazy and then because in real life you would need to actually fund this every stellar account requires a minimum balance of lumens in order to exist on the ledger to prevent spam in real life you'd have to fund it with real lumens but again we're on the test network so i can just get test network lumens now this account has its minimum balance that is my issuing account i'm generating a second account this would be the distribution account okay saving these on a handy spreadsheet in reality you would be very careful with these keys um and again i've generated that key pair that i need to fund it and so again this is stellar laboratory and what i've just done is created two new accounts but as you can see up here at the top there's all these different tabs that you can use to actually understand what's going on on the seller network you can actually build sign submit transaction and explore endpoints so to start with we're just going to build a couple of transactions and what we're essentially doing is we're taking that second account that we created which is the distribution account i'm adding it here i say fetch the next sequence number i set the fee i'm not going to worry about time balance but this is me constructing a transaction and the operation type is going to be change trust so to change trust i'm going to basically believe in an asset that exists called you shy that is actually issued by the issuing account so again what i'm doing here is with the distribution account i'm trusting the issuer account for an asset called you shy i'm basically going to see that i have generated the right transaction envelope and i'm going to sign this in the transaction signer let's hope this works so i need for that i need the secret key if you recall i need the secret key of the account and then i can submit the transaction in the transactions this is a three to five seconds as you can see i submitted the transaction and the transaction is complete again this interface you can use to sort of create any kind of transaction i'm going to do one more transaction really quickly which is basically with the issuing account i'm going to make a payment so i'm putting in the issuing account now i'm fetching the next sequence number i'm going to create a payment operation this always makes me nervous and i'm going to send it to that distribution account here is a distribution account i'm going to send i don't know 13 13 13. not many again i can sign this with the public key for the issuing account so again this all feels a bit strange but i'm going to wrap it all together so nicely in the end and once i sign it i can submit the transaction let's hope it works transaction submitted okay so what i just did was that i basically created two accounts one is a issuing account that actually creates and sends the asset in a distribution account the distribution account essentially linked to the issuing account and said i trust you to send me an asset and the issuing account made a payment to the uh distribution account and now that account will hold a balance of the asset and that was basically we just issued an asset on seller you can issue any asset that represents anything with any asset code and it's just as simple as that just a few things that you can do in this interface or you can do it with an sdk now one final thing as i mentioned Horizon is an endpoint i mean is that api that has different endpoints and this uh interface the stellar laboratory will actually show you how to construct various queries to the Horizon endpoints so right now if i go to Horizon and i sort of query the distribution account what it should have is a balance of this asset that we just created oops so i'm going to put it here and you will see that in fact if i scroll down to the json response that it does have a balance of this huge shy asset so what i essentially did was issue into this account a new asset that never existed before on the ledger now part of what's cool is that this actually happened on a test network that replicates the real network and all of that payment all that issuance was actually done on multiple nodes and now i'm going to open just like a totally different thing this stellar expert is a block explorer for uh the stellar network it's not something that we built it's not something we maintain it's actually maintained by a company in in ukraine right and this is basically a way to view actions on the stellar network and i can it's set up to view the test network so i can actually go to a totally different third-party interface i can look up the key right and i can see that oh look there is the public key there's the asset that it issued there's its balance here are the transaction history here's what we just did and like this is sort of the way that it fundamentally works is that using this api you can create issue you can uh create payments make payments issue assets and all of that activity is actually done on this sort of like common blockchain that you can view from almost any other source um and so that is asset issuance on now i accidentally stopped sharing my presentation sorry okay um is there more to do here uh and so there you go those those features right the ability to issue assets that allow you to build an interoperable world because all kinds of companies or single devs can sort of build issue assets build interfaces that connect to the blockchain and it is very easy to get started right stellar again supports common development languages javascript and python there's extensive documentation developers can build and operate on the network with very few resources and there is this test network um and we have great documentation which you can find at developers.steller.org so for anyone who is sort of here and wants to build on stellar you can get started immediately i guess the final thing that i do want to say oh no there's way more um the next thing that i want to say is that also if you're interested in learning more about stellar and doing some hands-on stuff with that laboratory i would suggest that you go to quest.stellar.org and after signing up with discord and your albedo wallet you can basically compete in quests to win an nft badge several times a year there are live series where you can compete this is basically a gamified intro stellar that lets you learn if you're going to do it i'd recommend starting with the practice quests um start with quest one and you'll need to create an account like i just did and then it will sort of walk you through processes that you need to the resources that you need to complete the quest and you'll get a set of keys and once you submit the right transactions and you can use that stellar laboratory interface you can basically verify your solution claim an nft it's super fun even if you don't know how to code because you can use that interface and if you run into issues you can always ask questions in our vibrant community we have a discord server of stellar clusters um and actually that was it so if you want to find out more about stellar uh go to stuller.org again i recommend using stellar quest to keep learning and that was a fairly deep dive so again it was we looked at scp we looked at the stellar stack we looked at basically the interface and how you can issue an asset and then finally stellar quest the gamified way to learn more about stellar and now we will open it up for questions",
      "keywords": [
        "stellar",
        "network",
        "nodes",
        "account",
        "actually",
        "block",
        "consensus",
        "these",
        "transactions",
        "transaction",
        "which",
        "ledger"
      ],
      "speakers": []
    },
    "2021-11-19-stellar-next-gen-blockchain.mdx": {
      "summary": "well first i want to thank you so much for inviting me to the speaker series it's an honor to be here and thank you to anka for pulling this together the coordination of things like this is no no small feat and we're very lucky to have her as part of the stellar development foundation pulling these things together for the next gen initiative um today i'm going to talk to you about open networks and digital assets i know that billy explained kind of the ins and outs of of blockchain in general um if you haven't seen that first that first video it is on the stellar next gen discord channel so feel free to take a look if you missed that but billy grannis gave a great talk and something to kind of get you started today i'm going to talk to you about what we do at um stellar development foundation which we call sdf for short and then we'll kind of dive into the applications and use cases of blockchain and specifically stellar i'm going to do probably 10 or 15 slides i'm not sure where the marker is exactly and then kind of pause for questions and they'll have more um extended time for q a at the end um so yeah and if there's any technical difficulty that you can't see or something like that jump in anytime um but yeah i'm i'm excited to be here so my name is aydah vaughn and i work in marketing and communications but i've had uh several years of my career here in blockchain and crypto both as a business developer and um in the area of partnerships so i've worked with a lot of different companies in the space and really excited to be here today to talk to you about stuller from the sdf so let's get started the stellar development foundation is a non-profit entity and we are solely tasked with supporting and maintaining the stellar network so the stellar network and the stellar development foundation exist to create equitable access to the global financial system so how do we do that we do it in three main ways we make money more fluid markets more open and people more empowered and the foundation helps maintain stellar's code base by supporting the technical and business communities around stellar providing thought leadership to regulators and other stakeholders and physically maintaining stellar's code base so everything sdf does is aimed at making the network as a whole stronger and making it a success in its mission so i'm clicking on two screens here stellar itself is a decentralized open network that connects the world's financial infrastructure so blockchains can be used for a lot of different things but stellar is purpose built for connecting financial systems and it does that because of its speed and its scale that can be used for the stellar blockchain to transfer value the exciting thing about blockchain as a technology in general and stellar is one of these chains is that it makes it possible to move money in new ways blockchain makes it possible to create send and trade digital representations also called tokens you'll hear me say tokens and tokenization to mean this digital representation of all forms of money whether it's a dollar a peso a bitcoin it can be anything so it's designed so that all the world's financial systems can work together and travel value on a single network so let's talk about who exactly uses stellar there are a lot of stakeholders involved and because stellar is an open and permissionless network really anyone can build anything they can imagine on stellar to create impact on the global financial system of today stellar is purpose built for working with it so we look to extend and not replace the world's existing financial infrastructure so businesses that want to pay for goods and services across borders banks and fintechs that want to quickly process payments and move assets exchanges that are making for example on-chain liquidity with blockchain more accessible and of course the developers who are building and integrating digital infrastructure across these financial systems governments are interested in stellar and we have a lot of communications where we speak with regulators and kind of inform or try to inform policy makers decisions about blockchain technology and then of course consumers who want to send receive and grow their hard earned money really everyone since entities can offer financial products and services and take advantage of these features to build better solutions to real world problems stellar is uniquely useful so how do they do it we'll talk about that there are three main things that people do on stellar where it adds utility to these processes the first is that in order to move an asset on stellar it has to be tokenized so tokenization of assets is a digital representation it could be what we call fiat assets like a regular currency a dollar a euro a british pound a peso um then once they have that value they need to hold it and they may want to diversify it so they may start out with a us dollar tokenized on stellar but want to move to a mexican peso for example or they may want to send money to someone who when they receive it wants to change it to a different form of value one of the things about blockchain and the reason why it's so valuable for financial systems is that it's immutable so in the case of new technologies for moving money there's a high motivation to tamper with these technologies and because blockchain is so strong in terms of its immutability its inability to be changed and the ability to monitor it it has a particularly high use high value in this use case the third thing that people do once they have assets on stellar is they want to send an exchange as i was saying going across border making a payment to a business in another country or even sending peer-to-peer remittances so i can send you money if you're in a different country and i can use stellar to move that value so the first step i'm going to go through these these three main ways that stellar is used and we'll start out with tokenization so you might wonder how does a dollar get on to stellar and that is this process called tokenization in order to have a universal payment network where value can move everything has to be in this form of a token and so tokens are a redeemable tradable representation of any asset and it only takes a few lines of code to do it on stellar token issuance is really the backbone of the stellar network and it's how we connect all the world's currencies and systems it's what stellar was built for asset issuance is also flexible you can issue a token that represents anything from an ounce of gold to a piece of art to an hour of your time as a consultant could be a real asset could be a service it's up to you today i'm going to talk to you about two main types of assets which are these like non-currency assets i'll call them so things that are not a dollar not a peso things like the um the bit of your time or a piece of art those are non-currency assets and then we'll also talk about fiat-backed assets and the utility for those i love this example so um you know so much of the internet and so much of technology has grown around entertainment right this is an example of a game plan game platform that started with a card game and the cards were able to be traded inside the game and used as assets so they had value only inside the game and um lightning is a tech company they call themselves a tech company that creates innovative products to connect crypto enthusiasts and gamers to unique experiences lightman started off with a site called lightmint.io and this was this is a little screenshot of their game their cards were collectible on the stellar blockchain and then when their community wanted a place to start to trade their cards and interact with one another with the card's value that's when the idea of an nft marketplace came to life so um do you all have the ability to raise your hand on your let me see i should have asked at the beginning to raise your hand so how many folks have heard of an nft okay so now for all the people who have ever owned an nft keep your hand up so um game platforms and nfts are used enlightenment and it allows creators as you may have heard nft stands for a non-fungible token and a non-fungible token is a unit of value that cannot be divided so if you have an nft that represents um an avatar that you drew or a service you're providing whatever it is you cannot split the nft and it has a a single representation and a single owner and um but they can be traded so um this is an example of a game platform that uses nfts um and it's it's pretty neat because um the stellar network is very very cheap to operate unlike some of the other major blockchains and so creators can create can make an nft that costs five or ten or twenty or or even a dollar and because the cost of transactions on stellar is so low that really anyone can do this um which is pretty neat it's another layer of kind of inclusion in stellar that is is pretty fun and it allows for a very flexible um and movable kind of nft so on a more serious note tokenization of securities um i think so i'll do the same question like how many of you own a security own a stock probably everyone right everyone in the room probably owns some sort of security and i think um in go ahead let's see is it every single person that's got to be right everyone's got something something in their portfolio hopefully there are some people that raise their hands can you see them ada yes i can see i i see a seat there's a sea of hands yes i can't i can see that nearly everyone or maybe everyone um has owned a stock um you probably have not owned a tokenized stock and the reason for that is that we live in a high income economy where we have very easy access to high quality securities on you know i can go on e-trade almost any of us can open an account at a fidelity or an e-trade or charles schwab any of these brokerage houses will welcome our business and and allow us to buy securities and enter into other kinds of investment opportunities however in the rest of the world especially in emerging markets it is not that way at all we can buy a share of tesla or apple anytime we want but if someone who is living let's say in a small town in latin america or in sub-saharan africa or other parts of the world they simply don't have access to these kinds of assets and so tokenization of securities is a really interesting use case for blockchain and for stellar specifically i'm going to show you an example of it but it whether it's stock or real estate these kinds of assets again they're not money they're different than a currency asset but they can be tokenized in very similar to securities that can be tokenized into shares and tokens um on stellar so i'm going to show you an example of a company called d stock they have kind of a fun spelling of their name and um give you an idea of how that works so they are a company that offers access to um stocks like apple and tesla like you can see here in emerging markets um they also allow micro investing so you can buy a fraction of a share for someone who maybe only can invest you know 10 euros or 20 euros and this is a really unique way to expand assets expand access to high quality assets that otherwise they would not be able to reach and and they can also securely trade them so inside this app is available in europe um vietnam south africa there are um a number of markets where people can then trade these fractional shares and so it's kind of a marketplace in and of itself um and it's pretty it's a pretty interesting use case for financial inclusion here's one more this company is called realty bets and again realty bits is um a marketplace on stellar and they have built-in infrastructure where people can invest in opportunities like startups like real estate they started out realtyvis story is that they started out with their name as you might imagine mainly doing real estate but then they had these verified you know sponsors and investors involved in their platform and realized that they could do a lot more and so they expanded um to other types of of assets and it allows for cap table management um it just really simplifies the whole process you know normally to invest in a private asset um it's quite a clunky process you know if there's a private equity manager and they got to talk to this person talk to that person it's very slow there's a lot of friction and it's very expensive and so um this just promotes a lot of efficiency and these kind of investor sponsor relationships and streamlines the whole process so realty bits built this platform um and it offers users access to investments that they again wouldn't ordinarily see or where um investing maybe in a small way would be uh too cumbersome so it gives them a faster on-ramp so as you can see from these use cases any any company it's open source any company can issue any kind of asset they want on stellar so now we're going to talk about well my slides have gone crazy sorry um now we're going to talk about the use case for fiat currencies um who here has heard of the term stable coin couple people how about okay so keep your so now i'm gonna ask another one you can lower your hand and then how about cbdc i can say it so fast because i say it a lot cbdc okay a few people not many um stablecoin stablecoin is a relatively new term um when you tokenize an asset on stellar and it happens to be a fiat currency we call it a stable coin and what that means is um because uh blockchain assets grew up in this world of coins like bitcoin everything's a coin something's a coin um stable coins are meant to mean that they are always tied in a one-to-one relationship with their underlying fiat currency so one let's say uh USDC which is a us dollar stable coin we'll talk about in a minute is always worth one u.s dollar and redeemable for that dollar um so stable coins are that kind they can be any representing any of the world's currencies but they always remain stable to the value one coin is one dollar or one coin is one british pound just like that um in the case of cbdc's this is a relatively new um development in blockchain so there are country probably i want to say 60 to 80 projects pilot projects going on around the world and then there are a few that are starting to i think to like roll out and get beyond pilot stage but the idea of a cbdc which stands for central bank digital currency is beyond a stable coin so these are a type of stable coin um that a central bank issues the asset and what that would mean is that that central banker can retain control control of their monetary policy and that they can control the economics and security and functions and there's some programmability on stellar a lot of really neat features but cbdcs are a form of digital currency that are meant to be controlled by a central bank just like ordinary fiat money so kind of central it keeps that central control over the monetary policy oh my hand is raised i can't see who raised their hand are your hands still up from the cbdc question if anyone has a question go ahead and jump right in and speak so i can't see all of you yeah my bad i think i just left it up oh no problem all right great so we are going to talk about USDC um the the oh and i should probably mention anchors before i get uh any further so cbdc's and stable coins as i said are representations of regular money so when you have a regular dollar you give it to an asset issuer and they give you a token um and those issuers we call in the stellar network we call them anchors and that is because they anchor the fiat value to the token and so they're a very important part of the system of onboarding value and off-boarding value to the stellar network and you'll hear more about anchors in just a minute one really important anchor is USDC circle i'm sorry my slides are so jumpy i need a better mouse um the in this uh this graph is actually a little bit out of data i believe we have surpassed today 40 billion um USDC in circulation um so usd stan USDC stands for usd coin um as i said many things are a coin uh in our world USDC is uh issued by regulate regulated financial institutions it's backed one to one by u.s dollars and it's governed by a consortium called center centre i think someone went off mute for a second um and so there are these kind of technical and policy standards financial standards for stable coins USDC is always a dollar um and it's available on multiple networks too which is one of the reasons i think for its fast growth um it has transferred on chain over a trillion dollars um in in a year basically and so there's a lot of movement of USDC it's super useful um as a way of moving value without losing value because it's always stable it's a stable coin um and the usdnc in circulation has been growing all the time as i said i think it's over 40 billion right now so um these anchors as i was saying are both the on and off ramps of value and you can kind of see an example of some of the stellar anchors around the world in this slide so in addition to USDC there are other us dollar stable coins that are issued as well from the u.s as well as argentine pesos there are euros there's nigerian naira philippine pesos um there there are lots more and so especially when um you have this transition between currencies and when one of those currencies is i'll say difficult or less liquid um if you've ever traveled someplace in the world where it was sort of a currency you don't use as much those kinds of currencies have a lot of friction and transition people tend to pay very high fees and so connecting those financial systems with stellar has a huge benefit for the citizens there and those anchors in the local area serve as an on and off ramp for value to the network so they accept the local currency they pay the local currency and then they trans they can onboard it and keep it in that currency or can change on its way um so when they do you have a question let's see another race yeah i had to go ahead generally or like cbdc's um yeah and so i was wondering if a lot of the hype around like crypto is about how it's decentralized but cbdc's are like regulated and issued by like central banks um how do they fit into the picture of like cryptocurrency in general yeah that's a good question um so assets are all are issued assets like stable coins are typically issued by a single source so even um you know center is a consortium of companies but circle is the issuer of USDC so the all the value is sitting in a centralized place i think the difference and what we are trying to push for also with cbdc's is to have them have the ability to move on an open and permissionless network so we care a lot about the network versus the asset issuance i mean it's great it's easy and um and secure and there's a lot of great features issuing assets on stellar we absolutely want people to do that but in terms of our global financial inclusion goals in the space of cbdc's we really want these assets to be changeable and to be able to travel on to be by changeable i mean interoperable so they can travel between geographies and um and to be able to be used by anyone and i think actually central banks want the same thing they want access for everyone that's a it's a large concern they want security they want access we're actually getting ready to um publish a um a study a kind of a deep research paper on cbdc's probably before the end of the year fingers crossed um that anka can definitely hook you up to if you're interested in learning more about the details of policy frameworks for cbdc's it's pretty intricate stuff um any other questions go ahead jump in hi hello um thank you adam um i was just having a question about how the anchor system works um so the way i understand it you go to the anchor with a hundred bucks i'll give it to thank god they gave me back hundred tokens um would these anchors be holding off hundred bucks like in their reserve or would they be uh holding one certain one portion of it and using the rest um for investments like a bank does and is that how they make their fees it's an insightful question yes so most anchors do charge a fee um to convert from the fiat whatever fiat you're giving them to uh the tokenized asset um and they are anchors are regulated financial institutions so while they're um you know across the world for example like a famous um a famous and very criticized stable coin called tether usdt um people are very critical of their reserve of their policies around the reserve and they ask for audits and things like that i think in general blockchain is fairly transparent and companies that um and stellar is this way too very open and transparent about policies and what you know how they manage funds and exactly what their reserves are and where their reserves are um we insist on um companies that become anchors on stellar have to identify themselves they have um you know they're kind of a trusted financial institution in their own market and um they all have to comply with their own local regulations but our expectation is that they are fully reserved assets um we we are an open network and so anyone can use it and it's definitely up to the user and the consumer to make sure that they're making smart decisions um but we really look to hold our anchors to a high bar well then if one of the anchors go down would that mean other anchors have to help save them or is this connected network or are they all by themselves because if they're not they're just like individual banks small banks that just exchange between fifth way off fiat money and tokens everything they are msb so they are money service businesses or fintech so they're like a neobank they're like a bank in their local area for sure they actually act like a local bank so they're prone to the same risks of a bank going bankrupt because of that investments potentially although tokenizing i would say that anchors are the on and off ramp and i would use the word ramp because you don't usually hang out on a ramp right when you go on the highway you get on and you go and you go where you're going and when you get off you get off you don't park on the ramp and stay there so i think most of the time value is moving through the anchor and it's on its way somewhere else so um i think still the majority of the use cases that we're looking at for these kind of cross-border payments they all start in some kind of fiat and end in some kind of fiat um so you know and this can happen in you know seconds or minutes when it arrives at the destination generally speaking people are going to land the value in their bank account for in cash sometimes and so that means the transaction happened and it's done you have your you have your value ready thank you so much ata sure uh no i think i left my hand up just saying okay hi nice to see you again um so yes all of all of the anchors um just to sum up on that question all the anchors are maintaining these fiat reserves once they onboard value to the network um equal to the tokens that they've issued on stellar um and then anytime people redeem or pass to another anchor then that's how the value will move and eventually land and be out again our vision for stellar is this you know better connections better interoperability for a world where you know we see globalization happening um but the access to financial services is still fairly unequal um you know when USDC kind of moves through the economy the underlying dollars are still sitting in the bank but we're enabling all of this commerce there's economic activity people can loan you know tokens to one another there's no intermediaries or banks you know taking a piece of each transaction along the way so there's a lot less friction and we're really envisioning blockchain as enabling this this more connected more interoperable world the next thing so that was all about asset issuance getting value on to the stellar network i'm going to pause here for a second if there's any other questions before we talk about holding and diversifying the value on stellar any other questions all right holding and diversifying value on stellar um you know anyone who has value on the network needs a place to keep track of it um when you move money you're used to this right when using a bank anytime you move money you move it into the bank then you take it out use it or spend it um but accounts on stellar work differently even though we call them accounts um they really are just a marker in the ledger that says what belongs to you so this is and i'm sure billy talked about this too this is distributed ledger technology so on the ledger it says you own this five dollars let's say this five USDC belongs to jim it's in his wallet and everyone knows it's in his wallet because it's on the shared ledger and then when he wants to spend it there's a transaction that sends it from his wallet to someone else's wallet and so um as you might imagine these digital wallets which which are different than a you know a cash wallet that you use um you know unlike a physical wallet they are they don't contain the money they really are just showing you a vision of you know a view of the ledger of where your money is um noted in the ledger and so they don't really store assets but they give you access and they give you the ability to um to control it wallets also connect to anchors so when you do walk in with your cash or send a send a bank transfer to an anchor to get those tokens you need to have a wallet to land that value coming out of the anchor and tokens there are a lot of different wallets um wallets have to be compatible with the blockchains that those assets move on so lobster is an example of a stellar compatible wallet and it gives users access to any asset on stellar so whether you've tokenized a enlightenment card or a bar of gold or or 100 USDC on stellar all of those are available to be seen in a with a lobster wallet and it has a mobile and a web version it's very clean design we really like and recommend lobster and it's also very kind of open-ended so it can be used for all these different kinds of assets  as we look at these fiat currencies and the things that you can do with them in your diversifying value i really love this example of another wallet that is that is purpose-built for a very specific use case um and this wallet is called leaf global leaf runs um it can run on actually a like a low feature phone as well um it's been deployed in kenya rwanda and uganda since uh for about a year september 2020 and it enables people who don't have a bank account don't have an address um and who are completely disconnected from the sort of traditional financial system to hold val hold spend and send value is really designed for refugees uh cross-border traders and the financially marginalized people who for whatever reason cannot get a regular bank account and so it's really accessible um you know everything from the different languages that it has the ways that it identifies people um you would be surprised how difficult it is to pass these traditional what we call kyc know your customer checks um in sort of ordinary financial services and so it's a it is a terrific help for refugees because they also are very vulnerable to um to robbery when they have to carry cash it can be dangerous especially when crossing borders so they really have a safety issue that is solved by the leaf wallet and um and it just it empowers them to hold and keep value when they need it most so once someone has a place to hold value in their wallet then we can think about ways to diversify it there's d stock we talked about equitable access to various kinds of investments earning yield is something that has come into the forefront with all different kinds of crypto but in particular you can earn yield on stable coins and so let's say for example i live in argentina or um or venezuela or zimbabwe or other places that have had severe problems with their currencies um with crypto like with a stable coin i can save in u.s dollars and i can also deposit that in um different kinds of wallets that are in yield so it is such a wonderful hedge against inflation especially i mean we see inflation here i think um the numbers that came out for october were over six percent i think we have right now in the us um 6.2 annualized inflation it's sky high um you know a gallon of milk cost about a dollar in 1968 and today it's almost four dollars so you can see the effects of inflation are dramatic if you don't have your money invested if you're in those marginalized communities where you're not able to invest then you are very vulnerable to inflation and so vibrant is a great example of um in in argentina um and across latin america people can save in u.s dollars and um the banks they're maybe the very wealthy can save in u.s dollars or keep value in us dollars but it's not available to the average person and so vibrant is a super useful app for people to keep value in us dollars and even earn on their balances it's a super easy platform to use and it's built on stellar so finally we're going to talk about sending and exchanging assets i'm really sorry for these jumpy slides um sending and exchanging assets is one of the things that stellar's is uniquely suited to do because of the way it's structured and because it's an open and permissionless network there are lots of pathways how value can move one of the most useful kinds of applications that we see is cross-border payments and remittances because you are able to send send fiat value once it's tokenized on stellar and have it change along the way into another store value so these cross-currency transactions are really very efficient on stellar and part of that is due to what's called a built-in dex so um a dex is a decentralized exchange and what that means is that there's an order book similar to a stock exchange or other kinds of exchanges where assets can be traded for one another based on um a bid and an ask price so this is um just kind of a representation of a typical order book on the decks um we recently released another piece of technology called automated market makers which also allows assets to be changed on the fly and improves the efficiency of stellar um i think when i said you can send currency in one send from one currency to another um that that is kind of a unique thing about stellar and we do it with this thing called a pass payment which can go through the decks or it can go through the amms um the automated market makers and these path payments work um from so if you kind of look at this map they start out they can start out in the philippine peso change to us dollars to lumens or nigerian neighbors and and along the way they can make many hops into different currencies as needed um and land in the value of that the receiver wants both sides only get the currency that they want to deal with sorry lucian's asleep so i think somebody went off mute um but this allows for a lot of flexibility and different use cases on stellar so let's look at a cross-border payments and remittances this is an enormous market 37 trillion in 2020 and 39 trillion by 2026 is predicted um one of the real areas of friction is as i was saying in emerging markets where cross-border payments and remittances can cost 10 percent so the people who need the money the most are actually paying the highest fees for these transactions and you know whether they are migrant workers sending money home businesses paying remote staff suppliers getting paid by customers there's all this friction when transacting between different currencies intermediaries all take a piece and you know starting with the payer's bank and ending in the account of the recipient is usually um many steps each cost some money and time so it tends to be very slow um because of globalization and our you know increasing tendency to do business across borders a lot of fintechs and large multinational companies are looking for new ways to do cross-border payments they're really pushing in this in this regard and um b2b payments are a strong use case on stellar there's there's a lot of this type of transactions on the stellar network here's a look at kind of the existing landscape for payments um so if you're in europe you might use the sepa inside of europe um sepa payments are really you know quick and efficient and cheap but once you want to try to send money overseas then you're riding on swift or some other you know some other um rail if you're inside the us you might use an ach which you know takes a few days but it's pretty dependable pretty cheap um the problem is that none of these payment um kind of systems are interoperable so i can't send a step up payment to an ach recipient in another country and so you know in the 1970s they stood up this system called swift and um it was it stands for the society for worldwide interbank financial telecommunications so it's kind of a mouthful but swift payments were established out of brussels with certain standards where all these member banks could send money to each other but swift was never really built frankly for individuals it never never served peer-to-peer very well it's pretty slow um and it's a closed system so only banks can participate um you can't have a fintech just jump in and initiate a swift payment they have to use a bank to do it um so sending funds cross-border is usually super slow and incurs a lot of fees so um you know one way that companies deal with this is they just open bank accounts and all the geographies where they do business which can work especially if it's just one or two geographies maybe and it's a very large company you can establish operations and get a bank account wherever it is that you want to land value and then pre-fund your transactions in that geography but now you're holding capital in all these different markets and um and you're also exposing yourself to um forex to currency risk you know between the currencies that you're holding so um you know traditional you know cross-border payments for businesses um can be pretty much a pain i will say you know they they start with this let's say a service provider issues this invoice um and then the customer goes to pay them so they wire their money to a correspondent bank the correspondent bank receives the money sends it to the receiving bank you know so there's a lot of um different steps and some of them are even manual so you have like actual paperwork and things that are seem archaic to us now the typical time to settle a transaction like this is two to five business days depending on the geography and this is counting on having developed pretty much developed countries on both funds fees can run anywhere to five or six percent the way that stellar manages cross-border payments is a little different as you might imagine so still the service provider issues that invoice but instead the customer pays an anchor in their home currency so the anchor is responsible for onboarding that value and sending it to an anchor in the destination country and then that anchor in the destination country pays out the fiat value in the local currency to the receiving bank so here you have a frictionless blockchain based pathway for payments with local partners to provide the on and off ramps for fiat and the effect is the same it's just a lot cheaper and a lot faster still the service provider is paying and the receiving bank is receiving for for the supplier but there's no intermediary bank fees in all of these steps and they're all dealing in their local currencies as well so the this kind of replaces the process of the international wire and the currency conversion in a single pathway d transfer is an example of an app that allows companies to do this and kind of shows the pathway along the way for b2b payments between currencies their fees are something like one-tenth of a traditional bank and so it's a pretty high utility um it's connected to banking networks in europe the us mexico brazil tanzania expanding through europe asia africa and the americas now click pesa is another example that deals with the intra-african the high fees inside africa so i think i mentioned a fee of 10 in africa um paying between countries in africa can be is definitely in the double digits it can be 15 fees 18 fees um between african countries and so click pesa gives companies that operate in africa the ability to accept payments online in a b2b payment platform and provides the on and off ramps for tanzanian and kenyon banks finally remittances we're going to talk about um the remittance market which is um you know a very high impact area for financial inclusion because many um many countries in the world have a large percentage of their gdp coming in in remittances their families all over the globe that depend on remit says for to survive to live and each year about half a trillion dollars of value is transferred cross-border through personal remittances um in most cases they're small they're you know 200 to 500 and they average cost is somewhere around seven percent um in in between developing economies like i was mentioning in africa they'll be over 10 typically um so you have traditional money transfer organizations um but they're not as efficient as they could be they're not as fast as they could be and with you know the insertion of correspondent banks and kind of the older payment rails um there's definitely a lot of opportunities for improvement and so we really see this stellar powered remittances as a huge advantage um these are just a couple tempo and arf that enable remittances um tempo is located in paris and arf is in istanbul and they enable remittances to happen in a much more seamless way across europe and tempo has other pathways to to africa an additional location so it's really pretty exciting to see these remittance use cases come to life finally i'm going to show you one of our most exciting developments at stellar is the use of moneygram so you may be who's heard of moneygram curious it's a it's a pretty large business but they're primarily um involved so here's a couple people who have heard of the company moneygram so they are a money services business that allows people to send money around the globe typically person to person and um so what we've done with moneygram in this recent partnership is connected digital wallets to moneygrams so that people have a pathway for cash in and cash out using the money gram physical locations and the value moves on stellar and what's really cool about this is you have people who need to receive money in cash for example in latin america because that's how they primarily you know live and transact um but they may not have a bank account so they might not have a way to get the cash out and so using these money transfer services we're able to leverage moneygrams retail locations along with the efficiency and speed of the stellar network to get remittances get cash in the hands of people much faster the partnership just started and so there's going to be a pilot and i'll actually um i'll mention in case anka hasn't already that um we're going to be giving a demo and a lot more information about this partnership at our conference called meridian which is completely free um it's november 17th and 18th next week so if you're interested in um stellar technology and you know we have debates and there's a lot of interesting stuff feel free to register um you're all invited to attend and um and of course stay in touch and depending on your interests too if you have more technical interests or more business oriented interests there are kind of different tracks um so there's two days of um you know presentations and opportunities to interact with with sdf um we like to think of our our ecosystem we call it an ecosystem right because there are companies sdf is really just here to support and foster the stellar network but now there are all these companies all over the world that are plugged in and we see this as an approach of driving global financial inclusion rooted in global collaboration and so all of these companies whether they are wallets exchanges money transfer businesses payments businesses wallets they're all they're all participating um in this ecosystem and whether businesses focus on one use case or they combine different use cases together to meet the needs of their target customers there's just a lot of innovation going on on stellar you know we're always getting new features and that's why i encourage you to attend meridian and find out more about it so these are just an example of of some of the businesses that are part of the stellar ecosystem today it's like watching a show there we go these companies are located all over the world and so this this global ecosystem has evolved to serve a lot of different needs uncle do you want me to talk briefly about um stellar quest and the community fund or do you want to talk about that since it is your area of expertise um sure yeah let me uh let me let me um do you want to put up the slide sure i'm glad too so this is totally cool go ahead yeah sure thing so um yeah so stellar quest telequest is a fun way and gamified way to learn tech of stellar um so currently like if you sign up uh you can go through practice challenges that makes it easy to kind of learn the tech of stellar and you don't need to know how to code so while doing it while completing these fun quests you can earn rad like collect red nfts and also during live series you can collect earn excellent so it's actually very fun uh next slime is the native currency of stellar um i definitely recommend anyone who is like watching this to go to quest.org at least go through the first year seriously how you feel because then you get really like oh this is how ledger works and you'll actually work with tools that we call the laboratory where you can submit uh transactions directly to the blockchain so yeah very exciting and then you get a good feel of how things are looking um yeah so i guess we can go to the seller community fund as well yes i will eventually turn this slide sorry about that yeah so you know if you do enjoy like building on stellar and i think like you know jim also mentioned having some kind of hackathon at some point i think uh you should definitely check out communityfun.seller.org it's an open application grant program for stellar-based projects really to like you can build and grow your project and then submit it to the scf and then we also have a really vibrant discord community where you can go in and also check out all the other projects uh currently like our submission deadline is november 21st which is obviously coming up but uh definitely after about i think like november 24th you can check out uh this rounds selects and uh yeah check out what people are all building so um community fun is really cool because the community itself votes on which projects they like best and so while stf like we provide the funds the uh communicate community allocates it so it's a really investing in the community's vision um that was it for me thanks so much thanks thank you so much anka um so stellar.org is really the place to learn all about everything that's going on at stellar from news to developer relations um there's a pretty large knowledge base there that talks about all these different use cases there's cool videos all kinds of things so yeah i invite you to access stellar.org anytime and learn more about stellar's open network for storing and moving money",
      "keywords": [
        "stellar",
        "these",
        "value",
        "money",
        "assets",
        "theres",
        "people",
        "bank",
        "network",
        "financial",
        "different",
        "theyre"
      ],
      "speakers": []
    },
    "2021-10-28.mdx": {
      "summary": "hi everyone welcome to the stellar open protocol discussion um in these meetings as always we discuss core advancement proposals caps which are technical specs that suggest changes to the stellar protocol and they're necessary to allow that protocol to continue to evolve to meet ecosystem needs we live stream the meetings so that you can follow along i do want to note it's a technical discussion so if you're watching please take a look at the cap link to in the show description cap21 we do keep an eye on the discussion box and your comments there inform future decisions but our goal today is to talk through some final questions about cap 21 so we'll only really address questions here if they're directly related to that goal um once again this meeting is part of a caps life cycle they are started on the stellar dev mailing list and there's a link to that mailing list for anyone who wants to participate in future discussions they're drafted and iterated on before they're drafted or before they end up in this in this discussion uh in this meeting and based on what happens in this meeting they may get put up for a vote before the cap committee who decides whether or not to accept or reject a cap after a vote uh the cap enters a week final comment period so everyone has a last chance to raise questions on that same mailing list if a cat makes it through final comment period it's implemented in a major release of stellar core which is then put forward for network validators to vote on ultimately at the end of the process it is the network that decides on whether to accept major protocol changes on that note there is currently a validator vote to upgrade the network to protocol 18 scheduled for november 3rd that's next week and so that upgrade would introduce automated market maker functionality to stellar so it's very exciting it also introduces some breaking changes so if you build on stellar please make sure to install up-to-date versions of any stellar sdks you use any stellar sdks along with stellar core and Horizon if you run a node but today we're discussing a different cap destined potentially for a different protocol cap 21. cap 21 lays the groundwork for building payment channels on stellar um payment channels allow multiple parties to transact off chain and periodically settle on chain and among other things what they do is they make it a lot easier to build high volume use cases on stellar so cap 21 it makes technical changes geared towards enabling payment channels payment channels are great for scaling network throughput that's kind of my overview um where we are with cop21 we've discussed it a few times uh revisions were david made revisions recently based on the last discussion that we have and so i think where we're at now is like are there any questions lingering issues anything that we can go over with cap 21 um especially anything that's preventing it from being put forward to the cap committee for uh approval so anyone got anything i'm happy to summarize the changes awesome perfect pretty minor um so you know there was this thing where like we said that time points should be signed because like databases were like have is more convenient some databases have signed 64-bit numbers but like then we decided actually that was a bad idea so it's mostly like kind of orthogonal to this proposal it's just like since i we're making use of time points and durations and stuff so that's reverted to unsigned um well go go over the small changes then people wanted a note about like the bump sequence uh how like that can like invalidate a transaction in the same block the main uh the main change uh is that um basically when you have when you see two transactions that are incompatible they can't both be in the same block because like let's say one has sequence number 12 and a min seek ledger gap of two and the other has like sequence number uh 11. um you know previously i can't remember what i said you took the one with like the highest uh or or or lowest uh sequence number something now you just take the first one that you saw and the reason i didn't do that in the first place because i was worried about well now you're going to see a block and you're going to end up having to like fetch transactions that you don't have it turns out you'll have to do that you have to do that anyway because this kind of stuff can come out in in other contexts like if you have two transactions that have the same sequence number and the same fee then you know like and they're flooded at the same time to different nodes well yeah like half the nodes might see one and half might see another and so we're just doing the same thing we just you keep whichever you saw first and you discard anything you receive later that can't exist in the same block as the first one you received is what we david is that what we discussed before because i thought that was actually taking the lowest i mean because i thought this was a potential way to artificially like delay forever like that's right you don't you don't think the lowest pre-signed contractions right like like a typical of the house first one is right but like a bad a bad you know a bad actor can always submit the the the the lower one right so maybe it's a no it doesn't matter you just take the first one you see so if if something's been flooded and the bad actor floods something uh incompatible it just the validators won't accept that or they won't forward it they would just well it's more like you have to be first to submit your transaction right which is kind of annoying from a security standpoint first like if if i have uh like i think we discussed that i i'm not exactly sure if it was relevant to the uh to the protocol that is described in the cup uh yeah because you have like uh like all some protocols you have like you know many many uh sequence numbers and the reason you have this gap is it allows you to kind of jump forward so i can basically like delay that that transaction in an arbitrary fashion if i can have if i have access to those pre-signed transactions um i don't remember actually i would need to go back to the protocol that is described in the cup uh i think maybe it doesn't matter in this situation can people remember i i remember the the problem with the the problem with the old one was that um yeah you could keep uh you could keep submitting something um that would like uh you know bump the age or or whatever uh so um and so now it's it doesn't matter it's just like uh whichever one you uh there's nothing um i mean i guess there's there's potentially like a continued race um but there's nothing um but there's nothing that like inherently guarantees that the attacker can win the race the disclosure uh yeah like i'm looking at the protocol that described in the cap so like the disclosure transaction is it using uh the mean sec like those ranges all now yeah so basically you can and then the second one uses mince so it's only the mean think age that would be affected and we don't i think we don't care in this context because dude it it depends directly from the yeah the disclosure is not impacted by this uh flood first type of thing right because it doesn't have that mean mean uh age uh condition okay so then it's i think yeah like now i remember like it's for this particular protocol it's it it's fine to take the you know an arbitrary one uh yeah so i mean it doesn't really come up in this protocol because all of the disclosure transactions are compatible like they could all yeah exactly yeah but you could all run run them all in the same block yeah so does that mean that the way that things are written right now in cap 21 the question this take the first one you see approach seems to work for people cool great yeah it's also simpler to implement uh yeah i think we actually discussed some of that last time which was but it's not perfect in a way that like already other situations aren't perfect like two two transactions with the same sequence number and fee so it doesn't make any it doesn't make things worse when you say the first that you see that means that is submitted first in real time yes but of course the i mean of course before consensus different validators will see things in different order right right i think i don't propagate through the network so um but i think we you know we already accept the fact that you may need to kind of refetch the block you know while it's being nominated so david are there other changes that we should walk through that's it wow john um i didn't have any issues when i mean there's some typos and stuff but i don't know if they're you know worth going through um lee i remember that you were doing some like uh some like experiments on the kind of performance you can get out of this i remember you were considering different kinds of cases and different like structures of payment channels that you could do like synchronous and asynchronous and all these other kinds of things do you want to give us like some context on what the kind of outcome of all of that was what the limitations are of this proposal in in the land of what you kind of were experimenting on i don't i don't know because i like the it's very clear to me that this produces payment channels and they work uh but it's not like having not done any of the experiments myself it's not clear to me what's the limitation like what's the best payment channel you can build here in terms of throughput in terms of all these other things yeah in terms of um yeah so i think there's a couple of things here so uh we've been doing experiments to validate um does this does this produce a payment channel that's safe does a producer can you build a payment channel with this uh that's predictable that interacts with things like issued assets well uh interacts with things like regulated assets um and and yeah like what sort of performance can you get out of it i think the performance thing is something that we're still experimenting with so uh and it's still something that we're we're figuring that out and um in terms of everything else uh what we've seen uh you know we have discovered um is this better okay um uh yes so what we're seeing is that it works really well with issued assets uh and um uh we've written up a more a thorough sort of description about how you would implement this so that it's safe you know with trust lines and can be predictable with trust lines and we have ideas as well for how this would work with regulated assets things like the assets that use ecosystem standards like sep 8 and it looks like it fits those fit those use cases well as well so i think the experimentation we've done to validate does cap 21 enable payment channels sufficiently then i think the answer is yes it does um uh in terms of like you know what problems we haven't solved yet like you mentioned you know asynchronous payment channels um and uh we've kept 40 that we've discussed previously that we want to is sort of being batched together with cap 21 um we can do you know single message payment channels which is which is really i think interesting uh so i can send you a message and that's all that we have to do for you to receive everything you need to to execute that payment that doesn't actually have to be any further communication but i think what we haven't figured out everything you know for how to implement that type of type of thing so i think there is still more experimentation to be done to figure out um other like with those experiments do we does it make sense to wait to accept a cap like this into pending the results of those experiments because they might affect the cap itself or are or not is that question directed at me or i think so basically um it sounds like there are more experiments that you want to do to sort of verify or find out certain things about the way that these payment channels that are enabled by cap 21 and cap 40 would perform correct uh so i mean i think we can experiment we could experiment with this forever um yeah and there's always aspects of this that we can improve um i think what we've proven so far um and and what we've coupled with cut 40 into cup 21 um is at a point where um like i don't think we need to do more experimentation with it um to try actually using it in some in use cases so yeah i don't think this needs to be blocked on more experimentation great yeah like i i think like with the at this point we're probably not going to be blocked on on the actual cap itself like in terms of from a technical standpoint i think it makes it's more of a available of more like prioritization and is that like do we want to accept this now because we typically what we want to do is that we we don't want to accept the cap that is going to linger for a year or whatever so so it's like i think what i would like to see is either like and that's a you know appealing to the ecosystem like uh like people uh you know coming uh forward uh you know if they are really interested in this or we're going to have uh to find uh somebody identify ourselves somebody in the ecosystem so that that would be my and that's i think it's going to be kind of the the next step for this one i i mean i think in in terms of timing like you it's it's you know you need to kind of accept the cap sometimes in order to attract the users right and if you look at you know like obviously we've had things like multiplex accounts where uh you know it's been a long road but it seems like there's like valid use cases and so uh people are gonna be quite happy to have it in the long run i think it's definitely the same thing in this because it like fundamentally adds new capabilities that people haven't thinking of things like you know in addition to payment channels right this also allows like new forms of account recovery and things like that and but the thing that's um the thing about this cap is that it could be that we need it in like a big hurry right like it could be that uh you know it turns out some new use case comes along that is like super popular and requires like fairly high uh transactional throughput and uh and so once something is in core then it's like you know people can update the applications to work on it much faster but the cycle is such that you know if some amazing use case came along and then had kind of explosive growth that that required payment channels it would that project would basically die if it had to wait for it to like go through the stellar core release process so i think we should get a version of this uh deployed into core where and you know if we have to revise it you know it's it's it's a union right we can have a subsequent version of this but it's better to have something out there current the things that you have to do to compensate for not having this range from it's impossible like the account recovery stuff is like basically like almost impossible to like you need like a huge number of like just extra accounts uh to each have their own sequence number and stuff and it's just like so i have a question nico which is um how do you estimate the cost of implementing this because obviously there's there's tension here between uh you know you want to see that there's ecosystem use cases but like david says if if you know if like a a monster use case shows up and the network is not ready in time like is this is there an opportunity cost here i mean like uh yeah i mean it's like everything else like i think we have to go like i think most likely from from what it looks like the changes that are going to be the more complicated things in as part of that cap are probably going to be around the overlay type of changes uh that's what it looks like to me uh the latest change should make it simpler right because well you still have to do it in a safe and efficient way and blah blah i mean that's that's what it looks like especially because we have the prototype that we put together for the actual implementation to this is one part um i think the the other part was around i think the question mark on testing like the test infrastructure that we have which is kind of broken uh in the in this context um i'm not sure exactly how much work this is going to be i mean like to answer the the last question i mean it's it's not the cheapest cup uh you know we've done it's i would probably put it as like a you know medium in terms of like complexity um you know whatever that means uh you know so like if we were starting to let's say work on this uh like in q1 next year it would probably be done in q1 uh i don't know the implications on like the sdks and so on though like but it looks like they are basically not like there is not a whole lot going on there it's very similar to the change we did for uh when we like the i think like the uh when we changed the envelope uh before without the actual it's a little easier yeah yeah it's like a little easier because there's no max account which was the the big no mess it's still like uh yeah like all the sdks have to upgrade that situation yeah i can i can talk about the sdks a little bit because i i prototyped making them change the core Horizon and then the sdks and i obviously took shortcuts around testing um but uh the um the sdk part was very very straightforward actually um so i think there'll be very little it'll be a lot easier than when we introduce the envelope a lot easier than when we introduced must accounts um and i think even the core changes were relatively uh straightforward in terms of when you just focus on the functionality but then it definitely got a bit fuzzy when um uh trying to figure out how to how how to test this in the existing test tests and um i'm not that's familiar with the style called codebase so it was uh definitely challenging so i i think that's probably right too and then i think in Horizon um the Horizon has this transaction queue where you submit transactions they go into a transaction queue they get ordered by sequence number and then gets submitted when that sequence number is ready to be processed so it allows uh people in the ecosystem who are using Horizon just submit transactions in any order and Horizon just sort of smooths that experience over for them and i think there is some you know a little bit of work to do there to to make that work with min sequence numbers um but other than that the rest of the Horizon changes were pretty straightforward as well something that i want to mention too is uh see nico was like appealing to the ecosystem like we want to find out what use cases people have uh for this uh you know we've got meridian coming up in um soon and we are going to be talking about um cat 21 cap 40 payment channels how it actually works uh there and we will talk about you know the performance um we should have the performance experiments done by them as well so um if that's something that's probably like worth watching so it seems like where that leads us is technically this cap feels sound there are further experiments that are happening to test performance issues there's a question of whether or not we should prioritize implementation of it that we can try to figure out offline and we would love to hear from people in the ecosystem about any use cases because that would definitely help identify this as a priority although it's not necessary that we hear that but we'd love to hear from anyone who might want to use this and finally there will be more info on this at meridian which is a good time to learn more out there and also possibly come to us with some idea of how you might use this does that all sound correct yeah but you know it's also like this isn't also an insurance policy right you don't go around like asking people like you know what are your use cases for insurance or whatever right like um so yeah no i understand i don't know i don't think it's necessary right i don't think that it has to be the sole criteria to make us decide how to prioritize this but if someone is like i know what i need this for and they told us that would be helpful right yeah but i don't think it's that's a good reason to delay accepting it today yeah i i mean just like procedurally you're gonna get more data you're always gonna get more information by delaying until it's too late i mean i think procedurally we there's one person um jed couldn't make it today and so i think that actual acceptance would have to happen asynchronously offline um and so for me i think the takeaway is that we should put it in front of the cap committee and see see what you guys think about accepting that's that's kind of where i'm at i don't know any objections to that plan and cap 40 as well because yeah and so i guess only objection to cap 40 was the cap 21 hadn't been accepted yet so that's correct uh we should people should go on record now as having any suggestions for cap 40 or we should move forward with that one as well no no it should it should move with at the same time okay cool well then i think the next the follow-up action is to basically put both of those and say hey cap committee take a look and see if they get approved um which we can do asynchronously is there anything else are we done for the day i take that silences awesome well once again thanks everybody for joining um thanks so much for everyone watching and again please make sure that you prepare for the protocol 18 upgrade the vote is on tuesday november or wednesday november 3rd um so install up-to-date software before then and yeah if you have anything exciting to say about payment channels make sure to join the discussion or check in with us um because we would love to know about use cases that this would enable and we will see you next time and at meridian thanks everybody",
      "keywords": [
        "thats",
        "dont",
        "mean",
        "payment",
        "theres",
        "things",
        "channels",
        "stellar",
        "protocol",
        "same",
        "weve",
        "people"
      ],
      "speakers": []
    },
    "2021-10-14.mdx": {
      "summary": "foreign  welcome to the stellar open protocol discussion uh in these meetings we discuss core advancement proposals aka caps these are technical specs that suggest changes to the stellar protocol necessary to allow that protocol to continue to evolve to meet ecosystem needs we live stream these meetings so that anyone who is interested can follow along i do want to note it's a technical discussion so if you're watching you should take a look at the cap we're planning to discuss which is linked to in the show description it's cap 38. also we do keep an eye on the discussion box and your comments there they do help inform our decisions um that said today's discussion focuses on reviewing final changes to a cap that's already been approved and our goal is to acknowledge and validate those exchanges so you know we'll again pay attention to that discussion box and if relevant questions come in we may try to incorporate them but we do have this very specific goal as i said today's discussion focuses on a single cap cap 38 and this meeting is basically the end of its life cycle that life cycle started with the discussion on the stellar dev mailing list and there's a link to that mailing list in the event description for anyone interested in joining and participating in future discussions um after that discussion the cap was drafted and then iterated on based on feedback and suggestions that came in and once it's settled it was approved by the cap committee entered into a one-week final comment period and then it got through that period it was implemented in a major stellar core release it is now officially part of protocol 18. now there's still a final step before that protocol hits the network which is that validators have to vote to upgrade the network to protocol 18 and that vote is currently scheduled for november 3rd before that day anyone and everyone who builds on stellar needs to install new versions of any stellar related software they rely on including stellar core Horizon also including all the stellar sdks there are breaking changes in protocol 18.",
      "keywords": [
        "liquidity",
        "pool",
        "actually",
        "which",
        "basically",
        "theres",
        "youre",
        "thats",
        "make",
        "change",
        "cant",
        "trust"
      ],
      "speakers": []
    },
    "2021-10-06-panel-reimagina-las-finanzas.mdx": {
      "summary": "now, yes ladies and gentlemen, good morning, good afternoon, we are alive, colors, yum, and YouTube, so just a hello everyone, welcome to our Imagine or Finance panel with Botstein, supported by Stellar Visa. I am Roberto Dulce and I will be moderating today's session. Sharing the stage with me are some friends and experts from the world of INTEC and Botstein, who were going to introduce themselves a little bit in the videos.",
      "keywords": [
        "latin",
        "america",
        "today",
        "financial",
        "which",
        "companies",
        "theres",
        "people",
        "these",
        "visa",
        "banks",
        "able"
      ],
      "speakers": [
        "Latin America",
        "Latin American",
        "Startup Weekend",
        "North America",
        "Vice President"
      ]
    },
    "2021-09-09.mdx": {
      "summary": " right now  hello everyone and welcome to another stellar open protocol discussion um as per usual in these meetings we discuss potential changes to the stellar protocol that take the form of core advancement proposals or caps these are technical specs they suggest changes to the stellar protocol that allow the stellar protocol to add new features and evolve to meet the needs of the ecosystem we're live streaming them so that anyone who's out there can follow along but again i do want to point out it's technical so if you are watching this you should probably look at cap 21 in order to understand what we're talking about that is what we're going to be talking about today cap21 and you should also join the stellar dev mailing list where offline discussions about these changes take place um also there it we do keep an eye on the discussion box so if you put comments or questions in there they do help inform our decisions going forward um we may not actually address them in this meeting although if they're super germaine i may bring them up today we are focusing specifically as i said on cap 21. cap 21 basically is a cap that uh lays the groundwork for building payment channels on stellar so what we're talking about today sounds a little obscure keep that in mind payment channels are things that allow multiple parties to securely transact off chain and periodically settle on chain and among other things that make it easier to build high volume use cases on stellar so changes to cap 21 are proposed by cat 21 they allow for payment channels um last time we also discussed cap 40 and basically got it to a point where it was near ready to be accepted but cat 40 is contingent on cap 21 and so here's where we are with cat 21 there are a few outstanding issues and questions that we're going to try to walk through today um i think that we are actually quite close to getting this accepted although we'll see what the outcome of today's conversation is so with that in mind let's just kick it off um cap 21 uh is what we were talking about today and i believe that you know the question is i i think that there are a couple of questions that came up on the mailing list and there was a question about transactions failing during execution that came up during the last meeting but to start with i think we should sort of try to deal with the outstanding questions that are on the mailing list and nico if you can just share the first of those questions with us so that we can start to discuss it uh i was looking yeah i didn't have those questions open uh hold on sorry so yeah so yeah i guess like the first question was more of a of a minor minor thing that i that i didn't we didn't discuss but that maybe is something we should be at least putting as like a potential thing that is um should that behavior that we have for uh tracking the uh modified time basically for the sequence number this be an opt-in right now it's kind of uh making this blanket change right like uh as soon as protocol whatever uh as soon as cap basically becomes uh active um we are going to kind of yeah make um like track this new um less modified basically in each account i mean it seems like from an implementation i mean the reason i mentioned that as a flag right instead instead of being a a like a protocol base right like in terms of the code it's actually the same thing like you have to in the code to deal with all protocol version new protocol version so instead of checking against protocol version we could check against the flag the difference is that uh it would make it that uh the tests for sure are going to be much simpler because now we can actually um just test that part like in a solution fairly easily whereas i know that uh lee in the past raised the issue and i think that's true that we would have to rework a bunch of tests uh given the the way they are written today in core at least i don't know in outside i mean it seems like a pretty big foot gun to have this flag right because now this is something something that's going to like catastrophically break all kinds of you know smart contracts and stuff if like this flag ever gets cleared or if like people don't realize that it's not set so it would be there would have to be like a huge huge advantage to uh having these like two kinds of accounts one that just blanket failed preconditions and ones that that actually implement the preconditions no it would not so the preconditions would not fail it's the uh the last modified yeah would not be enabled yeah so i don't know if it's uh yeah like preconditions i think that the cap says that if the you know if you take it there it's treated as zero yeah it's exactly it would be zero so i don't know i think if you added the flag we could we could actually we don't need to have a default at all we just say that a transaction is invalid uh if it tries to use that feature and the account doesn't have it enabled and for any account to enable the feature the new stack that's a right now you have to like constantly check that uh that when you're engaging in a protocol that looks like it's okay that that account actually has this flag set so i'm really i don't understand what benefit could possibly uh outweigh like i was saying it's a faster implementation so you know if we if if uh you know if no i just wanted to mention because i know that was raised before and and and by looking at the first kind of round of questions on that lee had on that prototype uh i mean it looks like it's a legitimate concern uh i mean so maybe can you explain a little bit better like what what the complication is of having it um it's around the setup i think of test code like a lot of times uh we're creating accounts we're doing all those things and i think uh those accounts are created without accounting entry extensions well with the uh yeah with the default change like that they would be created with the this extension and and then when we do the uh so basically we create like a snapshot of the ledger right um and then we run a bunch of tests for different protocol versions and here the protocol version is obviously in like for older protocol versions this would be invalid an invalid ledger state uh so i think there's a bunch of refactoring that needs to be done i mean they've been involved ledger state well an account with such an extension is not valid as of today right so i mean what what happened when you upgraded to account entry extension v2 why is this any different from the v2 v1 to v2 uh beyond v2 was an opt-in right like it was only when you were using uh i mean from everyone to each other liabilities right so that's what one uh number sponsored and number sponsoring like sponsors yeah otherwise we didn't change it we would not and touch it clarify something here is the the way that the proposal is currently written i i think what i'm understanding is that when an account is created it'll automatically have an accounting entry extension v3 at that point there's no way otherwise right and yeah so basically like the reason that this will be confusing david is that like uh there's like old historical tests which is a lot of the tests like many thousands possibly tens of thousands of tests um were written such a way that like the setup was done in the current protocol version and then you like time travel backwards in time and do the tests in the appropriate protocol version uh so we'd have to go and fix that uh yeah so you're saying that right now if i create a new you're saying that right now if i create a new account i don't get an account entry extension v2 correct you you just have null extension now maybe there's an argument that we should go and fix our tests anyway yeah i mean that's why i was saying like it's a it's a trade-off right like can i write you uh can i write you like an xdr converter that will automatically i mean it seems like we could i mean do the tests have like specific like shot 256 hash values of ledger state is that the problem well they can't though because there's other there's other values like like the ledger number and stuff that aren't there so what so what specifically is it that fails in the test like maybe there's just like an xdr there's like some template magic invalid xdr at as of uh currently so if i just so if you just write a an unmarching function that will unmarshal uh a new uh account entry to to an old one by stripping off the entry extensions v2 and three then we're good right all we need is that one function uh no not really like i mean yes yes you could in principle do that but like in practice what's happening is like uh we have these like invariants that are written right like they check that like nothing is broken uh things that things only exist if they should exist in effect like no negative balances blah blah and in practice like you could imagine the sequence of operations is like you're in protocol version 19 let's say or 20 or whatever whenever we get this done uh you create an account it has account entry extension v3 you travel back in time you go and do some other operation you know you're not doing like raw xdr operations it's like literally a seller operation so let's call it like a payment it goes and does this payment uh it goes it loads up this thing it loads it happily because it knows how to load it it's valid xdr in the terms of like what the xtr is sorry but it is marshalled or it's unmarshalled you're loading up the bytes so you're loading you're just have a simple structure floating around you're loading up the literal bytes um but like this is happening like deep deep deep inside of cell record like not not in the test it's like you know in the actual production code then you like load this thing up it's happy because it's good you go through you do the operation everything is fine and then you hit the invariant and the invariant's like oh no you're dead because you have this thing that shouldn't have been there the right solution is just to fix the test so that they do the setup in the right version do you realize you guys are like massively making the case that i was making several weeks ago that like we shouldn't be doing our extensions this way right because like if there's any benefit to doing this horrible cascading nested thing that's wasteful of bites wasteful of like program or keystrokes and wasteful of your right-hand margin it should be that like this backwards compatibility stuff isn't an issue but like no but david this is not this doesn't matter like this is invalid uh this is an invalid byte configuration in existing critical version that's what uh john just said it's a we have invariants that check that you don't have garbage in the ledger right that's garbage like from today's point of view it's garbage right it's not bad but i'm saying the extension it has nothing to do with how extensions are set up right but which should i mean shouldn't that be one of the benefits of doing these cascaded xdrs is this backwards compatibility with sources not by quad compatible that's the point like it this is garbage from today's protocol i'm just saying like this is we have to rewrite the test for this but we would also have had to rewrite the tests if we'd done it the original way that i did the extension so i don't i don't see what we've won by this latest change that i've made because a lot of things have been written wrong in the first place but the production code doesn't have to change at all the production code all just works exactly the same um that's the thing let's see well whatever okay so do we have to write about yourself the issue here is just tests right like the in the production code the way that it works as proposed is good it prevents there from being like a foot gun but it requires us to to rewrite a bunch of tests is that correct yeah i mean like the so the reason going back to the question i was asking right uh the reason i was asking the question was to see how bad would it be if we were making this a flag right that's that's the question yeah and david it seems like it's it's about yeah it would be really bad so that means we need to go fix the test i mean that's kind of what you know okay cool fixing test is easy it just takes time like we just need exactly it's it's going to be uh a bit of a time sync but that's that's okay i mean if we're saying it's basically a non-starter to have a flag it takes either it takes time or it takes xdr trickery right so it may be like oh no no no no no the xdr trickery is going to be like it's going to be validation protocol that's why we can't do that so let's uh but let's yeah that's fine let's take it uh offline regardless it's test test hackery right yeah so yeah uh i wanna i wanna just exactly one thing about like if we do if we were to introduce a flag i think it would have an impact on the usability uh of this stuff as well because like you're saying like we would never be able to just create a transaction for an existing account that hadn't enabled the flag which means that if you have an account that's just sitting there on the network and you want to interact with it in this way and with some new contract that maybe doesn't require interactive setup initially you can't just go and use these features of the network which is sort of inconvenient like so that doesn't won't affect the payment channel protocol that we're hoping to use this for right now but it might affect some other future thing yeah and it's worse than that because we don't have spv so like there's no concise proof that an account actually has this flag so it means that the receiver side would like synchronously need to like query some trusted Horizon instance in order to like participate in what should be an offline protocol um so okay so flags fix the tests yeah it's bummer for the test but okay what was the second question time point this one should be a lot easier yeah the unsigned thing so my question was like uh i don't remember what happened there but like uh making that change is there is actually not a lot of like the mention in the backwards compat section is actually a bit misleading it says that uh you know nobody cares um i'm actually not uh true i'm not so sure uh i i'm pretty sure we do have in historical data uh transactions with uh large max time and uh and the other thing too is that to this code regardless you know core Horizon sdks they have to handle those large numbers so in a way like making that change just makes everything more complicated so i'm not sure it's actually delighted to leave it unsigned i originally had it unsigned and then i feel like people objected to that i mean all i want is like i think all our time points should be like a type def right so it's like the only thing worse i mean i think either signed or unsigned is fine it's just it's bad to have like a mix of the two right like we should just be consistent about sign and unsign because when you start comparing signed and unsigned numbers as we all know like you know bad things start happening so uh we already have now we already have a mix claymore balances you signed time down to use unsigned i mean we're there so oh yeah okay so i guess out of luck on this one so i mean i i so i i really don't care i just want to be the same as other things so i guess i'll keep it unsigned and you know we we can add we can uh regular transactions that's kind of the the concern i have here is that it changes regular transactions so um i'll make it unsigned again what make time point unsigned and we'll deprecate signed uh time points in future operations another another option would be to make the time point inside the new precondition precondition version 2 signed since that's a new that's a new field nobody's going to be using that yet we keep the old time point as unselling for backwards compatibility i know it seems not worth it to me but yeah let's keep it unsigned okay sounds good all right so time points remain unsigned where we got next next one is around uh the section on how transactions get forwarded so um basically says that they are like those two criterias a and b uh that allows a node to decide if it's going to accumulate basically this transaction in its uh in its queues and um yeah so like the first question is that so yeah so i think that the uh the criteria b  talks about um lower signals uh it's actually not clear it's it seems to imply that you are actually allowing uh transactions to be accumulated if we receive them out of order and i think this is probably not the intent that's the first question oh so in other words i say don't forward it but you should it should be stronger than that it should be just like throw it away like should yeah like it should not be better that's a good point right e is actually uh it should be it shouldn't have this lower sequence number i think on the does that make sense wait what do you mean there shouldn't be no you like right now you're saying it's invalid if either uh you know the condition is not met so this is those are easy right the the the b is what i'm interested in like right now it says it's invalid if there is already a transaction with a lower signal sorry it's invalid no it is valid that's what your text says is the polarity a transaction with a non-zero min ck german sequential atmosphere is invalid enough forwarded if either a the appropriate condition doesn't hold or b there are pending valid transactions with lower sequence numbers on the same source account okay so wait so what's and you're saying b i should say and in case b should also throw it away instead of storing it in memory well it's in valid right so we are throwing it away my the question it's not no no it's not invalid it's not invalid in a it's in validity it's valid but they're things with a lower sequence number so let me give you an example just to make sure we're we're on the same page right so you have a transaction with sequence number two but uh but that could execute immediately uh because it has a um because it has like um a min seek noun that's less than the default um and you have a transaction with sequence number one right so you could just execute two in isolation or you could execute uh one but you can't execute them both in the same ledger no that understands yes uh like but here um so if you receive uh so in your example i have two right and i have two and that and then i receive one what happens uh then then one takes priority like you okay so this then it makes uh so then this is kind of broken right it's actually under specified first of all it's why is it underspecified well you're actually not saying that you're talking about um i guess it so yeah you're saying you're kicking out highest uh transactions with higher signal that's right like you'll still vote for a block you know you'll still nominate a block that has it but is that a good property i mean it sounds kind of weird we already have this it's exactly we already have this exact situation no we don't kick out transactions like this okay let me let me tell you a situation i believe is exactly analogous which is that you receive a transaction with you know a fee of 100 and then you receive another transaction the same sequence number that has like a fee of 200 right and so now if you've already of course forwarded the 100 well you forwarded it fine but now you'll forward the 200 and if you see both you'll only forward the one with the higher fee and so that's the same that's the same way we're basically like among multiple mutually exclusive but valid transactions you need a way to prioritize them and uh i'm saying here you prioritize the one with the lower sequence number now why do you need this question oh because because the second one might could later be valid right you're not yeah unlike the case of the sequence numbers you're not you're not necessarily completely invalidating the second transaction you're just it will have to execute like a you know an hour later or whatever the you know whatever the min seek age is so or men uh whatever the yeah yeah so um so uh so you know you might as well like keep them the most number of transactions valid i mean if you're if you are strongly opposed to this we could i i i guess doesn't really matter we could we could favor the other one but i don't i don't see i mean i like it sounds like kind of arbitrary so that's why i'm i'm asking like why the first one shouldn't win in this case in some ways it might be more useful if the second one is yeah because we often say that uh we often say that sequence numbers is how you invalidate prior transactions so um it sounds like if we say that the first one wins then you could never use a higher sequence number transaction with a min sequence number it was lower to invalidate a prior transaction but someone could always well they might not be able to submit it because they might they might not it might have a a timeout it might have a a min uh i'm in time right which is generally how this works so um so like you know the reason i did this is because like you know it seems more useful to have like two if you have two transactions then they can both execute it seems helpful to have it be such that both can execute and you know if you accidentally release if you accidentally send out the second transaction too soon like you know i don't strongly care if you want it the other way around i can do it around it has some implication right from a dos money because you can basically like if you have this rule right well you don't say first win first one wins um you basically can so with the example this will collect more fees right the the current draft will collect fees on both transactions no you're dropping transfer you know let me finish so with the uh the example you give you said it's the same thing when the fee with the fee you have to actually outbid right so you have to constantly like if you want to uh cancel a pending transaction you have to update it right with this one you don't have to update it it it can be the same fee um no you are you you said uh the the that transaction that was in the transaction queue gets uh discarded because i have a lower sequencing number i'm not currently discarding it i thought that's what you were suggesting currently you're just not forwarding it so just to be clear david what you're suggesting is like imagine that i have seen like currency numbers 10 i submit a transaction with minstic 10 actual seek 12 and then i later receive seek 11. europe your approach that what you what we think is in the cap and i've been rereading it like five times here while everybody's been talking to make sure i think that's what actually it says is that you would actually keep both in that case because yes because you don't know like you could see a block that has either one it's the same way like if you see uh i mean i really i think it's very similar to the uh to the to the multiple uh prices to the multiple um fees right whereas like you know you see you saw the fee of 100 then you see this fee of 200 so you forward that as well and you know you still need to kind of keep the fee of 100 around because it could be that the block that gets nominated has that so you don't want to like if you see a hash of that transaction you still will need to like you know get the pre-image of it right we actually don't have that transaction so you might actually have to then go fetch it from another stellar core potentially but um the other thing we can do the other thing though is that um with the fees the fees back off exponentially that's a big difference against this and i think that's what nico was saying like i think i forget what multiplier we use i forgot if we ended up using two or ten we debated about it for a long time but either way it's like you can only do this 64 times with fees or maybe it's 10 times or 20 times uh with the like the scenario that i've been trying to think about while i was rereading your thing repeatedly is like what if i have two transactions and they can't both execute because of fees i don't have enough balance to pay both fees but so like going back to my scenario you're at 10 you have minty 10 seek 12 then you receive 11.",
      "keywords": [
        "thats",
        "dont",
        "transactions",
        "transaction",
        "youre",
        "actually",
        "mean",
        "basically",
        "sequence",
        "other",
        "same",
        "thing"
      ],
      "speakers": []
    },
    "2021-07-29-open-protocol-discussion-7.mdx": {
      "summary": "hello everyone and welcome to the stellar open protocol discussion um so in these meetings we discuss core advancement proposals aka caps these are technical specs that suggest changes to the stellar protocol necessary to allow the protocol to continue to evolve to meet the needs of the ecosystem and we live stream these meetings so that anyone who's interested in watching they can follow along although i do want to know it is a technical discussion so if you are watching you may want to take a look at the caps themselves and they're linked to in the show description um also we do keep an eye on the discussion box and your comments there they do help us inform our decisions going forward today's discussion will focus on two caps and our goal is really as as it is generally in these meetings to try to resolve some outstanding questions about them so we may not address questions that you ask directly um but if some relevant ones come in i may actually try to incorporate them into the conversation so as i said we are focusing on caps and this meeting is just part of the cap life cycle so generally caps are discussed on the stellar depth mailing list there's a link to that mailing list in the event description for anyone who's interested in joining the discussion um then caps are drafted and iterated on based on feedback and suggestions and they end up here in this protocol meeting and based on what happens in this meeting they may be put up for a vote by the cap committee who decides whether or not to accept a rejected cap which point they move into final comment period so there's everyone has a last chance to raise questions on the stellar debt mailing list and if it makes it through final comment period a cap is implemented into a major stellar core release then there's still one final step which is that every major release every protocol upgrade is voted on by the validators and has to be accepted before it's applied to the network and so all of that is to say this is a long process where there's a lot of public participation and ultimately the network decides to accept major protocol changes so enough preamble today we are discussing cap 21 and cap 40. um both of these lay the groundwork for building payment channels on stellar so payment channels they allow multiple parties to securely transact off chain and periodically settle on chain and among other things that could make it easier to build high volume use cases on stellar so if today's discussion seems dense at any point keep that in mind these caps make technical changes geared towards payment channels and payment channels are important for scaling network throughput so without further ado we will look at the actual caps we're going to start by talking about cap 21. um this proposal generalizes the time balance field in transaction to support other conditions including conditions that relax sequence number checking and provide relative time locks and since we last discussed this there were some small technical changes um there was also the addition of extra signers and i think we should start there the new precondition extra signers has been added um lee can you just explain what that why why that edition happened and sort of talk us through any questions that you have about it uh yes so um extra signers uh was initially added to support uh stateless htlc's so the ability to um just to say that this transaction needs to be signed by or a hash needs to be included with this transaction to make it valid without having to store that hash as a signer on the account so right now you can use the hashtag signer to um to say that you need this you need a hash included with transactions to be able to transact with an account um and instead of needing to store that on the account it can now just be stored within the transaction uh and then second it's it's also being used for cat 40 which we'll talk about later would help for me to like overview the other changes to cap 21 just because you know i think it was already people were kind of generally okay with it the last time we discussed it and so a lot of these changes are kind of in response to leads like specific implementation and experience like things that just came up because of implementing it i think that would be super helpful yeah great when you're working so yeah so one of the changes um is that the previous version didn't really talk about the results and there's new failure modes now because you've got these multiple preconditions and so you might have sort of multiple preconditions failing and in particular you know you could have uh preconditions failing because it's too early or preconditions failing because it's too late or both and so what we basically said is if a transaction can never be valid again uh then even if there's other things that are too early we'll still call it too late and we'll give the result code tx2 early only in the case that there is the possibility that the transaction can be valid again if if resubmitted at some later time so basically if you have said a thing that's too early and a thing that's too late that gets combined to a too late error and so that fits it into like the existing error codes and i think you know preserves the sort of the intuition if you're too late you can never resubmit and if you're too early um there might be a chance of of resubmitting at some later point um so other things uh that we changed uh there's some some uh some clarifications oh yeah the the um the uh we kind of rearranged the stuff that's dangling off uh the account of the account entry uh in the ledger because it turns out that kind of the sponsorship information is only there um if you're uh actually sponsoring things and so otherwise it's it's currently null or it's a v1 extension instead of v2 so we changed that into a pointer and we just kept the v2 data structure as a thing that dangles off uh the v3 now optionally if you're actually using it um and then the final change is that we didn't talk about uh we previously uh i hadn't mentioned what to do uh to an account that didn't have an account entry extension v3 and so the answer was just now we just say pretend all the fields are zero right so that means like it's as if like the the last time it was mod the last ledger was modified in time and stuff are zero um and that's okay because even though that means anything can uh anything that's like a relative uh delay will execute uh any time you would use these things it would be on some new account in some new protocol and so therefore uh there would be some other transaction on the account knew that zero wouldn't matter so again it's just to be precise i don't think it really matters but it's important to like say that it's something just to make sure uh you know everything is deterministic and fully specified so i think that's pretty much all we needed to change right forget anything uh lee no i think that that was everything that we listed and i think specifically to do with you know the extension um like i'm really interested to hear what nico siddharth john what you folks think um of this and how this might impact core well um the first thing i'll say is you were the one who kind of just prototyped out this implementation so uh what was your experience doing it so i haven't tried the new change uh so the diff the difficulty that i definitely uh hit with the initial proposal uh was that there are assumptions made in core um that uh the sponsors the v2 extension is only present when the account's involved in sponsorship um and that shows up a lot in the tests more than the actual application code so i guess if call makes that assumption in tests are there any other products or anything else that makes that assumption that might be interpreting xdr um comes to mind i think i think please continue i think the new proposal which which says that you know the v2 is still only there when the sponsorship i think that works from my perspective from my from my perspective here like i don't think it really matters that much i don't think it's really worth fighting about much honestly in the grand scheme of things like i could see some merits to this now that we have all these dangling things uh maybe it would be nice to every once in a while you know smash them all down into one single dangling thing uh then dangle some more stuff off of it for a while and then smush them all down again at a later date again um i i can see merit to that um i think in terms of like how core treats these things uh core basically like the process that we've used for upgrading these extensions is basically like um there's like two parts to it like one thing is like once it comes to existence will never unwind that so like if you sponsor an account and then remove the sponsorship you'll still have the v2 extension um so the tests most of them have these assumptions about when will these things appear and that's what you were running into not about whether they will be there or not period uh the other thing is that um we are kind we already kind of made this executive decision when uh when we added the sponsorship stuff that like uh imagine that you didn't have any native liabilities so you shouldn't have had a v1 extension but then you participated in the sponsorship now you have a v2 extension and we just said like okay well in that case we'll just inject the v1 extension and set it to zero and it's no different from the case where you would add liabilities and then subsequently remove them so from my perspective like core is designed in such a way that like either solution is completely reasonable um i think like in terms of the total net implementation changes it would probably be less if we dangled it but the size of the extension would be less if we didn't so like so just to be clear you're okay with the current state so the current state is like a right hybrid right where v3 includes v1 but dangles off v2 so that's kind of that that's there's basically this thing called sponsor info that is a pointer to an account extension v2 but that's inside um the account entry extension v3 yeah that would be fine i mean again like it doesn't it doesn't really matter but like if you're if you're gonna do that then the marginal additional cost of dangling the v3 extension off the v2 extension is even smaller because the four extra bytes are appearing in either case uh so you're saying that there's no situation where it's important that the v2 be null correct okay so well anyway i guess i don't really i don't care what i really want is for cap 21 to make it in so like what's the what's the best structure to like make this happen or is the current one i mean i i think it's uh like uh i'm i'm the one that always brings this back up you know as soon as you so you know the current proposal in a way is kind of this weird hybrid thing like that is neither of the nested one neither the you know the fully like represented one so i say like either we consider one or the other but not this kind of half broken one because you get basically like the reason why you want nesting in the first place that's kind of the whole rationale that we have in the uh in the repo actually and why we are doing nesting is because it makes it easier for people to um they don't have to change their code right like if you depend on on let's say sponsorship you keep referring to sponsorship the same way you don't have to add the non uh you know conditions like oh if it's a v3 i need to go look for sponsorship over there instead of over here right and so there's never it's never going to be useful to take something that has sponsorship info and then delete the sponsorship info because or to kind of create new accounts that just don't have any sponsorship info because they've never sponsored anything that's the question it sounded like lee kind of wanted this in order to make a lot of the tests easier to port um oh well does it act there's not going to be easier hold on wait let me clarify something there the v3 extension will always exist for a newly created account right that's right but the sponsorship info might not whereas like and it so it sounded like currently there's a cal like in a lot of tests there's like accounts that don't have sponsorship info and they think they never get upgraded to v2 and i don't know that this is somehow i don't know lee do you want to um this is primarily i did this primarily in response to your feedback lee so i don't know if you want to jump in and yeah so that so that there's two so i think so far we've only really talked about the impact on core and it sounded like from what john was was saying like there's not really a big impact on core um and i think the concern that i had around uh the impact on tests is maybe misplaced but the second impact is the impact on the ecosystem which i think is what niko was highlighting to and that is you know everyone who passes this xtr will need to look for fields in the v1 and the v2 in two places they'll need to look for it either in the v1 or v2 or in v3 um if we move it and i think that's that's maybe something that eric well like the Horizon team would you know that's something that they would be um having to deal with basically anyone who passes the xtr has to know to look for it in all these different places which can also be a little bit of a foot gun for people who are upgrading because they may not realize that this field has been duplicated into a new place yeah although we can mechanically fix it with uh like any place that gets translated to json for example we can just mechanically always move the sponsorship info out um yeah i don't think we should be making any decisions based on the effects uh of downstream applications um consuming ledger entries realistically we're talking about one maybe two consumers uh so you know we can we can talk to them okay so i think that i mean to my mind the two things that make the most sense are to either keep the cap 21 draft exactly as is or to flatten out the sponsorship info the way it was in the previous revision of the draft so it's just all one big like v3 structure wait well you're saying that so i'm looking at the current master is that what you call the latest draft because this one is the hybrid one that has like this half flattened version exactly and so i'm saying either we just keep that or we should fully uh flatten it just like instead of having so no but that's actually the one that doesn't make sense the one that's half flattened either you're doing a nesting fully nested right where you extend d3 inside v2 okay or you're doing the full flattening okay and then let's do that how about the full flattening how about i just instead of making that up uh instead of making uh is having having sponsor info be a pointer to like an account entry or account extension v2 uh how about i just take the fields of account entry v2 and make put them in line inside the county uh account entry v3 or just put the whole v2 structure in there yeah i know i i don't really care honestly flatten it or or fully nest it but yeah the hybrid thing i think is kind of like the worst of all the worlds i propose that i will so i propose to just uh basically revert to what it was before um if lee is okay with that what was it before yesterday it was nested before no no it was uh it was flattened before it was just the fields at the fields of v1 and v2 structures were just inside the v3 structure yeah the things that i do think that flatten every time we flatten structures it involves changes in a bunch of places that we may or may not understand and i'd rather not do it if we can avoid it so are you advocating for the nested version foodie nested is kind of the as a default is safe because we don't definitely require the fewest changes to core because we already have well not just score but like yeah it's not just core it's also right like the you know anything out there that is actually using uh sponsor like looking up sponsorship let's say so what about what about having them uh not as pointers but just putting the v1 and v2 structures into v3 so then any xtr library can just kind of extract those things by type no but it's the same problem you have to you have to switch like you have to change your code that still compiles and still looks like it's working but it will just fail miserably when you actually run into that like existing code it's always the same problem right kind of like the the problem we uh you know we created with the uh what was it the uh uh next accounts right like um but i would argue that like mux accounts is precisely because it's way worse mexican was way worse because of course people use accounts a lot more right uh but here we make it even more french so that's kind of why you know if if you're looking at like the edge case of the edge case and you hope that people are going to do the right thing uh i think it's actually less likely because i mean the problem is that the nested is just like much much harder to program to right it's like you're literally like fighting with like the right-hand margin of your uh of your text editor all the time where it's like you have to put like line breaks in the middle of like you know expressions that contain dots and arrows to access fields so it's just like you know we're getting the point that we're now we're gonna access fields that are like you know four or five uh or six deep uh in structures it's just kind of like painful for the programmers so what so like yes there might be like a little bit more uh stuff to do in transitional though i would argue that actually if like we do our xcr stuff right it's actually not that hard because you can automate a lot of this stuff um and so i'd rather just have a little bit of pain up front and just have something that's like much nicer to program to in the long run so when i when i wrote the prototype um i actually used the nested version uh i didn't use the flattened version because it was easier to do an essence um i i mean you you put the account entry v3 you didn't use the security put the account entry v3 inside the country v2 yeah i'm pretty sure that's what i did and it was it wasn't that bad how wide what's your what's the width of your text editor i mean i use softwrap the thing is that david like the the if you want to have a helper function to avoid typing all this stuff you can right like it's it that helpful function is optional in the nested world it's mandatory in the non-nested world and we already have all right okay whatever i'm overruled like no but that's gonna vote you guys are all wrong but i'll do it this way i'll rewrite the cap to do this you know generations generations of like poor stellar programmers are gonna have to be typing structures six nested deep because like whatever you guys are worried about a non-existent problem but fine it's more important to get cap 21 accepted so um fine it sounds like a reasonable concession there we are going with the nested version in order to get cap21 done i like it i think this raises interesting points though for the preconditions type that we're introducing because the precondition type is setting itself up to be like a um a flattened version or at least that's that was my understanding of the proposal it would definitely work better i mean like in the like five five years from now there will be no benefit you know there will be only disadvantages to doing what we're doing now but like yes in the short run it will be slightly smoother to do to do it with like a fully nested thing it's just like just how when they were choosing you know not to fix the precedence of the bitwise and and or operators when they went from bcpl to c and introduced like the logical double and double r and they're like well you know yeah this is broken but there's like hundreds of c programmers in the world like we don't want to uh you know break backwards compatibility and you know then we got to the point that even java adopted those broken let's get back like i i don't know i i understand what you're saying but at the same time there is this like there is this need to sort of get something out there that people can adopt and start using in order to well i think there's there's really there's use cases that cap21 allows there's two there's two problems here i think uh one is i think people are like massively mistaken about you know how hard it is to adapt to something where you have like multiple versions of the structure right and we already have an existence proof that we did it with something which much harder which was the accounts in order to get the most accounts right so if we survive that we can definitely survive this the second thing is i think people don't appreciate how much should be automated because currently in our sdk we're doing too much sort of manual stuff right and if you use sort of like more uh meta programming friendly uh xdr libraries like say uh you know goxster the the one that i wrote or the xdrpp that we're using uh for stellar you can actually automate a lot of this stuff and so what would be great is that since there's like the places where people actually care about this probably if they do it all is when they're manipulating the json and it's not it would be easy to write just like a few simple rules to like make the json look the same or to understand the json both ways but you know what i'm just beating a dead horse we'll i'll just uh you know maybe a thing to do is like introduce a a cap that's like a meta cap but like this is how we should do upgrades and show some evidence for why in the future it's better to actually version structures and put the versions at the top instead of putting these ext things at the bottom but whatever so general preconditions i think that's what uh was it lee it was yeah asking about that yeah sorry i think in general a it's a misleading name yeah i'm i'm not really too fussed on the on the name but i i'm just not the no it's not the name but the you know right now it's hardcoded not general that's what i mean by it's a lie so i i thought it it was habit you wanted to become like pre-conditioned v1 or something like what do you want no i would like make it an array of uh you know static array or something but we've already we've already let's not relitigate that i know we do we already we already discussed this and uh and only introduced because so actually they have a more of a question related to the to the cap because what have been the time i spent actually in the past uh few days was looking at the step that is the payment channel protocol um trying to see okay like how is that set related really to the cap and it doesn't look like the set is using all of the functionalities that are in the cap so that's kind of what you know where i'm coming from it's like i feel like it's uh trying to guess on use cases that maybe don't exist and at the same time i would prefer to grab something that's uh that can be extended easily as opposed to right now because we can just uh we can just version it right now if you mention it you break everybody even even if we're doing the fully nested there's no reason why we can't version the v3 thing that's dangling off the v2 right like if you want to add a new condition you would break all the all consumers no because you would just have a data structure that includes yeah now you need to add access also every single condition no you just need a function that always converts to the latest version but that can be done in a in an automated way could we just add a v2 can we just add an extension on the end of the general precondition so that we can v2 it dangling i mean we're going to have to if this thing is um like we're totally bike shedding this thing like and did someone else wanna make a pass at this and then like i'll clean up the mess so that like because otherwise i'm gonna do something that like you guys aren't going to like i i think it's worth just responding to nico what you said about you know the prototype channel protocol doesn't use all of the fields the only field it doesn't use right now is ledger bounds it uses everything else and i think that was a comment or something that david and i talked about very briefly was it doesn't make sense to keep ledger bounds um because of that why what is the argument for keeping electric bounds the argument for keeping the ledger bounds is that the the the current payment channels are kind of probably safe enough but they're not uh safe if there's like you know something happens and there's like you know an hour of downtime on the network or something which you know does actually happen periodically so somebody who's paranoid and wants to make create a payment channel that is actually robust to uh downtime of the network would also need the uh ledger bounds to be safe if right because it never goes down all your timers expire but if you have this ledger bound thing uh then uh you have since the network wasn't creating you ledgers while it was down you still have some opportunity to uh you know get in there and prevent someone from incorrectly closing the channel personally i'm like not really that concerned about changing the like however we struck for the preconditions like we could make it an array of you know uh of whatever of unions and that would be fine or we could make it a it doesn't really matter honestly to me um i think like at the end of the day like people are caring much more about writing these than reading them like uh the only thing that really should be reading these at the end of the day is uh you know like uh if you for some reason want to inspect something to make sure that you're signing the thing that you mean to be signing which i think is like a very very very small subset of the code because a lot of times you're assigning the transactions that you're creating yourself in which case you kind of know what you're doing and core and since like this stuff is super isolated down to just like one code path and core and if you read the wrong branch and you're you know signing code and then you you're just not going to sign that transaction because you didn't know what it meant or your code didn't understand it so like i don't feel like the risk of blowing yourself up with edge cases here is particularly high so like let's not fight about it that much like we have unions on unions on all sorts of stuff everywhere and we just kind of you know transactions for like for example i could send you a v0 transaction if your code only knows how to handle v1 transactions you're going to blow up so like uh we already serious problems is john is your comment about whether or not we need ledger bounds no no no no it's about like the whole like nico saying like these aren't really general it's about that part uh i personally i think my point is kind of like the ludger band seemed reasonable to me the structure is reasonable to me we could do a different structure and it would also be reasonable to me i don't see a lot of reason to hash it out for 20 minutes uh so i is just it could you could could we just change the name from general preconditions to something else yeah i mean like if you named it like preconditions v1 or something that would map up with the names that we normally use but like that sounds good doesn't really matter to me because if you didn't change it i would just stick like if you called in general preconditions i would just like if i needed to change it later i would just call it general preconditions of v2 and call today so you know can we can we add an extension as well so that we just follow the same dangling pattern i i just don't see a lot of reason to is kind of my point here like if you can't handle the types of transactions you're trying to sign you won't sign them and like great if you didn't sign something then you didn't agree to something you didn't understand so uh that's not that i mean the point is it's already in union we've we've already got like no preconditions and time bounds right so there's like if it turns out that we need a different kind of preconditions we can just add uh a you know a preconditions v2 nobody can handle the v like the the what is it's the extension to like number two like case number two right now anyway without modifying their code so like it's more about thinking about what happens when you change when you make a v2 of that thing right yeah that's what you're saying though like if let's say that i make let's say that like i add a new feature which is like i don't know like time times ledger bound some super crazy stupid condition that nobody no how about number of ledgers that aren't completely flawless number one that's actually plausible number of ledgers that aren't completely full but like if you want to sign this you're only going to sign transaction like if you want to sign stuff and you want to understand what you're signing so you're checking for some condition you're not going to sign stuff that you don't understand so like your code might barf but like you won't have signed something that you didn't understand so it's it's fine like i don't understand what the bad case if you don't understand something is you're just not going to agree to something that like i don't know i don't i don't think there's a bad case there i think the case that i'm concerned with is the same case with that we were talking to about with the account extensions and that is that uh every sdk every application that pauses the xdr now needs to look for time or uh now let's take a ledger bounce so say ledger amount stays in the v1 then we add v2 ledger bounds is now going to be in two places so it needs to look for it in both places so there's the parsing case and then there's also the creation case for the transaction so sdks need to make a decision about uh you know what's the general best practice for creating a transaction that has ledger bounds do they use the new v2 that has ledger bounds or do they use the new v1 or do they only use the v2 when they're using one of the new fields um and for the most part uh in a lot of cases that probably won't matter but in the cases where somebody builds a transaction and then they want to build that exact same transaction and they want to expect the sdk to build it the same way that does matter because if an sk sdk developer decides they're just always going to use the latest version structure then the transaction is going to change every time they build that same transaction so we're actually in some ways we're actually introducing it backwards incompatibility because we're saying like you conceptually build the same transaction but um you know sdks may make it so that you're actually building a different transaction i see what you're getting at here and like that's a concern i don't totally think that that concern is necessarily exactly relevant here in the sense that like i don't know what promises sdks are making but like if an sdk is promising to have that property that we're not going to retroactively change your stuff and that's really a property of the sdk because like if you're creating like a semantic transaction i feel like the sdk just has a promise to do what it's what you asked it to do but if you want to have a stronger constraint like an exact transaction you probably need a different uh vocabulary in the sdk for that but putting that all aside like the thing that i'm the thing that makes me scared about like doing the nesting in this context is like you really really really don't want to sign something that you don't understand like imagine that you're a guy and you're like i'm looking for this ledger bound structure right which i know to be in the in the case 2 extension um also known as general preconditions but like imagine we're dangling a v3 off of it you have to actually like you can't just call a function to look up the v2 one and look out look up the ledger numbers because you actually have to check to make sure that the v3 stuff isn't there because if it is there in nested you're going to sign something that you didn't mean to sign this is this is what i wrote in the code example in the agenda this is why it kind of explodes and becomes pretty awful so as versions increment you're going to get more and more of these to go down down the rabbit hole of checking so i really think like the much safer thing is to just fail to like fail to sign things you don't understand and then update your code to understand them instead of having to handle all these cases of like oh like what if the what i need something that's in the v4 but the v3 doesn't like but the v3 exists but i don't care about anything there maybe the v5 like that gets really confusing and your code can change out from under you just as the extensions grow basically and and i think that there's another thing too which is that if we were really trying to build this like little language of like you know have an array of little uh precondition operations that can be sort of like arbitrary or you know it can be constantly extended honestly we then we should try to unify that with like the claimable balances right because we have like two different little languages for like preconditions right or if we do have two different ones then it just seems like really needlessly complex for people to like learn how to use this so what we have is simple it is not it doesn't have to be the last word because we can change it by uh again using these unions um and it you know it covers like all the things that we need to do payment channels plus the thing that we need if we want to do like super safe payment channels which like there's you know some people like might want to be able like people could potentially object that you know well on ethereum i can make it safer by counting ledgers or something um that like this is like a good set and that we shouldn't let the perfect be the enemy of the good we just do this and if it turns out that it's like so successful that we want like 12 different other slight variations on the preconditions then then we can do a an array of a programmable thing or maybe we can update the claimable balances and have like a general language for describing preconditions i'm pretty in sync with david on this one personally i think the argument is basically just a lot different than the uh than the ledger entry stuff where we already have something established that we're already doing so so what would that mean the next step is for cap 21 like what is the revision and who who's sort of taking it on i think the only thing we said we might change is to change general precondition to precondition v1 and that was it that's it and we would keep ledger bounds wait i thought we were also we had to move to the extensions these like multiple extensions i think what john counted i thought what john and you were advocating for was no extensions i thought we were just talking about the preconditions not the not the legendary extension there's two questions right one is should our preconditions be how to do future accessibility for the um for the preconditions that are embedded in the transaction and the other is what to do about the ledger entry extension part or the count entry extension part right so john i believe you and i were talking about just what goes in an actual transaction the preconditions right yeah that's the thing that i think is really dangerous to have these accessor functions for that just like look that don't necessarily look all the way down to the bottom right and so uh and so of course while i'm happy to leave cap 21 and this is it sounded like um we wanted uh like it sounded like the everybody else wanted me to make like these to dangle accounting extension v3 off of account extension v2 yes yeah sorry i left that out at least so i i guess i can just do that fine i'll change my stomach but i'll do it and so that after that change we'll sort of reevaluate cap 21.",
      "keywords": [
        "thats",
        "dont",
        "youre",
        "theres",
        "something",
        "thing",
        "actually",
        "time",
        "transaction",
        "make",
        "mean",
        "these"
      ],
      "speakers": []
    },
    "2021-07-28-stellar-ecosystem-panel-fintech.mdx": {
      "summary": "hello everyone and welcome to today's ecosystem panel on fintech in africa i'm justin a vp of ecosystem here at the stellar development foundation and today i'm joined by four esteemed colleagues weeza from chippercache joseph from dfs lab rick from click pesa and tori from leaf global who are all here to discuss the fintech landscape in africa so they're going to talk about the challenges and the opportunities they see on the continent and in the world in general they're going to tell us about their companies and their personal journey journeys and hopefully they'll even share some advice for budding entrepreneurs uh so it's gonna be a fairly freewheeling discussion but we will do our best to incorporate audience questions when possible so you'll see that there's a q a button on your screen feel free to use it at any time to submit a question before we kick off the discussion though we will take a few minutes to allow each panelist to introduce themselves and to give a little context about who they are and what they're up to and i'll start as i mentioned i'm justin from the stellar development foundation which is a non-profit organization that seeks to support the growth and development of the stellar network in order to increase equitable access to the world's financial infrastructure so at sdf we believe stellar has the potential to have a significant impact in the world and we've also seen a ton of interest in stellar in africa which is part of why we're hosting this ecosystem panel our goal here is to explore the experiences of aspiring companies that are delivering digital financial services across the continent but also we're seeking to encourage those companies so in addition to this panel we're also launching the stellar blockchain bootcamp with dfs lab in september we'll talk more about that at the end of the hour so stay tuned um now i've mentioned stellar a few times now um to make sure everyone knows what i'm talking about i'm going to use the rest of my intro time to give a quick overview what is stellar at a high level stellar is a decentralized open network that connects the world's financial infrastructure it is a global public blockchain built for interoperability and to further financial access and inclusion and it does that by making money more fluid thanks to its speed and scale and ability to represent and transfer value it also makes markets more open because when financial infrastructure is connected you have greater geographical and affordable access to markets and ultimately it empowers people because it gives them real ownership of the value in their possession so stellar is a platform that allows businesses and developers all over the world to build solutions to real world problems and many of the businesses represented on this panel do just that they build on stellar so enough about stellar i will move on and let each of our panelists introduce themselves starting with wiza from chipper cache over to you um thank you justin hey everyone my name is wiesa talakasi um i am a malawian living between nairobi and johannesburg i am the vice president of global developer relations at super cache um triple cash is a mobile wallet um the largest smartphone only mobile money service operating on the continent with coverage across eight different african geographies as well as the uk and the united states and we enable about 4 million users all of our jurisdictions to send each other almost a billion dollars each and every year we've got basic peer-repair functionality both local and international depending on the jurisdiction that you're in um we also enable users to um get virtual and physical uh prepaid debit cards that they can have tied to their chipper wallet um as well as purchasing some crypto assets namely bitcoin ethereum uh USDC a few more in the pipeline uh as we make our crypto trading platform a bit more robust um fractional investing in u.s stocks um air time and data bundles across the board as well as various kinds of bill payments for their respective jurisdictions we're a young company um three years old but we've managed to grow pretty quickly over the last year year and a half right now at 160 people we're building on stella's solutions to explore the viability of cross-border settlement with african stable coins a lot of the cross-border trade that takes place in africa is intermediated somewhat unnecessarily by the u.s dollar and we think that we can take advantage of these stable coins to facilitate inter africa trade in a much more efficient and cost effective way fantastic um thank you next up we have joseph from dfs lab joseph yeah hi thanks justin um hi everyone um i'm joseph head of entrepreneur support at dfs lab dfs lab is an early stage investor in companies for custom digital commerce we typically invest in pre-seed and seed stage you know anywhere from twenty five thousand dollars to fifty thousand dollars um and we work with founders to help them understand their markets um help them grow their users and also help them you know raise bigger rounds in the future over the last five years we've invested in companies like ochova pula suppliers one pipe and a bunch of other you know companies um we also run software and capital which is at least like basically an angel club um that allows seasoned and new investors to invest you know anywhere from 2500 upwards in companies were also invested in um so yeah thank you great um next up is rick from click pacer rick thank you uh justin um hi everyone my name is rick i'm the co-founder and director of click passer click pesa has a company operating in east africa since 2018 we provide a toolbox of digital tools such as invoicing crm and e-commerce solutions combined with payments to smes and freelancers in east africa clepasa is active in the market kenya tanzania and rwanda helping local businesses perform better to increase productivity and profitability our mission is to simplify doing business for companies in or within east africa we've been building on Stellar since 2018 whereby last year we became an anchor on the stellar network clickbait is a small company company around 10 people whereby most of us are operating from tanzania and excited to talk further about stellar in this panel looking forward for this our thank you fantastic thank you and finally from leaf global we have tori tori take it away thanks justin hi everyone really excited to be joining the stellar community again today you all have been such a source of support over the years so happy to be with you my name is tori samples and i'm the co-founder and cto of leaf global fintech i am based in kigali rwanda and leaf currently operates in rwanda uganda and kenya with goals to expand across the continent and into other markets eventually such as latin america and the middle east and europe as well we are a digital wallet that allows people to safely store and transport their money across borders different than other digital wallets though we we really operate down market we started with refugees and have expanded into cross-border traders and informal merchants people that don't have access to the formal financial system they don't have bank accounts they probably have a mobile money account if they're in east africa but that's fairly limited in that it's very expensive and difficult to cross networks and to cross borders and so leaf allows them to store their money over time in different currencies to send and receive peer-to-peer with friends and family and other countries for free and they can cash in and cash out from any mobile money number and the countries in which we operate we've also started adding in things like airtime purchase and value-add services into the wallet and the best part is that it's accessible over basic phones so you don't even need a smartphone to use leaf we use a technology called ussd that brings the powerful stellar based backend you know all built on blockchain into this really low-tech environment where people don't need to know that there's a blockchain behind the scenes they don't need to understand crypto to use our stablecoins and they don't need to have a smartphone or data connection internet connection in order to use our services fantastic thanks and thanks to all four of you for joining i think so at this point we're just going to sort of move into a discussion and i think again anyone who's watching feel free to submit questions via q a we will incorporate them into the discussion when possible um and i think generally you know we're here to sort of talk about the finnscape fintech landscape in africa and to talk about these solutions to talk about sort of observations that the people on the panel have about what's going on in the world um and and i think i kind of want to start broad um and i think the question that i actually want to start with is each of you have a product that incorporates blockchain that targets a specific sort of user base how did you identify that user base and how did you decide that blockchain was a good solution to sort of offer them and i guess i'll i i know that this will become a more freewheeling conversation but i think to start with i will just call on tori since she was the last to speak sure and and we might be the most niche market play of everyone represented today so happy to start i mentioned that we started with refugees and this became apparent to my co-founder not robinson and i as we were really digging into the refugee crisis uh before looking at the technology side so we identified that there was this gap in the market where up to 80 of the the cross-border market in africa is still cash based it's informal so people are crossing the border with cash in hand which can be very dangerous but then it also is just expensive over time it's inconvenient and it doesn't allow people to move into the formal economy over time so we saw a significant gap there and in looking at ways to formalize that and and to do it with a sustainable business we saw blockchain as a really good option this was early 2018 so the landscape was a little bit different but we knew from the bat that or right off the bat that bitcoin and ethereum were not going to be a good fit for what we needed because we knew that we would be dealing with small transaction sizes and a customer base that didn't have 10 minutes to an hour to wait to know the status of their transaction and so as we started digging into different solutions we found stuller through a contact of ours actually in mexico and and we found that it was a really good technical fit and so we we did look at other blockchains for sure and eventually found our way back to sellers started building out the wallet and during that time it was interesting to see how the regulatory landscape changed as well and the attitudes towards blockchain so if anything i think over the last few years it's become an even better fit for us because stellar makes it so much easier to work with regulators and central banks because of the stablecoin approach that we're able to take using our own custom assets acting as a by-proxy anchor for our wallet customer base so we also we work with licensed entities to hold and move funds so that makes it easier as well but but overall i think the approach was identify the problem identify who it touches and their unique needs and then find a technical solution to fit that need great does anyone else have like i mean there's there's a lot of interesting stuff there but before we sort of move on to talk about regulatory questions and things like that does anyone else have like something that they can say or perspective on how they selected their user base or how they decided to explore blockchain as a solution for problems that their users face how about so let's move in there um so on our side we don't actually expose a lot of like blockchain functionalized to our users except for the assets that we will we allow them to buy and sell and send and receive in the app and we're adding a bunch of stellar assets on there very soon uh but like it's more of our operational backend right so you know in in a good month we'll be moving anywhere between 80 to maybe 150 million dollars a month across african currency pairs it is very expensive to try and do a conversion to us dollars and then like convert us dollars back into whatever like destination currency um that you actually have so like i can give you an example one of our most popular corridors um is uganda and nigeria both ways right one might not typically imagine that there's quite a bit of cross-border trade that takes place between those two markets but our data seems to suggest otherwise so we can find ourselves in a scenario where today we have way too much naira in nigeria and the other day we have got way too much ugandan shillings in uganda how do we quickly move uh money around across these currency pairs such that we we are not uh unnecessarily losing money by doing unnecessary conversions to the us dollar at typically unfavorable rates so you'll find that like most forex bureaus bureau de challenge banks will not have like an exchange rate for the nigerian naira to the ugandan shilling but if you look at stable coin pairs you can find either a direct um the conversion rate between the two currency pairs or a currency pair that's like a lot more cost efficient than um translating to the us dollar typically something like USDC so it started making a lot of sense to us very er early after encountering encountering this problem that stable coins might be the way to go here the biggest challenge of course has been around getting our our partners and we work mostly with banks in many markets to be able to move money around getting our bank partners to have a high degree of comfort um around stable coins and how those stable coins are backed has been a bit of a challenge though we've been able to make a lot of headway and i think the future is promising what what's most encouraging for me about it is that once the regulators and other stakeholders start to understand the cost benefits of using this approach and once they see some examples at scale of other countries and other jurisdictions where there's been a common sense regulatory framework that has worked and has not collapsed or created some degree of chaos it's very easy for other countries in the region to adopt and copy that sort of model and i think it will it will be a much more different landscape in the next three to five years across the continent great i mean yeah yeah for us it's um it's been quite um we also don't um really showcase it to the user as in that since it's a similar situation and similar reasons as chipper cache and i believe i wanted to add there that one of the reasons we we chose the stellar blockchain is also the um i mean obviously the division of um the stellar development foundation which we felt very aligned with um but also a lot of a lot of action which is also quite important so i think sdf has been over the last couple of years put a lot of effort behind building a good ecosystem so whether it be anchors wallets traders  more and more parties are coming to the ecosystems and the operations that the stellar blockchain offers therefore are getting quicker and more efficient and it also makes it cheaper and that all in a in a decentralized way um one example is for example um adding of the the USDC stellar asset which was added earlier this year these are all great developments that that make the ecosystem much better which benefits everyone that interacts with the ecosystem and um yeah that's only only getting better so that has also been one of the reasons for us that we we went for the stellar blockchain great and we're getting some good questions in the q a too and one of them sort of touches on something that's come up a few times which is basically regulations um and the question from peter is how have the participants found complying with the travel rule slash wire transfer regulations and demonstrating this to regulators and banking partners so question about the travel rule and wire transfer regulations um are there challenges in complying with regulations is that one of the big challenges that you face uh i guess rick maybe just you can answer that one since you're since you're on the spot still sure um yeah the the countries we are operating um the cryptocurrency regulation is all very young and non-existing um so we we've taken quite a pragmatic approach to it and um you do the trial and error approach um so for us for all use case we are an anchor on the on the network issuing tokens which people can can buy or sell and that that fitted for us in existing regulation um and um yeah to be able to buy and sell you need a bank partner um so we also regularly um like sit with them and and see how to um adjust how we um how we approach um regulation or uh or compliance or aml around this does anyone else want to speak about sort of regulatory challenges or just regulation in general victoria looks like you're ready to go sure yeah and only because we get to have this conversation like five times a day with everyone right it's the first thing that anyone asks about when they hear what we're doing um especially if we mention refugees just because there's a stereotype there but we actually we put all of our customers through stringent kyc and aml checks at onboarding and then um they're able to do transactions within the system but of course there are limits on that um so i think one of one of the advantages of building in africa is that widely um there has been some regulatory treatment of e-money in the last 10 to 15 years starting with in pesa and kenya and expanding into mobile money and mobile banking across the continent and so when we approach regulators to say this is what we're doing this is the approach that we're taking this is a digital representation of value that is stored and held with licensed financial institutions in fiat behind the scenes that sounds familiar to them because it sounds it fits the framework that they have for mobile money for example in east africa so i think that we've we've found a lot of success using that approach and it's definitely part of our growth strategy to identify areas that the regulatory treatment of leaf is going to be favorable um that's i think that that is changing globally and it's probably going to be a while before every country has explicit regulation on blockchain or crypto based digital wallets but i think in the next five years there probably will be some sort of framework for e-value generally and so um again the the way that we do that is is very important for our long-term success it's not just because there's a framework here or anyone can succeed i mean we've put a lot of thought and intention into the design to make it work for the existing frameworks the potential for change over time and and working within the maybe informal political relationships of the existing landscape because it doesn't at the end of the day it might not matter only what the law says it matters who's already in the space and and how what they're doing how they're being treated and so making sure that we can play nicely with licensed commercial banks telcos psps payment providers or payment processors that's all very important to us and so our our solution is very much meant to play nicely so that we can get traction with existing financial institutions and regulators because if it only works at the tech layer and it doesn't work in the real world then it doesn't work at all so i think that's that's been our our approach and all of that and it seems to be working well so far at least in east africa yeah um so just to follow up on you know tory and rick um i'm was seeing like more um well i say kind of opening up rights of regulators um so in nigeria where i live for example um there was the brush you know uh kind of ban on just general crypto activities um and almost an extent of you know making it almost in a way criminal but then um earlier this month we've seen the cba and the central bank say um you know they're working on you know a central bank digital currency which is which to me is kind of positive um it's to me it's it seems to be like there's some engagement with stakeholders and then they're beginning to understand you know how this works um and i expect that we'll continue to see that across you know multiple governments um across the continents um it might not be like easy over like and as smooth as we would expect it to be especially in countries where you don't have the framework of mobile money or a money you know for context right um and so well i i believe it's going to be with with the work that is being done by you know most lots of the companies like chipakash um global will you know will probably see more friendliness from from regulators over the coming years without any insights on regulatory compliance and the challenges involved hopes plans dreams yeah um i guess there's two parts i'd want to think about the first was in reference to like the travel rule so we've been fortunate enough that like a lot of our transactions for under the fincen threshold limit which was previously i think three thousand dollars is now being proposed to be as low as 250 a lot of our transactions are typically below that amount but higher in frequency so you know um you don't have to um be as stringent when following that though we do have like the infrastructure in place to be able to pass on all of the relevant parameters regarding the transaction so you know the address the name transaction amount the stated purpose etc so we can pass that programmatically as parameters to our payment partners when they're processing so they have a record um of all of these informations as and when the transactions are taking place so it's actually not that hard in terms of you know being compliant what is challenging is that the regulatory frameworks are you know highly fragmented across markets so you need to set up like a separate compliance structure um in each and every country like of the 160 people that are working at your broadcast today about 60 of them are in the legal risk and compliance team and and you know this is like a very software heavy service like we've got like 40 engineers um so you can imagine how uh seriously we take that and we found that like you know engaging the regulator early a lot of the times we have this almost perspective that the regulator is not pro innovation they want things to say the certain way or that they don't understand i think that's not the right attitude to approach conversations with the regulator like there are people just as much as you and me i'm sitting in the office of all of these central banks but then their incentives are very different from ours and what is a the most useful approach has been demonstrating technical mechanisms which satisfy the the requirements and the interests that the regulators have you know we've been able to set up this cross-border wallet in south africa one of the most strictly regulated financial services markets in the world uh by taking the surprise to say like okay guys we want to do this thing we know that no one has done it quite like this before but how do we make it happen as opposed to um the law says we can't make it happen you know so i think um by taking that fragmented approach and investing in those relationships early um you'll be able to set up uh and and scale quite quickly in some of these markets there's another uh question that was asked by afolabi um in regards to crypto saying for crypto related companies like chipper cash will allow users to use btc on app how do you comply with local regulations so it's about understanding what the state of the regulation is in that market and adapting as and when things change before the central bank of nigeria directive we allowed all of our users in nigeria to transact we've since uh disabled that functionality for those nigerian users in order to comply with the new regulation in markets like uganda and south africa where you don't have an explicit explicit uh prohibition of crypto we're able to run the services and we are actually trying to help to formulate some common sense frameworks that enable the regulator to to regulate crypto effectively and even in markets like nigeria it's important to note that the prohibition was uh it is not illegal to own or hold cryptocurrencies but the the central bank did instruct uh centralized exchanges to not connect to the centralized banking systems so there's been very interesting uh ways that people have gone around that sort of like setting up digital and physical agent networks and we're exploring some of that in some of our markets to see whether it might be a viable alternative yeah it's interesting i mean one thing that i'm thinking about as you're telling that story is that you have to be able to adapt to sudden change right you don't necessarily know what's coming next there's a lot of uncertainty and as new information comes in you have to sort of figure out where to steer and you have to be pretty nimble so i guess one thing i'm curious about from all of you is like what is the sort of most unexpected thing that's happened as you've been building your company um and how did you respond uh tori do you want to go go ahead i saw you come off me no no go ahead go for it thanks yeah so there have been like several scenarios where especially in our earlier days when we were like operating in certain markets and we didn't have a very much for compliance structure you know we'll be having the time of our lives all-time highs incredible volumes and then your partner processor just calls you and says we've received the cease and desist letter to shut down your services immediately uh like and it's like at 2 am right and like there's no explanation there's no negotiation there's like yeah you can come and talk about it next week but like right now we're seizing and assisting this because we don't understand exactly what you're doing and this happens this has happened to us quite a lot especially in the year 2019 um it's really been a function of not like really having the right relationships and um having the right structures in place to manage these adverse events as and when they occur something that is a bit counterintuitive it's a bit controversial but i'll still say it anyway it's my personal belief that a lot of the the people in power sometimes the people in positions of power they might not be there because they like meritocratically earned that position right they're not like the absolute smartest people to be sitting uh in that role due to some other factors maybe there's like the president's cousin and whatever else they're sitting in some you know really important position in a central bank or something now that individual does not necessarily have the exposure and acumen to be able to assess the viability of your business purely on marriage right and that is like a fundamental reality of the structures and institutions that we have in africa today a lot of people seem not to pay attention to the fact that african republics as an idea are about 50 to 60 years old and you're applying frameworks and regulatory structures from countries that have had institutions for hundreds if not thousands of years it doesn't really work the same so in a scenario like that in that type of environment it is really really important that you know the right people in every country such that when you get flagged for doing something those people are able to make a case on your behalf to help the other people who might be in positions of power to understand that you're not actually trying to break the law you're trying to introduce a new level of innovation which is compliant which is actually helping um some of the government and the state actors to achieve their intended targets and that is a lot easier said than done but i think um you know investing in relationships and making sure that you're always communicating uh preemptively has been very very useful uh in helping us uh maintain this type of business across the continent i'm gonna jump on that because that's that's our experience at least the first part as well uh when somebody a partner just calls and says uh we noticed this this growth on your system and it's become big enough that it's been flagged by our partners and now we're gonna have to put a hold on everything until we understand exactly what's happening and and the reaction of course on our side is well we've been through compliance we've been through these conversations this isn't this is not a surprise um it's great that we're growing that fast that we you know caused a flip in your entire system but that's that shouldn't be the conversation we're having today and and so i think that for us it's been a matter of intentional duplication within the system to make sure that when that happens with one partner we can very quickly adapt and shift to another and so making sure that we are truly an integrations hub with lots of options to keep our our operations going and to provide flexibility for our customers is really important and then the other thing that i would add um i think the the relationships point is is spot on those always help no matter where you are um but also i think there's this there's this gap where again it doesn't matter at the end of the day well it doesn't only matter what the law says or what the regulations say it matters who is looking at those and and how they're interpreting them and so we before we go into any market spend a lot of time looking at the regulatory framework and what exactly we can do and can't do and we make sure to comply with that because we want to be able to serve customers and we want to be able to operate and and we want to stay within the law but if you get somebody who is not in a position where that's part of their day-to-day job and they don't understand exactly what we're doing they don't understand exactly what a blockchain is perhaps behind the scenes that's always a big buzzword uh you know they can set people's risk factors off and so um if that person is the one who is tasked with deciding somebody's fate they usually are not the ones who want to stick their necks out on the line and so making sure that we we understand exactly what the law says and we're able to communicate that effectively to people who probably should know it but really don't uh has been a big challenge for us and i think we think we're getting better at it but we still come across it all the time yeah it's interesting i mean well joseph or rick do you have anything to sort of add on this topic anything about the biggest surprises how you've dealt with them now for for us it's been similar uh similar examples similar fears of shutting down an account and i think especially for uh sort for fintechs in in especially in africa is that um it's quite important um when when the product is evolving that you you keep flexibility in your product and because yeah those things are unfortunately there and um yeah if you you you can't uh respond quick enough um that that means that yeah it can kill your business for a while so um flexibility is definitely uh something you need to have as a fintech yeah definitely so in in in an area for my life i i was the co-founder of the fintech and these experiences are very like very similar um where you have partners just basically um in in you know in in our case you know we our customers just couldn't do a transaction anymore a certain kind of trans transaction anymore and then you know we reach out to our partners and like oh we you know we cut you off because you know this the central bank reached out and you know and so yeah it's it's being able to you know have multiple partners um constantly like wizard said you know constantly being like you know build relationships um with both regulators and your partners such that you know it's easy to overcome you know times like this but yeah generally they'll just always come up you almost can't avoid them yeah i guess the the this is also sort of a general question right if so far we've sort of been talking about the solutions that you built and the customers that you serve but i think there's also people in the audience who are sort of budding entrepreneurs who are interested in hearing about your experiences actually building a fintech and you know being able to like sort of respond to unexpected circumstances um to be flexible that that seems like part of it but i guess i'm also interested in any advice that you would have for someone who's interested in starting a fintech company or who's interested in scaling one that they've started um like what what's like sort of the is there is there a number one thing that you would suggest to keep in mind if you're trying to build your own business yeah i can i can mention a thing um it doesn't only fit on fintech businesses for for starting businesses in general um don't don't try to be don't try to be everything and and do everything and i think in the fintech it's it's more important because you need to take off quite some boxes like regulation you need to have a partner um if you if you're doing anything with um financial activity uh often um yeah you need to need various of um elements in your business to together to work and i think what is important there is to really look okay what is your what is your core business like where are you get in as a starting fintech business and try to outsource us as much as possible so yeah don't try to build your own kyc aml solutions there are multiple players in the market and then that's for those other activities as well try to focus on your on your core and and yeah utilize um your existing existing solutions in the in the market of course that's a little bit different when you when you grow but i think it's it's very important to do that in the beginning i think mine would be similar to that um along the lines of the core business team i think i would just say for someone starting ventucker otherwise but especially fintech know the details um because there's so much that technology can do these days that we often forget why we're doing things or or what we need to really be successful we see success stories in the news every day and it seems like you could throw any tech solution at the wall and something would stick but i think that especially for fintech being in a highly regulated space especially for building in markets that might not have as robust of an environment whether that's africa or somewhere else it really does come down to knowing the details so knowing the details of your customers and their ux ui preferences and their their needs on a day-to-day basis and their comfort level with technology knowing the regulatory landscape knowing your partner's comfort level with risk and any any stipulations that they might have to adhere to or that they might be under so i i think that the details are where it can fall apart or succeed greatly but knowing them enables you to set up a business that has a much higher chance of success and then be able to effectively defend those decisions over time because if you're building in the fintech landscape you're going to have to defend every single one of the thousands of decisions that you make on a day-to-day basis to potential investors and partners and regulators and customers and anyone else who touches your ecosystem so i think as much as you can know and be able to defend that the better joseph orweeza you want to touch this one well oh very you know very similar um it's and it's like uh like rick said it's beyond just fintechs right it's basically knowing like knowing your you know your product knowing what you're trying to build um i think one of the one of the um best ways to put it will be to build the product first before the business right um it's a bit tricky in a fintech especially with regulation and stuff but it's mainly in a way you i i believe that you still have you have some room to ask for forgiveness um you know before begging for permission right um and so for as much as you can play i'll say like you know just get make sure that you have a solid understanding like tori said of of the product you're trying to build of your users um of what they want of what is really important to them um and in the same vein almost at the same time work on building very strong relationships with you know partners um your relationship with partners will probably in many cases make or break you it's very important that you make sure that those relationships are strong um and in many cases they'll protect you especially if you're like you know a fintech starting out most of your partners are probably going to be the ones to protect you from you know like heavy hits from regulators right so making sure those relationships are you know uh are really tight um and i think wizard referenced um you know kind of finding out what their motivations are and then you know walking around those just as opposed to beyond just regulators just your partners know where your partner's motivations are and make sure that you know you're working with them you know to achieve whatever they also want to achieve while you're achieving what you want to achieve so basically yeah is that anything to add no i think between what tori and joseph have shared they have captured all of my ideas great i mean one thing i think about as as you're discussing all this is i think okay the stellar network is a great back-end platform for sort of storing and transferring value and ideally in my mind at the sitting here at the stellar development foundation i imagine that all these different organizations ecosystem participants would build on the network and be able to like interoperate right to be able to work with one another to forge partnerships to make payments across borders and across currencies but i also realized that that's a sort of you know that's my utopian vision of how stellar should work um and i'm curious about your views on interoperating with other people in the stellar ecosystem or in sort of the fintech ecosystem in general how important is it that your sort of solutions that you're building play well with others and what are the biggest chat like doesn't do they currently and if and whether they do or not like sort of what are the biggest challenges um to interoperation um i have a bunch of thoughts on this one so i think um interoperability is like the next big barrier for digital financial services across the continent um we have seen relatively high penetration in terms of especially urban centers but like you know we still have a long way to go in digitizing finance right network international who operates uh probably the largest point-of-sale terminal network for banks across the continent their latest data from last year indicates that 93 of transactions across the continent retail transactions are still in cash so all of this fintech we're doing is lovely and the volumes are impressive but like we have a long way to go that's one now another side of that bucket is that different countries have got fragmented solutions on a per country basis so even in individual markets uh native interoperability is not yet where it needs to be there are a few notable examples tanzania has got really good interrupt uganda so and so i'm not sure about the latest in rwanda maybe tory can chime in there but there's there's still quite a lot of work to be done uh on a on a national level once we have the national um systems all of the digital financial systems interoperable and and i'm pleased to see that over the last three years um a lot of the bank and mobile money interoperability problems in east africa and southern africa have have been solved quite well but once we have that national interoperability the next question is now around like international transactions uh interoperability and it was i think actually this week that uh afri exim bank is piloting a continental payment system that is going to be used to facilitate um a trade of intra-africa currency pairs like the ones that i described earlier this is consistent with the african continental free trade areas policy towards unifying africa towards a single market so i do think that like you know um interoperability is is probably the most important thing we have to do at this stage it doesn't matter if you know my money is sitting in cheaper and and tori has hers in leave why can't i send my money from my chipper wallet to to tory's leaf wallet we both support the ron and frank we both support the kenyan shipping we have a long way to go some of the the standards that are being developed such as moja loop could be something that's quite exciting but again they're targeted towards specific verticals that is the telco industry we're over the top financial service players if we don't do interoperability we'll end up with a scenario where you've got many monopolies in various regions which is almost the status quo to date so definitely something that needs to happen i think that blockchains are an obvious solution towards interoperability um i just haven't seen i think that the biggest barrier the technology exists today but the biggest barrier is fintechs in africa don't have like a unified association the way the telcos do so moja loop is being pushed to the telcos through the gsma which is the industry association the first thing we need to do is unionize and bring out an association of over the top of financial service players and then agree on what sort of standards we're going to use for interoperability i don't think it's been as much of an issue in other markets because europe has got the eurozone so if the currency is natively interoperable you don't have to worry the united states is a single market china is also a single market india is also a single market but we compare ourselves with these regions and meanwhile we are 54 very distinct and very unique countries with unique needs challenges and opportunities so definitely i think the next unicorns are going to be interoperability platforms out of africa and it's a fantastic opportunity for those who are willing to give it a shot in solving i i completely agree with that i think um the fragmented markets that you mentioned are the biggest opportunities as well uh so if the telcos are not going to solve that uh you know in rwanda today it's very difficult to send between mtn and airtel uh if they're not going to solve it for themselves because of the the competition between those then that's an incredible opportunity for somebody like leaf or tripper or other fintech plays to come in and solve it for them so i've i've been excited to see that there are definitely companies stepping into those gaps i think they've started at the business level so the b2b plays um that's that's been a lot easier and then hopefully the benefits of interoperability and bridge plays will come down to the consumer level over time uh that's that's where leaf is trying to play of course and we see significant opportunity there um and i i genuinely hope that others will come into the space as well because it is it is such a fragmented market and there is so much opportunity i think one thing that um is a potential barrier to interoperability is the word itself and so i don't know if it's um i don't know if it's helpful just to start with talking about integrations everybody loves integrations right they're easy we know how to do them um they're very accessible for most companies and so if instead of going into you know a room full of people and saying hey let's all become interoperable if it's having those conversations to say how can you and i integrate today and over time that creates a network fantastic it'll help us get there um and so for myself you know i look at it and i'm like well great we already have assets for rondon frank's canyon shillings uganda shillings on the stellar network that's very easy for us to to push into chipper's wallet for example so you know if we want to have a conversation after this and talk about what that looks like um great because we already have that asset i think that my my fear in this is that we keep abiding by the same playbook over time and so it's you know leaf leaf created these assets because we didn't see anybody else out there who had them um but you know that's that could also be justified for other companies coming into the space you know if they're a new company in rwanda that have wanted to have their own rondon frank coin on stellar they could do that it's unnecessary they should just use ours and we should learn how to play nicely together but um but i understand the business reasoning and the fear that could create that landscape where everyone just continues to do their own thing so i think we are very very pro integration and very pro interoperability um stellar is a good tool for that and i think as the network is still fairly limited in in africa but it's growing and we hope that you know by sharing our experiences and our lessons learned there's been a lot of them potentially we can help other players coming into that space as we're growing ourselves because of course we're still very new in the game as well great i mean joseph do you have something to add to that yeah so i i really like um um taurus points on integrations um that's uh that's actually that seems to be like a more um or kind of like um friendly approach um one one thing so we talked about mojo loop um and so i've been kind of involved with with that movement for a bit um one of the issues you see is many com many you know startups that should adopt it all are looking to adopt it to realize that for example you probably need to have like a switch right um in nigeria it's going to cost you a lot of money to have like a switching license right and then you have this thing where the startups say they want to come together and then build like one switch that they can use to connect like you know moja loop in another country there's like all that um kind of complexity around it and so just starting with integration seems to me like a very like you know fair approach like you know as much as possible if lots of startups you know puts together the exposed apis like to connect to each other um then maybe that's that'll be like a great start and then we can start talking about you know  connecting across different brothers like countries so that that looks that sounds very you know plausible to me yeah i wanted to add to that that will be interesting to um to see a couple of players in in the african market that actually try to to become such a central switch for example mfs africa is um trying to do that um and then on the other side you have of course um stellar uh which is um try to achieve that in a decentralized way um with with as a non-profit having a certain open source standards it will be interesting to see um yeah which way it's gonna uh it's going to lean whether it will be more with a central party um or it will go decentralized and i think um it will take a bit of time but expect that that at some point it will lean more decentralized on for example stellar open source and having open source standards and actually yeah a central party or that's at least what i hope because if it becomes a central party one or two players then it's the question whether it really becomes cheaper great thank you um so i i personally feel like that's a great place to end this sort of dream of hope that these standards for integrations become you know sort of tend towards the open source um of course as someone at the sdf who is prizes for the open source culture and believes that this network should be permissionless and owned by everyone and easily accessible and that we should work together to create similar standards rather than having one single party own them that sounds great to me and i would love to see that happen but of course you know what is interesting is that what happens next is up to the people here and the people listening people in the world in general the people who are building businesses and also to their users like what is going to succeed and i think only time will tell um but at this point i do want to take these last few minutes because as i mentioned at the top of the presentation or at the top of the panel we the sdf are working with dfs lab to sponsor a bootcamp and i just want to take these last few minutes so that anyone to give some information so that anyone listening understands what that means what it can do for them and how to apply and so i want to thank everyone for their participation thank you so much and pass it over to joseph so he can tell us a little bit about the boot camp yeah uh thanks justin um so we're working so dfs lab is working with the stellar development foundation it's to kind of open up an opportunity for early to mid-stage startups who are interested in building a solution for on Stellar who are interested in building on Stellar um for africa um we are looking you know at basically it's it they block the bootcamp follows like a you know design sprint approach um where over a period of three days you go from you know idea to prototype um in where you you follow a bunch of steps right to go from idea to prototype by three-day period um and then we have demo day on the fourth day where startups um or participants can win you know anywhere from five thousand to twenty thousand USDC um um in prices um so the most promising startups you know during the event um and there are also opportunities for follow-up funding um from the stellar development foundation enterprise fund and other investors who um at the boots got the demo day right and then and it's kind of open to fintechs um open to companies that are currently building on the blockchain um and then companies that are just you know you know thinking of it like the way we refer to them as um cryptocurious companies who are building in africa um it's open to so to any of those type of people to to apply um you can visit the websites that you see on the screen right now um uh the link on the screen to apply applications clues um on the 20th of august and yeah if you have any questions about it um feel free to email me that's joseph dfslab.net um but i'm fairly positive like you know you have all the information you need on on the website um so please feel free to apply um we're looking forward to having you during the event great yeah thanks everyone so obviously as joseph said you can visit that link on the screen to find out more you can email joseph dfslab.net applications as it says close august 20th and our goal here is to sort of help support and incubate projects in africa that are focused on fintech solutions that solve real-world problems um and that's that's the end i really want to say that this was it was a real privilege to have all four of you here thank you so much i know that we just scratched the surface but i feel like we started to get into some interesting areas uh and to talk about you know what's going on in the region in integrations um and also i think there was some really interesting nuggets for people who are interested in building their own companies or scaling their own companies so i really appreciate it and i hope that everyone out there listening also came away with something we do plan to have more of these uh ecosystem roundtables in the future so you can always find out more about those by just going to stellar.org events thanks everyone for participating and for watching",
      "keywords": [
        "thats",
        "stellar",
        "people",
        "africa",
        "dont",
        "theres",
        "other",
        "which",
        "youre",
        "able",
        "fintech",
        "weve"
      ],
      "speakers": []
    },
    "2021-06-17-open-protocol-discussion-6.mdx": {
      "summary": "hello everyone and welcome to the stellar open protocol discussion for june 17 2021 um so this meeting like all these meetings it's a part of the process for making changes to the stellar protocol and we live stream these meetings so that anyone interested can follow along in these meetings we go over caps or core advancement proposals um these are open source specs that uh describe new features that are designed to evolve the protocol to meet ecosystem needs and before we start i do want to point out that this is a technical discussion a very technical discussion so you may want to review the caps we're about to go over and the recent developer mailing list threads about them both of which are linked to in the event description uh before we dive in i also want to give a quick process overview so to allow for discussion and feedback collection and vetting each cap goes through a specific life cycle right it's proposed it's drafted then it's discussed on the stellar debt mailing list again there's a link to that mailing list in the event description so if you're interested you should join it based on the feedback that comes in a draft is then revised and re-evaluated when that process is complete it's put to the cap committee who decides whether or not to accept it now after a cap committee vote the cap enters into a one-week final comment period which gives everyone a last chance to raise questions also on the stellar dev mailing list and if the cat makes it through that final comment period it's implemented in a major stellar core release then there's still one final step before it hits the network validators vote on whether or not to upgrade the network to a new version of the protocol thereby accepting or rejecting the change so ultimately at the end of the process the network decides on major protocol changes now at the moment there are two similar proposals on the table cap 37 and cap38 both proposals aim to improve overall network liquidity by introducing automated market makers at the protocol level so there's general agreement that amns which allow for the creation of liquidity pools are a simple way to attract capital and enable high volumes of trading and that introducing them to the protocol would have great benefits for the network right it leads better liquidity which means better exchange which means better cross currency payments but while the proposals have the same fundamental goal and actually a lot in common besides that there are a few implementation differences between them the big one it has to do with order routing right cap 37 it suggests interleaving amms for the built-in order books that make up stellar's decentralized exchange also known as the dex so in cap 37 a buy or sell order can execute in part against an a m and in part against the decks basically pulls from each to piece together the best overall rate so that's interleaved order rally cap 38 on the other hand takes a best venue approach right an order fully executes against one or the other either fully against an amm or fully against the decks whichever one provides the best overall rate so that's best venue ready there's already been a lot of discussion about both approaches and it's mostly happened on the stellar debt mailing list today we've arrived at a point where we kind of need to start figuring out our path forward so cap 38 has had more revisions of late than cap 37 so it's a little bit further along but let's imagine that cap 37 was brought to parity so it dealt with the issues that cat38 deals with things like authorization which approach would we choose and why that's where we're starting today um and i'm gonna open it up for discussion and also if i got any of that wrong please say so because i want to make sure that we're representing this correctly so who wants to start maybe i can't stop given that i was the last to talk i think on that mainly on the dev mailing list so that people can take it from there uh so i think yeah like we had like a a good exchange i think with uh marcus uh on the on that mainly so it's like the i think it we we reached a point i think in that thread where we are basically thinking about yeah capital e7 as a as something that can be done on top of capital e8 and i think as if as a framework i think where we ended up is really thinking about it as okay like there are like some potential concerns there um but like are we are they like um are those concerns um strong enough that they would be basically uh deal breakers for not doing uh like just capital eight so like the main concerns concern i had in that in that thread was and actually like as we've been moving along capital e uh the this became true the uh cap create at this point is the longest cap we ever wrote uh it's it's actually quite complicated it has many many things in there like uh and uh i didn't actually anticipate that we had so much complexity uh like up front uh i thought the hard stuff was going to be around the um the arithmetic like the fixed point math uh you know that we had experience with before uh with the decks and um this turned out to be bad too but uh yeah basically much many other things going on there um and uh yeah so where we where we are right now at with the with this thread is um it looks like there are no like um like deal breakers right like the like the the things for example interleaving okay interleaving is better like i think nobody uh disagrees with that but can we not having intelligence so doing best venue is that uh like is that something that maybe even though it's not optimal is that good enough to get us um how to get this amm solution out the door quicker uh i think there was like a a potentially other thing that was the this one we didn't even talk about because this one is really like a very different uh like a big departure basically from uh from how even existing mms uh in other uh like in other systems like unisop for example like the dynamic fee uh topic that is in capital e7 um this is another kind of ones in a way like in terms of complexity that i i don't think is necessary uh like uh to to get a first version out both are interesting but i i think the where we are right now is it looks like those are uh should be considered uh like uh at at a later point given uh that they're not strictly necessary for for a first version i keep repeating myself i'm sorry so i mean i feel like part of what you're saying is cap 38 which is already fairly complex is simpler than cap 37 that some of the things the features essentially that cap37 suggests could be added later is that correct that was always the the approach we are trying to do capital eight during the minimal set of things we could do to get uh emm's out and then the question the tension is already always is that something that's actually shippable or do we are we going to run into something um that makes it basically non-viable like so for example the i think one of the concerns around are we going to cause the network to grind to a halt let's say because we have so much arbitrage or like the markets become so inefficient that um that things are just uh unusable like those i think we're we're raised on the on the mailing list um and i think at this point it's just like we don't we don't know yeah and i think yeah maybe yeah i i would say like i think i don't i haven't heard a disagreement for uh you know cap 38 being on the path to cap 37 as in like we would basically have to implement cap 38 before we implement cap37 anyway and so that the really the question is just like does it make sense to go all the way to 37 or can we release 38 in the meantime and that really the only arguments i've seen for releasing uh for going all the way to 37 uh are that the arbitrage thing that nicola just mentioned and then also the fact that that that the you essentially need a new ui to interact with cap 37 where you kind of don't interact interact with cap 38 or sorry you need a new ui to interact with cap 38 but not really in the ui act with cap 37 because uh basically cap 38 really only supports path payments to to take these liquidity offers and that they aren't really patterns aren't really well supported in the ecosystem i don't think i mean definitely not like stellar acts and things like that so um but yeah so just basically so really the question here is is the the danger of arbitrage and and the kind of the burden of having people like change their uis is that great enough to warrant core going all the way to cap 37 and uh like i said on the mailing list i think the arbitrage thing is better addressed in a different way because we're going to have arbitrage even in cap 37 world uh and i think the ui thing is unfortunate but uh it just seems way better to get this out earlier and then we can proceed to work on uh some some like more cohesive ui uh like later basically if it seems worth it so um yeah but i don't know if anyone disagrees like uh like does anyone actually disagree here so i mean i i guess the question that i have is so i understand that a ui that that's something that can be solved later um i i and i guess my question is about arbitrage it seems like the risk with going with cap 38 is that it would open up new possibilities for arbitrage and your argument that you made on the mailing list jed is that there's a there are better it's better to deal with that as a separate issue um but i guess what the the the question is is there a way to actually understand the the arabic the risk that arbitrage poses um is it is it a real risk right is there a risk that implementing cat 38 would create so many arbitrage opportunities that would have an effect on the network or do we feel like that's not actually something to to worry about in the short term with cat38 and and basically why i can take that jet if you want oh like i i think there are like two type of problems right with that comes with arbitrage one is is like actually having this being a inefficient market but arbitrage is correcting that so in a way maybe it doesn't matter like it just makes the it creates those weird like uh change in price on certain pairs but you know at the end of the day like those the mms end up being balanced correctly so it's not that i think that's not so much of a of a problem maybe there's like the yeah like you have a larger spread uh in a way like uh for for like a little bit like things like that uh i think the one of the main concerns uh i think came from more like the the the amount of traffic that potentially gets generated by this uh by more arbitrage activity so for for example more recently uh we had like a lot of relativity for example on the market uh like in crypto in general like what uh what was it like maybe a month ago or something like that well it was like crazy and um and when when was when this was happening we had actually um a lot of uh of ledgers on the network that were uh with a lot of failed transactions um and i think that could be the type of things that happens more more often if we have like this discrepancy between the decks and uh and amms um the the reality is that with the work that we did in the last year uh this type of so the impact on the network is is actually um kind of not that bad i mean it's uh it doesn't like a year like the same question a year ago would have been okay if we have like this type of arbitrage spikes and whatnot we were actually seeing like uh certain ledgers being impacted like uh like sometimes we had like delays of like uh 10 seconds 15 seconds on ledgers like this was not acceptable so we we we found ways to fix that um but we had a good stress test i guess so yeah like uh like less months and you know like or like a a good what was it like a good month i think uh like in april basically uh and yeah the network was fine the annoying thing is that we have dancering systems have all the straight transactions and um and that i think we have to to be mindful of that i think that's kind of the the thing for me that is where this is potentially annoying um but that's something that we can uh improve of our time i think it's uh like for example Horizon right now uh there's quite a bit of overhead even for failed transactions uh i think we can probably do a quite a bit better and we have uh also similar ideas with in core i think we have to deal with that regardless because we have like some historical data already with a bunch of failed transactions and i think when people want to uh rebuild historical data i mean like the meta for example based on those old ledgers i think we want to be to do that efficiently so i think we will find ways to to make this better overall yeah to me it seems like it's it like if arbitrage goes up a lot yeah certainly it'll certainly be a nuisance but it doesn't seem like it there's a way for it to really be catastrophic i mean there's lots of uh you know uh guardrails and checks in the network already that that that would prevent it from doing that uh but yeah like things like catching up to the network or running Horizon could potentially be like more load than you would we would want so i think we should deal with arbitrage i'm not convinced it'll like like i said in the 90s i'm not convinced that going to 38 will greatly increase arbitrage unless it just greatly increases the number of people using the network right which is we want right so um uh but yeah but it doesn't seem like something that we have to fix before we release 38 is my point like i think we can release it and if arbitrage goes up then then we'll certainly address it we need to address our arbitrage regardless so we should be working on that kind of in parallel it's kind of my thoughts i mean just kind of for the record you know i know this isn't on the table so my my preference in all this uh you know i think the the the the real priority is to not let the the perfect be the enemy of the good in this project so what i would you know my ideal solution for an amm would be you know as fast to deploy to implement a deploy as possible and it's easy to kind of upgrade or back out you know when we decide we want to do something better and so from my point of view both cap 37 and cap 38 are a little bit too linked with the with the order bike i mean i've talked to some of you privately you know my ideal world it would just be like completely separate set of uh operations and order book it would be even a separate phase of like a transaction processing so i'm not seriously putting this on the table um except to point out the fact that there's two ways to reduce arbitrage one is to make the arbitrage uh expensive because there's a fee and the other is to make it not risk free right so if you know if you did have a separate kind of transaction to take advantage of the mm and you couldn't take advantage of the order book in the same transaction then there would at least be some risk that like you would buy something and not be able to offload it uh the way you thought you were going to be able to offload it so well i think that you know sort of where where we're headed is something that's like a bit more integrated with like uh you know that works with legacy transactions um you know if we really are concerned about uh arbitrage we should also consider the ability just to make it not not risk-free to kind of not allow the things to happen in the in the same transaction i think that um that can you guys can people see me hear me okay yeah it was just a weird like silence yeah okay cool um kind of like for me the extension of what david's saying and you know i'm one of the people who was talking that he said that he was talking to about what he was saying but like um there are all these kinds of trade-offs that we're making today you know what's the simplest thing that we can implement that you know people will readily adopt um it's kind of the way that i've been looking at it and so going like one step simpler as david was saying and you know introducing new operations that completely decouple it from the uh transactions even that happen at a different phase for example yeah that would be even that would be even one step further um this would be a real i think a even bigger hindrance to adoption even than you know what judd was pointing about how um path payments aren't widely adopted in the ecosystem but i think the kind of bigger picture on doing anything like that is no matter when we were to like imagine we were to do what david was posing or anything else considerably drastic like that that would be such a disruptive change that you know like what would be the difference if we were to make a really disruptive change like that now or if we were to deploy something that we're ready to deploy now and make a really disruptive change like that in six months or in a year or whatever having something working in the short run wouldn't really change my calculus at least on making further changes like that that you know we'll have this new data we'll have all this new information about what's good what's not good and then we can build a system that's potentially better in various ways maybe ways that we don't even realize now uh and there's not really anything stopping us from making those changes later yeah and just in case it wasn't clear like i did end up being sort of persuaded uh by this argument um so um and again like i think that the fact that cap 37 is the potential retrofit onto cap 38 again speaks to the ability of cap 38 to be like a reasonable first step that's not overly limiting what we're gonna do um in the future as well so i mean so it sounds like people are generally saying okay cap 38 is a reasonable first step forward it's simpler it could we could add cap37 to it later we could explore possibilities to sort of deal with arbitrage in various different ways but it feels like a reasonable first step forward so that we can implement it and get moving offering and then start to gather information and do it in like a sort of first step way that can lead to other things and i mean it feels like that's what everyone's saying start simple implement something now see what happens know that we can retrofit things to it later um and i guess my question is does anyone have a problem with that approach or does that approach just generally make sense because i guess then i i just wonder if we are at the point where it is time to start to basically move cap 38 forward in the process um and what that would look like again just to like sort of remind people of the process is that right now cap 38 is a draft there is a cap committee all of whom are on this call who could vote to approve that draft and if it was approved we'd move it into final comment period people out there anyone would still have an opportunity to comment on it during for one week on the stellar dev mailing list and depending on what happens in that week you know we can move it into accepted and then start to talk about we start to work on an implementation with an eye towards including it in the next protocol release um i mean i guess i i feel like we're at the time when it may be time to just sort of vote on whether or not to accept cap 38 um does anyone object the idea of doing that is there any blocker one question i had about cap 38 as if things do turn out to be bad how do we decide in a principled way this is time to pull the plug or pause the amm or something like that i know we have a mechanism in the cat to turn it off but what would be the trigger for that i guess uh bad in what context here uh bad as in like we misjudged you know the arbitrage or something like that or bed in the context of like oh there's a bug uh because this is complicated yeah that's kind of what i'm getting at like maybe there's a bug that's like one extreme of bad and then there's sort of this in-between bird where we have a lot of arbitrage and Horizon is struggling to read all these failed transactions but it's sort of okay but maybe we should turn it off because it would be better we'll be there's a possibility of a grey area where we'd have to think about that do we normally think about that now or do we want to think about it then i think we have the tools for that i think like the talking about the gray this grave thing is kind of funny because it's also the the more it's unclear if it's bad the harder it's going to get people to vote for the change right so yeah i think it was it would have to be you know more only extreme like you know there's like this security issue or whatever all right that uh that basically nobody's going to disagree with voting for for a change to fix it like fixing it short term maybe turn it off and then of course it would be like turn around and you know a new protocol it is it's just to be clear right if if this situation unfold like basically if validators agree to the protocol change that includes this cat 38 and then later it turns out that something is wrong then a step to sort of undo that or turn it off that would be up to the network as well the validators would also have to vote to accept whatever the solution was that's correct right yeah and that's why like it's the the less it's a hot you know it's a home run that it's something you know good or bad like the harder it's going to get be to get actual adoption i think the the only chance of you know pulling the plug hitting the button whatever you want to call it um you know getting that level of unanimity as nikola was saying would be uh would be in the event that like you know there was an obvious way that people were going to lose money you know if we were in that kind of a situation i think that it would not be hard to convince validators like okay let's uh let's not let that happen i think short of that person i have a hard time imagining that people would vote you know to to turn it off and it'd be more likely that we'd be in a situation where we're under some pressure to make some improvement and release a new version of the protocol in a shorter time maybe than otherwise it's also worth mentioning that we got the communication channels established with the validators and you know time and time again uh the validators have proven this out themselves um you know super responsive and responsible so um you know if something bad does happen i believe we can get that effort together pretty fast to make a change so given all that it seems like we're landing in a position where we say okay if something does go wrong if it's something is clearly wrong then we can work with the network and we believe that the network is full of reasonable responsive validators who can help correct who can help sort of get things back on the rails not that we're anticipating that to happen but just like we're really getting into like the worst case unhappy path scenario here um yeah i know it's all about setting low expectations that we're always happy of the outcome uh no but i think eric's concern is is actually the same than uh you know what people raise right with you know if you have a lot of arbitrage maybe fees go up like more than they should it's annoying uh i think it's yeah it's a nuisance and in that case i think we'd have to uh probably like figure out you know in a more accelerated way like mitigations for arbitrage yeah i think that's kind of yeah exactly there's two concerns right one is fees going up and the other one is that number of fair transactions spikes in a way that is very large and starts to cause us performance issues and so from my perspective the risk is the second one and i want to get ahead of that so i think my takeaway from this is i should accelerate plans to deal with that possibility now but there is a there is some risk that this will happen in real time right but we have a few months and we're working on this already as you say and and the thing is that you were already processing today like the steady state non-failed transactions is over 100 transactions per second so you know it's already substantial yeah i mean as the baseline of successful transactions goes up that increases everything for Horizon as we discussed nico but the number of failed transactions is potentially unbounded right in a ledger no it's not it's bounded by you know the whatever setting we have right now it's uh a thousand their pleasure yeah they count as part of the legend limit yeah so people would have to vote to increase that which you know they could do today anyways also let's not forget that there's there's an optimistic scenario here which is that there's a lot of arbitrage but the amm works really well so the actual solution is we deprecate the order book and we just kind of convince the ecosystem that it's better not to to place offers in the order book an even happier path uh perhaps people don't need to be convinced because they like the uh the imm so much and they yeah exactly right so so one clear thing right we we know that this proposal would create amms alongside the order books but we don't know what that's going to do to the order books right we just we don't know yet yeah yeah yeah john um i think this is one of those like dynamic analysis type of things it's uh it's very very hard to predict i mean we're all considering this kind of like i mean like we're engineers we build stuff and so we like to consider bad cases and make sure that we're not going to end up in really bad cases as a consequence but like um one of the things that we're like perhaps this does increase the amount of arbitrage i suspect it will at least a bit um i think it'd be hard to convince someone that that wouldn't be a consequence of what we're doing but like uh if it were to simultaneously reduce the amount of market making on the order book because people are just you know populating amms instead it's it's hard to know which of those two effects will be bigger uh like it wouldn't be that weird to me it wouldn't be weird to me at all actually if the total amount of traffic on the network actually went down as a consequence of this like averages lower spikes or higher is like a totally plausible uh outcome great i mean it feels like eric did that sort of address your concerns do you have more questions the address is my concern i have one other question uh following the doomsday trend of all engineers what happens if uh this is wildly successful and everybody wants to join Stellar and join the amm and deposit pull shares and retrieve pool shares and everything else have we thought about that i mean it works for unison i mean we've got a lot of room to run here you know between us and let's say ethereum but so but i think that that would just be the outcomes please go up right yeah all right right well or the ledger limits could go up too right there's still there's still headroom that validators have to increase the capacity of ledgers too and we'd all be really happy because this idea would have gained traction and everyone would love it i mean i mean if amms are super popular i mean they require way less transactions i think most of the transactions on the network now are people adjusting their orders on the order book so that kind of all goes away um so we have even more room if in a m world so any other questions thoughts doomsday scenarios that we want to play out are we ready for a vote i feel like we're ready for a vote and i kind of just want to do it now live on this call but before i do that i'll just get like real procedural and say does anyone like object to actually doing a sort of live vote and what time to think about this in which case we can conduct the vote asynchronously over email yeah cool okay so then i think we should have a vote here to move cap 38 into final comment period pending acceptance um again at the end of there'll be a week for people to sort of uh raise questions on the stellar dev mailing list and we'll post this this new status change there um and at the end of that week you know well we'll see what kind of comes in depending on what happens at the end of that week we may move this into accepted um and so you know based on also if anyone ever wants to check out this whole procedure you can look in the github cap repository and it lays out exactly the life cycle of the cap and you'll see that there are three voters and it requires unanimous consent from all of them to move the cap into accepted and so i will it is jed uh david and nicolas so let's start with jed jen what's your vote uh yes yes to accept okay yeah david what's your vote um yeah i'd like to accept chapter 38 great nikolai what's your vote no surprise you know i'm kind of yes yes okay cool so we have three yeses and that means that cap 38 moves into final comment period pending acceptance um i think that's it any other final comments thoughts questions that anyone has well does the group want to provide uh some direction on cap 37 like should cap37 now be adjusted to be layered on top of cap 38 yeah yeah i think that makes sense i mean i i think uh i'm not saying that we would implement this stuff immediately i think part of it is that we want to see what the what how things play out like maybe everyone moves to a m and we don't need to interleave these things and we can just skip that complexity but likely people communities both so it would be good to have cat 37 be there in case we want to go down that road so that would be my take so technically that means or procedurally that means cap 37 stays in draft mode and may be revisited in order to like sort of graft it on to cap 38 in the future yeah i think there are some changes to cap 37 that would be worth making because not all of the uh concerns in the in the cap make sense in light of how cat 38 is actually implemented so there's some things that are written up there as well right it would require revision ideally some things get easier because like the authorization logic or whatever can be just uh you know can pick you back on on cap 38 um and then some things uh need to be rethought um there's also feedback there's a few things like for example cap i think to get closer to adoption cap 37 should not use floating point because we like try to avoid floating point because it's like the arithmetic's not associated which is kind of annoying again that easy fix but just like um basically i would encourage uh cap 37 uh the you know revision to continue and and to try to coexist to try to have a deployment path or a theoretical one of how this would work now that we're trying to move ahead with cap 38. great sounds like a plan anything else okay well thanks everyone for coming thanks for participating thanks everyone who's watching um again we encourage you to participate as much as you want in any of these discussions about the future of the stellar protocol there are links to these particular caps in the event description so you can go read them to actually see what it is that we're talking about and there's also a link to the stellar depth mailing list which is where we do things like notify people about the changes of status of caps um and it's also where all this discussion before this meeting happens about the caps so again it's open participation we'd love to hear your thoughts and we will now move cap 38 into final comment period pending approval all right and that's it thanks everybody",
      "keywords": [
        "arbitrage",
        "theres",
        "things",
        "something",
        "thats",
        "people",
        "mean",
        "network",
        "actually",
        "vote",
        "basically",
        "order"
      ],
      "speakers": []
    },
    "2021-05-06.mdx": {
      "summary": "hello everyone and welcome to the stellar open protocol discussion uh so for those of you who are watching just a quick reminder the goal of these meetings is to talk about and plan for changes to upcoming versions of the stellar protocol and so we go over core advancement proposals or caps um these are open source specs they describe new features designed to evolve the protocol to meet ecosystem needs so caps go through a rigorous process before they're actually implemented in stellar core and then put forward for a validator vote um in in a new protocol version and so before the network upgrades validators they have to agree to accept that new version of the protocol that actually includes the implemented change this meeting is just a part of that process right it's where people raise questions and dig into technical details and work together to think through proposals and we're definitely we're broadcasting it so that you can all everyone out there can see the gears turning but i also want to say there's a complimentary asynchronous discussion on the stellar dev mailing list and we encourage anyone who has thoughts about changes to the protocol to join that mailing list and participate in the discussion um there's a link to it in the event description i'm going to talk about more in a second but first i just want to say last meeting we started talking about two similar proposals cap 37 and cap 38 both of which suggest a method to introduce automated market makers at the protocol levels so automated market makers amms they allow the creation of liquidity pools which are simple and non-interactive and which can attract large amounts of capital and enable high volumes of trading um so they're so they're a simple way to provide the liquidity that's necessary for asset exchange and that's the goal here right to implement the change to the stellar protocol aimed at improving overall network liquidity so today we're going to continue the discussion about amms that kicked off about a month ago on the stellar dev mailing list this is a technical discussion so if you want to follow along i suggest reading the caps both of them and the recent developer mailing list threads about them which are linked to in the event description so one thing i just want to mention real quick is that this morning orbit lens who is the author of top 37 and who unfortunately can't be here today i don't think um he did raise some issues about the ongoing amen discussion in a blog post and there's a lot there i don't think anyone here has had a chance to fully process it quite yet but i imagine that people will have thoughts and what makes sense to me is to discuss the points he raises on that stellar dev google group i mentioned earlier that way we can sort of discuss things in a public forum that's set up for participation rather than trading blogs back and forth the key point we are currently discussing these ideas we haven't settled on the best implementations for bringing amunds to stuller and we'd really love to hear the concerns folks have on the mailing list where we're working together to find the design that serves users so here's where we are right now okay the last meeting we talked about a few things mostly in the context of cap 38 we talked about liquidity pool reserve requirements the relationship between the decks and amms whether to allow pool parameters to be updated and whether or not to support multiple pools for the same asset pair now there are still open questions about all those things right an ongoing discussion again on that stellar dev mailing list um but today we're actually going to focus on something a little different it's another question that needs to be answered by any amm design basically asset authorization and revocation how that fits into amms um so siddharth in the cap 38 thread you suggested two different models for handling handling authorization and replication and i'm just wondering if to start us off you can sort of walk through that um those two models briefly and kind of outline the pros and cons of each yeah of course uh yeah so i'll go over two approaches for authorication and forcing a redeem of the pool shares back to the owner uh so in the first approach uh revoking authorization on either an asset trust line will redeem uh all pool shares that that trust line astrus line has a balance in so this will also require us to first make sure that acid trust lines cannot be deleted while they have a balance in the pool and we'll make the data layer more complex with additional queries and indexes for the lookup because we have to look up all the pull trust lines and pools the good thing about this approach is that it works like author revocation with offers so no additional steps are required when an issuer issuer is regulating a specific asset the second approach is a little different the way it works is that an issue where an asset can in a pool can revoke off on the pull trust line instead of the asset trust line to redeem shares held by the pool trust line so any any issuer uh of any of the assets in a pool can do this and then once that happens the the pool shares held by that pool trust sign will be redeemed back to the owner this approach will require the issuer to look up all pool trust lines that i want to revoke off from uh which isn't that big of a deal but the bigger issue we we wanted to address is that the issuer will also need to be aware of the additional step during authorication because now that not only do you have to revoke off in the asset trust line but you may need to be you may need to broke off from the pull trust line so john had an idea here to require the issuer to opt in uh to liquidity pools so once uh using an authorization flag on the uh using the account flag so once that happens then the issuer should be aware of nuances related to liquidity pools the nice thing about this approach is that it's simple to implement doesn't require changes in the data layer uh the current cat38 proposal takes the second approach but uh we should obviously get some thoughts on this and see if if that's what we want to finalize on one thing i'll tack on to what's it earth side is an idea from nikola that perhaps this opt-in behavior for for liquidity pool should only apply to the assets that are already authorization required uh this was also discussed on the mailing list but i think this is an interesting an interesting addition because you know if you're not off required then there's no concerns about revoking stuff anyway really uh and in that kind of a setting i think the majority of the assets on the network are not authorization required and so most things would just kind of transition seamlessly which i think is a cool advantage but i think there are some pros and cons to that i mean is it worth just outlining the pros and cons to that um i mean i think the major con is that it's just more complicated like when you're trying to figure out what's gonna what's gonna happen basically it's like okay i have to look at this flag but i also have to pair it up against this other flag and i think that's kind of the major thing like oh you know i'm looking at some asset can i can i put it in a liquidity pool it's not as obvious in that case um so i think that uh that's probably the biggest drawback of that kind of an additional step and i think lee was trying to say something a second ago so i'm gonna let him jump in yeah sorry um uh i wasn't i was muted uh how would it work if you if the asset was not auth required but then the issuer decided to enable author required in terms of the ability to participate in pools so like when adding auth required would the issuer need to also indicate that the asset can continue to be used in pools uh it's an open question that i hadn't even considered yet so it's a it's a good question i think that that's another aspect of the complexity of all of this here ideally the way i would kind of like it to work is that you uh these these things kind of work like um like what's it called the same way that auth required works today which is that as i've said many times the name is very uh very kind of misleading and it's really more like what's your default authorization state um and the liquidity pools thing could work the same kind of way where it's like what's the default authorization state for a newly created pool share trust line and so then it could be like the default state is equal to the or of is this flag explicitly set and the not of auth required yeah i think where the reason i ask it is because i think like we're trying to we're talking about adding that to make it less of a foot gun for people um to for issues to not have to know about how liquidity pools work if they're already off required but then the flip is true the flip side is that for an asset that's not all required um and that issue doesn't know about liquidity pools um if they suddenly make it was required then they need to know about that flag um if yeah if they're already allowing liquidity pools to use so do we have any assets that are um that are auth immutable but not auth required because if so it seems like you'll be kind of unfortunate if you couldn't use those in amms no they see nobody does that nobody says i promise i'm not going to revoke this asset i'm going to make it off immutable because that seems like the primary point of off immutable is to like promise that you're not going to suddenly turn on off the required flag right i mean like we have the like to me the we and i think i mentioned that on the main english the degenerate case of this is actually the uh xlm right it's basically a are not required immutable so i think in my mind it has to work the same way right for accident this is what this you know uh you know this type of assets and those type of assets i think we want uh to have them on the network they are basically like the the purest uh from a you know crypto asset point of view tomer it's my understanding that like the auth immutable flag in general is just like not highly used perhaps not really anybody is using it at all under any circumstances uh what what's kind of the actual status of that right now yeah that's correct the author immutable flag is almost uh not used at all i think maybe one issue where i need to look that up but usually when issuers want to make a statement about the asset being locked down they actually do uh the remove signature way to be something not achievable so actually my comment would apply to that case too if anybody sort of created non-author required assets and like you know uh nuked the signing weights on the issuing account it would be a bummer if those assets couldn't work with the amm if i would probably want it you know a default on thing unless the there are no such assets so so the so the question is like do we expect such assets to exist and uh you know nico said something very smart which is like this is like the crypto asset in its purest form right um but to some extent it's it's somewhat of a myth uh and if you look at you know if you look at a lot of popular tokens in like the erc20 universe there there is almost no such thing as an immutable asset anymore like all our erc 20 contracts are actually proxies so that they could be upgraded if uh you know and if you discover like malicious um you know backdoors or whatever so you know there's almost always some sort of you know oversight it might be some some uh you know consortia via multisig or something like that but it's very rare to have uh you know almost non-existent to have like assets in it like the pure um you know untouchable form and so i guess the other sort of question about the current state of the ecosystem is let's say that we uh we kind of flip the polarity such that there's a flag that's off by default but you could just as an issuer said it it says like don't use this in mms or something right um do we think that there are any people out there who like they have an asset that they really care that it's not used in an amm but they sort of lack the confidence to or awareness to set such a flag if we give them like you know a month's notice or something i can't think of such assets because i feel like i wouldn't i want this you know of course we want the mm to be usable as widely as possible and we also want to be in a position where like we don't have people sort of bitterly complaining that we pulled the rug out from under them but uh but beyond that uh you know so to me that suggests we want some kind of like the default on thing uh basically i mean tomer from the perspective of like what if we so like the motivation for adding this kind of a flag in the first place it kind of originated from this notion of like what about people who uh who wrote some code and have something running on their back end and it's you know issuing assets and receiving requests to revoke them and whatever uh and these guys uh they don't realize that something has changed out from underneath them and you know people start putting stuff into liquidity pools they revoke but it doesn't actually really do the job because those assets are still in the liquidity pool they're still being traded um do you think anybody would even care because if nobody cares and nobody would really be in this situation like this isn't a problem for it doesn't matter if this situation might arise a year in the future if you show up a year in the future and you start doing something well i expect you to know what the current state of what you're doing is it's only for people who already have operations and if you don't think any of those people would care then maybe we don't have to jump through any of these hoops at all so i think both the both this edge case and the edge case that um like david brought up are very edgy like they're just not i'm having a hard time thinking about anyone that will actually be affected by this in the ecosystem i think that uh you know if we would have asked a lot of assets like that in the ecosystem then i would say that david's uh kind of like uh on by default would would make uh sense because they would probably want to participate in these liquidity pools um but then we'd have we'd have a problem with the mechanics of of how to revoke change and uh and kind of like you know and your point comes into play in reality i just don't think it matters all that much i think i think i think what you suggest john is probably more complete in that if anyone is relying on existing behavior they don't uh they don't get borked uh when you know when they try to revoke um um you know like a new asset you know liquidity cool stuff yeah i i just don't think it matters all that much like i vote for for what you said john uh for um you know having an off by default so that people know that there's like a special handling required yes required or not just like in general because i think that's kind of one of the distinctions we are trying to to draw in the in the conversation was for auth required uh assets you do want it off by default but the ones that are not earth required can be on by default that if we if we had it on by default that like there's probably nobody who would mind right that's what i was confused about too like turmeric can you clarify actually like are you saying that we should remove the flag because you don't think anybody would actually want the flag to be set or are you saying that we should do one of the things that either i was suggesting david was suggesting any of us were suggesting i'm a little confused so i thought we were discussing a dedicated flag that is um on by default or sorry off by default for uh for author required assets yeah so i was i was supporting that so in other words if you have an off required asset you have to designate it you have to flip the flag to say this auth required asset is now can now be used in liquidity equals yeah that is indeed what i agreed with yeah the opt-in yeah i think david that that would cover your case too because if you're auth required you need to have at least oh no you could just have low signing weight only i guess it also depends yeah if you can you set this flag with low signing weight um i mean i guess i'd rather um i you know i'd rather stuff be on by default right for the same reason like auth required isn't the default you know i would like it if inhibit amm weren't or whatever require a mm off weren't uh on by default for for anyone um just it's just it's very easy to convince ourselves that there's edge cases where like somebody is not somebody is like not gonna be paying attention and and it's going to run into huge problems but you know if these are edge cases then i'd rather just have the functionality on by default it also simplifies the logic you know a tiny bit like and it gives more possibilities you know maybe there actually is some asset that you like really don't want to have used in an amm for some reason but you don't want to auth require it so correct me if i'm wrong but if they do have auth required right now then uh and we turn it on by default then the authorization semantics is understood by the issuer essentially get uh like invalid or changed right oh i see so you're suggesting like a big database migration on the protocol upgrade which actually is another thing we can just kind of like it's a it's an it's an inhibit flag that's going to be off by default but for starters we grew everybody who's currently author required we actually set the flag when we introduce it is that is that what you're i wasn't thinking about that but and in that situation if someone showed up new to issue a new asset it would be and they decided to make it auth required it would automatically be on it would be no they'd have to decide like the same way auth required is off by default the amm inhibit flag is going to be off by default and so when you set one you might or might not want to set the other these are like you know it's part of your decision tree it's the same as you have to decide whether you want to set auth immutable which you know most people don't but or like auth clawback or whatever like we're just going to have when you want to issue an asset like these are the decisions that you need to make about your asset and so if we kind of you know clearly document that you have to make like three different decisions about what your assets can behave like then i feel fine going forward and it's just a question of do we have like existing assets where um like people are like would not have the confidence or awareness that they need to like change this flag if they care about it and then you know like a month after we announced this and the thing goes live then it would run into problems can i flip this discussion over for a second now and say like um these problems don't really exist as much if we were really at all if we did the other authorization model that like the version one that starts listed uh which is basically like make it work exactly like offers work today you get your auth revoked now your now your pool shares are all going to get revoked too obviously this has some like implementation burden on our side um it would make us have more things to test and whatever but if it's justified then maybe we should consider that but that's not sort of that's not semantically equivalent so the the question is um i i actually see these things as almost orthogonal like there's two different things like one is like what happens when like you know particular people get sanctioned or whatever um and another question is do you not want there to be uh you know do you want a tighter like uh control of like the market in your asset and they seem like different questions and i could imagine different asset issuers to answering different ways for the two questions so john with with the v1 you described yeah does that mean we um um does that mean issuers do not have the ability to opt out of liquidity pools we we could still add that feature if we wanted to but that feature would no longer be one of these kind of like you could make this work and everything would kind of look transparent from an issuer's perspective like different things would be happening on the network but the same operations that they were doing to control accounts would all still work so in in the version one approach i agree with david the questions are orthogonal like how do we want to control like do like you have this choice on how to control the ah you make a certain choice and then the other degree of freedom is totally open but if you go the approach two then the then you're not in an orthogonal space anymore uh because then you have this backwards compatibility problem that appears but we could kind of answer the question separately like maybe we want the flag either way so then it matters a bit less yeah so i'm reading siddharth's uh outline here and i'm i'm leaning towards v1 in terms of uh like a more sensible contract that's in line with what we have today um i don't have you know you core folks need to uh you know express how bad this is in terms of implementation because i think from a contract perspective this just you know is is more in line with what you have today it's like um it's it's uh variably bad i guess is the best way to characterize it in a world where we only have uh two asset liquidity pools it's like probably not so bad but like if we were in a world where we were like oh you know like balancer type pools with eight assets are actually great then it starts becoming kind of problematic uh the reason it becomes kind of problematic is that we have to be able to efficiently extract all the pool shares that have to get uh revoked but they might correspond to any of the assets in the pool let's say there's eight just for the sake of argument maybe in pool one it's the third asset and then in pool two it's the seventh asset and full three it's the first asset so you end up breaking out all the assets into separate columns in your databases you've got an index on every column right now our an average table in our database has either zero or one indices so like for example if we were in this world that would add you know eight times as many indices as i think the trustline table currently has um so that's that's kind of the perspective here there's probably big performance complications as soon as you add eight indices um you know every index operation is basically a table operation so um i mean to be fair you don't necessarily need to do that many indexes like you can do it in a in a way it's a little more like you know map asset to like a it's a multi-map basically like creating a separate table to query again yeah it's a separate table for indexing purely for indexing it's yeah but it's uh it might be a lot more efficient than that might be more efficient more complicated ones you because that's one b one one b three right as opposed to many b3s yeah so i mean like that could be a better implementation but then we have to maintain an extra table um so yeah it might be more efficient probably more complicated look v1 makes more sense from a contact perspective uh i uh is there someone that disagrees with that okay i agree okay um so you know in that case you know uh you know nico you folks need to put your foot down on on whether this is like um acceptable uh or the complexity in core just uh you know makes it so that we need to make the less sensible contract decision justin maybe we need to let the core folks uh huddle up and and and and figure out like how uh yeah i feel like that's true are there any other questions about this topic that we want to make sure to cover or or is that our stopping point core folks go back and think about whether the more sensible contract approach v1 whether the implementation is a show stopper blocker or is there more is there more i guess the only the only question i'll still ask here is like do we still want the flag because like the like we could always add the flag later if people want to opt out um and that that would just mean that we have less work to do and we can deliver this sooner um oh i can i can reach out to some viewers um and uh and see if that's a if that's a showstopper in any way uh intuitively i can't think of any issuer that will um you know passionately want to disable their asset from participating in liquidity pools um but i'm not sure is there like to the extent i would imagine people doing that i could imagine a situation where what you really want is like you believe that there's sort of like two or three high quality assets that are kyc and whatever and so you're willing and you're you're willing to have your asset have a market against those um and you don't want just like random people buying your asset where you can't sort of trace one hop and and ask who that was so is there any possibility to add to give issuers control over what assets they're allowed to be matched we'd like to have a trust line on the liquidity pool itself as opposed to an individual participant that's an interesting concept my kind of a priori intuition on this is that you like you can't control that today anyway because you could already do it against the decks like the existing order book and if that's the kind of feature you wanted you're probably using the the cap18 semantics um which is for people listening it's like this like fine grained authorization control and it's mapped up against some sep which number i can't remember right now um so i can't i can't really see how adding this feature at the protocol level would you're muted david you're still muted none of us can hear you david sorry there could be like you know a trade-off uh required flag or something that basically it applies to both the mms and the decks and it says um it says like i actually have to authorize any other asset that my asset is traded against so making it apply even to the existing order bill yeah i mean interesting if nobody's asking for this then you know it's probably uh not worth doing but this actually seems more useful than just like blanket inhibiting amms it's definitely an interesting idea not one that i've heard before i think tomer can find out what people really want and that's probably the good a good starting point but if you're gonna do that and it's retroactive onto the existing order book i'd say let's do it as a separate a separate kind of proposal in a separate protocol version probably just for the sake of expedience but then if if if we think that that that actually solves people's problems better than the existing ones then maybe we don't need to worry as much about the existing ones you know unless there's anybody saying like you know don't don't let my don't let my asset be traded in amms but do let it be traded on the decks like somebody yeah which is weird like it's hard for me to imagine what that use case is but maybe it's there i don't know yeah i think given that you know we don't have this feature around the decks right now and uh you know we haven't had issuers saying you know i'm not going to issue this asset because i'm afraid it's going to be traded on the decks um  you know i think we're probably in the same boat with liquidity pools okay maybe let's call today well i mean in in fairness there's probably people who say like i'm just not gonna issue my asset on a blockchain because it's because i'm scared of blockchains and so this would be more like we could come to and say hey you've heard of these two issuers who are like you know reputable in the non-blockchain financial world well guess what like you could you could make your asset available only for like you know you know only for sale for like customers of like these two banks or whatever um and that would sort of it would be a way of kind of attracting people who are otherwise afraid of blockchain by making it less unknown but again this would be i guess a separate proposal so right so back to this issue for this particular proposal it seems like where where we've ended at least with today's discussion is v1 makes more sense as a contract but the question is what does the implementation look like in and that's something that the core team will think about seems true right seems like where we've ended up okay i have a question about all three revocation it's not really to do with v1 versus v2 i think it applies to both of them um and it's from siddharth's email where he uh presented these two different options it says an email that if the full shares can't be sent back to the owner that is impossible that they're going to get stored in a claimable balance for the owner um is that something we're still considering and if so um i'm just a little concerned it seemed that seems like that would be very unpredictable and applications like they may not really handle that edge case so yeah i'm just curious about that so we're we're still thinking about how how that case would work uh like you know regards to claimable balances and you know we initially considered all like always putting it into account clinical balance um but there there are still questions around like how reserves would work here and things like that so it's still open we're still thinking about it if you have an idea to how to avoid this problem i'd be like super enthusiastic about it i've had i think three calls of siddharth but we've like tried to think about how you could avoid doing this um and we always run into some case which pretty much forces you to create a claimable balance as it stands today um but maybe there's some other thing we can constrain that we haven't figured out yet i'm super super open to ideas here lee does that answer your question more or less uh yeah i i think um i would like to understand what all the cases are where the claim will balance would be required i i can assume i can maybe think of one but i'm not i'm not really sure if i certainly understand the problem so some examples of some cases where you would require them just off the top of my head it's probably not going to be complete but one case is you're in a pool share and you've uh you're in a liquidity pool and you've removed the trust lines for the corresponding assets so for example it's like i'm in an um a usda usdb pool uh but i don't have the trust time for usdb anymore because all my usdd is in the pool uh there's no way to return the money to you other than creating a claimant balance another case would be if your usdb trust line still existed but because the pool has moved in your favor which is kind of unlikely for these particular assets but whatever imagine um then you no longer have sufficient limit to receive the additional amount of usb usdb that you would have gotten they're all kind of variations on this problem or it's like oh i also have some order book offers and their five liabilities and then that causes me to have insufficient um available limit to receive the balance stuff like that okay thanks i'll have to think about it as well there's also a bit of discussion about this on the mailing list i it's like quite a few posts from the bottom now uh but nikolai was having one of the things nikolai was chewing on was this notion of capping off the available balance like the available supply of an asset uh because right now it's actually possible for an assets about like total supply to exceed in 64 max which is interesting i went and looked and there were like 30 assets all with funny names or largely with funny names that have this condition um and so i don't think anybody serious has this problem and if we avoided this situation it might make a lot of other things simpler and it might avoid some cases with uh with liabilities and stuff but like it's definitely not like an obvious win there are still still some other things that can happen we probably need additional cases additional constraints in addition to that but you can you can read more about that on the mailing list because i don't even remember what was in that post entirely great any other questions or topics that we want to go over today or should we just sort of mull over what what what we've discussed so far and bring it back to the stellar dev mailing list cool deal so yeah everyone watching thank you for joining us for this protocol discussion again the thing that we keep talking about the stellar dev mailing list there is a link in the event description and it really is the place where we start to ha uh to hash this out right like all of these discussions are happening there um there are discussions about both cap 37 and cap 38 and we definitely want to hear from people as we start to think through these designs in order to come up with solutions that really meet the needs of the ecosystem so really appreciate it please join the discussion thanks everyone who joined here on this panel and i'll see you next time",
      "keywords": [
        "asset",
        "required",
        "dont",
        "assets",
        "thats",
        "pool",
        "flag",
        "liquidity",
        "people",
        "default",
        "these",
        "actually"
      ],
      "speakers": []
    },
    "2021-04-22.mdx": {
      "summary": "hello and welcome to the stellar open protocol discussion um so for those of you watching at home i just want to give a quick overview the goal of these meetings is to talk about and plan for changes to upcoming versions of the stellar protocol we go over core advancement proposals or caps for short these are open source specs that describe new features designed to evolve the protocol to meet ecosystem needs all caps begin with a draft and they go through a rigorous process before they're actually implemented in stellar core and even then they don't actually hit the network until validators vote to upgrade to the new version of the protocol that implements them so crucially not all drafts make it across the finish line right changes to the protocol they require deliberation diligence and meetings like this they're just one part in the cap life cycle so today we have two caps to discuss and again these are both drafts um cap 37 and cap 38 both of which have the same goal which is to introduce automated market makers or amms for short at the protocol level so automated automated market makers are a simple way to provide liquidity necessary for asset exchange you may have heard of things like uniswap they've shown that automated market makers are effective at providing an easy to access liquidity at scale they essentially allow for the creation of liquidity pools which are simple and non-interactive and which can attract large amounts of capital and enable high volumes of trading so the goal of both these proposals cap 37 and cap 38 is to add automated market makers to stellar in order to improve overall liquidity on the network they differ slightly but that they have the same goal so two things before we start one this is a technical discussion very technical so if you want to follow along i suggest that you read the caps and the recent developer mailing list threads about them both of which are linked to in the event description two amms are a big topic and the goal today is not to get to the end of the discussion about them rather we're just beginning the discussion so we'll start to bring key questions about these proposals to light so that the discussion and debate can continue on the stellar developers google group just getting started that group is open participation which means that if you have an opinion or some great insight about amms to share you too can join in just follow the link in the event description all right without further ado let us start to talk about amn so again we have these two proposals but they have a lot of questions um in common and then they also have some differences and we're sort of going to get into both today and the first sort of topic that we wanted to talk about was a question about reserve requirement and how it works in each of these caps so cap 37 has the pool creator uh the person who creates the liquidity pool paid for the pool ledger entry um and cap 38 does not increase the reserve requirement so i guess the first question is which model is better is there any concern about either model so reserve requirements well this isn't very deep but it's easier to reduce reserve requirements than increase them so you know if if there's doubt i guess it'd be more conservative to to have the reserve requirement initially maybe we can go over the motivation for not having reserve requirements because most ledger entries do uh yeah i can sound just kind of weird um anyway uh so in cat 38 that that version of the proposal does not have the reserve requirement and the the main motivation is basically uh it's it's not remotely obvious who should own this thing in the first place like why should any given account be responsible for paying this which is you know it can't be used by a single person in the first place intrinsically a multi-party thing and being the person who created it isn't necessarily a meaningful concept but more importantly it's not that there's no reserve requirement at all because the pool can't exist if there isn't at least one trust line for the pool uh for the pool share i should say uh so basically it's kind of like you get it like you know when you're the first person to create the pool you get it like half off you basically get two entries for the price of one um but then you know if there were a thousand people using the pool it would actually be like a thousand people paying a reserve for one single entry uh or if there were you know ten thousand people would be even more more like that so that's kind of the way that i see this motivation all right so there's no way to abuse this uh because you can't just create an infinite number of these you'll need infinite number of trust lines as well so so in other words basically the trust line it sort of serves as the reserve requirement rather than creating a new reserve requirement specific to a liquidity pool right that's a pretty good explanation of it yeah i mean i think like i mean that's a reasonable explanation yeah so it'd be a bummer if we changed our minds but yeah and later wanted to like increase it but that does seem reasonable um i mean if that's the case maybe we're done talking about reserve requirements like does anyone have anything else to to to say about them yeah we sort of started with the easiest topic just to warm up um so if that one's that easy and we can move on i guess like uh maybe so the reason i added that question in the first place was because um it was more like thinking for like like they are uh potentially very large uh i mean the the pool basically to describe it you need to basically describe you know what which assets are part of that pool uh right now we're only discussing concern products as part of this but you can imagine having a lot more complicated type of pools so maybe the the amount of data that is tied to this one pool could be much larger than what we are talking about now uh for example i think in the uh i think compound type of uh world they have like multi assets like more than two assets actually in your pool um and uh i think in if you have like kings or v3 type of stuff uh yeah now you have like those bitmaps that are in there as well i mean like the the cost of that becomes much larger so i don't know you know is it does that count really just as a single single ledger entry or do we need to do something better uh if we if right now we make it basically implicitly attached to a truss line we're kind of stuck with that model forever um as opposed to maybe if it had if it was separate we could imagine okay if we change our mind and it has to be more expensive because you know those things are gigantic um we can you know we have that as a a separate thing but maybe maybe that that's fun because yeah the creator like we can maybe give the first trust line free or something i mean kind of equivalent right like as part of this i mean the thing is like there shouldn't be like a gazillion of these things right so if it turns out that you know i mean i can imagine going forward that it turns out that there's any number of things like it might turn out that we really only want a few hundred of these uh liquidity pools in the network and so we would turn it into like an auction to see like which asset pairs are like you know worthy of of having the automated market maker or you know or it's just kind of the thing is even if it costs like 100 lumens to create one of these things it just wouldn't be that big a deal because that if it's actually a useful liquidity pool that cost would be amortized over a large number of users so i i guess it doesn't seem like it really matters um because i guess we could also say later on like hey price just went up but will grandfather in the existing liquidity pools or something so what happens what happens to the pool when the last trust line disappears uh i think in both proposals it's supposed to be automatically removed i'm just wondering if there's some kind of spammy edge case where people create and destroy trust lines quickly to get some kind of ephemeral pull advantage i mean i guess it could but like the nature of the pool it's not really useful if it's not sitting around right so and you you can't be a participant in the pool if your trust line doesn't exist because you wouldn't be able to hold the shares so i it's hard to see how you could get value from that i do think that like nikola has a good point about the the multi-asset pools you know like balancer type pools and i think in in that kind of a setting uh we could always say you know like okay well we're gonna charge fees for uh charge reserves for those types of pools but not for these types you know i think there's a lot of flexibility uh you know we already have a mechanism by which we can do this uh which is sponsorship so we wouldn't have to invent anything new it's just a matter of like do we think that that's even necessary at this point for me the answer's like probably no i mean like if we to me yeah i agree that right now we don't need it it's more like are we is it possible to add it later if we have to um if we don't if we're not careful basically because in the capital eight world i guess we would have to force people to  wrap their trust land creation with some sort of like sponsorship thing or maybe responsible by default i don't know yeah maybe that maybe that's fine it just changes the cost of uh creating a trustline so maybe that's okay i mean what would what would the change look like like in general i'm not a fan of complicating today's thing because of potentially tomorrow but you want to like add like one field to the operation that's like the extra fee for creating the trust line or the extra reserve for creating the trust line or something i think we should just be on type so i think it wouldn't actually change the contract so it's actually fine yeah like we ever have a new type of of uh of pools that are like those gigantic things and we believe that they you know there should be no free riding on this um then we can always add like this uh like those would be sponsored basically instead of right now they would like the i mean right now you have the field that allows them to be sponsored except we don't use it all right i think we can move on okay so the next question is about dex integration which i think is a bigger bigger question so both proposals give access to liquidity from both pools and the decks but they they vary in their approach um john will you just walk us through the difference between cap 37 and cap 38 in their approaches to dex integration uh sure thanks uh so basically uh basically both of them put the access to trading with liquidity pools or automated market makers inside of path payment and that's the only access point to this functionality uh there is no like trade only with an uh trade only with the order broker trade only with the amm uh it's just one operation which is more like trade um now the the difference in how these work is that in cap 37 uh orbitz proposal like the idea is that you're going to try to always get the best price so you might imagine a situation where like the uh you know you have let's say you have an order and the price is at like a hundred dollars or something for whatever you're trying to buy and like the marginal price on the amn is at 95 right now but the amm has like really really small reserves so you might say like okay well first i'm gonna trade against the amm until the price hits a hundred dollars then i'll go and cross the order book and take that first order and then you know now i'm going to now the next price is at 105 and so i'm going to trade against the am until it goes to 105 etc and you do both stepping back and forth between the two uh depending on which one gives you the best margin price in cap 38 to kind of avoid that complexity uh the approach is basically just what if i what if i took the entire trade against the amm or what if i took the entire trade against the order book and just give you whichever of those two produces the best price so you would never do like some amn and some order book it would either be all order book oil a m sorry best price or best volume so even if the volume is tiny you would take it so i'm saying best price in the context of like uh uh imagine that i'm trying to trade a specified amount like i wanna i wanna you know buy three thousand widgets or something uh i'm gonna do whatever it takes to get the best price for those three thousand widgets if i can't get 3 000 widgets on one of the two options then uh that's not an option wait sorry so it's they're all or nothing now oh i see yeah because that's working that's right that's right okay but so in in the cap 37 example where it always tries to get the best price and may may execute part of it on it via the amm and part of it via the order book what does it do it it splits the amount that you want into a bunch of different path payments uh i guess i mean it's kind of hard to explain what it does at like an implementation level but it it's all it's like still going to come through as a single operation and just inside the implementation it's going to know to you know kind of do this incremental approach so it's completely invisible to the user right and so so in both uh proposals can you have arbitrage opportunities between the order book and the amm so in the cap37 proposal there are no arbitrage opportunities between the two because they get resolved automatically as you trade in the cap38 proposal there can be but the reality is that with like spreads as wide as they are on the order book today if there were ever a situation where there was an arbitrage opportunity between the amm and the order book there would also be an arbitrage opportunity between the amm and any external order book for the same product probably i mean like i can't i can't give you 100 guarantee on that but you know i think uh it's pretty common to have like spreads on the order book today greater than half percent so i would think that you know if you're looking at any more liquid place in the world that would probably get you into an arbitrage universe there first with the cap37 implementation would it be possible to to build an attack where you constantly switch between the order book and the pool like a with a single path name like is that a concern what uh what kind of it like what would this attack do exactly right it would take the minimum amount from the pool and it decides that the order book has the next best price and then after that it would switch back to the pool and just keep going back and forth while in cap 38 you would just choose one or the other right do you see what i'm saying so this is i mean like there can only in the world where there's exactly one order book and exactly one amm there can only be as many switches as there are offers in the worst case so like if there's 10 000 offers there could be ten thousand switches but there couldn't be twenty thousand that would be impossible does that make sense do i need to convince you of that i could no i think that makes sense okay um yeah the worst case behavior is to dex not you know that's always the answer one comment i have is that whatever we implement in core we have to be able to model it outside of core like Horizon has to be able to calculate the same thing to give you the best uh path payment and presumably third parties would also want to do that so we should bear that in mind like it can't be completely opaque what do people kind of feel about what's the good approach here i think one one important question here is like cap 37 seems to suggest that the dex is a valuable thing um and should be maintained and the markets will be maintained alongside because if the if if everything just migrates to the automatic market makers then have this like complexity of interleaving requests of no leaving offers seems to be like doesn't make sense right so the question is like do we think that the ecosystem is going to migrate um like are we are there use cases that automatic market makers are not providing a good solution for as much as the dex is i i think there are but it'll probably be per asset pair anywhere like if i had to predict i would say that for you know if i want to like you know do an ipo of my company on stellar i'm gonna just basically like put the order book there i mean it'll be offer my shares for sale like on the order book or something right um and if i'm trying to do like forex exchanges or whatever then probably the uh the um probably the the amm is going to be best so it it seems unfortunate that kind of like the more intermingling of these abstractions the harder it's going to be to like you know improve each individual one in the future the more complexity there's going to be and it's not clear uh what the payoff is going to be the market will do better with impermanent loss right so when there's knowledge outside of uh the blockchain the market will take advantage of it much more effectively than the amm yep seems like an argument to have it you know i'm not saying get rid of the the existing decks i'm just saying you know have uh have both but don't have them terribly intermingled like they sort of um ideally improvements to the mm don't need to like you know change the logic of the order book as you know as much as possible and vice versa so then it would just be a user choice more than anything whether to use the amm or use the dax a market maker choice the user would just get the best price available for a path payment right um but someone who's trying to make a market could either use our amm or if it's not good then they could use the um the decks comer i i would kind of ask you like can you think of anything where people would want to use like would have a good justification for using both on the same product because i agree with david like i can think of lots of cases where the amm will be better than the decks or lots of cases where i say the decks i should say the order book lots of cases where the order book would be better than the amms but i can't think of a case where people would be obviously indifferent between the two well i think what what could happen is that um you know that amms are used to like bootstrap a market but that then when the market is like you know a really big deal then some big market maker will come along and they would rather have the control of setting explicit limit orders because they can set have a lot of depth and they can kind of adjust to x uh you know external uh factors that affect the price and so they would prefer that and so i could see the amm is way to bootstrap a market and then like a full-on market maker using the the the order book once it makes sense for them to do that because there's enough volume that is profitable for them to make the market in the traditional way but cap38 would satisfy that without the extra complexity so at the moment it doesn't seem like anyone's arguing that the extra complexity of cop 37 is is worth uh has has a benefit um that makes it worth while really is that true is there anyone who who thinks cap37 and the super interleaved process is is substantially better but i think the argument for for that behavior is actually what um orbit wrote i think this morning on the dave mailing list which is trying to limit um like the number of times you have like this uh arbitrage opportunities between emm and the uh the existing order book the thing is that uh i don't know if you have any data really to kind of say that this is going to be a big problem inside uh like this is like inside a specific uh like even on the on the decks overall like you have pairs that i mean yeah are assets that represent the same thing right they're just issued by different people and that doesn't solve i mean cap 37 doesn't solve that so that's why i'm i'm kind of a in the camp of like starting with this simple thing first see how that goes and then adjust like based on that because yeah this interleaving um so far on you know the type of of things i'm saying it's actually very hard to even come up with with like environments or things that you want to happen if we want to change the uh what the mm is doing like if it's uh something more complicated than than constant product i'm not even sure we we can um yeah explain what we exp what we expect to happen like we want the best price but when you have like grounding and all those issues that come in play it it actually becomes really complicated to try to reason about this so i would delay that decision as much as possible that's that's my opinion and there's a chance that uh you know we'll want a third thing that's neither an amm nor the existing decks and so uh you know it's nice the idea that okay we can just have multiple approaches to this coexisting and they don't have to be tightly integrated that leaves us more flexibility in the future great anything else about dex integration or should we move on to the next topic great the next topic is pool parameter updates um i think sid was working on something related to this is that true yeah i wrote something on the that mailing list yesterday uh i can talk about that if you like yeah will you talk us through it yeah so it it's it's what i propose is uh an extension on what orbit pros where you include the uh the fee in the ledger header so instead of just having one fee you have you know all the fees you may want to use uh for example if you if you had a couple different constant product uh pools with different fees uh you have all them the ledger header and uh depending on which pool you're interacting on you would pull the fee from there uh this will allow you to upgrade the uh the fees without a protocol update uh the issue here though is that you know the more the more pools we add more parameters we add wherever we if we store this in the ledger head it'll get polluted wherever we decide to store it somewhere else uh like it may become an issue uh so that that was what i proposed i think niko had a had a different proposal uh related to storing the parameters in in the ledger pull key i believe and maybe you can talk about that right so i i guess like what i described was not necessarily um where to start i mean like there's like there are actually different concepts here um because let's see it is the other question after um so just maybe one thing that will help me can we just talk about what parameters there might be that that we would need to store other than right so like the type of things that uh i think uh people were talking about so for the obvious one is uh we have a proof uh a puffy uh right uh that's the one that is kind of the really the only parameter and a constant product pool we have other parameters also like minimum amounts that we want people to to be able to deposit like basically a unit you can think of it as a as a unit of deposit or withdrawal that helps with uh guaranteeing certain levels of liquidity basically when you do all those operations um what there's i think some of those uh when you have like the more than two assets type of course those have actually formulas that are getting even more complicated because now you have like different weights uh for those assets um i think those are like the the ones that are known right now right uh i think for like unison b3 type of pool you have like a step size also uh i mean yeah it's up to future so and there are a few other things that are like uh for example curve has this amplification factor uh and that would be something else that would have to be stored if we were to use that is is there an issue with storing all of this in the leisure header i'm assuming like you want to get two actually so the the one actually i guess like when i wrote this question what i was thinking at the time was more like there's this question of if you store the parameter as a global as opposed to be something that is um attached to the pull itself well that means is that if you want to ch if you change the value of that parameter so if you change the c for example you're actually changing the fee for every pool in existence every instance right um and actually have a hard time to kind of understand how that model works in a world where you have other parameters other than the key like for the fee maybe it works for other parameters i think it changes the dynamics of the pool so much that you're actually you're really talking about a very different pool at that point and it may not actually be something desirable this this first version is we are establishing the model that we want going forward and you know constant product is very special and i don't want to be stuck with that you know with whatever choice comes out of that so you're really focused here on the on the update like updating the what should it be possible to update the parameters on an existing pool it's kind of the main crux here i think it's yeah it derives from this choice right that is if it's a global that means when you update it you change everywhere right my stance on this is that like you shouldn't be able to retroactively update things uh you know if you wanted to switch to a different pool create the new pool uh move your money into there and let people vote with their feet or with their money however you want to say it uh my stance on this is more a ux thing than anything else uh you know what i really don't like seeing looking on my bank statement and being like oh i used to get 1.5 interest now i get one percent interest uh i didn't agree to that nobody told me until after my money had already been sitting there for however long so i don't think i want to impose that on to other people so a pool would have fixed parameters that could never change once it was initiated somehow so what you're saying that would be the stance that i would take on this um i think the only exception to this might be like perhaps we might make the exception that these can change during a protocol upgrade because generally we take the stance that we can change the rules on protocol upgrades uh and you know i don't think anybody would be super offended if all the validators plus all the developers plus went through this huge review process to agree like this is gonna be better uniformly for everybody so we should make it the de facto um but isn't nico's point that when you make the second pull if you wanted to change the fee in a second pull it would affect the fee in the first pull are they coupled like in in siddharth's proposal and i'll let him talk more about it but he's offering like these three different fear in his example he's offering these three different fee tiers and you can imagine being in the mid-tier fee uh you know you could have the low tier one the mid two one the high tier one and then you know the validators vote like okay we're gonna move the mid tier one from point five to point six or something like that so it would still be possible to be in a world where there are multiple pools and still have multiple fees but have them globally controlled so that existing ones get changed anyway not saying that i support that but i think that's possible but siddharth you can step in here if i'm not uh not hitting this correctly no that was right and that like the the nice thing here is that you and i don't know if this actually matters but you you control the the number of possible pools right i don't know if that matters for uh like liquid liquidity fragmentation right like if we if we allow if we end up allowing like 10 or 15 constant product pools like will that be an issue or do we assume that everyone will move to the most optimal optimal pool like i i'm not sure what will end up happening there i tend to think that people would have probably eventually settled down onto the right thing uh but i also don't think that's a particularly nice user experience uh it's like decision paralysis when you get to the grocery store and you're like wow there's a 37 brands of corn flakes which one am i gonna buy yeah why do you need that in your life so it's it does sound like like if we were to make any of the parameters mutable it would it would only be the fee right like if like we shouldn't change anything like the curve or anything like that uh for any of the you know if we add a new pool type like those should not be mutable right i don't think those should be mutable only from like i don't know uh their nikolas shared this uh this very cool defect report that colton long ago had shared with me and i shared with nikola nikon he posted it onto sellerdev which is about changing the curve parameters other than the fee i say defect report i guess i should say vulnerability whatever you want to call it and if you're interested more you should you should review that because it's very scary i almost feel like this shouldn't uh this shouldn't be a configurable uh parameter um and if if we do want to introduce a different fee we can might as well just introduce a new type of uh a new type of pool like i think that doing um like even if you don't change it for existing pools i'll still you know i'll i'll put some money into a pool one day uh get you know one specific fee and the next day after the configuration change it's a safe type of pool but now i'm getting like a different type of fee so that there's like it's just not explicit enough a couple of people have said why don't we just introduce a new pool or why don't we do this who is the we in this situation does that make sense uh i think there are two different ways one could take this one one way to introduce new types of pools would be that it's a protocol change you know like if we're gonna go from having only constant product pools to having constant product rules and um i don't know something curve-like or balancer with weights or whatever um we'd have to you know the stellar protocol developers you know people who work on caps whatever would have to make that happen uh another way to look at we this is this is an idea that nikola had a long time ago about having this like uh this notion of like um instead of letting people choose any fee they want or any whatever they want there are some configurations that the validators have voted on are good configurations uh when you're creating something you're basically choosing from that menu of good configurations and so in that setting we could be like validators you know they they voted on saying that like now the fee can be both 0.3 and 0.05 you know so depending on the context i think we could be either of those cool things are there more questions about parameters i mean i feel like there's still a little bit more thinking there that we can sort of do in conversation on the stellar dev list i i don't want to move on though if there's important things left to be said but i feel like we're sort of at a good point to move on right i agree like the next one is actually related and and maybe more interesting actually you want to explain it yeah multiple pull support yeah so it's basically um the two proposals are actually uh quite different there uh like cap 38 uh actually allows one asset pair to have arbitrary variations of pools for that one pair so the variation can be on the  curve type it can be on any really any other parameter like we just talked about fee so you can imagine having um two pools on the same two constant product pools let's say on the same asset pair but one is going to be you know super low c and the other is like going to be a high fee and then you know the market kind of gets inside whatever um capital e7 identifies pools using the pool type and then related to the thing we are talking about earlier the the fee is global so at this point the only way you can have multiple pools on a given asset pair is if they defer on type do we want to have more of the first kind or the second second time right like which one is is uh is maybe more interesting we want to have like those uh a few number of options right in a for a given type or do we think that one type enough i think there are some like fundamental problems with the notion of like one instance of a pool per wait hold on actually let me make sure i understand do you mean one instance of a pool per pair per pair yeah of course all this is fair fair right yeah so one in i think there's some like fundamental denial of service flaws with one instance of a pool per pair which is the question of who gets to choose what that pool will be uh like is it going to be the hyphy one the low fee one is going to be curve you know uh i think basically basically if there can be multiple types of pools we probably have to say that all of them can exist for the same pool to avoid having some arbitrary and by arbitrary you can always take that to be adversarial decision maker like oh this is a super volatile uh asset pair um where like you know constant product with a high fee would be the best i'm going to put in you know a curve with a super low fee to make it so nobody can use this don't want that to happen but here like you have the um you know using cap37 as like the like maybe the as a talking point like the earlier we were talking about fees do we think that we want to have more than one few  for constant product for a given pair i mean i think that we probably want to have more than one tea uh and not just uh force like people to pick like oh yeah this is the right fit for you because i think that different um different uh asset classes actually uh have different like risk profile and volatility profile and therefore you want to have a different fee you know like you basically want the the uh like crypto to crypto assets to have a different probably a different fee than the stable coin to stable coin type of uh type of fair right so yeah you can let them compete and like you were saying like you can't let a single person decide on which one is the first one so then how do you let the market decide i think that's kind of what i'm getting so it would bring market dynamics to bear on these given uncompeting pools i don't really like for me the reality is i don't really see what we're choosing between like the choices in my head are kind of like there is exactly one type of pool and we apply that uniformly across the board or there's one you know maybe you say like okay like you can have different curves but all the ones with the same curve have the same fee whatever like whatever you kind of take that model at you're kind of saying like i'm gonna try to fit all the pegs into a single shaped hole if you take that approach and if you don't take that approach then you're basically saying well like i'm gonna let the market decide what's the what's the non-stupid thing uh and i i don't like forcing pegs into holes that don't that they don't fit in so for me it seems kind of like a like a very kind of obvious choice but i'm i'm wondering if somebody sees the the argument that goes in the other direction like is there somebody who's like no like john you're definitely wrong well i think the argument i held before on on trying to force everybody into the same group is you avoid uh like splitting the liquidity but i'm not i'm not that's not my opinion either you know so i can't really support it but that i just wanted to call it out that's actually one of the argument that people call out yeah i mean i guess for me it kind of depends a lot on what the set of options are like you can imagine a world where like we just imagined that it was possible to create a constant product market maker with a fee at every thousandth of a percent there's no difference between i mean they're they're not literally identical but there's no material difference between a fiat point three percent or point three zero zero point three zero one percent or point two nine nine percent they're kind of like exactly the same and i think in that world you probably do have liquidity fragmentation between people doing effectively the exact same thing differently whereas you know in a world where you're like okay like you have two fees on your constant product one is like 0.05 and one is one percent for totally different asset classes i think there's going to be like a very obvious place that people are going to want to put their money in those kinds of cases and there won't be a lot of blurriness i'm not 100 sure but i think the the amount of liquidity fragmentation depends on how distinct the options are but even in that case if market dynamics work wouldn't people be drawn to the fool with the lower feet right if they were the same but one even had a tiny bit lower fee and then the two pools would be competing and they would actually that would push fees lower isn't that what you would expect uh not not necessarily like for example if the impermanent like if prices are moving a lot and so there's a lot of impermanent loss then people might make more money from the higher fee even if people traded less as a consequence and the other factor is if everybody's in the high fee pool then and like let's say that like let's suppose a world where there's 99 sorry 100 equivalent market makers 99 of them are in the big pool which has the high fees and the one other guy is in the small city pool uh in like the cap 38 proposal for like maybe some small trades would execute against the small pool the small fee pool but all the big trades would execute against the big fee pool because there'd be less slippage there and so maybe that person would end up making less money by being in the low fee pool and then they decide to join the high fuel pool anyway right so i think it's it's not obvious there's a bunch of different ways these kinds of things could shape out so i mean maybe the answer to this is no but i'm just wondering if there's any if it's it just seems better to have only one pool you know other than the fact that you would have to agree on the parameters um but i'm wondering if there's any way to kind of select the pool objectively like basically say that you know for any given pool you you you if there's if there's multiple pools for an asset pair you just pick the one that has the highest product or highest product plus reserve where people can pledge some reserve or something so you can let people sort of bid on on what they have because what you kind of want is like you want like you know in the kind of stellar fashion of like it's just to everyone's advantage to do what everybody else is doing which is kind of like the whole philosophy of stellar on some level you kind of would like market forces to decide this and so to the extent that then somebody a lot of people decide that you want to do something else then it should like make sense to move over to that that's something else but um i mean that's uh that's uh john uh briefly mentioned this uh my new idea uh earlier so that's kind of what i uh proposed earlier is basically try to kind of find a good middle ground right like you don't you don't want to have like a single pool you know where you're forcing to this one rate you know across all assets you know that's i think that's kind of uh trying to to that's too too uh prescriptive on the other hand if you allow people to set any price you know any fee and all that you end up with like this huge uh like you can't pick a pool basically like there are an infinite number of pools so the menu idea is to have validators actually describe the the combinations that you are that that you can use on the network and the combinations would be a combination for example like constant product you can have like low medium high c or something like that and then when you when you want to deposit uh assets in a pool you pick which of which which item on the menu you want right you can say okay this is like a stable coin one so i'm going to pick this scoff paying with this parameter right okay so here's i think you know this is probably not workable but just to like get some design point out there suppose that uh you know people can sponsor these uh these liquidity pools um using lumens um and basically you can propose any value any parameter you want however in order to introduce a new liquidity pool when there's already one for that uh for that asset pair two things have to happen one you have to pledge more lumens than the previous uh reserve as pledged and two you have to have it like as at least as much liquidity in terms or the product has to be at least as as great in terms of the assets you put in there so this would allow people to change when everybody wanted to change but it would sort of make it a little bit sticky what a i get what you're getting at here but uh like a kind of just practical implementation type question before we talk about this on the merits it's just like um what about the case when you have pools that were like the uh the product is a different number like the invariant is a different number uh you know the curve invariant is some really complicated thing that's really gross to write down uh and so they're obviously comparable there would be some there would be some requirement that for any pool that we introduce but there needs to be a depth metric which is a number and where somehow we believe that in general deeper markets are better than shallower how would you  i guess like what would at like a high level what would an implementation of all of this kind of look like like in an abstract sense but like we need some new kinds of entries and stuff like what is it like how do you how do you say that you're voting for one of these pools like what does it mean for like if you're voting for a pool but the pool doesn't actually work yet what is what are how do all these things kind of work at a high level yeah i guess you have you have some number of uh let's say you have some number of um candidate pools and in order maybe in order to create a candidate pool you have to pledge sort of twice the base reserve that's pledged for the previous one or something so we can't get like an infinite number of these um and then for the candidate pools there's some amount of capital that's pledged and so if if one of the candidate pools suddenly gets more or more depth right there's some amount of capitalist pledge and if if at some point one of the candidate pools ends up with more depth than the existing pool then people would switch over so the basic assumption here is that like sort of 90 of the people participating in a liquidity pool would say hey like actually we want to go to a lower fee or something right and so um and so once everybody wants to do that they can make it happen but uh like you know a random person who's just trying to disrupt the existing market would have to like amass a lot of capital and essentially end up making a more liquid market in order to um in order to uh disrupt the existing market it's a kind of interesting idea i'd have to think about that a bit i like definitely have some concerns along the same line as somebody mentioned now i think eric mentioned about like this like ephemeral trust line type of thing you can imagine somebody putting a lot of putting their money where their mouth is in like a huge amount and then you know five ledgers later being like i just did that to screw you guys all up and then just pulling their money back on the other hand if what they did is provided people like really low fee transactions for five ledgers like is it so bad like they could have done the same thing by placing offers on the order book right it's a fair point so we only have five minutes left um and and i think that's fine because i think a lot of these questions can we can continue to sort of talk about them or to think about some of the suggestions that were raised and deal with them on the stellar debt mailing list there were two other topics that we didn't really get into uh one was compliance um and one was rounding do we want to take a second to talk about either of those right now would that be useful or is it is it too much to take on either one of those topics in the last four minutes uh it seems hard and for me i mean i'm like i'm very interested in talking about these but uh in detail it just seems like it'll be unsatisfying to get into them now okay that makes sense to me i mean i think then the the question is what what is what are the next steps after this meeting do we i feel like it is to continue the discussion on stellar death but are there other follow-up actions that need to happen in order to make that make that possible i'm still trying to understand whether we've narrowed down the scope of which pools can exist and uh which ones can't like for a given asset pair have we agreed we can only have one pool or could we have multiple pools with different kinds of curve for that asset pair for example like i would love to write that down well i think what we were talking about was that we i think they we agreed that there would be more than one pool per asset there um what we are talking about last was more about the governance that goes with introducing a new pool like you can do it in many ways the good news is that we don't necessarily have to solve that i think in this version because right now we're introducing only one one constant product and um i'm not sure we want to introduce in the first version the support for more than one rate right like we can basically for now like i think that's what capital e8 says or even capital e7 uh that is there's only one rate um and i'm it's probably fine for the very first version but uh it's interesting to think about how to to change that in the future right if you'd be willing david i'd be like very interested to see like a high-level write-up of what you were describing so i can think about that more deeply yeah maybe i can just draft something by email or something yeah that'd be fine it doesn't have to be super formal sure and i noticed for the future but there was the idea of a menu right that was sort of validator determined there was this idea of you can replace by better with some depth metric um were there any other contenders for ways to do this well that was the question in the first thing right that was don't even allow to have more than one right um yeah which which is a third option sure okay there's also the free-for-all option anarchy i love the anarchy every time i'm listening to this i'm like this is we're talking about anarchy or we're talking about like soviet style communism or we're talking about just like free market capitalism i feel like there's ideologies behind all these choices you know john's like there should only be one one kind of corn flake right i can go for like three kinds of corn flakes just to be fair cool yeah you want the you know you're on the special occasion it's your birthday conflict right man i hope you have some like something like flat uh pink blueberry pancakes on your birthday not cornflakes um i don't even know okay that's time uh thanks everybody and thanks everyone who's watching at home again uh this discussion will continue on the stellar dev google group uh which you can find a link to uh in the actual event description there's already a lot that's happened there and we will continue to have these discussions in these meetings to start to hammer out more of these proposals but again two proposals a lot of discussion many things that we covered today but many more things to cover um look there to see what's happening this conversation will happen both sort of asynchronously there and synchronously here in the future and we really appreciate everyone for being here thanks everyone",
      "keywords": [
        "pool",
        "thats",
        "theres",
        "pools",
        "dont",
        "which",
        "people",
        "order",
        "these",
        "actually",
        "market",
        "mean"
      ],
      "speakers": []
    },
    "2021-04-15-nfts-on-stellar.mdx": {
      "summary": "all right all right all right here we are finally the uh the stellar round table on uh on nft so we are going to talk about non-fungible tokens today i will admit it wasn't that long ago before i thought this had something to do with mushrooms or fungus i didn't know what a fungible or non-fungible token was that was definitely one of my most earliest google queries back when i was first getting introduced to this concept uh we've got we've got a a fun little discussion for the next hour or so we've got some uh fantastic guests on um i'll start with myself my name is tyler vanderhooven i'm the ecosystem evangelist at the stellar development foundation i spend my day writing documentation and doing workshops and building apps and understanding what the ecosystem what folks like these panelists here are up to day-to-day so i i think i have the best job but could be wrong uh if you all can go ahead and make sure you are unmuted and uh and we'll go ahead and go around this proverbial round table uh maybe steve if you want to uh if you want to go first a little bit about yourself how you got into stellar in uh what you're up to yeah absolutely cheers so uh my name's steve i'm the ceo uh at task um we've got involved with Stellar moore uh through the community fund uh we've been working with Stellar for two and a half years task is a is a system that allows organizations to uh connect and engage with their their teams gather information provide rewards and incentives through to teams and then take all that information and report back to investors and donors in the market in general you know that's predominantly what we do got some interesting aspects about how we believe nfts can be used which looking forward to getting into later and that's all from us that is me super fantastic really excited to have you on uh particularly for that less than traditional use case that we might think about when uh when we uh when we use that word nft uh fred how about you yeah um hi everyone and uh thanks for having me so uh and also i wanted to say anion gaseo j and all korean uh still up and watching at that time so um my name is federico i am the founder of lightmint i'm also the owner of teleport um so lightmint is a gaming platform basically uh connecting gamers to the crypto world uh with game asset ownership uh cross currency uh decentralized in-app purchases and also a lot of other features that leverage the stellar blockchain so just recently and it was alive with sam conner on monday we unveiled our nft and collectible marketplace on stellar and the marketplace basically was created to connect the dots between um between all our products to provide more synergies and it will accept any kind of nfts it will be available publicly within the next few days we are still fixing a few stuff and yeah i will talk about it a bit more later super yeah very excited to have you on board you've been around for a long time in the nft space super excited about that nft platform can't wait to start playing on that uh zach how about yourself stellar zack hello hi uh my name is zach i am the director of marketing solar development foundation which may make you wonder why am i here to talk about uh nfts on an ft roundtable my actual introduction to the space um was actually blockchain collectibles um pre like 2018 like 2017 2016 kind of stuff and uh it's been interesting to watch the evolution of that kind of thing and the evolution of digital ownership and i've got a lot of thoughts just generally just having explored this before my time at sdf uh and yeah i'm excited to hear what how we how you guys are implementing this stuff uh into your current solutions or use cases so yeah super yeah very excited uh zach and i have a fun little history of before either of us worked at sdf uh we were we were doing some stuff around color glyph that's how we were introduced uh not exactly nfts but still the idea of crypto gaming items and memeing the internet with strange and wonderful digital items um so for our first discussion topic i think it's good to lay a groundwork kind of create a foundation around definitions were you going to use the word nft a lot i think it's an acronym but the acronym maybe has grown a bit beyond just that or nfts have grown a bit beyond that fred i remember when you were talking with sam connor a couple days ago you you touched on this a bit that nfts is an acronym but it's grown beyond that a little bit so if you can if you can briefly touch on when somebody says nft or when you think about it what does that mean to you what does that mean to your users uh and how does that affect the way that you build uh build enlightenment or products supporting nfts yeah i mean so nft is essentially uh like yes strict definitions they are unique assets and that means they are not interchangeable but yes the way people use the term nfts these days is more to describe a wider range of uh non-fractionable assets right so so they are not necessarily unique and yes this definition fits better much better the the current use case of nfts which is uh essentially to provide proof of ownership for uh digital content uh within a decentralized world right so um so yeah that i think with the more and more decentralized uh and the more and more disengaged our digital platforms become the more nfcs are meaningful yeah i remember when uh because nfts for me obviously kind of meant that that acronym but then i saw an auction or a sale or something that was a one of 10 nft sale i'm like i feel like we're moving beyond what nfts actually are and they're starting to take on there's nothing wrong with a one of 10 sale of something but that's not what an nft the acronym is so maybe it's starting to move beyond that i don't know zack maybe you have some thoughts around um uh this concept of moving away from just an acronym to taking on more of a ideological uh ownership freedom there i mean i i i'll echo fred i mean 100 it's it's like digital ownership stuff early on i mean if you look at i mean outside of like colored coins and stuff but moving into like early ethereum collectibles all you had were to work with erc20 like contracts and you know my like the stuff we were working on were modified erc20 contracts that like tracked ownership um but they were like single like um not no decimal thing so like we were thinking about things like trading cards or like you know um rare like rare items and drops and video games or something like that like those things aren't unique in that you can like you'll have multiple mickey mantle cards in a baseball card pack but there's only so many that exist and so i think the acro acronym doesn't bother me because before there was nfts that that concept existed anyway and so if that if we're calling them nfps now as like the broader space term i don't think it matters if it's a one of one or a one of one thousand because the principle is the same it's not it's not like a currency or something else yeah yep yes that digital ownership that i think is so interesting and um that that being what people mean when they're talking about nfts is taking whatever we used to mean when it was physical ownership of something and finding a way to turn that into digital ownership where you can transfer and gain a lot of that same value where i'm holding the one thing or there's only ten people in the world that have this somehow you can replicate that digitally where you're not physically holding an item but that same um that same construct is is existing steve did you have something to add there you know what i mean i i agree with zach in that i don't for me if this allows generation of limited editions which really is the kind of one to ten or one to a thousand the the lovely thing about nfts is it's empowering artists again uh you know art from pictures to music and all sorts of creativity i think when you combine nfts with smart contracts we're going to see a wave back i mean if we had digitization came in you could copy and paste everything we saw file sharing if you look at the music industry the only musicians you can see now typically a huge artist because you make all your money going on the road i think with the nfts and smart contracts and the way that in which you can start to reward people we can go back to the old kind of cottage industry of someone's in their bedroom they're pumping out great tunes and they're making great art and there's a way of them having a revenue stream which respects them as an artist and they they don't need to be you know going on the road i think that will be really lovely to see because it's a kind of it's going back to the value of art before digitization kind of took that away i would even take a step further and say like you know the art stuff is really cool from a perspective of the artists are are basically the guinea pigs in this nft experiment they're out there and they're putting these pieces out and they don't know what the like long term how the format's gonna treat them like what they're gonna do but you know they're they're testing the medium but like they're there breaking grounds for i think things we talk about like there's projects in our ecosystem already that are thinking about like fractional analyzing things like real estate but if you're just like a normal like person and you're buying like a home you currently have to go through something like a title company and multiple parties and there's an evolution in the future where nfts like an artist could create a a beautiful piece and it could be basically the digital representation of the title for for a home so you could have thing like other things represented as nfts like a home title or something like that it does end up circumventing like processes right now that we have to have a title company because the title company is the source of truth for the owners like who owns the house or who owes the title to the house but like nfts you know that that that concept applies very nicely to to that and i think the artists are breaking the ground here but the digital ownership doesn't stop just with art and it doesn't just and i think fred's take like yeah i think you guys are obviously pushing beyond just the art stuff here as well yeah i mean to me one of the the main use case as well of nfts and basically being able to address the digital goods needs is the fact that if you look at the industry uh today you will see for example in the music industry spotify is a platform that controls most of the paycheck of all those artists and we have the same in the gaming industry with the app store the play store and with this the availability of those items outside of those platforms and on the centralized platforms on decentralized networks then we can really like break out from from this model there was a i just wanted to add with you know as you break out from that model as you look at things like um you know land ownership i mean for me i'm very interested in that aspect of actually taking the digital certificate having it mapping on to physical objects i think there's a lot of potential there but i i think when people say well what's the point a really easy way of summarizing it is you look at something like fake degrees any of us can go out on the internet we can we can go and grab a fake degree of of whatever and you know it's not the biggest problem we have in the world but in terms of fixing that problem with a nft which is you know simply tied to someone's domain with a tamil file with an issue uh you know an asset that's being issued now you've got your nft certificate um it's very you know and it's uh you know you've got a degree um that tumble file can be at harvard or whatever the education institute is you've got a you've got a yeah two second check and the the other bit that i think can become interesting is that can become automated uh background checks just get automated no one needs to actually go and have a look at anything and you could extend that further into a personality test so if you want to apply for a job i complete some personality tests i'm quite happy to open that up for someone to look at so i'm sending nfts which is you know here's proof of my degree here's some personality insights to see if i'm right for the team there's various other kind of digital uh aspects of my personality i could be putting forward and then you know you you almost start to get rid of hr and recruiting departments as that automates loads of systems there and it it's not the biggest problem in the world but i i think it's a i think there's interesting models of using nfts in that type of way yeah it's something that's been interesting even on uh stellar quest because we we have these different challenges that people do and they earn badges um and it'll be it'll be neat like you don't get those badges unless you've completed the challenges and so having those badges in a wallet that you can verifiably prove that you have ownership over is a stamp of i've gone through stellar quest series one or stellar quest series two and uh that that that means that i know something about stellar because i can't get these badges any other way uh that's that's really neat and so the nft is a vehicle um for for trust or a vehicle for uh assurance for an employer to say okay well we need somebody who knows stellar i hope they i hope they do oh look i can as long as you can prove ownership over this account that you say you own i i can have some level of assurance and seeing that model moved out where nfts are a vehicle rather than only a piece of art or something that you you own is as the item itself but more vehicle towards something else is kind of cool um so that was that was kind of our our initial introduction to what nfts are and how they're being used a bit in the real world today um and i think we've already touched on it a bit but if we could transition slightly um to uh there's so much hype and and buzz and noise around nfts if we boil some of that away for you all personally what what do you see the value of nfts um for the for the spheres in the realms you're in we've already started touching a little bit those those begin to show themselves in like product use cases and the things that you all are building um but if you can touch on those uh a bit more in depth of what if you if you scrape away the the noise what do you think will be left from from nfts in in five or six years uh maybe steve if you want to take that one first um well in five six years we will definitely be collecting nfts because i think as humans we just love collecting stuff so that you know that the collectible aspect and you know the getting away from the ridiculousness of buying pixels for for millions of dollars um there's gonna be a steady state of very happy adults and school kids collecting lots of interesting stuff because we just love doing it so i mean that you know that that's great um there's there's that certification aspect which i think is personally i find that interesting i think it can solve a lot of problems if you if you expand that certification concept in terms of who is doing what who you know who's doing what which can be at an individual level it can be a organizational level i think if you look at Stellar um or any blockchain similar to stellar in that mission which is get the finances through get you know get finance financial fluidity globally that's that's one problem you solve the next problem is is it going to the right person one of the key issues that we have is finances finances being misdirected i think if you combine the certification you can start to direct finances in the right way because you can start to get it through depending on particular certification and deciding that that's going to be the way that you would send finances through so i think reputation and building reputation uh certification can work in all sorts of ways that tie and automate financial distribution um i think the the other bit that i hope will be something we see in four five six years and it's certainly an area that i'm interested in personally is that if we look at the key issues we face uh globally the incentive schemes don't work and i remember a friend talking to me a couple of years ago talking about you know natural assets how can you take national natural assets and convert them into investment propositions if you could if we accept that human greed is is typically what drives things then could you harness natural assets in a way and turn them into investment vehicles where they give financial roi and there's then a desire to protect there's a desire to you know whether it's you know reforestation whatever it happens to be now if you take the nft and you can track that you can use that to track um physical assets natural assets you can then have investments into say forestry there's a the potential of you know as you as you purchase younger trees if there's evidence that they're growing that asset goes up in value naturally over time and if you're using it as an nft which is tradable um you have a natural asset which people can be trading and i think it's a it's an idea which i think if you get the economics right you could go out and start to solve some of these problems because a lot of the problems we have are just because the incentive schemes are totally wrong so i'm hoping that there's potential there long term for nfts in terms of natural asset investment yeah fantastic i i echo a lot of those sentiments personally myself uh fred how about you yeah so i mean there's a thing that says there's no bad publicity right but uh so i think somehow these stunts are also they are not the ultimate use case for nfts uh but uh you know we we can't stop the excitement of uh of this part of the human nature and then also uh you know nfts as a as a much wider uh appeal to mainstream than cryptocurrencies for example so i think all this is part of it we need to be careful uh to not engage into too much destructive reckless behavior but i think um somehow there's also good side into this uh this kind of hype and excitement around nfgs so uh yeah definitely not everyone is gonna sell uh the first five thousand days for 69 million and that's definitely not the use case but uh so the way i see nfts in the uh that contributing to to a better world is is essentially uh being able to to power uh decentralized world right that's what i was saying just before the the ability to to disengage completely from those platforms because currently let's say you are a game developer the only opportunity for we for for for you to to sell nfts uh or sell in-app purchases is to go on the app store on the play store on steam on all those centralized places which uh somehow they impose their rules and we saw for example with the games like fortnight uh what happened when the store suddenly decides to put you out uh and uh same for the for for the music industry so basically that's the way i see nft is powering a decentralized world of tomorrow yeah zach i mean i was just going to say like i'm going to take fred's thing and what steve says and then i'm going to say you said did not hype um but i feel like this is going to come off feeling a little bit like hype so the current like situation obviously all this like the the art trade stuff there's a really unique thing happening where you're seeing like boutique shops now open up that are like going to they're like labels i would say if you look at music industry or like art world or they're like an agent where they are going out and seeking people and they're like trying to set them up with like an nft strategy for releasing their stuff and that's going to go away at some point there will always be boutique stuff but like right now that's where the opportunity is but as people figure out like the strategies for this themselves it will grow and i think you know what i was writing about a lot back in 2016 and 2017 was like where are we going to go as far as like working in the future i wasn't expecting like pandemics and stuff but like we have this everybody virtually now has introduced the internet because everybody was at home for a year and so you know offices may not necessarily be the same kind of thing so you can have virtual neighborhoods you can have virtual workspaces you can have like this weird match between virtual reality and augmented reality you need to still have traditional things like like people still will live in houses people will still own cars there will still be like things that need to be bridged from the traditional world into this world but like i think what i've seen happen and even going back to fortnite like yesterday i think epic announced that they had gotten a billion dollars in funding for something called the metaverse which is going to be like brand disney world i guess like vr brand disney world it'll be like ready player one i see those kind of environments growing second life is a great best bet experiment for virtual real estate like they're all this stuff to fred's point about like decentralized world like that will come it may not come in the next year and it may not come out of this immediate cycle but people like are are definitely i think thinking about where to get to that point and what that means like am i going to be here in 25 years is this a five year thing a 25-year thing like how long will it take for adoption and what steps are required to make it easier but i think there's just infinite applications uh it just depends on how digital we decide to get as uh as a people yeah it's just to comment on that this is going off piste a little bit so pull me back if it's gone going too far but i think i think there's um when you look at collaborative currencies um if you look at collaborative currencies which then complement a traditional currency so you have communities that can use a currency between each other then again in my brain i see i always see the nft with a smart contract and being connected with some sort of inputs the outputs can be um certificates in the form of nfts and if you look at a collaborative currency where communities are working together and you're looking at reputation and understanding trust between the different stakeholders within the community then i think nfts can come in there if you look at that kind of absolutely digital future uh decentralized future then you know how do you how do you automate reputation and and um understanding the different players within that community i have a another thing that kind of goes off of that that i've been chewing on recently and that's on legality of nfd stuff and ownership like what when i'm purchasing an nfc now what does that actually guarantee me as far as rights i know you know if platform developers have to consider copyright and like cease and desist and you have to there will be tools to hide things from platforms um platforms that allow you to mint through them obviously will have terms of service that are like hey you can't do these things but because of how their these assets are represented on chain like just removing them from a platform doesn't remove them from existence and so i i'm wondering if there will be a big giant lawsuit one day where you have all these collectors basically suing for rights to use art that they've purchased and or vice versa and what those actually guarantee and i'm curious if like there's a whole industry for like terms of service that may need to come out of this like like what i suspect there will be a court case that resolves that if you put the terms as a service on your nft itself when you mint it then that will be the legal grounds but anything done without that i feel like is going to have a bad time but i don't know what do you guys think as far as like what what does owning an nft guarantee you fred i think for steve or tyler that's definitely something that for example in the ethereum world they started to work on that you can see uh dapper labs i think uh they started to specify a license called the nft license uh you can you can read it on nft license.org i think and it specifies a lot of things about this but yeah that's definitely a rule that nfts cannot address with the address ownership they don't address the copyright and you can obviously uh have a lot of votes they're  difficult to to address the question to the group what's the situation with gdp gdpr uh blockchain nfts because if you're let's say a blockchain provider and someone decides to put personal identification information and stellar would be in the memo field what happens whereas the where's the blame where's the right to be forgotten exercise that must have come up in conversation i'm i'm just intrigued to know  um well fred do you want to tackle it or i'm not i'm not expert on that yeah so yeah i'm not legal i'm not a legal counsel or anything like that so i don't know if i necessarily have have the greatest answer for you but i think you know something like we maintain like in through a service that may be something like mailchimp or like emma or whatever like some digital database of things that's easy to go into and remove because there's personal information identified with the service that has those tools but with a decent just distributed network like like bitcoin or like ethereum or even stellar like what's on the network part of using it like is you understand that that's what happened there's no it's immutable right so you're not like you can't undo this stuff uh so i don't i don't know i mean i feel like that's probably a whole different conversation of like what happens when personal data is on the blockchain um about kyc aml stuff to roll into it's a big question i i don't know i don't have an answer i think it's pretty yeah for sure i mean so much of the the liability there is on the entity that that put that data there but because i mean the the assumption is or the the way these laws have been written is the assumption that if you put it there you can also take it off and so the laws revolve around take it off you know remove it delete it but when that when that assumption is no longer true you're going to need different rules um and i don't know what those are going to be other than i think it's probably going to boil down to you need to be really careful what you put on a blockchain and that there's liability for you as as uh someone having access to the blockchain particularly less around tools like um Stellar which aren't designed for arbitrary data storage you can put arbitrary data on there but it's not designed for that but i would that my concern is more around things like ipfs and filecoin and our weave and these these blockchains that are specifically designed for arbitrary data storage um that becomes more that becomes a bigger issue where your purpose is to store arbitrary data and so the assumption will be i'm going to use this instead of my database but if you don't understand what you're putting on there is immutable um you might end up in trouble yeah you know what it leads me to believe though like i feel like any like based on no precedent or like court cases i can't pull anything up i'm just pulling this out of thin air but i feel like with you know with the internet everybody's just using browsers to interpret like things like you can have a hardcore user that like that's you know doing it through i don't know them like like they like how david uses the internet i think is the best way um but like you can also and and that's gonna be very specialized and people are aware that like there's a dark net as well like there's a or you can use onion like routers like whatever like but that's not the primary use so my assumption would be just like any platform it if a primary way to display this information like foreign is a great example because nfp like let's say an ethereum one that's just a smart contract there's not an image associated with that there's not you have to like interpret that through whatever thing and and like called ipfs so you're viewing it in a viewer or something like that most people you know if they can't see that or they can't view it they're never going to see it so i feel like that's good enough as long as it's for a majority i mean i don't think that's going to settle a court case you know saying oh that's good enough they can't see it but i think you know that's kind of how the internet's treated currently like you know what's you know as a user on the internet what acceptable use is to some degree i feel like maybe not maybe that's a wrong interpretation yeah it'll be it'll be interesting for sure to see and that that to me is one of the biggest outlying i wonder so for example the nft uh license that has been specified by uh by depot labs so they say that we can take an nft on a marketplace as long as we can prove the ownership uh that the ownership uh is is proper before putting it on the marketplace so i think the marketplace will have to do a lot of things in order to to to prevent being being under all sorts of things like that when when you look at the future i mean you're going again going back to you know zach said about that digitized future when it will happen of course the the lovely thing is when a system is in is invented which is what we have with with blockchain where it's released and it can't be stopped so with nfts i suppose there's that same question which is and and tyler you were talking about you know true decentralization of nfts the other day you know how did you how did you get to that state now you have you have these and we perhaps should uh talk about this which is you do have that you're talking about um your description was you're looking through a window you have to go to the shop look through the window and and look at your nft how do we decentralize that the second you decentralize it then the laws have to wrap around the nfts and not the other way around i mean do you want to could you go into the opportunity for decentralization and and creating that sort of system yeah so i mean the way that almost all if not all nft marketplaces work is is there is that interface that you're accessing your nfts through and there is some where you can you can take your nfts and view them on some other blockchain explorer or some other interface but there tends to be that i can only get at this through a browser through a particular website and particularly when you split the the the nft between the contract that allows you to sell it and the actual representation of that asset the the and the uh ipfs address or whatever it might be that actually holds the image or the art um you're you're beginning to to centralize you're at least beginning to silo the usability of that thing to where yeah if if your nft is inside ethereum you have to look through a window uh open c or look through the the foundation to to see your nft um but if they decide to pull the shade on that and you view that url and they've they've decided that nft is no good anymore you've essentially lost access to that um and so being by decentralizing that again yeah you're what you're doing is you kind of have to take the reason that they might pull the shade and address that before you ever mint it and almost put the the viewing mechanics or the access mechanics and bake that into the nft itself so whether that's the code to view the nft along with the actual art for the nft but all of the pieces for how this thing is represented and x access so not just the security but and not just the the trading of the thing but the actual access to the thing the way that you hold it and identify to those around you look at this thing that i own whatever that mechanic is that has to be part of the nft too so that access to it is is just as central to the thing itself so that you're able to show it but when you show it it's also still there it's so strange that these things are split because if i hold a baseball card all of that is contained in that baseball card but when we've transferred that digitally we've split these things up and siloed them to where each one can fail individually and now you're holding up a baseball card but there's no image on it or you're holding an image in your brain like no i can see it in my head but nobody else can access that picture by having the card that you're showing them it's it's weird to think about but that's that's the world that we've created when we've siloed all of these things we have to find ways to bring those things together um in my mind or else invariably you give it enough time these things are going to be siloed things are going to go away and all of the things that we're purchasing and accessing now are going to be so broken uh that they won't have the value that they have and there's going to be a lot of this sort of hype that goes way up none of it's going to work and it's going to leave that bad taste in everybody's mouth and we're going to have to slowly crawl back up um before we're able to to start innovating again how much does that fit with did Stellar want to fix that problem or does it conflict too much with being fast so there's obviously a big difference between the stellar development foundation and how we use stellar and how we build stellar but stellar itself is an open protocol that anyone can use for their purposes so it's if you approach seller and you think it can work for your purposes go for it i don't think it's something that sdf is going to work on where we're cross-border payments where um open access to the world's global financial system it's it's a different goal i think there are some crossovers particularly when you start to define what is value or what is a financial like what is that what does financial access actually mean what is finance those things i think begin to be answered differently when it's digital but when you look at stellar itself the the protocol in the network and how changes are made to the the ledger uh the cryptography behind it that works great for all kinds of use cases outside of this there are certainly ones that don't fit but um if you approach the network and and see that it works well for your use case there's nobody standing in line saying sorry yes it can't do that and i think i mean i think any of this stuff like even if sdf is not like we're not internally developing nft standards i think that you know we're having this conversation because some of you guys are and you know i think that it would be worthwhile to see a conform standard or two for this across the platform you know we've been we've been talking about it now since i started sdf and i'm like i've seen fred's ideas for like how he's doing it i've seen other people working on projects there's a couple of other marketplaces that have been launched simultaneously and it's just been interesting to see how the conversations that have happened over three four years are now starting to like that work is now dropping and it's really cool that it's dropping simultaneous to the like hype cycle because it's not like this like the work that fred for example has done is new it's not like he just spun this up because suddenly people sold stuff it's something that he's been doing for a long time and you know some of these other projects that are also issuing entities on stellar so i think a standard would be great like an ecosystem standard but i think you know it's going to require use cases which i guess is my other point is like i think a big thing we're seeing is a lot of people want to issue nfts on stellar because nfts are a big deal but if you look at like right now in the space and you'll see other networks and not name or bash any of them because i don't think there's anything wrong with it saying like you can issue stuff on ours here's here's the platform to do it i think you know people will try that stuff out but the nft collector the one that people are thinking of right now they're all in ethereum they all have and and i think the way that you really get people to use nfps is through use cases like lightmint is a great like you make the game the users just want to play the game if the nft is part of that experience you know they can learn about how that functions as they learn like that community and environment and ecosystem and platform and i think like actual use cases will bring people to networks and they'll get nfts through those use cases i think that just issuing an nft on stellar because you want to do an nft but you don't want to pay 70 dollars in gas on ethereum that makes logical sense but it's not going to attract the current like insanity that you're seeing uh in other like on ethereum around it does that make sense yeah i mean i wanted to get back uh just about the because the the way um on the storage uh first for nfts the way uh i chose to approach this problem with enlightenment is basically uh by not addressing this problem so essentially um i use uh what steve was pointing out uh the there's a step one specifications from stellar ecosystem a proposal standard that uh allows us to describe an asset through a normal file and that's the only thing that uh the lightweight market place we will basically care about so whether the item is stored on ipfs whether it's it's stored as a managed data uh inside the asset itself is not something that the marketplace will address basically uh as long as your item is described properly within the domain file then it will be displayed properly to users on the marketplace and uh i decided to use that because at the end it's currently a standard that is used uh for Stellar for describing all assets from stellar and this way uh i don't uh make assumptions about how an event will stand out will come later on for uh for for storing the data because there's also another thing that i was wondering and um is yes uh it's nice to have access to the art in a kind of a permanent way but is it really where the value is because if you look at for example the way uh the first five thousand days has been sold for 69 million it doesn't really matter if someone gets uh and you can actually get the high resolution copy on ipfs for that app it's it's not what carries the value of the item what here is the value is the fact that someone has the signature to sign a transfer uh transaction to to pass ownership of that uh of that up and even if tomorrow the only trace remaining of that art is um like five by five pixel resolution uh of of it i think the value will still be there because someone has uh the ability to sign the the transaction i would agree with you um on that point to to most degree i think you know newcomers the space they want the art and so when people pull things like change the art on open sea like that becomes a pseudo-news article because people are like well it's gone but if you look and listen to the you know the people who are doing art with bitcoin um like colored coins or rare pepes or like if you listen the the early ethereum like style nft things that have been converted there's arguments about like are you purchasing the ledger history the signature like the ownership here if you can track the origin of like the the first press then that and like it goes back all the way so like even if it started um you know on one chain and ended up somewhere as long as you can trace all that back i think i think there was an article on italic recently published around similar idea it's like that's that's what you're purchasing and i think to fred's point about art is like art people are minting these pieces as art currently there's no reason that that people piece can't be like a legendary sword in somebody else's game and in that regard that aspect that asset is going to be represented differently it exists on chains so if you hold in your wallet you can like you know it's proof your ownership so they can pull that from you know whether that's albedo or metamask or whatever you're using from like these things or however the game interacts with these assets so just because it was minted as art and there's an ipfs that goes along with it doesn't mean that every application of that asset that exists has to be art related i agree 100 and i think that's a really important distinction to make particularly for the future of of nfts even in just identifying what are people actually buying what are they actually getting what's the legally defensible item that you're arguing over what's the thing that's valuable and it's interesting because the representation like traditionally in our brains when we think about art we think about what are you getting it is the music it is the picture it is but because it's so often tied to the medium by which you got it it's hard to separate those things out but when you actually look at what are you selling like if i go and i steal that image and and mint it myself outside of there being copyright issues it's not valuable because i'm not the artist and i can you can prove that i'm not the artist i didn't actually make that thing um and that's where you get an art fraud now is you're not trying to find which one looks good you're trying to find this artist was famous this artist was the real deal and he painted something we need to find that one because he actually touched it and it's less the the item and more the assurance that the person behind it the the the certification that it's legitimate um that's what the blockchain gives you not not the the connection to the pixels or the the sound waves or whatever scratches on the hard drive might be like the thing that's valuable is is the that are that origination the certificate um and that's i think we need to keep that in mind particularly because i think it's extremely interesting that art might change that as something gets purchased it's it's programmed to change in a certain way over time and we even start to do represent like if you had you know uh this 69 million dollar nft but you could somehow load it up into a game maybe it becomes this weird meme thing that no matter what game you're in you can load in this nft and it gives you superpowers like that's really interesting that's something you can't do with physical art um that would be fascinating when you start to approach what can we do with this medium that's innovation that's something that we can we can only do because it's digital there's some really fascinating things that i think we need to start exploring by moving away from assuming that people are buying pixels and instead assuming what's true is they're buying certification they're buying something on the blockchain they're buying their stamp their their part of history um in the in the chain of whatever this thing originally was because it's actually quite simple when you get down to what is something value like what makes something valuable it's just what is someone else willing to pay for it and so long as you can make that a large group or large amounts of money uh the assurance there is on the blockchain and that is good that that does work that's already been proven the attaching images to that that's that's difficult and there's legal issues around there but if if you can uh rather just have this chain of things this chain of events and transactions and assurance of ownership particularly originally which you can do now i think you've got something that you can really begin to innovate on cool super sorry are you off to you tyler no go ahead well i was just going to come up but there was a just a model which um i had a conversation with someone the other day it was a interesting brainstorm yet it it's combining smart contracts with nfts is using an nft to um to um represent some physical uh in this case let's take a tree so the person i was speaking to was saying that they wanted to plant trees and they hate the these models where you you know a dollar a tree the tree gets planted it gets ripped up six months later the the question is if you want to plant trees um you need them to be there five ten years to get the benefit so that's an asset which is which is developing over time it has more value the older it gets typically and so if you take a smart contract and you tie it to an nft the nft is tied to this case let's just take a tree it's probably going to be a number of trees together and in the smart contract you say to the donor okay you're going to invest 10 into this smart contract and when you do that you're going to get the nft which represents the tree the smart contract then is where there's checks going on to look at that asset over time and put inputs into the smart contract saying hey tree's still here everything's good it's being watered and on that basis you've had the ten dollars going to the pool say there was a dollar pushed out at the beginning to plant the tree a year later you have a couple more dollars goes and it's going through the community that's looking after these trees so you can use a smart contract combined with an nft um and if the tree goes you can burn the nft um you have a way of of relating um and having a long-term investment around natural assets uh i think you know my the way i explain it is probably not not that clear but i think there's a a useful way of investors being able to put money into a smart contract nft representation and a long-term view i don't know what you think if that makes any sense at all it's super interesting and i think that the issue for me becomes around how do you make assurances between something that's strictly digital and programmed and something that's very much not like what's to there there has to be those reward mechanisms kind of like what you mentioned that like what's to keep me from taking an axe and chopping down the trees so that i can plant another one and mint more tokens and get more money like somehow make it monetarily worth keeping that tree alive and i think some of the problem is there but i also think there's opportunities in in nft spaces or even just tokenization spaces where you can get retail investors involved where it's not big corporations but individuals have a tree token and somehow there is that ability to to keep tabs on what's happening though uh implement economic models that make it more worth it to to keep these things as as long-term investments or um opportunities for for foresters to uh ensure that they're they're doing the right thing that there's monetary incentives for that because right now so much of that is flipped where as long as it's more worth it for me to do the wrong thing uh will i will i choose to do that more often so we have to flip those economic models to where um either either there are smart contracts or or legal contracts in place that disallow that or disincentivize that or more preferably there are economic models in place that are more worth it for you to do the right thing that you actually earn more money that way and those those are tricky but i think one of the reasons they're tricky is because there's so many middlemen and so much of these investment opportunities are locked out to little bits of money who don't have large they're not trying to make a million dollars off of an investment they're trying to make a small moral decision of i want to do some good in the world and it doesn't matter if my one dollar makes two dollars in five years i just want to do some good and and have some assurance that the good i want to do will actually happen um i think i think blockchain has a lot of potential to open up opportunities for that for just by the nature of removing so many middlemen because rather than having human contracts in place you have computers again it's it's math instead of morals that are addressing these things and i i think that's that's a powerful tool that we that we're only really starting to scratch the surface on how that moves just beyond kind of converting traditional finance to digital finance there's some really interesting opportunities there but they definitely remain to be seen how successful those can be over the next few years but innovation in that space is definitely needed and i think it's it's valuable to look at that um not to throw a loop here uh because i i wonder if there's some questions uh available but i also had a quick question for fred um regarding his platform that i got a sneak peek of the other day um because i think you know similar to how well i don't know let me let me just ask the question fred for your platform like you you're sharing that you had some like cross-chain kind of compatibility and that you it looks like light mint marketplace you become an anchor essentially right like you are an nft anchor for ethereum ones with that i mean uh essentially during the live i wanted to show that artists let's say you had issued some assets on uh some nfcs on ethereum so the goal was to show how you can uh benefit from stellar to alleviate all the fees and then also still sell your heart you know because what what people may not realize is that stellar is actually a lot of tools for working with nft so for example you can use path payments in order to have uh not just cross-asset exchanges but you can also have bid and offer discoveries which means that basically it's a very powerful tool to connect buyers and sellers and if you are an artist on ethereum then uh stellar is a very um it will become a very valuable platform for for the goal is to make it an alternative platform for those sellers in order to allocate the fees there's also uh another things that can run on ds decks that people may not realize uh it's for example you can use a time-bound uh transaction in order to settle all the bidders and the participant in an auction at the end of an auction after a specific predetermined period and you can also use you can you can use the path payments tricks and at the end of the auction also to implement a reserve price and things like that so stellar is extremely versatile as a protocol in order to implement all those and people need to realize that it could become a very good alternative to to those networks that at the moment have a big problem with speed do you see compatibility with other um networks as well outside of ethereum potentially no i did not investigate uh more uh but yeah i think uh the yeah their goal is really to make it like that if you if you are an artist on ethereum then i i want to make it that you can try stellars and alternative and benefit sweet i think that clarifies my uh my question on that all right well this is i don't know if anybody has any last minute otherwise we're going to open we have a couple of questions from our engaged and interested audience which i would like to pose to post to the group um so maybe for this would be an interesting one uh any plans and this this is kind of a little bit towards uh uh sdf or at least the the stellar side of things but there are there any plans to make non-fractionable an option in the tamil file it'd be great to issue whole coin nfts instead of 0.00001 nfts so how are you addressing that how do you think we should address that there's a there's sep work to be done here there's also smart contract stuff that can be done here um some of it's just display mechanics right on the platform that you're displaying your nft on because you don't at the end of the day it's it's a display thing but i don't know fred how are you addressing the zero zero zero zero zero one issue yeah so this is uh like this has been a hurdle uh for for developing the the marketplace because first it's not very friendly to users but uh there's also some limitations on these dates because of the 32 limit so there's you can't price easily an item over 214.75 of any unit so in order to solve that for example what we do we use a intermediate market so in instead of posting just one big offer we post two and we issue an asset and price this asset the problem is that it creates cryptic orders on these decks so i think there's definitely a need for for addressing this in order to make it clearer to prevent the the creation of those buffering assets and yeah that could be um i'm not sure my favorite ways would be to go with uh lifting the limit of it in 32 on the on the s decks that would be my favorite way the most natural and then also in terms of being able to create non-fractionable assets or fractionable at very specific decimal place then that would be that would be the best the best foster yeah there's definitely a lot of different ways to address the issue there's a lot of reasons that they are issues whether it's selling issues or selling issues on the decks or just visibility issues where it's weird to see that much fraction but i will say you don't you can issue particularly because we have functionality around auth required flags um you could issue one of something and then if you built a smart contract uh through either the stellar turret network or even just a centralized service that allows people to sell buy and sell that asset you would um basically allow that that sell that sale of the nft only through uh this one like endpoint where it opened up uh authorization to whoever was purchasing it sold that asset in an atomic swap on with the operations and then closed access so you could you can absolutely do this already it's just not incredibly natural um but it can absolutely work i'm particularly interested in the atomic swap stuff because that removes so much of the math issue where you can you can sell 0.0000 whatever for an infinite amount of the the counter asset or the max amount of the counter asset and not run into any math issues it's just that how do you create that transaction in a decentralized way where there isn't a third party that boy i sure hope they don't go down or i can't move my asset so work in that arena is something that's super interesting and to me and stuff something that i'm i'm particularly focused on um good any any follow-up questions around that otherwise we'll move on so here's one i want to buy a house with a stranger this has been historically a horrible idea is there any way xlm or nfts can alleviate all of the problems with co-ownership of homes or real estate i don't know steve zack thoughts around co-ownership with strangers on houses i'll let steve go first i'm happy to as well i was gonna say after you but i the short answer to the question is no i think i think you still fall out the same ways i mean it's uh there's going to be a contract of some sort between you but maybe i'm being limited in my thinking what do you think i think that nfts can solve a lot of issues with traditional real estate i think if you but i think one of the things and this is a spiel that i'm working on so i'm going to test it here it's like with all these other networks you know decentralized distributed trustless systems or that's the highlight right so like bitcoin is pressless period of your payments ethereum is stressless like applica decentralized applications and you can you know build on topic for financial stuff stellar is interesting because there's this inherent requirement for trust on the network because it tethers not only digital assets but also real world assets and so if you take that kind of same principle to nfts like you know there will be things that exist in real life that can exist in both worlds but you will still need to have a trust in like whatever that custodial power is so when i'm talking about nft's like circumvent the title company you know ideally you know that the title companies would anchor these assets and just adapt to the space instead of be relegated out it creates new economies for them they could have better processes maybe that lowers the cost for even doing the signing table stuff instead of getting everybody in a room to sign like they can just click a button and digitally transfer that and so while you still have a record of the physical thing in their vault you now also have a digital representation that anyone can view on ledger um and i think that you have to have trust when it comes to real world assets and there will always be have to be a facilitator for that but i don't think that means that you can't disrupt systems like housing now with fractionalized stuff through the questions point you already have projects on stellar that are are doing that kind of stuff where it's like an apartment like share like you can fractionalize that and that's been a big use case that i've seen um there's yeah i think a small handful of companies doing some cool stuff with that already on the network so that's that use case is proof like that that can work but that's a different that's a different model completely than like something like just i want to give self tyler my house here's the title okay bye like it can't do that we can do it with cars for some reason though but the government still verifies that here in the united states yeah there's reinvention of systems which is great i suppose i interpreted the question of uh will i better live with the person that would be using fft oh yeah i may have misinterpreted it as well then yeah um yeah depends on the uh the use case here we are we you know gonna live in the house or are we just using as an investment because investment i think there is opportunity but if you're just buying with a random stranger on craigslist that's uh i don't know they're still humans um well sorry just just to comment on that tyler it that is it gets really interesting because if you look at ownership if you if you do if you take what zach says and you you create a system where the house is is kind of containerized within nft or nf it'll have to be a number of nfts and if you can then easily um split ownership you know you can then take uh you know a 50th share of a house have that as part of your investment portfolio have everything transparent that you know that's that's interesting and from a portfolio point of view i think so too particularly when you start again opening up to retail investors or this idea of patronage where um you tokenize uh a restaurant or something and uh people who who like that restaurant or when you look at art it's not so much an investment that i hope to resell this thing i just want to support the people that i love and the art that they do and the things that they make um there's a huge target for that and it's not it's not driven by greed necessarily at least it's not monetary greed it's just i like this thing i want to see it exist and thrive and um there's a whole market out there that i think we're only beginning to really start to tap into that has nothing to do with me getting rich and more me enriching the the artists and creators that i love um so we need to we need to close out here this has been this has been a fantastic conversation one last question here for those who are not developers or people that uh uh maybe more on the art side of things this would be a good question perhaps for uh for fred how can they get involved how can we start issuing art and music and um begin to take advantage of uh marketplaces like what you're what you're building fred when when are we going to get access what uh what's the plan for the future for non-developers what's the what's the path forward so it's going to be live very soon uh uh just fixing the last details especially about trust stress testing and uh and security because we have created some some kind of uh like contracts uh with pre-order transactions just want to make sure that there's no issues with this and this is going to be live on lightning.com on the website you will have tools to create and without any programming required to create to issue your asset on stellar so just need to specify the art and if you want to you can store it on ipfs you can install it somewhere else and also uh we are also going to run an anchor uh for you so there will be a review uh we but uh yeah you will be able to issue your assets without any technical knowledge fantastic very excited well thank you any uh closing closing thoughts comments i mean i i only have two closing things santa won the first to bounce off of fred i think there's um i think keep an eye out for that i'm eager to experiment with it after seeing it there's also others i think around the ecosystem already that you can play around with that do it like ever trying i think account based um nfps and i don't have the urls off the top of my head but i'm sure you can like dig around a little bit if you're part of the stellar community what i would say to do is that if you'd want to see and if more nft projects on stellar get involved in the conversations on the dev group about it and like start talking to other people that are developing nft based projects so some standards can get uniform across so these different things can begin to interpret the same like different assets that are published the same way that would be my closing statement yep yep absolutely stellar global find us on discord and uh start uh start the discussion that's a great place to land i don't know if uh anybody wants to call out where they can keep up with you and the work that you're doing and then we will we will close out steve if you want to start where people can keep track of the work that you're doing yeah absolutely uh well uh come and say hello at task.i o my uh like to be on on twitter i'm uh at steve walker without an e at the end so steve w-a-i-l-k-r and uh great to connect and really appreciate you inviting me in today it's it's been a great experience thank you super yup it's been great to have you fred and sam uh so if you want to uh connect with the project you can come and join our community we are we have a discord community over a thousand members lightmint.js you can type in your browser and you will get the invite link and then i'm there almost every day to talk so if you have any questions just don't hesitate and zach where can people pester you you guys can tag at stellar.org on twitter and i will see every single thing that you have ever pasted uh there uh multiple times and yeah and then also you know the regular places uh cubase all right super and once again i'm tyler vanderhofen you can find me t-y-v-d-h on twitter that's the best place to find me uh i also do hang out on discord occasionally this has been a ton of fun thank you all for joining uh we will catch you later hopefully uh conversing around art thank you very much see you all thank",
      "keywords": [
        "theres",
        "thats",
        "nfts",
        "youre",
        "things",
        "people",
        "something",
        "dont",
        "stellar",
        "thing",
        "these",
        "which"
      ],
      "speakers": []
    },
    "2020-10-29-custodial-vs-non-custodial.mdx": {
      "summary": "the chat yeah we're live all right hello hi everyone um it's a pleasure to have you with us today i uh my name is lisa nester i am a senior strategist at the stellar development foundation and you are joining us for our third roundtable discussion second topic that we've ever covered and we are very happy to have you with us today so um i guess to get started i'd love to kind of frame again the purpose of these roundtable discussions um hopefully we're going to have a lot of audience members and viewers joining in and we'd love to invite you into the discussion as well and then i'll jump into what the topic for today is so in general at the stellar development foundation you know we want to make sure that we're facilitating uh broad inclusive ecosystem driven discussion around the types of tools that the stuller ecosystem needs to continue to grow on and have successful use cases and businesses utilizing stuller and so in that regard we've started these enterprise roundtable discussions to invite key enterprises within the stellar ecosystem to sit down at a table with various members of the seller development foundation to discuss topics that are really timely and important for the growth of the ecosystem right now and as i've mentioned we also live stream these events and have a q a box for any viewers so that we really can do our best to include all of the voices in the ecosystem so um if you're uh watching us and you have comments or questions as we go through this discussion please drop them in the chat box and we'll do our best to respond and include those perspectives so for the discussion today we're going to be talking about custodial versus non-custodial applications in the stellar ecosystem and so um why is this an important topic well the truth is that if you're building a product on stuller or any blockchain network really one of the first things you have to figure out is how to manage your user secret keys there are two fundamentally different approaches that are seemingly practically and philosophically at odds custodial solution keeps keep keys on behalf of users and non-custodial solutions put keys into users hands and i think most of us would agree that during the early days of stuller and also within the broader crypto landscape non-custodial wallet designs were kind of by and far the default um in my opinion this is because the novelty of kind of being your own bank and having direct access to digital assets drove forward applications um and wallets that were primarily not custodial nature however as the stellar ecosystem has grown over the last few years we have seen more custodial design approaches by enterprise and our ecosystem so that's why we're opening up this discussion today because we've seen a lot of growth in applications on stuller that are getting more and more users we think it's a great time to check in um on how wallets are currently set up experiences people are having and how they're thinking about moving forward and then also we have two at least two kind of specific technical developments within the stellar ecosystem um that are worth checking in on as they're related to the specific topic at hand so one is cap 27 so cap 27 is uh allows first class multi multiplex accounts um this was included in protocol 13 and it basically allows services to map a single seller account to multiple users and it could make custodial solutions a lot easier to build on the other hand we also have sep 30 which is a recovery signer and this defines an api that enables a user to regain access to a stellar account after losing a private key without providing a third party control of the account we're actually really lucky to have um the key architect for step 30 lee from the sdf joining us today and this solution in particular is something that could make non-custodial solutions a bit easier so um kind of checking in on where things are at and also thinking about these two new technical developments this is going to be the focus of our discussion today on custodial versus non-custodial solutions um so with that i would love to get started and um i would love to start by having our fantastic guests join us i will call you out just because we're on screen and not in person so if i can invite marco to stardust hello um thanks for having us here my name is marco i am uh one of the co-founders at saldo mx and anchor service for the mexican peso wonderful thanks marco all right how about meinhard next yes so yeah my name is mayanhard and i'm the ceo and founder of satoshi pay and recently we launched d transfer which is a b2b cross-border money transfer service and that's kind of the main focus of what we're doing right now awesome and actually for god i said that i was going to ask a special surprise question so we'll come back to you marco and this goes straight to you mine hard any new quarantine hobbies that you've picked up over the last nine months we'll say 20 20 new hobbies not strictly your hobby but um i meditate every day so that's going to be something i picked up okay this time yeah awesome marco well this is exactly i mean not a hobby either but uh i've been like learning a lot of cooking months so yeah and i enjoy it so happy hopefully other people are enjoying it too that's awesome that's great cool and then i will turn it over to you christian yes thanks for having me um i'm christian the cto and co-founder of d-stock so we do tokenized securities such as apple and tesla and make them tradeable on the decks and yeah we're live since i think not two or three months and um have looked deep into custodial solutions quite late great and any quarantine hobbies that you picked up not really hobbies actually so actually the thing is in germany there was a lockdown of schools as well so i was like after doing a lot of cryptographic math in the last year i was doing a lot of primary school mars this year when i was had to teach my daughter so that has become my hobby that's fair enough that's good um all right and so next i'll hand it over to justin from the sdf hi i'm justin head of ecosystem at the stellar development foundation excited to be here um obviously well my team uh we care a lot about what the ecosystem is doing and whenever there are improvements or changes part of what we try to find out is whether they work for the ecosystem and also how to get them out there so that everybody's using them in a way that makes things interoperable so very interested to hear people's feedback my quarantine hobby so far is uh asbestos remediation that's an important hobby i hope everyone everyone checks it out any homeowner should make sure to develop that hobby i live in an old house and it turns out there was a lot of asbestos and okay that just becomes a consuming thing it can yeah absolutely okay and then last but not least uh lee yeah hi i'm i'm uh liam khalik i'm a software engineer at the stellar development foundation um and i contribute to um uh sets like sub 30 septem and yeah i'm just really interested in custodial and non-custodial solutions and how we make them interoperable well sounds like you're in the right place lee uh but you can you don't get away without letting us know if you have any quarantine hobbies as well uh similar similar similar to christian definitely became a teacher as well okay those are skills that will pay off though i'm sure so that's great um i myself picked up skateboarding and this thing called a rip stick a little bit that's kind of like a cool that was you know a good way to when maybe there's no commute it was a nice way to spend the afternoons after work so okay great well um i would love to dive in um i guess straight into the meat of it which is um i'd love to hear what each of you are doing for your current custodial strategy with estoc and saldo and satoshi bay and um you know maybe a little bit about why you chose that approach and how you're thinking about things now moving forward so minehart perhaps we'll start with you sure um so at satoshi bay we essentially have three major services one is the micro payment service that we're known for micropayment for digital content then there's obviously the solar wallet open source stellar wallet and then recently there's d transfer and all of all of them use a wallet solution that's self-custodial and i'm saying self-control here because internally we use that word instead of non-custodial because we think non-custodial is a bit misleading because there is a custodian which is yourself and um so we chose to be self-custodial um essentially just to have everything be software and all the trust is in software and not in any external party not even us this helps us to move further or to release products to the market much quicker and also um has removed a huge overhead in potential regulation or regulatory regulatory requirements that we have to fulfill so we can just push out the software and sort of have people manage their own private keys and therefore being really just a software provider in that sense um and that being said so for d transfer we recently also released a self custodial resolution on monday actually to production and um here we really give users the full control over the funds and also the reason again is a regulatory one however in the future we plan to give users a choice maybe that they can either have a custodial solution by us or by some other external the custodial party that we partner with or even combine both approaches that's super interesting i mean is that something that would be a relatively easy opt-in decision to kind of automate from a back-end perspective or would these need to be two totally separate um kind of infrastructure solutions so yeah so the combination would be very separate or not very but a pretty separate um legal uh let's say connections that we have with our users and also technically it would be quite different yeah so that's also where the different caps and steps come into play each on their side so it's going to be um quite some development work and also some some let's say legal ground work that we have to lay first what is motivating you to consider adding this second solution where you provide custody um mainly user experience because a lot of the customers we have are not familiar with this sort of power that self has so also the power to lose your money essentially and um that is something we want to maybe give users the choice if they you know want to be in full control or if they uh trust us with a certain amount of of their money or even all of their money um like a more like a bank-like service it's also uh right now we didn't find a custody partner yet and also we're not regulated in that way so it's uh we can't actually legally launch a self or sorry a custodial solution at this point but we can launch uh the self custodial and that's why we move forward with that with that we can now handle bigger transactions as well um as much as there's digits and there's let's say a stellar code we can we can add like even very large amounts if we want that's great um i really want to dive into some of those points more specifically around you know the usability side of things and i'm also kind of curious to hear for the users that you think would want a non-custodial solution kind of what is a driver or motivator there as well um but maybe let's go ahead and jump to marco to get a little bit more of our landscape about where we're all currently or where you're currently sitting yeah thanks um well um philosophically i'm personally very aligned with the self-custody uh movement that you know cryptocurrency has started and i don't see for example in in single asset blockchain such as bitcoin the really the need of of thinking through like custodial solutions but however i i've i've seen stellar since the very beginning seeing and realizing the market opportunity of representing real-world assets on on on this public network and allow exchanges and and transfers and that requires a lot of uh companies like ours to that are regulated entities uh capable of of holding value for on the behalf of their users to participate and the needs actually that these companies have um is is they're very different because uh like they want to leverage the this ability to hold people's funds and and be able to to like improve usability as much as possible and remove any any friction that can be created by by the self-custody approach which we all know very well um and i think what what we've uh seen is under development especially you know from from from the ecosystem of standards that can help um expand uh those custodial uh solutions uh and and and i think that's something that uh we should think through uh more and focus because uh the same way that in cryptocurrency uh has has been like expanding thanks in big part to exchanges which are custodial solutions i think that it at the end of the day it will be extremely beneficial for all if uh more custodial solutions are able to to adopt uh the the kind of the stellar protocol in in in a way that makes sense for them and in that way um increase the use of of the whole network and and benefit including like those um players that are that are using uh self-custody solutions yeah i mean i think that this is you know it's um i think there's kind of a philosophical point of tension here where you know i think many of the people within the stellar community really like the financial sovereignty that blockchain can provide but there's also typically a deep desire to create impact to use a platform like stellar to provide more access to financial products and services for everyone right and so how do we do that in really simple ways or how do we do that in ways that work across user types outside of just um people who uh really understand cryptocurrency so um but marco can you help clarify um how does saldo actually work how are you set up right now yeah so we we as an anchor support like both um like approaches so if someone wants to um you know utilize our services through a non-custodial solution like lobster they can go ahead and do it but we're also uh maintaining uh a service that it's called smx that it's uh our custodial solution that we believe it's really important for for for the business development of of our company so that basically is a very easy way to to use a wallet that allows especially mexicans who are in in the us working hard and sending money over to hold um a little bit of mexican pesos in in in a digital way and and that replaces the need to go and cross the border and open a bank account which is almost impossible for for the majority of them so like we are uh really focusing on this community which is not tech savvy he's not a part of the crypto community at all and and and we've been like super motivated um from from what we've seen and and and and this is a community that actually could not care less about like the self sovereign um aspect of crypto but they just want like the task to be done and so they we've been like developing these with these people in mind and and that's uh for our company a big focus right now and and and and we also want to make it uh compatible with with any other um stellar-based solution but in our in in in our approach this is a fully custodial uh way of doing the of using our anchor gotcha and it sounds like you already have some thoughts on where there could be more support within the stellar ecosystem for being able to kind of launch these types of products yeah i i think that you know they're already there a lot of uh interesting discussions like the like the moxed uh like multiplexed accounts that you mentioned but uh probably we yeah we and i'm sure we will talk more about this uh later on but i think that it's uh it's in general very interesting just to kind of like uh see what the users are doing and and and and just like uh see that basically the entire world it's it's it's gonna take a long time for for for the majority of people to adopt um like the self-custody tools out there and i think that uh we should like be kind of like aware that there's a path towards that kind of like decentralization and in the meantime it's really important to serve uh the people that um they want to be served in a in a specific way and and for us like we are at a stage in which is really important to to provide a custodial and easy to use solutions like like this great yeah and i think we definitely will dive into some of these various things like multiplexed accounts more so great thank you so much marco and um christian i know you guys have had an interesting um journey with these talks so we'd love to hear about uh what you guys are using how you set things up and how you're thinking about the future yeah i already have a lot of points i want to touch on so um yeah maybe i can start with um there are actually two different ways how you or multiple ways actually how you can use these stock technologies so first of all there's an api layer which basically everyone can use it uses stellar standards and people can build products on top of it and for that one we actually don't have any opinion on what the user how the user protects his key his or her keys so we just basically verify the user and where he's coming from if it's not like a terrorist something like that and then they can use their account to trade our assets but um we as well that's our actually main product do we have a mobile app and because countries we serve emerging markets there's a mobile first approach and this app is actually not targeting crypto users so if you want to use uh if you're a stellar heavy user and you want to use these stock assets you can use for example lobster wallet or something like that but for already non-crypto users who are new to investing and um haven't had touch points at all with crypto in the past it's actually quite quite of a hard concept to grasp to create a private key so like currently in our onboarding process which is self custodial i'm going to start to use this word as well it's an xd minor um the people actually in the onboarding process have to create a private key and we see actually some some kind of a drop-off rate right on that so it's like people have a hard time doing that so um i understand that they're a bit scared maybe they don't understand it and things like that so that that's a problem actually to us and i think to to everyone who wants to build end user product that's not just um targeting early adopted adopters and um the tricky part on this one is like in the very heart of d stock is that d stock itself does not hold customer customers funds so that's that's the basic idea how how we can actually pull off the entire business and that's true for for most of of crypto companies i guess that they don't hold customers funds and are therefore um eligible to cut off a lot of middlemen that are normally required in financial transactions and um yeah so basically if we want to want to go away from that and we're actually planning to do that so we need to we want to find a solution that makes it easier for undo this we have to go to some way that's not only self-custodial and i'm not saying uh well let me phrase it differently the first thing that we need to define or that we have to talk about is what actually does custodian what what does the custodial solution mean in this case and um this definition isn't actually as clear as i would as one would guess so we're always talking about okay they're self solving their self-custodial solutions and custodial solutions but the definition of custodial is quite a bit more complex i've read it to the bit for example the barfin which is a german equivalent roughly the german equivalent to the icc in america defines custody as someone who's holding a funds off on behalf of other people is able to transfer them make payments with that and all this kind of stuff and all holds a private key that's uh eligible to do that and for example in step 30 that's where you say okay we're splitting off weights between third parties that need to jointly um recover a key for user that's not really that definition so it's not really clear that's actually a custodial solution that would require regulations so like by the very definition of financial regulators it may not be but it's actually not that clear because it's just basically new land so nobody has actually challenged that maybe the regulators weren't even aware that their weighted keys things like that says the entire entire field is it's not as easy as it gets so for us it's like very crucial to find a solution where we say okay um people will be able to recover the key but i wouldn't call that a custodian custodial solution because the people does do not hold the funds of the user in custody they're not able to uh to transfer them doing uh stuff with that and more importantly they are not able to um um yeah then they don't have to do insurance and things like that for it so yeah that's that's the basic thing i'll sing around it so customian solutions are non-custodials who should be it's not the only thing in the real midst as well just mainly for us about key recovery that we want to try to solve that's great i mean i guess i'm curious do you uh mine heart or marco have kind of like a similar opinion or reaction extremely relevant and interesting because uh for example i think that uh for you know for a lot of regulators uh the fact that a user of of a regulated entity actually goes and does something and and loses the private key is not sufficient like for the regulator to to just be fined the the legal obligation you know that that the company uh has still is is is a valid payment obligation that uh the company needs to honor so i think it's it's not sufficient just to uh you know like it's it's it's like the key management will not uh remove or will not make go away that uh legal um kind of like obligation that uh some custodial companies have and and that it's it's it's something that it's very like valid across like all the kind of like real world assets including uh currencies and i think uh you know like at that point like you realize that somehow for example if if a user of of our anchor loses like the private key and you still see the funds you at least need to show that you have a process to be able to to in a way cancel those funds or or or do something with with that account and then like uh credit back those tokens um to the new or or like re-key kind of like um you know like doing those things it's uh it helps companies like ours to comply with with local regulations that are not aware of like uh what what private keys can do and i think it's like super interesting and makes uh companies like ours realize that uh it's it's a very complex uh topic that that is an interesting point you make oh you go first planet okay then that's interesting um okay sorry for that uh that's an interesting point to raise i mean when you when you when you're anchoring an asset you always have the option to freeze it and okay it's still um still on chain and it's a bit harder to keep track of it but it's still in an automated way you can can prove that this assets are frozen when you when you for example kind of take away trust lines and then you um can issue the token the assets new and that's that's it's somewhat of a cumbersome way it may be easier in the future because there are some proposed changes to stellar to to reclaim assets but this is some way for us for example to to recover recover funds at the moment even if the people lose their their key in their self-custodial solution the problem is actually not from that so we can always do that the problem is merely if the user just for example deposits a million in excel and then loses this key or her key or the same for for stablecoin so may not be able up to this process so but the the interesting idea of just reading the assets and reissuing them to new accounts is always an option as well that's so you don't have to so that you just give up the old account when you lose the key just um just on that briefly um obviously you need to flag the asset as being revocable and uh yeah there's acid types where you work there's configurations where you don't have that so if you forgot to do that or if you didn't plan for that then obviously that's not possible either so what we've done in our micro payments product actually um we used a little bit of a trick there so we are co-signing all the transactions that are being done from for the micropens wallets and um we also have a time locked transaction that we issue with each payment uh meaning that um after a certain period of time the funds will return back to us if no other transactions have been made meaning that if the user loses a key and they flag us they tell us that they did so we will simply not co-sign any transactions from that key anymore and then after half a year i think it's currently the time that we have programmed we can then recover these funds that means we can issue even lumens um to the users from uh we kind of give out a bit of our liquidity beforehand but in that way we can also sort of have a account recovery for accounts that actually are lost but the funds will come back to us later after half a year sort of a sort of a workaround for that issue but isn't co-signing the definition of it not being as purely self-custodial depends on the type of weight a key has so if you have you know like a minority weight and then so i don't know how the regulator regulator sees uh different types of water signatures because that's also depending on the chain obviously um i well it's a hybrid i would say yeah and i think you know just to kind of respond here um so one i wanted to flag um christian had mentioned a cap on stuller which i wanted to name just if anybody's uh watching yeah cap 35 which is the asset clawback um cap uh which is a new proposal so um if anyone's interested in exploring that further um but you know this is really interesting because it still feels like we're dancing around these areas of um kind of how can you stay lean and um you know uh i would say kind of do things that allow you as an organization to um kind of have uh a leaner regulatory framework as authentic um along with things that are more tied to kind of like usability and how do we make experiences for consumers to that can keep their information safe but still provide kind of like non-confusing not overburdened some experiences on the product i mean do you guys see any other major areas that are kind of um i'll say kind of like dancing around the surface here um because i know we're kind of talking back and forth about various designs but it feels like there's kind of like larger larger themes or larger questions so maybe i i can start because i i i mean we we we've been like also uh thinking about this the problem is that if honestly it is true that it removes liability the fact that you can actually delegate the key management to your users and that like fundamentally will remove like regular regulatory like load the problem is that if you see what happens in in fintech is that okay regulation is more expensive than software sure but is it at the top of the list i don't think so it's like you have software which is cheap and then you have regulation which is way more expensive and then you have distribution so if you see like what's the big expenses that the companies have it's most like distribution a customer acquisition cost is what uh sometimes kills like the unit economics so it's not regulation at all even if it's like super expensive um so i think that a lot of companies realize that okay yeah there's some efficiencies to be made in in that uh you know liability that goes away uh but it's not the entire story so you still will need to go and find the users and that's like extremely expensive and then sometimes it's even more expensive if you need to make them learn what like a 12 like 12 word password means or what uh like a mechanism to like that it's not intuitive is to recover like the secret key for your funds so that those things will add costs to that very like heavy heavy cost of of customer acquisition or will reduce that the universe of people that you can target and i think that's something that uh from the business perspective it's uh it's not very positive so so i have a question which is basically if you had something i mean and this sort of relates specifically to step 30 which i think is a very clever way to give users access to their account without ever having them to touch a password or know a secret key or use a backup recovery phase they can basically log into a stellar account using just their phone number or their email address some proof of identity right so with a with a solution like that you know well i guess there's two questions one does a solution like that solve the user experience and allow you to create a non-custodial um sort of interface or solution that doesn't feel that sort of obfuscates the crypto nature of an app from a user like basically can using something like sub30 make it so that a user experience for non-custodial wallet is just like a custodial wallet one and two if it does does it solve the biggest problems or does it only solve some of the problems and there are still a lot of problems left over that would still make you choose to use a custodial solution uh i mean maybe uh i can i can just quickly say that i think it's the final user who will judge those things because at the end of the day uh for me it's very intuitive to use a memo ID just to identify a final user that that actually hasn't been the case for the majority of users of exchanges so in a way like something that feels very intuitive uh in from the kind of the sign point of view and this is this is true across many different steps that for me makes a lot of sense but uh once that they're implemented like things become trickier and i think that's the only thing that i that i could say probably christian can say much more um yeah well i think well first of all i like the basic idea of study and um it's definitely a valid one we we do have some problems with it by when we want to to implement it that it's one thing that that's very common among when we implement step um ecosystem proposals for those who don't know our standards in the stutter system that anchors or people building on it can implement and then everyone can use it and it's interoperable between different clients and that is um that is a good thing if you're a client for example there is step six and um set 24 for deposits and withdrawals from anchors and it's super nice so basically i am as a developer i can go ahead and integrate 10 of them in a day and that's super nice for me as a client developer but to be honest it's not something i care about as a developer what i care about is optimization of the user flow so for example deposits is the most crucial thing in our flow ever and if i can increase conversion there by one percent or by five percent or by ten percent then i would do that so it's not it's i'm not fundamentally not interested in getting this thing done fast i want to get it done right and currently i can't do a b testing i can't do client-side validations with steps and withdrawals for example just just as an example for for seventy grade so this sep integration as a whole focus on clients getting the job done and that's not what we want to do and tab 30 is kind of the same thing it has it it automates the entire flow for our clients that we can just do it and then integrate a little uh integrate a lot with a lot of other clients who integrate 30 but it's it's not coming from from the perspective of the client so for example i'll give you an example quite lately uh quite recently i've lost my two-factor authentication and i think was coinbase and it wasn't an automated process i had to censor my passport there was a person talking to me and that's that's fine it's something i would expect as a user and it encouraged me that this those people do their business right whereas on step 30 if the ease of the flow is like okay my email my sms is something i wouldn't fundamentally like as a user to be connected with me that i'm just pushing a tech away from losing my entire life saving savings when someone captures my email and my wife quite recently changed her phone number she doesn't even have access to a whole number anymore so it's like it's it's kind of a weak thing for us and uh it focuses a lot of it's being automated people don't have to hassle with it it's fully integrated it's decentralized and that's fundamentally not anything our users care about the basic care you just want to log into the app have an account and never care about it and um for us it would be totally fine if there would be just a person um having an hd wallet in the physical world and it costs like thirty dollars or ten dollars or twenty dollars for key recovery because um if it's below it doesn't make sense anyways if it's above fine or we could scale it but um having an approach that's uh just focusing on the client side wouldn't cut it for our users so we would we would have to have have a process that's uh that's more tied to the user experience and the user doesn't want to want to care about that at all i think that just for my side i talked a lot so maybe i'll keep it shut now do you do you think that there's like i think i think we've mentioned uh in a few points like there's this there's this issue of keys being lost and then what do people uh what do users go through to get their keys back and then we're talking separately about the products we're developing and all the functionality they provide um do you think that there's room for custody as a product independent of the products you're developing so maybe i can take this one um definitely so i don't know if this is starting to christian but definitely for us that would be something we desperately want the ecosystem and it would have to be a custodian that uh supports different stellar assets as well and there are uh wallets that support lumens already and insurance that support lumix but to extend that to other assets and maybe even traits um to some extent that would be definitely something we would want to integrate and that's actually what we're actively looking for i would want to make again the separation between custody and key recovery so um we don't want to have custody we don't want one want want so traditional custody solutions work like they don't expose a private key to anyone but even the users belonging to that and you send transactions to some kind of signing service to give it back so we we don't want that we won't always want to have self custody and the user be in charge of the things with his with possession of his or her own key what we want on top is key recovery solutions pretty much like sub 30 would offer it conceptually with multiple recovery processes as uh as weights where not each weight does not have um the option to to trade but um i understand where he was coming from it was it was developed with a different thing in mind it was what was basically developed for the use case of um not only key recovery it was as well developed for sharing keys and all kind of use cases that are required alongside when you're not the only one having access to that key and for that step study makes a totally perfect job i think it's just like for our purposes but we don't want one all of those features we just basically want at any any and in a very seldom selling case someone loses his or her key can recover it and for that i think it would be fine if there would be just like two or three maybe notaries or trust trust companies banks whatever who would provide the service and maybe maybe just a call center or something like that where people could provide their ID's and initiate a recovery process so for the users of ours that would it doesn't have to be this decentralized solution because most of the users are not crypto maximalists who said everything needs to be decentralized and all these kind of things one thing if i could make make a proposal that's a bit more technical involved would be that it's fundamental to stellar to have counterparty risk right so you have to establish trust lines to assets or anchors where you say okay i trust those people so they say maybe for this you say hello these people are sitting in europe they are they are test by the regulators there that's a bank um bank in europe that um hold the assets in custody so that's great i trust those guys i encourage you to do so um i established a trust line to to these stock assets and maybe that would be true for custodians as well where you can say hey i'm establishing some kind of custodian custodial trust lines where i say hey this guy can or girl or entity can hold a specific weight of my assets so that you have it somehow baked into the protocol level but that's just for the far future for the very near future it would be just basically fine to have two or three who are not who are who establish trust by being used by many of the enterprises building up on stellar marco and my heart i'm interested if that idea appeals to the two of you also uh which idea that basically the idea of there being uh sort of trusted custodian professional custodians out there that that you could i think in general um it's it it it fulfills a need i i've seen always stellar as a very diverse ecosystem and i think that uh the problem of like discussing topics of like one solution versus the other it's like it's not giving the full picture of what's happening so stellar actually for example i the way i see it is that at least in the ecosystem we touch there are multiple different roles and and and they will like some of them like will require something like that and some of them won't so for example like we're thinking imagine a migrant worker that has the need to send over 200 that's not the same need of the market maker that facilitates like the exchange rates that those other people benefit from that actually move uh millions of dollars so so so that that makes completely different needs and they're both using stellar so i think uh in in in in one case like uh shared keys are badly needed and in other ways what what some other projects are are doing which is like completely abstract in a way and and and you know i why why would a company like ours um would have the liability of the people's funds that's because like there aren't a lot of funds maybe you can you can actually because you're solving probably you have uh like you know capital requirements that exceed those uh people's funds so like those things will at the end of the day mitigate the risks and will make you capable of fronting uh such risks and i think that's uh that's what that's what i see so in in my mind there's a lot of like sophisticated players in the storage system already uh in a way that understand like how the mechanics work but they aren't yet um as many users as i would like to see i love to see every uh mexican who's working in a kitchen in new york using a system that touches stellar and and and when you do that it's uh in my mind a product that completely looks like something that this community would expect and that's completely something far from from from something like uh except 30 or something like that because they don't want to deal with that it just one like deal with the same thing that they've been doing with other companies when things fail and and and that's like the market needed that we've seen yeah absolutely and i mean just one point that you made there that i do think is really important is that you know even when we're thinking about the requirements for just an application oftentimes there's a whole kind of like broader stack of ecosystem that's required to kind of make that end product exist and everybody who's in that value chain has kind of differing needs based on what they're doing so um so yeah i think that's fair you know i'd say well we're in our last 15 minutes here um and so you know i think we're already kind of doing this but i i would love to drive the discussion towards kind of identifying um gaps or needs or we could also put these as opportunities within the ecosystem and so um maybe i'll just phrase this um in a slightly constraining manner to to kick things off like if you um marco meinhard and christian could wave a magic wand and have like one new thing exist in the stellar ecosystem to support your vision of key management what would that look like like what's the the number one thing that you think would be super valuable for you whoever wants whoever has a response to that i can start by by the the already multiplexed accounts that that we've uh touched before it's uh in general i think that that's something that in my mind is something that that was missing and i think i would love to see completely adopted and the reason is because the way that i feel as a user um like the way that memo IDs are used it's kind of like uh not intuitive and and it's uh it's it feels like a hack you know like you know every everyone's familiar with with a payment app where you can also like include a message that travels with with with a payment and so but in this specific case we're like hacking that uh field that memo field to actually embed information and that will make the payment to route differently so that became like the the default way of adopting stellar like for exchanges and i think that you know the entire ecosystem accepted that was the way to do it but i think uh if there's a better way to do it which in my in my mind uh it is multiplexed accounts we should like the sooner the better adopt something like that because uh you can actually free that um field which is important for other use cases as an example the first implementation we did for bill pay actually encoded uh information about the bill that uh like the reference of the invoice that that was intended to be paid and that was encrypted and sent over the memo so it's like uh to me those are things that uh other players may may find like useful and interesting and will design that way and if we use that field as just an additional feel that together with the with the address we'll actually run the payment to to a different like destination i think that uh that's uh completely in my mind something that shouldn't work that way and and and and you know some evidence is like uh people make a lot of mistakes when they're like put assets in and out of exchanges and i think it feels like it's it would be focusing on on people and companies using custodial wallets but i think it's the opposite i think if it's widely adopted it's something that it would be there available for everybody and they will like just add a more intuitive way to uh just send payments to an address with an amount and that will like uh like satisfy the need of like the routing and and and all the information that needs to travel with each payment so in my mind that's something that needs to be uh adopted obviously discussed before and and and for me that that wouldn't be like that so you're you're putting your flag down on the cap 27 planet in the stellar ecosystem and i don't know where i'm going with this but you're you're squarely on the cap 27 multiplexed account team yeah i think i i think so okay great wonderful uh meinhard looks like you maybe have a thing next great yeah so also cap 27 is really interesting for us and that's something uh unfortunately i can't answer maybe a leak and clarify does it also sort of protects uh the privacy of the recipients or is it uh still uh easy to to like conclude the address that's behind it because that is something also we would wish to have that we have not the complete balance of all of our clients immediately visible to maybe a sender and so in a way not anonymous but partially anonymous transactions um at least for the recipient that would be quite interesting for us and then also something that christian earlier said um like a sort of a footed approach or a feathered federated approach for uh key recovery or even for a coastal resolution that would be definitely quite interesting and then you said i should pick one thing but uh maybe also you can say a third thing uh it would be a sort of regulated entities that are um offering this custody as a service and not just key recovery so that's definitely something we would that would uh solve a lot of problems for us right now because um fundamentally we're not really um also because of our consumer's perspective or our user's perspective uh maximalists and and like you have to own your key ultimately we want to offer a um a transfer service that passes on all the advantages of uh blockchain or stellar in this case mainly speed and transaction cost and also the transparency and it doesn't have to be fully self-custodial in our sense uh like we want to give the user the choice and the user doesn't really care much about that they should have a online banking like experience and that we need to know what's what's behind it and uh not also having the need to learn uh new vocabulary and new approaches so that's like how we want to place our service that makes sense yeah i um i uh i concur that you know it seems like having um along with there being some kind of technical aspects to creating more capabilities around um key management there's also potentially ecosystem partners that we could bring in that would really um support this as well so and then lee did you do you know on cap 27 if it adds any anonymity or i'm not sure if that's something you're um too up to date on um so uh yeah so i can answer that it not not specifically so there's not like a feature cap 27 that um that would make uh it any more anonymous than using a memo ID for a transaction however you know the service that's using um the services using cap 27 you know could rotate IDs for users so they could change the ID that a user is using over time or or you use some other strategies like that that obviously has some disadvantages if if somebody is treating a cap 27 like a market address as a you know an actual address for that user uh if it's changing that could be problematic but um i feel like this is this is similar to um virtual credit card numbers where you have like a credit card and then you have like model ones you use for different merchants maybe or different people things like that okay great thank you lee and then christian um yeah well um there's a short time and there's long term so basically we're fundamentally focusing on um non-crypto users and for non-crypto users convenience is important so there's a reason why why why things like what's app are more popular than things like ebay's because they are just more convenient and user slower in terms of the more convenient solution all those um but but i think that fundamentally the the key recovery is not should be easy on the recovery process the recovery process can be hard if i lose my wallets like my physical wallets my credit cards in it i'm up for that that it will be a complicated process to get that all sorted so that that's fine but setting up my wallet and setting up my my key that you that should be the easy part and for us like the easiest solution would be just hey on the concretion when you create your account on d stock we would just add two or three uh um uh trusted uh and reputable uh public keys and those people do have some kind of recovery process if i wouldn't be totally uh filled with work at d stock i would right now fund a company started start a startup doing exactly that because there's a need for that and um like in the long term i could see that i'm better than the protocol that's the one thing i said was having trust lines to these custodials pretty much like you have trust lines to to add to assets or anchors would be a nice way maybe even you you could one could think about that when you have an account and it holds assets from multiple different anchors that you can say that those anchors could jointly recover and cover your key by um depending on the weights and how many assets you have there as well as cloud acid clawback with cap 35 could put a great job into that but that's like it would be awesome to have it in the protocol embedded but like for our needs it wouldn't even be required for short-term solution would be just like victory hey let's get two or three trustable notary solicitors something like that out there that we all trust and where we say hey let's give each other it doesn't cost me a lot of money so that it could be like small small no trees that are just regulated in some country and you just say put them up put a process behind that that you can recover and then i think it would be fine question just to as a quick clarification um i'm not sure i can exactly actually conceptualize what this would look like if it was embedded in the protocol and i know it's like very early stages high level but i mean could you maybe illustrate that a little bit more like what what you think that would look like basically that if you have so the basic idea currently is that you have at public keys as a signer and um what you could do is when you say hey we we create trust licenses and take that for custodian but these custodians could jointly recover your key even though they don't have weights in your public key could be so basically they they would have these anchors would have a public private keeper somewhere on the chain and this public private keeper would have the right to recover addresses they would have been added as a signer but you don't have to explicitly had them as a signer so basically you create a trust line to three custodians and then these three custodians could jointly recover your funds but you don't have to add them as a signer so you don't have this kind of multi-signature thing added to your account gotcha gotcha okay that's really useful um great well um this has been a super interesting and useful discussion and i have to say and i'm sure justin and lee feel the same you know there's been a lot to take in and digest um i really appreciate you guys sharing your perspective and opinion on this and i have a feeling um we're we're kind of just kicking this uh discussion off so um we did have one or two questions from the audience which i will um get uh up in front of me in just a second oh not that one there we go um so i'll just throw this out to uh everyone i guess um can non-custodial wallet apps connect to a bank and have a user receive funds in their native currency so that's kind of like a non-custodial to custodial payout flow um i believe the answer to this is yes this is actually a type of payment flow that we facilitate on stellar um yeah i don't know i think this is the intention of of all those all the steps that have been adopted so it's like uh normally an anchor that complies with with the existing seps what they would do is basically allow non-custodial solution to be able to get from an anchor services like ours like uh for example a bank informations that they can like uh go from their own bank account to to like the bank account that the anchor has and then that would uh in exchange uh you know give the user some some some uh equivalent of of tokens so that that flow it's it's it's precisely uh how today uh all of all of the active anchors are are doing yeah you can use lobster or vibrant to deposit a number of different anchors because they they already interoperate perfect great thanks guys and then um maybe justin this one's for you step 30 and cap 27 both look cool um do any of the dev libraries or wallets support these currently yeah that's an interesting question and part of why i think it was good to start to have this discussion cap 27 which um marco advocated for earlier but has come up a couple of times is called multiplexed accounts it adds a new kind of stellar address at the protocol level basically allows a single stellar account to map to multiple users it was added to protocol 13. um however there's it's kind of like we put in the wiring but we didn't put any plugs or switches right like there's no manifestation of this and Horizon are in the sdks and there's no clear way um no clear like methods or standards for actually using these mixed accounts so they're there they're just hidden away and so with those cap 27 specifically in order to really be able to use it we'd first have to build out the sort of platform layers on top of the protocol and then we'd have to start working with people to figure out how they would actually use those so cap 27 is possible but not really implemented in in any existing applications step 30 on the other hand which is is not at the protocol level right it basically specifies how you can split key recovery across multiple different servers run by different by different operators right so instead of having a single key or instead of trying it it relies on third parties running these things called recovery servers right now vibrant um which is a a wallet that sort of is facilitates usd savings at the moment mostly um that relies that that uses two recovery servers to implement sub 30 but if other people in the ecosystem wanted to start implementing sub 30 in their wallets this specific key recovery method we would need to as an ecosystem get people to run these things recovery servers right recovery servers which are sort of the servers that you delegate to allow a user to access their account if they lose their key so short answer step 30 is implemented in one wallet and could be in more if we set up recovery servers that people could use and by we i mean the ecosystem as a whole having to add one point so this idea that i mentioned about having trust lines for focus for not custodians but for key recovery people the the major change that it would add sorry my microphone brother the major change that it would add to the current solution is that the current solution if you add it as a signer like in step 30 then you are always getting the other rights as well so you can always like jointly transfer funds and stuff like that having these kind of recovery service at the protocol level then it would really be just okay i'm adding those people and they can they can give me a process to recover my keys but they can never do payments transactions even if they are colluding or jointly hacked those kind of stuff and that would put a lot of clearance on the legal side and it would make this the entire setup a lot easier you don't have to store keys online and things like that so just clarify that yeah i i i i know that we don't have like a lot of time left but i think it's it's it's interesting to keep the conversation going especially because i think the multiplexed accounts can offer actually widely adopted some level of of obfuscation to the payments if like uh people start using it because as as lee said like people can use them as as you know like like as dynamic uh debit card uh numbers and and it's interesting if the entire ecosystem adopts it then like people would be sending money over with different m accounts and that will like obvious scale a lot of the the information which is really interesting yeah well it sounds like on both fronts both on kind of step 30s key recovery design and muxed accounts on the cop27 side we have a lot of thinking to do um i think you know as we kind of said in the beginning this is the beginning of these conversations um or maybe the middle i guess they've been going on for a while so we'll definitely be continuing them um so with that i would say you know i think it's time to to wrap up the discussion today but um i think it's likely we may want to all meet back here um in a few months certainly after meridian and continue this conversation hopefully making some progress in the time between so you know again christian mind hard marco we can't thank you enough for your time today and for sharing your perspective uh and i hope everyone has a wonderful halloween weekend and we'll talk again soon thanks everybody thanks everybody",
      "keywords": [
        "thats",
        "actually",
        "people",
        "something",
        "user",
        "stellar",
        "custodial",
        "theres",
        "users",
        "these",
        "which",
        "maybe"
      ],
      "speakers": []
    },
    "2020-10-09-stellar-quest-learn-stellar.mdx": {
      "summary": "hello hello hello everyone my name is tyler van der hoeven and i am very excited to be presenting uh on another engineering talk today we're going to be going through stellar quest this is a new app that i'm very very excited about before we get started though a couple of little housekeeping items as you all have questions as we're going through today's talk you can either scan the qr code here on the screen to ask questions or just pop them into into the youtube chat we'll try and get to questions so as you have questions for me be sure and pop them in there we'll have a time for a q a at the end um and then uh we're just gonna kind of walk through this uh this application stellar quest so it's been exactly a month actually so uh right on the heels of the big release of scf 2.0 there's been this long-standing project that i've wanted to build um kind of filling in the gap between what i would call normie devs you know just developers that may not be familiar with cryptocurrency or have been very wary of jumping in or even a lot of friends that i've had from uh past jobs uh wanting to introduce them to cryptocurrency but having a bit of a gap like where where do i get them started where do i sort of plant them i can't just send them documentation i want to give them a nice landing pad for stellar so there's kind of in this gap here between the normie devs developers that are good and enjoy what they do but are not familiar with cryptocurrency or stellar and have maybe wanted to or would be interested but need a good landing place a good onboarding uh technical onboarding into interstellar kind of away from all of the you know win moon conversations and pricing and stuff but just want the technology like help me understand from a technical perspective what's going on with these apps so that is stellar quest it's this this uh this stepping stone between things like the scf and kind of being deeper into the technology and somebody who really knows nothing uh about cryptocurrency or the technology that powers it so this is a very technical focused challenge it's a gamified uh application um that i've built so right after scf i started working on stellar quest so this has been a solo project that i've been working on over the past month and since this is an engineering talk i think it's worth pointing out because it's interesting and it's super interesting to me uh it's all built on cloudflare worker technology i'm kind of a aws lambda i love serverless technology but really wanted to try cloudflare workers so all the back end is built on top of cloudflare workers their serverless architecture as well as their key value pair storage and then the front end is stencil js hosted on versal so for those of you who are interested in that sort of thing i think it's fascinating i really enjoyed working with those tech i love stencil js and cloudflare workers was a real joy to work with definitely looking forward to using that moving forward i don't have a fancy slide deck i will call out this one real fast just as you find these things interesting or want to keep up with projects that i'm working on be sure and follow me tyvdh on twitter and again i'm the ecosystem evangelist at the stellar development foundation i don't have a big slide deck we're going to actually be looking at the application itself i'm going to walk through the app that i've built and how to use it so you'll get a little bit of a sneak peek this is a this is a challenge application so for those of you who are lucky enough to tune in uh you might get a little sneak peek at what we have coming with the with the upcoming first stellar quest challenge so i'm gonna go ahead and switch i am going to unfortunately have to call out one of our third-party services run kit is within the last 20 minutes actually is is experiencing a pretty major outage so some of our images as well as challenge checking isn't working right now so if you see some broken images or we encounter some unexpected errors it's probably related to the run kit outage but that's unfortunate hopefully it won't won't affect us too much unless of course it's cloudflare that's having the outage but i think it's just run kit so stellar quest this is our landing page at the moment calling out a little bit about what it is some of this is up uh for discussion um definitely looking for feedback and you guys are getting a bit of a sneak peek a first look at what we have so far so as you have questions or comments or um kind of the dedicated stellar fans be sure and reach out with any feedback or ideas for how to improve these screens or the commentary that we have but you can see right away that series 1 of stellar quest will be launching on monday so challenge 1 of series 1 is going live at 9 00 a.m this coming monday so mark your calendars uh there are xlm prizes as well as these fantastic fancy badges which uh you can't see right now because again we're using run kit to render some of those so um until run kits back up those will be dead images unfortunately um for those of you again who is engineering talk so these are badges so we've got excellent prizes that are kind of a while supplies last sort of thing is you can you know the first few people that complete each challenge will be eligible for xlm prizes and then anybody who completes a challenge will get one of these badges so there's eight badges there are eight challenges whenever you complete a challenge you unlock one of these badges so it's kind of like the collectibles that you you'll have on your stellar account as you complete challenges so uh these are not kind of one after the next the the first one launches on monday and then we wait until friday at 9 00 pm we've got a.m and p.m to make sure we cover everybody uh across the globe um eight challenges first one launches on on monday so very very excited for this to for this to go live uh be sure and mark your calendars and then uh as you have people that have been interested in stuller maybe you've been wanting to onboard your developer friends into what we're doing here be sure and send them the link which will be quest.stellar.org quest.stuller.org i'm not sure i include that in any slides so i'll make sure and call that out so let's go ahead and log in so got some legal stuff we've got my super secret dev login number we're using sms um codes uh to protect against uh civil attacks um where one person can pretend to be many people if we use social or email it's very easy to duplicate those and just continuously log yourself in complete challenges and thereby claim all of the prizes as a single entity so by using sms and only allowing actual mobile numbers uh you know no no voice over ip numbers or landlines just mobile numbers connected to a valid network we block against a lot of that so that's why if you're confused why we're using sms numbers that's what we're using for now to protect against the that's the anti-sybil mechanisms that we're using same thing that we're using with the uh community fund verify that code and this will jump us to challenge number one now i'm going to give you a sneak peek of challenge one i'm going to try my best not to click on any other challenges so that you don't get too far ahead of us the challenge number one here is just creating an account so these challenges are all very modular and relatively simple um if you're brand new to seller these might be like whoa what in the world is this but we've got helpful links brief brief commentary on what you're trying to do again these are challenges for prizes so we don't want to give away too much but the idea here is to give away enough information that uh people know where to go to complete the challenge as well as not to lose them along the way so we'll kind of test and see where we can make improvements to kind of have that good balance between giving away too much and not giving away enough to keep the incentive to continue on with the challenges but um so we've logged in we've got our first challenge all the challenges will be completed with the same testnet account so this right here is just the the account seed or the account public key and you need to fund this account you can't directly fund it with with um friendbot you're going to have to figure out a way to do it probably through friendbot through another account or something like that hinted um but these these accounts will all be done using the testnet this entire series still requests will be divided into different series the first series is the one that we're launching now it's comprised of eight different challenges and these series will launch um who knows you know maybe we'll do some partnerships with other dev groups or just continue to launch these from the foundation i would love to see partnerships happen where there's lots of different series that are co-branded with other entities um and for each one of those you'll get a different public key that kind of links up to the different challenges and complete them all through there when we actually get to the claiming prize portion that's when you're going to connect a public key on the live network where you can claim prizes and actually have all your stuff on the live network but for the actual challenges everything's on test net so you're not gonna have to spend any money or go through coinbase or somehow figure out how to get lumens the idea again is is just to understand the technology behind behind stellar i've got a nice discord channel if you guys want to join that once it's live we'll have some different discussion going on there as well as if anybody has problems or issues we'll try and build up a little community to support each other there's another thing i think worth calling out on the login there's a couple we're using the twilio lookup service and there are some issues with different countries or regions around sms verification so if you're pretty sure that your number should work particularly like if you're using a voiceover ip number but that's your main number or that's what you're using to get around issues that you have with your network but it's not letting you in you would jump into the discord channel um there's a there's a channel there for help login that we can we can white list your number to let you in even if you're using a voice over ip number or or in a country that twilio doesn't support but um you're still an individual single human being um so uh that's worth calling out if you're having issues uh logging in there is some some help for that uh in general though it should work fine um so i'm assuming these these check buttons um trigger off on run kit they actually look at run kit to see if your account has performed the action that is required so i'm guessing that these buttons will yes throw some errors because run kit is done right now if you just can't figure it out and you want to just move on and kind of forfeit the the cash prize but are still wanting to get the the token you can click the the shrug button here i don't know um and it'll actually pop up a block of code straight from run kit which you can run it'll have pre-populated in there your public and private keys so that when you when you actually go to run that code it will perform all the actions necessary to get your account to a passing state to where you could then check it and pass the pass the challenge again you wouldn't get the xlm you wouldn't be eligible for the xlm prizes um but you could still be eligible for the for the badge for completing the challenge and i'll let you move on to the next challenge so if you ever get stuck and you really just can't figure it out and you don't feel like jumping into discord or asking for help which i really strongly suggest that you do you know try and get through it it's the whole point but for some reason it's really stuck you can always just shrug out of it and uh and then run the code that that will spit out and then check it again and it should let you pass um once you've completed challenges however and you're moving right along um every so often we run a check on the back end which compiles all of the people who have completed the challenge and it runs them against uh it kind of compiles all those together runs them against our prize array to see who gets what based on when you completed the challenge and then it generates basically an ID which serves as a claimable um prize so in this case i've got one waiting here for challenge one and it looks like i got first place in this lucky me uh local hosts you know not the most popular domain name at the moment for everybody else to join so uh i won first place got 500 lumens for challenge one see again this beautiful uh badge here and now i have the ability to claim this and so this is going to trigger the the functionality to allow me to actually connect to or create or connect to a public account public key where a public network key rather and uh actually put this this badge and 500 lumens into my account um we do put a nice little call out here that's uh notifying that we're using albedo um orbital lenses uh he's the guy who built uh stellar expert developer good team they uh built albedo which is kind of it's a it's a plug-in but it's also just a pop-up service that's a very low friction relatively low friction um crypto wallet account that you can use straight from a browser both on mobile desktop safari um any browser will do and that's what we're using to communicate between this website and the wallet so our non-custodial application that uh we'll be calling this account kind of building that relationship between making sure individuals are owning their own accounts and understanding what they're doing but also having the ease of access of communication between um the browser and the actual wallet so i've got an account here that's been um connected it's right now it's on the test net but um recently merged away so we can we got a little bit of activity on here but it actually doesn't exist right now so the first thing it will do will be to create this account and then uh claim those those balances and albedo i'm using implicit very similar to oauth where you don't have to continuously enter your password every single time you want to claim a prize so it's possible that i've actually got a session variable looks like it i don't right now so it'll pop a session variable in there when i run the implicit mode so when i first click claim it should pop up that window to allow me to actually connect to that into the password and then that will go and claim that balance looks like again we have a run kit issue so it won't actually let me claim this balance but the nice thing here is it should have assuming that that error happened after yep we have that session so if i go and claim this again it shouldn't do the pop-up it should just try and claim that prize um again because we have the run kit issue won't actually let us claim it but once that run kit issue is cleared uh it'll it'll take this balance it'll go and or i'll take this ID go and see that uh the public key that i've just sent along with the amount and the badge it'll create a transaction for me then it'll send it back for me to sign the implicit albedo session will sign that transaction and then actually send it back to stellar quest backend and then the stutter quest backend is actually going to wrap that whole signed transaction in a fee bump transaction so that your users or i guess sell request users never have to pay fees themselves i'll be consuming all of the fees but i still get the really high throughput so if a lot of people are claiming prizes at the same time i don't have to worry about the sequence number because user accounts are consuming sequence numbers but my fee account is consuming all of the the fees so a nice use case there of the fee bump that recently came out in protocol 13 um allows for a little bit higher throughput for claiming these prizes without having to have users actually pay the fees to to collect their prizes so really honestly that's that's kind of it um these these challenges will come out every monday and friday again if we look back at our schedule you can see mondays and fridays 9 a.m and 9 p.m going from challenges one and two for four weeks all the way through to november six we'll be calling out things like meridian hackathon which is open and ready for registration as well as things like the stellar community fund particularly the lab fund so if folks are enjoying stellar quests and really getting into the challenges there's places for them to go once we again i'd really like to have uh partnerships with other developer groups um there might be opportunities for co-branded links and really starting to open up uh the stellar sphere to people that are not inside crypto that's kind of the whole point of stellar quest is to really aim at normie dead steps that have not been involved in crypto before but are interested or at least willing to take a try so long as it's kind of that low barrier gamified entry level um experience which is what we're trying to achieve again with with stellar quests so uh with that we will open it up for uh for questions does anybody have questions about stellar quest i'll just wait we've got our our onca team looking through if there's any questions if there aren't you know if i explain everything so well of course there are no questions we'll wait a few minutes and see if anybody has anything to ask so one question you all should be asking is why do we have to wait why can't we just claim prizes as soon as uh we finish a challenge why do you have to put it into a queue that's an excellent question glad you asked it it has to do with the fact that i'm real i really tried to use cloudflare exclusively for the back end so we're actually using their key value storage database if you will but it has a potential latency of one minute so you can imagine if uh people are completing challenges in one part of the world and people are completing challenges in another part of the world if that's not in sync i could complete a challenge after you but claim the prize before you and so that's not that's no good so we have to wait until that potential latency has passed to allow everybody to claim the prize that they actually won uh by looking at time stamps once cloudflare actually announced last week a more real-time synced um they called durable objects i think it's in beta right now so once it once it reaches a stable release that'll allow us to do claims um in real time so we won't have that kind of intermittent waiting period between completing a challenge and claiming the price for it you'll know immediately as soon as you finish it what place you got and whether or not you have xlm prize associated with it so excellent question next another another good one interesting one not really a question but something that'll be quite fascinating is once protocol 13 i'm sorry protocol wait 14 goes live um i think it's 13. i think the last one was 12. i'm a seller person i can actually remember uh goes live with claimable balances and sponsor reserves the whole process of claiming the prizes will be much easier one of the issues right now with claiming prizes is it's a badge so it's a custom asset that's stored on the blockchain which means i have to open up a truss line for it and so the there's a very real time uh opening up a truss line and issuing an asset that happens um where i have to kind of just sit there and wait until you're immediately asking like hey i'm ready to receive this prize once claimable balances exist i can just say oh this person won this prize i'm going to set up an entry in in stellar that says here's the prize for this public key and it's out here which will allow you to claim it at any point in time from any uh any place you have access to that public key so rather than having to sort of have me and you both there at the same time to both ask for create the transaction for and then receive the prize um those things can happen asynchronously which will make the prize claiming process much easier as well as you know if you claim the prize or you you're eligible for the prize but for some reason you decide not to claim it i can leave myself as a claimant on that claimable balance and say after one day or after a week if you don't claim it i'm going to revoke it and put that prize back into the pool for somebody else to grab so very excited about claimable balances and then obviously sponsor reserves will be really nice because right now i'm actually creating accounts for people as they come in and are attempting to claim their prizes if their account doesn't exist on the ledger yet i put down the the minimum balance for the account for it to exist as well as covering any um any fees for the assets that they're trusting so each of the badges has a 0.5 lumen reserve that's required for for you to hold that asset um so i give you all those lumens right now into your account it'll be really nice once we have sponsor reserves where i can just sponsor those for you rather than actually giving them to you so both of those new features coming out to the next protocol release will be amazing and will greatly improve that along with the durable objects from cloudflare will make stellar quests just a little bit faster and honestly easier to to manage from my end on the on the stellar side so very excited about those it's been interesting actually building a production level application on top of stellar so it's like a meta application where you're both teaching people about stellar but also using it to teach them um through the badges and the prizes and actually trying to get all these things to work well where it's a very high friction to try and game it but it also is really low friction if you're just trying to use it it's a lot of fun it's quite challenging to build an application like this where it actually works but it's been a ton of fun super excited to see what the future of it holds again as you have feedback um be sure and leave it go through these challenges the first one on the public network is launching uh this this next monday so all right if there are no questions thank you all for for watching this has been a lot of fun looking forward to to actually launching this live make sure again mark calendars get out there um and uh good luck good luck bye",
      "keywords": [
        "actually",
        "stellar",
        "these",
        "challenge",
        "thats",
        "challenges",
        "account",
        "claim",
        "using",
        "youre",
        "prize",
        "those"
      ],
      "speakers": []
    },
    "2020-09-11-data-analytics-on-stellar.mdx": {
      "summary": "hi everyone um hope everybody is having a fantastic friday morning afternoon wherever you are my name is devneal i'm a software engineer at sdf on the voyager team we focus on exploring the stellar ecosystem through data analytics and liquidity today i'll be talking about data analytics on stellar so the goal of our team as well as a lot of the work that i do at sdf is to do the fundamental meta work that powers the rest of the network how can we ensure that assets have robust markets how can we improve the visibility of the network both inside and outside sdf and how do we use data to further drive network growth in this talk i'll be talking about the first version of our data analytics system targeted and answering those three questions as well as many others so who is this helpful for anyone interested in one building analytics pipelines from zero to one i hope our experience is generally helpful to people who have a bunch of data that are just trying to build out some analytic system two exploring the stellar network i'll present some useful access patterns tips for navigating the stellar data set and a few illustrative examples with basic sql knowledge you can ask some powerful network-wide questions three scaling analytics from one to one hundred if you have a working data pipeline what's next i'll share some of my thoughts on the subject and i'd love to hear your wants as a brief roadmap of the talk it'll be in four parts first design what we wanted to build second implementation how we built it design and implementation are the meat of this talk as it is an engineering talk after all third analysis i'll display some interesting queries along with some strategic tips on using our public data set in the interest of time and network connections over the talk i'm not going to live code but i will share links for folks do their own exploring and finally next steps what's in the pipeline no pun intended for data analytics i note that if you have questions there's a qr code on the youtube and you can also ask questions of the youtube chat and i'll be answering those questions at the end to make sure i get through all this material so first design to understand the design goals let's first talk about our motivations why did we even want a cloud scale data pipeline ultimately we want to quickly and efficiently generate the histories of assets accounts markets whatever over the history of the network the primary use case is internal business analytics we wanted to make it as easy as possible for our business development and ecosystem teams to understand the effects of their efforts so stellar uses the widely used database as some postgres which has been an industry standard for 20 25 years so stellar core writes data to postgres tables and then Horizon our api to stellar core uses the core data but it also has its own database because it's a web application so the pros of this are that it's well known and well documented it's great for tran processing a bunch of online transactions when there's a bunch coming into you in a highly concurrent heavy write environment uh the cons are also pretty well documented it's slow for historical queries for specific column values which makes it much worse for analytics Horizons database structure and indices are optimized for the exposed api of Horizon that also means that if you're trying to do deeper queries across a bunch of different accounts or tables it quickly becomes inefficient so for example complex joins or filters become really extremely time inefficient apps and indexes a good example of this would be trying to do analysis of the network but excluding arbitrage operations because that would require a bunch of joints of different tables and then now you have to make filters over a really really big table so to understand behavior at scale it became pretty clear to us that we would have to build some new infrastructure it's also important to talk about our goals so above all we wanted value for internal stakeholders this is a really important node when you're building data products it's really easy to nerd out and build something that's really cool for engineers but the end user is always your non-technical users if product guarantees don't align with business needs then you won't ship the right solution for your end users and even worse you might just make more work for yourself because you have to onboard a bunch of people into a non-intuitive system second open source or open access open source is really core to fdf dna and we want to support open source tools wherever possible of course some things require spend like cloud infrastructure but we want to optimize for open access in the organization followed by easy public access third a daily updated data set well some businesses need real-time updates at the point that we were when we started building this daily updates were sufficient for the course grain metrics that we wanted to do fourth seamless integration with our current staff as mentioned before we rely heavily on postgres as our databases and when you have existing tools you need to make sure that support for those tools is well tested in anything you bolt onto your system additionally it had to also be deployed easily it had to be in-house controlled on our infrastructure and easy to deploy by our site for liability and ops team so our stack last year migrated from puppet to docker and kubernetes so we needed technology that easily integrated with this and for some quick buzzword explanation puppet is a legacy system administration software docker lets you contain custom programs in their environment and kubernetes is orchestration software that lets you decide how those containers are then deployed and run and fifth and finally easy metrics and visualization uh this is pretty self-explanatory it lowers the bar for non-technical users and it brings much more value to the organization as a whole so many of the requirements about birth fuzzy some are more technical and tools oriented so how do those break down into technical decisions so this is ordered from most to least defined as a deployment infrastructure we would use docker and kubernetes this would be important for orchestrating software having regularly scheduled cron jobs and the like it was already our technical stack so we needed to play with it second the cloud scale warehouse this needed a bunch of capabilities determined by what i just said it had to have scripting abilities really good postgres integration and really easy organization-wide credentialing so all engineers and non-engineers could easily access the warehouse and make their own queries third metrics and visualization this was the least defined for sure we decided that it would be secondary to a data warehouse because ultimately the engine matters more than whatever you're doing on top of it but we did know that we want this to be open source free and easy for non-technical users through something like the drag and drop interface let's now talk about implementation so the first was infrastructure docker and kubernetes while this decision was made for us some details of it made everything a lot easier which is what commonly happens when you have to integrate with an existing stack docker-based containerization gave us a really easy standard for evaluation of other tools particularly visualization could it be easily deployed on our infrastructure second kubernetes cron jobs gave us an easy scheduling method for running scripts deployed via docker we could just set a schedule and run the procedure as is it was also really easy to integrate the postgres cluster it was easy to provision external storage in case we needed to have external memory for the data pipeline and it also allowed for retries on failure in all this is a really good deployment stack and it's pretty clear why it's become the modern stack of choice it's really good for integrating a lot of different technology it's really resilient in general it's pretty easy to work with no real complaints about docker and kubernetes second for the cloud data warehouse uh i was kind of worried about this at first because there are a ton of options but google bigquery actually ended up being a really easy choice for us for one the queries are super fast they were 10 to even a thousand times faster than some queries from the Horizon database we were honestly just blown away by how much better it was second intermediate cloud storage where do files live during the data pipeline google cloud has a cloud storage service which is called google cloud storage this means that we can separate the pipeline into a few different parts one export tables from postgres to disk to upload from the disk to cloud storage and three download from cloud storage to bigquery so separating the pipeline like that reduced the risk of failure and it also made retries less expensive because we would just retry one of the scripts third there was really painless command-line scripting it's super straightforward to script exporting files from postgres then uploading to bigquery it made creating a basic pipeline really easy to reason about from the command line and also in turn pretty easy to containerize because we were just uploading a bash script into the docker container uh fourth google suite authentication so within sdf we used g suite so it meant that everyone had g suite permissions it also meant it was really easy to set up and share permissions across the organization i would say that this is like a low priority in terms of deciding a warehouse but it is actually why we tried bigquery up first because it was really easy to integrate within our organization and i suspect that organizations that run on microsoft like microsoft teams or whatever might have similar experience with azure so i do think it probably determines live organizational needs third for metrics uh we decided to use google sheets this was actually more straightforward than the warehouse because we decided that we wanted some basic data science capabilities that were slightly outside the scope of queries and after we talked to a bunch of folks around the organization it made the most sense to surface this through spreadsheets it's a really common user interface for non-technical folks and it keeps data tabular so you can pretty easily connect here's whatever the table i got out and here's how it looks on the actual spreadsheet so python scripts are also the right tool for post processing by a lot it really is a swiss army knife for data you can really easily read a table from bigquery run some custom post-processing using common data science tools like pandas and then write the output to a google sheet finally note that we deployed these scripts in a server-less fashion on google cloud scheduler once the bigquery dataset was updated by the kubernetes orchestrated cron job you could then trigger these scripts and then update the spreadsheet it was a really cool event driven architecture really simple really powerful and honestly i think that this sort of way to automate metrics is a really good one fourth and finally visualization this was by and far away the hardest part of the implementation since there's actually a million tools and documentation that compares them directly doesn't really exist so at this point like we've settled on bigquery so we wanted really easy bigquery integration really easy deployment on docker and kubernetes some nice visualizations that use drag and drop and some sql and we also wanted to be open source so i tried a lot of tools that fit some or all of those capabilities some of the most prominent ones that we looked at were google data studio apache superset and looker what we generally found was the tools that played nice with bigquery usually either didn't have drag and drop or weren't free and so we ended up settling on metabase because it honestly fit all of our original pillars quite well it has both sql as well as a drag and drop interface it's free and really easy to set up and i think if you need to mvp a pipeline it's a really good option finally let's talk about some of the downsides of our v1 implementation for one daily frequency is slow while good enough for initial use cases a daily update limits building out data intensive apps on seller we want to get closer to real-time updates for next version of the system two observing failures is hard we were still learning our way around kubernetes logging and ideally we want to be able to reach by really specific granular portions when they fail so there are good task management systems out there and that seemed like a natural evolution of the system three visualizations were private we'd love to expose our information visualizations publicly but we can't mix the platform that we use for internal business analytics with everyone else so we decided that we'd have to think about an intermediate solution and four exploring data is painful so you'll notice i didn't actually talk about a data science platform above and while serverless functions provide some capabilities for robust and regular jobs ideally the platform enables exploratory data analysis through scripts every data scientist now uses jupiter notebooks and we want to make it really easy to do the same on stellar data so now let's look at some basic analysis of some queries on our system so for one we'll start off with an easy query what account has the highest lumen balance i call this easy because it's pretty short but it's really cool because it illustrates how powerful even basic sql tools are so this shows some really basic sql syntax select from order by and limit those give you the tools to ask basic ordinal questions about stellar history select from chooses specific fields from a table order by orders the results of the field and limit says how many you want to see as you can all see the account with the most lumens is the galaxy void account which received the lumen burn last merity now a medium difficulty ferry how many payments of an asset are made daily so we show you some new syntax here date converts a time to justice day sum is an example aggregation function which takes a bunch of results and then combines them into one specific number and where can be used for various condition where clauses shown here finally group by will group by a specific field so this lets us pretty organize pretty quickly organize and group results by day compute daily amounts and do some pretty good aggregations all in all it's actually really simple to be able to make these sort of day-by-day analysis and it's really core part of some of the organizational metrics we track so finally a high difficulty query how many trades of a trading pair are made per day you'll notice that this has a lot of lines but the actual primitives are pretty similar to things you just saw it has some new syntax so we use with as to create some temporary in-memory tables to query and join lets us join together different tables on common fields so you can have some really big tables that you can now condition filter group so on so forth once again i want to say that like the queries are not the focus of this particular talk the engineering is much more of one but feel free to reach out to me either on the youtube chat or after i'm happy to provide more instructions on how anyone can make these queries we also put out a blog post earlier this summer that covers a lot of this and i highly recommend checking it out so forth and finally let's talk about some next steps to motivate these think about the downsides from implementation and we'll talk about some of the things we could do so for one going from slow to real-time frequency so new Horizon capabilities like the new ingestion engine help us get closer to real time because that enables much faster extraction of data from stellar core and history archives our awesome intern isaiah turner has been building a command line tool that uses these capabilities to read in data in close to real time and then output it in the expected schema and the link to it is right here in the slice second going from low to high observability fixing failures is pretty hard but task management makes observing and debugging a lot easier so while our current system wasn't unmanageable the number of moving parts made reading kubernetes logs the primary solution it's important to note that we added some sentry logging around business metric but the thing about all of that is that it shows you that a problem happened it doesn't really tell you where it did or what to do to fix it so combined with the above tooling isaiah has been working on an airflow task management system for the pipeline airflow is a task management system that airbnb open sourced a few years ago and honestly it's been great in our experience at being able to orchestrate a bunch of different smaller scripts being able to say hey this failed and giving a really nice ui for engineers to go and just retry different parts so this has the same overall flow as before it reads ledgers from stellar core it writes structured documents to google cloud and then it uses those as changes to the bigquery tables so this one is almost done it should be done next week and the link to that which is it's already open source is on the slides as well third going from private to soon public visualization we're thinking about displaying markets and corridors in a public-facing site like stellar.org it'll make it easier for prospective anchors to see what the volume looks like in and out of specific businesses and countries we're just reasoning about the right strategy in a way that meets both internal and external needs so once the new data system is stable we're going to see how you can leverage bigquery data warehousing to build a scalable web application on top of it it's its own engineering challenge because it's pretty hard to do that in a time efficient way but it's a really exciting one and i'm excited to get cracking on it fourth and finally data exploration is painful so a data science platform is very much tbd if anybody in the community wants to take this challenge on i'm more than happy to see some community implementation and feel free to reach out to me with either ideas or a desire to try to figure out how to do it i'm very happy to talk about it so that's all for me i hope you really enjoyed hearing about this pipeline and all the stuff we've been doing and i'm happy to answer any questions so one question that's been asked are there any cool projects using this data set that you wish existed so i'll start by plugging again the two things that i just said because i think they enable a lot of the cool projects so for one i think it should be really easy to see here's what all the major anchors on stellar are doing and it should be really easy to see what the volume in and out of specific quarters looks like and it should be even easier to see what the rates look like i think the rates are really hard to be able to do on this data set but really powerful so for example one of the reasons that the um the euro t to naira corridor has been killing it lately has been because the rates for that are so much better than what you would get when you have really good rates on stellar it makes the whole network work and i think that applications that surface information like that like the key killer applications of stellar are the most useful to leverage this data set in the short term longer term things that i think would be cool that leveraged this data set um i think it could be really cool to see how assets on the decks itself can function as a hedge against inflation through sort of price histories over time this is one of the things that people talk about as a goal for crypto and one of the things that with vibrant sdf has started working on and i think that if there were projects that demonstrated that longitudinal history it would be another really cool value for stellar in the network so another question what can a community do to help expand stellar and improve it for those who do not understand the engineering aspect of that so that's a good and interesting question i will say that you don't need to understand the engineering aspect of what i just talked about to use the data set that's one thing that we really tried to make sure we could do which is just being able to use some basic sql queries um and show some really powerful data what can the community do to expand on it um lots of things but within the scope of this talk i would say that it looks like telling people that hey stellar is really cool but then also showing them what the volume on stellar looks like so this is one thing that i've thought a lot over the course of the summer when we've had a lot of volume on ethereum with d5 right how do you show similar volume with stellar because stellar is one of the few layer ones that can actually do layer two things like that so i think demonstrating that value like that exists and showing people that seller isn't just a payments platform with xlm there's all this other stuff you can do on top of it i think that's one of the things that becomes a lot easier with really publicly queriable network history it would be really cool for community members to promote it in a data-driven fashion awesome uh so it looks like no more questions so last call if anyone has anything else but feel free to reach out to me either over key base my key base username is devnet nil or over twitter my twitter username is debna sir d-e-b-n-i-l-s-u-r i'm happy to talk about things stellar related as well as waste lovers data set in the community",
      "keywords": [
        "data",
        "easy",
        "stellar",
        "pretty",
        "system",
        "cloud",
        "pipeline",
        "queries",
        "make",
        "good",
        "tools",
        "things"
      ],
      "speakers": []
    },
    "2020-08-28-decentralized-community-funding.mdx": {
      "summary": "does that mean we're actually live it's likely okay would you like to take it away for us no dude you go ahead and intro all right welcome welcome welcome everyone uh it is fantastic to be live once again uh with my with my good buddy colton uh we're to be talking about stellar community funding um we've uh we've uh we've talked about this in the past but um it was kind of looking forward to a future date uh when it would actually all go live and lo and behold that day has finally arrived and so scf 2.0 after many many months of planning and building the ecosystem team is finally ready to release scf 2.0 and that's what we're going to be talking about today this is engineering talk so we will get into the weeds a little bit on some of the technical decisions and implementations that we have in this new version of the stellar community fund but it's also going to be a bit longer than normal engineering talks so normally in journey talks for like 15 20 minutes um this will probably go a little bit longer than that to make sure we do justice to all the updates and have all the information available to those who are interested in this update to the stellar community fund so i've got my uh my fancy slide deck open here and we're just gonna start walking straight through this i think it's worth taking a little bit of a look back uh as well as the the look ahead to kind of see where we've come from and to understand a little bit better why as well as where we're going uh so to kind of uh inform our discussion here let's look at our mandate so the stellar has a mandate and the sdf is aiming to follow that this is something we make public and if you just type in google stellar mandate you can find this particular quote somewhere buried in there with all the other uh missions and visions and mandates that we follow at the sdf when building stellar the stellar community fund so one of our allocations of lumens is dedicated towards the stellar community fund this this community funding initiative and it gives the broader stellar community the opportunity to vote on which projects deserve excellent grants this is a very unique fund in that it is the only one that really gives the the greater community a direct opportunity to impact the allocation of xlm grants the sdf has a pool of lumens that it has mandated uh to give out in certain scenarios and to certain entities to accomplish specific goals and tasks and one of those is this pool of lumens uh 12 million lumens a year that we give out via the community so the community can take part in allocating those and that's kind of what we're doing with this big update is to get closer and continue to iterate on uh what we've done in the past to align with this goal uh this mandate as well as um uh getting closer so uh we've we've been close to it but as the as the ecosystem matures we need to continuously update and make sure that we're aligned with our with our mandate so a little bit of history um the stellar community fund i would lump it together with the stellar build challenge so way back in june 2016 the sdf released a project called the stellar build challenge and the first place winner of that uh they had a different categories and different uh you know first place second uh first second and third place and first place was going to win 55 million limbs the price of lumens back at that time was actually less than a penny so we've we've come a long way since june 2016 uh entries in that very first stellar bill challenge included galactic talk and lobster amongst others so two projects that we at least i know i use just about every single day uh and then we move all the way through september 2018 to the last spc so the stellar build challenge was shut down at the number seven and then shortly after that uh zach who hopefully a lot of you in this community know the hero really of the sbc kind of took over uh ownership of that and then transitioned or as the spc went out he brought back in what we call the stellar community fund which was really starting to align more closely with the community vision of the um the mandate to have the community giving away these lumens are allocating where uh those 12 million lumens should go and so that was carried out by by zach he built it designed it we've been running that for a little over a year now uh five different rounds and now we find ourselves here august 2020 with the scf 2.0 and um these these different sbcs and scf like they were all um good and they all worked well in their in their time there may have been things that would could have been improved or changed um but we did that right so as as things can be better we make efforts to improve them and that's really what the scf 2.0 is trying to do and it's it's making maybe a little bit bigger stab an improvement something maybe akin to what zack did when he initially created or invented the scf the original scf we're kind of taking a big step at that so rather than just adjusting some rules we're actually restructuring it in a pretty significant way taking the best of both the spc and the scf into a into a new fund which we hope uh will provide a fantastic funding mechanism for a long time yet before you keep going i do think it's worth highlighting um the original the very first round of scf do you remember how voting took place i do i do yes the the very original round of sef we did a vote in a reddit thread where people just like typed in their uh their preferences or their votes and we had to like hand count them zack hand counted them and i hand counted them and then a community member came up with a script to help count them so we were like manually counting comments in a reddit thread so even scf 1.0 has come a long way since the very first iteration yeah that's exactly right we're always trying to iterate and a lot of it again like it's not that something was bad and we're trying to make it good it's that as the ecosystem matures we have more members more participants and interest grows uh necessarily the fund itself needs to change to better suit and host the kind of growth that we're seeing a little bit of a fun fact the spc and scf is actually where i came from my intro to stellar came from the sbc with entries like popcorn color glyph and stellar ql and then in the scf i uh had stellar auth and i think so one of the one of the big focuses for me is i've thought about the redesign of an scf and like where can we actually make important and meaningful changes um is to like the the funding obviously a big focus of that is the funding right the actual money that's handed out um but stellar community funding is as much about people and relationships as it is about giving money away if you talk to winners or or participants that really took the scf or sbcs seriously a large majority will say that the relationships and feedback that they received were actually more valuable than the money that they received the money is obviously helpful and that's why you're here but a huge part of participating in this is also the relationships and the actual community aspect so sure it's funding yes it's stellar but the community aspect is more than just the world can vote it's also the world can participate anybody who's interested in still anybody wants to talk about um fintech and uh finance and moving money around and transferring value anybody that that's interesting to they can participate and talk and give feedback and find projects that are interesting to them and find their place to communicate whether that's competing actually submitting entries writing documents you know submitting with events or documentation or actual projects or just combing through entries and seeing which ones you feel like are valuable and interesting and something that should actually receive funding it's a it's a community fund and being able to focus a bit more on that aspect is something that was really important to me in the redesign of the sef is yes the funds are great and we need to make sure we do the best job possible of allocating those appropriately but a community is a huge part of this so making sure the people are still at the center so if i were to summarize kind of the driving principle behind the redesign for me it's the right resources in the right hands at the right time resources being funds as well as feedback right hands being making sure that we're getting these to actual projects making sure the filtering process by which entries come in and then get funding that that flow makes sense that nobody's being overworked in the review process that there's this little angst and struggle um i mean it is a competition so you're going to have some of that but uh combing down on the unnecessary pieces of that and then at the right time so making sure that our our funds reflect uh the amount of money uh for the time that the project has spent uh on it and the amount of effort that's gone in um so this to me is really kind of the driving force behind uh the theme of the redesign and so with that uh those who aren't familiar with the scf currently it's it's a single fund that happens four times a year where three million lumens are given out uh split between uh eight different projects in this new scf 2.0 there are two funds there's a lab fund and a seed fund the lab fund being the smaller experimental kind of open source focused documentation events the idea of like seo market presence getting the the word out there as well as real world's real world stress tests so building things that maybe aren't necessarily perfect for the stellar use case as it stands but might help stress test the network um that would be our lab fund and that is 500 000 lumens given out four times per year split between about 12 different projects and then we have the seed fund the seed fund is for bigger projects this is to help viable innovative first-mover businesses and utilities to get started on stellar these are projects that we hope will still be around in the prize pool for that is five million lumens split between three to five projects and that seed fund will happen twice a year and so by splitting these funds i mean what we see right now in the scf is these two different kinds of entries larger projects as well as like hackathon type projects and they're both very valuable to the ecosystem both can generate a lot of excitement the problem is right now they both receive about the same amount of funding where a lab fund a hackathon project really it's it's worth doing it it's worth competing for a much lower price and so you'd still be willing to participate whereas in the seed fund if you don't get enough money if you don't get enough funding it's really hard to keep that project alive and keep it going and so by splitting this up into two very specific and defined funds hopefully you'll know better which one your project fits into and then you receive the funding that's appropriate more appropriate for the kind of project that you have i will say that this necessarily means that we also have to introduce a brand new component really two components but maybe one's more of an update but we need to introduce the idea of panel of judges as well as an update to our voting mechanism so we have a voting mechanism right now um and we technically have a panel of judges but right now it's the whole wide world it's the whole community and uh so let's say we have 20 entries that come in how do we narrow that down to like a final entry say with 300 entries come in how do we narrow that down to some sort of manageable list that a final uh voting round can happen where a reasonable amount of funds can be allocated and there's not a lot of voter fatigue um with having to comb through 300 different entries the problem right now is that the community the same community technically will will vote in both of those so you're voting once you're picking all the projects you're combing through lots of entries and then you kind of have to do a whole thing over again in the final round so you narrow down and then you you have a final vote to allocate funds in this new scf 2.0 we're removing or really splitting that so there'll be a panel of judges which is a very select group of community members who have uh dedicated a lot of time and effort and energy into stellar building on stellar so they maybe have won spcs or scfs in the past they might be part of the infrastructure grants or the enterprise fund people that are really core to the stellar ecosystem as well as a few sdf employees like myself colton zack anka and others and then those the the the role of the panel of judges will be to filter through all of the entries that come in for either the seed of the lab fund and narrow that down to a final list that they feel is of highest quality and then those finalists will make it into the community round uh voting which is this flaggable quadratic voting and with this we're really trying to add velocity or add um sentiment to a community vote right now it's very one-sided where uh or at least it's very static where when you have a vote you can say i like this project this project and this project there's no intensity you can't say i really like this project or i kind of like this project or even i really don't like this project all of those sentiments are quite important to ensuring that the actual amount of lumens the the voting power um allows um the sentiment or that that curve to most closely represent the actual community sentiment that's participating in that voting round and we're hoping that through this flaggable quadratic voting that we can achieve that um this is kind of more of the the technical aspect of this talk and colton is actually he's the one who sold me on the idea of quadratic voting and i'm going to hand it over to him for a little bit i'm going to bring up a screen here with a demo of quadratic voting um and then just kind of let him explain where we stumbled upon quadratic voting how we've implemented ourselves and why we think it's worth trying yeah so we kind of came across quadratic voting when uh looking at how the sort of ethereum ecosystem handles funding um in particular a project on ethereum called git coin uh they have this uh sort of funding mechanism called quadratic funding which is another flavor of sort of quadratic voting where basically they allow a group of people to make donations to a project you basically take this square root of each project or each donation you like add them all together and then you square that and you kind of get a matching number for that poll of donations and so we kind of borrowed from that idea and took the sort of original iteration of quadratic funding which is ultimately quadratic voting and like tyler was saying this idea of quadratic voting allows you to specify intensity towards your preference of a boat so in a traditional voting system where it's just one person one boat you have this problem where when you're voting for multiple projects you can't express how positively or negatively you feel about that project and we thought you know what since we're doing this community boat we want experts in the community to be able to double down on projects they really like we want people who are avid users of a project to double down on projects they really like but we also want people to be able to give uh super valid opinions about projects they really like so if they think something is over performing then they can also downvote that project which i think tyler will show in this demo here so i'll kind of let you show how it works and it's much more intuitive once you kind of start clicking around and get a feel for how the voting mechanism works uh but we we have a better explainer on the website and we also have some resources we can provide for anybody who wants to sort of hear it out or learn more about it yeah absolutely yep and i think it's worth mentioning too like this is an experiment in a sense uh because i mean colin remind you every single time that uh like we're trying this i think it's gonna be fantastic we'll see uh that's the beauty of the scf is we get to iterate and make improvements and really see what works and what doesn't but to kind of go through a demo here um ultimately there's a prize pool right so you've got an amount of money that's being allocated by percentage vote so as votes are given for or against a project their percentage compared to other projects changes and that necessarily means the amount of prize money that they're winning changes and this is something that we really want to highlight in the new voting design um which by the way this is a demo this isn't actually what the voting site looks like but this is a this is a good demo very clean and i hope it will help kind of allow you to play around with what you have in quadratic voting um but as you have like let's say we really like this unbranded wooden soap project and we would like to give it some some votes we would like to say i like this project if you give it a single vote you'll see right here by that by adding a single vote you're going to give it 27.69 and so that is going to increase this number by that 27 to get us to this number you've added 27.69 but that 2769 has to come from somewhere and it came from all these other projects 227 from here 30 bucks and and uh two pennies from this project and like that's how you can kind of upvote download you can sort of take money from other projects and allocate it here but it's important to understand that that's what's happening as you start to add uh votes to a project really you start with this number of credits and then as you vote those credits are burnt and the quadratic the the scaling part of this happens is you start to upvote or downvote a particular project multiple times so if i click this again it's going to be two votes but two times two is four and so it's going to burn uh four credits so we voted twice but we've burned four credits so what that means is as you start to click on this project more we voted five times but five times five is 25 so we've burned 25 credits voting for this project five times if we start voting for other projects let's say i also really like this refined cotton shoes i'm a big cotton shoes fan myself we don't want this project to lose its 27.76 so we need to make sure we get that back up and so we're going to start to add a little bit of money back to this project so that this one comes up and so we've added 661 to this and 24. now we haven't necessarily like it's still coming from the same pool it's just allocating from all these other ones taking money from those projects and putting it back in there but you can in real time start to see how your votes directly affect the outcome as it stands when you're voting and you have these credits that you can start to burn but instead of it just being static five and two uh it scales quadratically so that you can't overpower a vote um in a particular direction and uh you allow that that sentiment again to to translate much more closely to the the way that people would actually vote and actually share their sentiment if you were to poll a community another thing that i think is really important again this is this is static this is standard quadratic voting but you might start to see a problem here and this is this starts to get into a little bit of the issues that you find when you are giving away money in the public is manipulation and there's lots you can do um uh when you're registering accounts like you make sure you have accounts that are voting are using a system that's not free to create like uh in our system we're using sms verification so you have to have a phone that can receive sms messages to be able to vote in the past we've used key base which has some ability to to find who's voting to decide like to make a decision on whether or not uh you believe them to be a legitimate individual human being that doesn't have a lot of copies of themselves in the database that's voting but manipulation out in the public is is quite difficult to do um in the sbc right we just had a panel of judges that would pick the projects who we were we were sure were we knew who they were but when you open that up and you say well let's let's open this up to a real community vote it's great until the word starts to get out and you start to see wow we can actually win a lot of money and the manipulation becomes much more worth it and if you don't increase the friction if you don't add a layer of friction then that manipulation will just start to scale and that's really what we've seen in the past particularly two scfs four and five and really really strongly in five you can go back and read our post-mortem on scf5 where voter manipulation just kind of blew out of control and we knew this was going to be the case because we were using key base and it's free to create a key base account and so once people start to get the word like i'll just create a free key base account start using that to vote and so you have to find ways to counteract that and so circling all the way back to quadratic voting it's not enough to just allow kind of sentiment changes you also need the ability to sort of flag things so if a particular project is way over performing or underperforming what you believe they should like let's say this project down here uh well let's say a refined granite chair just it's taking off we like this is they their website doesn't even work why is this project doing so well you might be tempted to use all of your credits right 10 times 10 is 100 credits to to burn and try and get them down uh from where you believe you know they shouldn't get this much like they don't have anything why are they getting this much but the problem is by downvoting them 10 times you haven't really affected the vote at all you've just tried to counteract uh the bad acting that they that you believe that they're doing and so a better alternative is adding this idea of flaggable quadratic voting where rather than using all your credits to counteract a bad actor you just put a sentiment so i want it to go up i feel like this is under performing like somebody's attacking this project and down voting it and they shouldn't and then i'm going to use 16 credits in this case to add a flag that basically just says hey moderators can you please take a look at this something's fishy and you could also go in the other direction too you say this is way over performing i think somebody needs to take a look at this the the panel needs to take another look something's fishy with this but now you've only burned a few credits to make that flag and you still have in this case 83 left to just carry about your normal business of upvoting and down voting other projects as you please so rather than having to spend all of your credits on counteracting bad actors you can just flag it the panel will take a look at it and you don't have to worry about it anymore you can carry on with your vote i think that's really important um in the iteration process of figuring out the best way to have an open community fund where you are giving away a relative relatively large amount of money and manipulation is going to happen it's just how do we counteract that and how do we allow the community to take part in fighting against that so that the fund is uh the easiest the lowest friction but also incredibly fair and well run and as time goes on we'll see how this works and we'll make changes as necessary yeah and we have a we have a couple questions coming in about this so uh one of them is can you recast votes and the answer is yes until you like submit your final vote right so you'll be able to kind of dynamically adjust your votes however you want throughout the system so say say you upvoted uh one or two projects and you decide to change your mind before you submit you'll be able to do that like it's not set in stone until yeah it's not click submit that's a really good question it's something i've kind of gone back and forth on could you like update votes um so there's two kind of problems that i see with that one if you're able to like update votes essentially you would make a change and then that changes public to anybody else that's also voting and in the case of a bad actor you could create a bunch of fake accounts really skew up the vote and then kind of reactively go back and change all of that you know like remove all your votes or update your votes in a particular direction and now it's not all that helpful and so uh i don't think being able to update your votes is all that um necessary i think would probably do more damage than it would do good the issue then obviously is well if i if i'm allocating my funds but then the project changes significantly it gets a lot more votes than it did when i voted then maybe i should just wait to vote to the very last minute and i think we'll have to see that because i don't really want people to wait until the very last minute to vote um but i don't i don't think in general that's going to happen it's just something we'll have to evaluate and i feel like the way we've done it now is probably the best way to start and then we just have to see what happens through the first like lab and seed funds um and then if adjustments are needed either on updates or like the frequency that you can make updates or i don't know there's different parameters you can add that might um help with some of the pros and cons of either one of those options yeah i don't think retro like going back uh and changing a vote after you submit it will really ever be like a viable option but you'll be able to do it before you submit uh the other one are there any features built in to prevent flag spamming um not i don't think not in the ui or anything like that there's nothing to prevent it like ultimately if people flag spam that doesn't guarantee that a project will be disqualified or anything like that it's more of just like a hey you guys really need to take a look at this so if there's one particular like say one project gets one flag response uh it probably won't get looked at but if it gets 20 flag responses then it'll probably end up getting looked at um and if somebody is just flag spamming and there's no uh obvious manipulation taking place and they just won't be disqualified or anything like that yeah and that's a it's a really good question and i think uh hopefully a good answer to that is that flags don't actually affect the prize allocation it's just a flag you have to spend credits to flag things so you can't flag every project you can only flag up to one less than half or i think maybe one more than half of the projects um when when you're actually making a flag but flags don't count for a positive or a negative when it comes to the final prize allocation it's just like hey take a look at this this this one vote will count towards a positive and so you can add more positivity if you're like well if this doesn't get improved i want to make sure that they get something um like you could do that but at the end of the day the flag doesn't really do anything as far as changing the vote like nobody else is going to see projects that have been flagged it's just a note to the panels to the jud the panel of judges for that round that something might be fishy and somebody needs to take a look at this this entry all right let me double check make sure i did not miss anything okay i think we're good on like the specifics of quadratic voting the other did we did we touch on why we think like linear distribution is not ideal and we did not call them would you like to uh wax eloquently sure let's talk about linear distributions so one of the big pro you know and we call it a problem but it's easy to say this in hindsight but one of the big problems we identified with the current model of scf is that the distribution of funds is really linear right like if you look at it on a graph it looks like something like that but the big problem with that is that the uh complexity of any given project in a round can be very different so like a project that gets second place and one round could be like a full-on business and the project that gets second place and another round could be like a hackathon project and if you have this linear distribution of funds that means those two projects got the same amount of money just based on which round they submitted this isn't ideal obviously because those projects are of varying quality they need different amounts of money to function properly they need different amounts of money to scale up properly so we had a the reason we consider quadratic voting is that the community can kind of decide okay look this project is it needs way more money than the project next to it in the competition and so we can allocate our votes proportionately and get them more money in the current voting system you just literally can't do that um so we wanted it to be more dynamic somebody just asked another question sorry that distracted me anyway so we wanted the allocation of funds to be more dynamic to be able to fit the needs of the projects who were submitted and allow the community to fit those needs with their vote as well yeah yep absolutely and i think like a linear when you don't have a quadratic system or you don't have a panel of judges you have to be really careful with how you allow votes to be allocated because it would be really easy for the wrong project to receive um a ridiculous amount of money through manipulation and so you kind of counteract some of the manipulation by not allowing a project to vote for themselves three times or only and so you enforce like okay and in the final round for example right now you have to vote for three projects you can't just vote for yourself um and that's that's really important because if there is a project that's kind of running away with the vote um they still have to allocate two of their percentages they're 33 66 70 percent of their vote has to go to other projects um but that necessarily means that the the the projection of votes or the distribution of votes is going to be linear because you don't have a lot of influence over a really strong opinion in one way or another and so once you have both a panel of judges that ensures the finalists list is always high quality you have quadratic voting which allows individuals to very strongly point in the direction that they want but also if you vote exclusively on one project you only have 10 votes whereas if you spread it out you have up to like 100 votes like you can really spread that out your influence out over a large range of projects if you want to uh and so the the ability to manipulate even without the other features that we have built in through sms messaging and um kind of the the improvement that that is over key base that's already better and so once you add on top of it the sms verification um hopefully again the the theory is that we'll have a much more um dynamic voting mechan mechanism that will better reflect the actual entries in a particular round rather than just kind of always being linear yeah for sure and like even you know if it even if it ends up being a problem where like we have first place always wait out performing or something like that you can always tweet quadratic voting like for example you can remove uh one of the you can reduce the credits from 100 to 99 and all of a sudden in order to vote that requires you to distribute your tokens across i think three projects or something like that to use all of them so you can make small tweets like that and it can have you know big effects so if there comes a time where it feels like we need to make changes like that we can easily do so one of the projects that came up uh was or not projects questions was will we be able to engage judges ahead of time to address any concerns they may have regarding technical feasibility or other issues yeah fantastic question absolutely you will um the panel of judges is probably going to be about 10 um individuals per round and there'll be a lot of discussion back and forth um on on the projects that they feel the panel feels our potential for finalists and there's still some like the panels like we're going to have to figure it out how how the judging actually works like if you only have to go through 20 projects 30 projects that's pretty that's relatively uh easy to do and to give a bit more hands-on experience for every single entry whereas if you have 500 which i think our last spc had something like 500 entries um not everybody's going to be able to be reached out to and so there'll be a little bit of back and forth and you need to make sure that your entry is really strong and really solid and you don't feel like there should be a whole lot of back and forth because what you've put out there is really good um you need to put your best foot forward and really make an impression and make it a proven and not assume that if i put something out there that's kind of half-hearted that it still has a chance because someone will reach out to me that may or may not be the case so i would always encourage entrants to really put maximum effort that they that they feel is worth it for them into their entry and then as the panelists go through the entries hopefully you get someone to to kind of adopt your project and start reaching out and kind of provide some of that relationship and that feedback and if not um the community is always available like there's there's a ton of people out there that are never going to be on a panel but that can still provide feedback for your project and help you improve it so that when it does come time for the next lab fund or a seed fund your project's even stronger but it will be important to kind of serve yourself first in this in this competition particularly as we start we continue to grow and um have more entries um to not assume too much of our panelists but to make it as easy as possible for them to recognize that your project is insane that it's amazing and it deserves a little bit of a longer look in the same way that you would make a pitch to any other fund any other uh funding opportunity really make that strong sort of elevator pitch if you will yeah and somebody asks if the quadratic voting demo is on github or if it'll be on github later uh it might be i can make sure we put that up um for sure yeah it would be good for other people to look through that you can obviously play around with it at fqv.versal.app um but i'll make sure i have the code available for um for review and tweaking sweet and then somebody said if a project is very ambitious its product has to be way more advanced than others because people can sell the idea that they need way more funds when this is not true yeah of course i mean that's kind of the nature of like a competition right you have to sell people on on your vision and what you're building anyway and if somebody does a better job of selling the fact that they might need more funding or something like that and the community supports it and wants to get behind it that's you know more power to those people right like they've they've done a good job of pitching the community and it can also be the case that a project uh very obviously needs way more funding but they do a way worse job of pitching their idea to the community and they won't receive as much funding that's kind of like an inherent um feature of competitions rather than like some problem that you can kind of easily solve outside of having you know one entity pick where money should go yeah yeah i think it's worth speaking to that a little bit particularly as somebody myself who competed in both the spc and the scf it's not it's not crazy easy it isn't easy to win these competitions but if you treat it serious and you treat it for the fun that it is and really put your heart and soul not just into the code and into your idea and kind of um i don't know attaching yourself personally to your project but kind of saying that this is a community effort i i want to make something that's valuable to other people that necessarily like if that's a priority of yours to make something that other people care about necessarily that means you're going to promote it you're going to talk about it because you want people to use it you want it to improve their lives if you're just making something that's fun and you don't really care if people interact with it or benefit from it again that might be a really good lab fund entry but you're still going to need to market you're still going to need to get people's eyeballs on it and some buzz around it and that can be a little bit challenging i think as developers um to like think about how do i promote this thing i just want to code it and i understand that challenge but it also gives you that opportunity to kind of get a leg up on on other developers or entrants that aren't willing to do that um and like we want projects to win not just because they did a good job but because other people are going to use the the project that they're building and see the value and get it if you build something amazing but nobody knows about it that's that's kind of sad that's unfortunate and i'd like i'd like to see amazing projects get visibility and i want to help with that as well as as you taking that effort and and putting it out there but uh it's it's both of us the the actual fund itself putting facetime on to the projects that are highest quality and putting the most effort in as well as you really selling that and saying that i've built something and it's amazing and here's why doing blog posts and putting a little bit of good care into the design the actual ui and ux thinking through what would it be like to judge this project and how can i improve that making sure that they're a good um demo username and password available if your if your project has um a login barrier like simple things like that a video explainer showcasing your team putting your face on a camera like those things can really go a long way um and that's not it's not like the scf's the only fund that's like that anywhere you try and get funding anywhere that it's a competition that's going to be true that those who put the most effort into communicating and selling their project they're going to do the best um particularly if they've spent a lot of time actually making their project good right like you don't want to promote something that really isn't all that great but if you have both of those things together like maybe skip a round of lab fund and really dive into um having both of those pieces a really good project and really good marketing and really good blog posts and and combining both of those things together to really give yourself the best chance at succeeding um uh in the lab or or in the seed fund yeah and it is worth noting like i think going forward in different rounds of seo if we're going to do a really we're going to try to do a really good job of like highlighting what made projects successful in any given round that way like everybody can kind of learn from each other and there's not this like black hole of you trying to figure out uh you know what do i need to do to to perform well in scf i think we're going to try to do a way better job of of getting that information out there so everybody can kind of learn from each other and it makes the competition uh you know better for everybody yeah absolutely yep some blog posts on how to place well in the scf you know what what are judges looking for like again adding the relationship piece and putting a little bit more focus on that i think treating the scf like it's a product like it's a thing rather than kind of just a something that's also going on somewhere out there you know good luck um as it's kind of been a little bit in the past um trying to focus a little bit more on this is really important to the ecosystem and building up uh the resources and the marketing and um the the communication relationship aspect of the seller community fund so that it just provides that really strong opportunity to get funding and recognition for the work that you're doing instead and really incentivize you um to want to build on seller and to give you the right route to succeed whether that's through funding relationships building you know going from the lab fund to the seed fund from something fun to a business like there's a lot of different tracks that individuals can take um but really making like highlighting those and helping people along and including the community in that so it's not just me and colton trying to do everything um but that the community knows where they can get involved and where the gaps are that need to be filled so that this thing can really take on a much stronger community sense and finding where that where that is where that's needed and where it can best fit um as the fund again continues to mature as it has been sweet i think we're caught up on questions so we can move on in the presentation all right super duper not not too much further to go appreciate everyone for the for the fantastic questions these are obviously two very important components that really highlight the difference between what we have right now and what we're launching today so kind of in conclusion two key takeaways uh the sdf funds projects um and so if you've got a contact you know clients or yourself um who's looking uh either maybe isn't a good fit for the infrastructure again or the enterprise fund which we also have but are strictly sdf managed refer them to the scf you know point people towards us get yourself involved whether as a judge or as a participant with a split between the lab and the seed funds we have a strong funding avenue for more mature and serious entrepreneurs while still providing a profitable playground for new and curious developers so we've really got that platform that's going to support a much wider ecosystem in a much more effective way uh so we fund projects but you can also help um and i cannot emphasize this enough like we we get you know this is a stellar fund we get that it's a fund but let's let's uh let's really take some time thinking about the community aspect of this to get involved um uh join the seller dot community fund key base group um i would highly encourage that that if this is something that's interesting to you whether the design of the fund itself the the participation as a voter or your got questions about the entry how to enter or you know anything related this is kind of where the community is going to talk about um about this other community fund so make sure you jump into stellar.community fund and then also make sure you participate in community discussion whether that's on key base or in different discussion groups as well as the voting phases so when voting comes out participate get involved you know spend those credits put them where you think they should go and then also help to share the story of solid entries as well as referring those potential participants so uh as you have social media accounts and you want to get the word out of projects that you care about that you i mean if you've put credits toward them share their story like get them out there so that they can not just receive funding from from the sdf but they can actually uh get involvement from the greater community maybe they come back and participate in another lab fund with new improvements and you're starting to invest and put energy towards people and not just projects and really want to see individual developers and um contributors creators succeed whether that's in a particular project or across multiple entries um starting to invest not just in projects but people is something that i'd really like to see coming out of this this update so that's the uh that's the close there's no context behind that picture you get no context this is uh inside joke now this is uh yeah thanks for watching before no before we before we wrap it up we do need to share um the announcement blog post and we need to show the site that's correct so you're ahead of yourself sir um i'm gonna share the announcement blog post right now in the chat so if people want to head over and read that it's basically like a nice shareable summary of everything we just said fantastic will you be able to pull up the site nice tada amazing so this is the all new and and how convenient somebody just asked what the dates are for the first round so we can go over that fantastic question um but the new site is over at communityfun.stellar.org a lot of work has gone into the site over the past i don't even know how long it's been huge collapse she she's a web flow wizard now designed this uh built this whole site basically on our own unbelievable incredible huge props to anka for this incredible site uh but yes the stellar community fund has a marketing page and it's not just here's the rules um it actually outlines what it is the two different funds we've got uh we've got we got an art we got a marketing video what we're big we're big leagues colton yeah i know but anyways the website has a breakdown of both the funds it has uh you know a couple step-by-steps it's got some featured projects it's got some cool illustrations of little astronauts which are amazing but each each tab on there so the seed fund tab and the lab fund tab i believe have uh not only prize pools but the dates on when they start and a countdown timer uh which one are we on right now this is the lab fund okay so the lab fund actually i don't know what the today's date is august 28th which technically the the uh the lab and the seed fund are open for submissions right now which i don't know if i would submit today unless you've just been sitting on an entry but they're officially both open right now so you are welcome to begin submitting projects to these brand new lab and seed funds uh so the lab fund obviously will close first it's the shorter fund um opens up today submissions will close on september 21st so according to our countdown timer that gives you uh about 23 days to submit to our very first lab fund uh the community discussion will then i'm sorry the panel discussion will begin then on september 21st and go through october 12th then october 26th after the community discussion where the community will kind of go through the entries and ask any follow-up questions and have an opportunity to engage in the entries uh the community voting will begin that'll go on for a week as normal on that new flaggable quadratic voting and it all happens right here so rather than there being galactic talk and the voting page it's all integrated straight into start i'm sorry communityfun.stiller.org all integrator right here you can go and log in if you are an entrant log in with your phone number and that allows you to enter your project if you're a panel judge which there's not too many of you but um if you are a panel judge panel judges will log in with their key base account that's how we differentiate between entrants and panelists and then you can go through your projects either to enter or to begin the selection so this is all very obviously brand new experimental in a sense but we're very excited we put a lot of time and effort into this but as you have questions or feedback you can reach out on that stellar community fund key base channel or go to this connect page where we've got a form down the bottom where you can also reach out as you have issues bug reports other questions if you've got partnership opportunities anything like that you can reach out through that form and then just to cover really quick on the seed fund timing you can check it out yourself but submissions are open now and those will actually go all the way through january 18 2021. this is because seed fund projects are big projects these are not quick hey i've got an idea this weekend these are big projects we want to see businesses coming out of this that will last a year so we're putting lots of time available for submitting um your idea to the seed fund and then panels will begin selecting those january 18th that'll go on through till march 15th where the community discussion will begin that'll go through april 26th and then finally on uh may 10th the community voting will end the community voting for this is actually two weeks um but then may 10th the first seed fund will close out if you have other questions about the rest of the dates those are also in another community post that we're putting out talking a little bit more about the technical details behind the stellar community fund yeah and if you if you go through some of the like submission requirements and it's still not clear please reach out to tyler or me or anybody else to kind of discuss where your project might fit uh whether in the seed fund or the lab fund and we can definitely have that discussion and then you know see which part of those sort of requirements and descriptions were confusing because it's extremely important um that we clearly communicate the separation between the two yep so we've done quite a bit of writing both on those blog posts to explain the new sef as well as on these kind of these couple how-to articles as well as the guidelines rules the phases uh in the projects or in the rounds uh as well as just a look at previous winners but as you go through that content if there are things you feel like we could do better i mean again this is a community effort not just in the fund itself but in the actual design of the community fund so we're would love feedback and improvement ideas or are the articles that you would find helpful you can always submit those through that form or just in the key based group to make suggestions sweet and i think we've been going for a long time so we can wrap this thing up yeah i mean it's i'm super excited i'm i mean if you can't tell i'm i've we've spent so much time on this uh as someone who used to participate like this is the fund i would have wanted so i i'm so happy and excited to have this live can't wait to see what people build um watching to see how it continues to mature and iterate i would love to see the community get more wrapped up in the community fund and engaged and have a bit of ownership around what it is and how it operates um so excited to be at a spot where we can finally launch this new thing and uh really be starting continuing but starting from a strong place to continue our community fund efforts in aligning with the mandate that we have for this particular allocation of lumens sweet thanks everybody yep thanks guys as you have questions again reach out otherwise it's been a lot of fun explaining it walking through it and i can't wait to see what you build and hopefully won't be too long before uh before we have another one of these uh live hangout shows maybe even next week stellar podcast live next week there's the plug",
      "keywords": [
        "community",
        "fund",
        "project",
        "projects",
        "thats",
        "voting",
        "make",
        "vote",
        "those",
        "stellar",
        "through",
        "something"
      ],
      "speakers": []
    },
    "2020-08-14-deposits-and-withdrawals-in.mdx": {
      "summary": "hi everyone my name is morley zai and welcome back to stellar's engineering talk series i lead the app team on vibrant and i'm going to talk to you today about how our app handles deposits and withdrawals at the end of my talk i'll field any questions you have i think there's a qr code at the bottom of the broadcast or you can drop the questions in the youtube chat and i'll answer them at the end so first i'll briefly explain what vibrate is in case you haven't heard of it so we just launched this week in the app store it's a soft launch for now it's an app that lets you deposit local currency and convert them to and from the usd token on the stellar network like i said we've soft launched this week our first market is argentina because that's kind of where people will see the most benefit and our goal is for people to protect themselves from currency risk and um we're hoping that the app is easy it is is easy enough to use so that people uh ordinary people can use it not just people who are really into current cryptocurrency and understand you know how the stellar network works um that way the most the most amount of people can use the product and realize its benefits so for this app to work in that with that goal people have to be able to take their existing money uh which can be in cash or in their bank accounts and get it onto the seller network the vibrant app doesn't actually do this step so we use third parties which the stellar network calls anchors to handle this exchange so first i'll show you what it looks like for a user and then i'll go into the flow and show you what's happening under the hood so we're going to go through a test net version of the app and we're going to use the stellar reference token which is kind of a reference reference implementation for step 24 and has the the same deposit you api that the actual production anchors use so when a user wants to add tokens from outside the app into the app they have a few options the one that we're going to talk about today is is getting money from outside the stellar network into the network so again this cash credit card or bank account deposit so each anchor has their own policies about minimum and maximum deposits uh so we have to show that to a user and we also want to give a user a rough explanation of how long they can expect this deposit to take the user will see a ui where they can enter their deposit amount and any uh know your customer information that the anchor requires and then the the user will see instructions about how to complete the deposit so if it's a cash transaction they'll see how to deposit the cash if it's a bank transfer they'll see instructions of what they can enter into their bank um if if they're deposing with credit card they'll see a credit card form basically it'll it'll tell the user what to do next after they've they've done the step um if if the user has the app open when the anchor when when they're finished with their part and it's it's the anchors turned to do the processing then they'll see a confirmation screen and when the actual deposit resolves much later if they're if the app is open they'll see a notification in the app if the app is not open they should see a push notification so i'm gonna i'm gonna go through the exact same flow and tell you the precise api calls and specifically the uh the sdk calls that we use to to make this happen so our app is written in react native so we use a javascript wallet sdk that stellar maintains to handle the interactions with with the anchors the wallet sdk contains several tools that make it easier for wallets to interact with the stellar network and one of the most important ones that we use is the deposit provider there's also a corresponding withdrawal provider and this just provides a really easy to use api for step 24 and some common um use patterns that you'll need to do with them so firstly uh we we want vibrant to be as easy as used for as possible for users um so that means we want to we want to pick tokens that uh where we know the anchor that is issuing them we understand that their their business practices are are what we need that they're legally their sound and their country and that their user interface is clear and understandable so so for now we have a hard-coded list of the currencies that we support um and each time we call out to an anchor we need to authorize that um that call and and uh let the anchor know that the person who's making the call has has uh ownership over the the stellar token that they want to deposit withdraw from so the way we do that is uh we request a step 10 auth token from each anchor now the the actual stellar key on the app is secured with the wallet sdk's key manager class um it the key manager class also has a function called fetch off token and that that handles the full exchange of the challenge uh transaction and signing the challenge transaction it basically handles that that um hand-off so all the app does is call fetch auth token on the key manager and then we we also call deposit providers set up auth token so that subsequent requests using deposit provider will be authorized with that token now there's an implementation implementation detail right now where we don't we've chosen not to worry about timeouts and we just call we just fetch the auth token before every call but in the future we might have have smarter timeouts because for each step 10 call there's there's two round trips uh and that can get expensive especially on mobile where the connections aren't as good but for now we don't want to worry about timeouts so we just get an auth token before every api call um so on this screen when we we need to show the users roughly how long a transaction will take to process and minimize the maximums so the positive provider has a function get asset info that fetches these minimums and maximums it does not have i don't think it has or it has inconsistent support for processing time so for now those are hard-coded on this screen when a user taps the continue button we use a the start deposit function on the deposit provider to initiate the deposit and this request includes some information that makes the deposit a little bit smoother so we we send to the anchor the wallet name and the url of the wallet and that's so in some cases the anchor can customize the ui to be closer to the wallet uh we also include some some information that that pre-fills some know your customer fields uh so that right now that's email phone number and name that's basically all the information we collect from that vibrant collects from the user again that's all in the goal of making things as easy as possible for the user um the anchor will respond to the start deposit request with two things one is a url and the other is the an ID for the deposit we're going to use that ID a little bit later but for now we we use a webview to load the url and this loads a a user interface that is a um a web user interface the anchor manages that that user interface they're in charge of everything that occurs in that web view um this is going to be kyc info amount um they're going to generate those those uh deposit instructions later basically anything that the anchor needs to be able to to do this deposit for the user since the web a web view is a black box we can't really tell when the user is done and when the anchor has to take over um but the app the app needs to react that information we don't just want to sit on a page we want to be able to know when to move on from it so to do that we need to ask the anchor for all that information so in order to do this we need to use the deposit ID that the anchor gave us earlier so so firstly once we have the deposit ID we save it to our servers so that to vibrant servers so that if the user closes the app and then opens it again later we can resume this session again and we use a function in the deposit provider called watch all transactions it's basically it basically keeps a channel open to the anchor and updates uh provides a callback whenever that transaction changes status so this is kind of the object that we get from the anchor and the important field that we're looking for is a status field and that's lets us know where where the transaction is in its workflow usually anchors only create this start returning this object after the user finishes out the form sometimes it happens slightly before or after um i think it will the status will usually be incomplete if the user has is still filling out details or the anchor still needs to collect information um once the user is so another another another status it could be is pending user or pending user transfer start so whenever whenever the status is describes a state where the user still has to fill out information we continue to show this screen um and again we if you close and reopen the app we use the depos deposit ID to resume the deposit um and these this uh this object also has a more info url that can can resume the deposit so what when a user is in the state it's possible that they they change their mind and they don't actually want to go through with a deposit anymore maybe they don't um maybe they just see a reason they can't do the deposit so so when a user is in a state we we show this cancel pending transaction button at the bottom of the screen and behind the scenes all that does is remove the deposit ID from our servers so we no longer we no longer keep watch of that particular deposit ID and it lets the user create a new deposit intent if they want to um there's we also do things like forget uh deposits that are longer than an hour and old just so um it keeps the ui clean so if if we get a transaction status back from the anchor and it's it's a status that indicates that the anchor is waiting for or the user is waiting for something that the anchor has to do which is basically pending anchor pending external pending trust pending pending stellar um we should that's that's when we show this um this processing confirmation screen uh we also have a backend service um so this is this is how we implement the push notifications we have a back-end service that watches every transaction on the stellar network uh whatever a transaction a payment transaction comes in it checks to see if the recipient of the transaction is a vibrant user and if it is then we um if the recipient is a vibrant user and the sender is an anchor then that that back-end service will call out to google or to apple to send a push notification withdrawals work basically the same way the only difference is after this request will will be the app will make a stellar payment to the anchor to kind of kick off the first step so whereas during a deposit we're waiting for the user to send funds to the anchor via their bank or credit card um during withdrawal the user is sending funds to the anchor via the seller network and this is just an ordinary stellar payment so that's pretty much it it's not very complicated but it wasn't it was complicated to figure out the right steps to get there but there's not a lot of stuff going on so i'm happy to answer any questions that anyone has as they come in okay so the first question is in which countries is vibrant eligible to use so right now i think i haven't looked at the actual app store distribution list lately i think it's only released in argentina but it could be wrong it might be worldwide we right now we only support usdx which is anchored by anchor usd and arst which is anchored by stablex uh we're planning to to support further tokens and further geographies but for now our our efforts in terms of marketing and social media and you know getting people install the app is focused in argentina but i think you can install the app no matter where you are um someone asked can payment be reversed from user input address error so i think it's possible to do so but it'll it'll occur the way uh any any bank transaction occurs uh which is on the anchor side so if the user enters in the wrong credit card number or something um the anchor should have all the information to resolve that they have the user's contact information they have all their details so it's really um it's kind of the decentralized ethos that that we have that stellar has created this this anchor system and the user's kind of interface with the anchor to deal with any transaction issues someone else asked can the user send money directly to another user's bank account i think this feature is planned in the in the future but right now uh in vibrant all person-to-person transactions use the seller network using stellar payments so so each party will have either had to get funds from someone else or or done a deposit like i showed you to to have money in the app someone asked are these libraries for using sep 24 available for golang right now the wallet sdk is written in javascript and there there isn't any uh any project to port it to other languages the go i i don't intimately know the state of the go sdk it may um have some of these but these are the the wallet sdk is only an interface into that that sort of cleans up all these api calls they're at at heart they're just http requests so even if you don't we don't we don't have a wallet sdk for go it's still possible to reproduce all this functionality using using a normal http request i think some new questions are coming in that that they're uh they're sorting out okay looks like that's it um so thanks everyone for listening to my talk if you have any questions you can reach me at morley vibrant.cash but otherwise thanks a lot for listening and see you next time soon",
      "keywords": [
        "user",
        "deposit",
        "anchor",
        "stellar",
        "transaction",
        "token",
        "network",
        "thats",
        "information",
        "theyre",
        "call",
        "dont"
      ],
      "speakers": []
    },
    "2020-07-24-how-to-build-an.mdx": {
      "summary": "hey guys um welcome to the the engineering talk uh we are going to begin momentarily um one thing i will say and i think uh our host has posted in the channel but uh if you have questions while i'm going through this talk go ahead and scan the qr code and you can send questions over and i'll i'll take a look at them at the end of the discussion um okay so uh yeah welcome this is uh this is a talk about polaris which is a django application and framework that allows you to build uh anchor servers uh according to the standards that we define uh that are called stellar ecosystem proposals or seps so django polaris is a tool that we use so that our tool that we build so that anchors can get their anchor service up quickly and with less work required so i'm going to go into the details of uh how to build this anchor but before i do i'm gonna go over a brief presentation that just describes what it is how it works and what you can expect in this presentation so uh let's go ahead and begin so like i just said uh polaris is a django anchor app or i'd like to say it's an extendable django app which means that if you know anything about django and hopefully you do in this presentation because i'm going to be going into django code but django is a system it's a framework that allows you to plug and play different applications within the project and so polaris is an app it's a reusable app that you can plug and play within django applications and it provides an interface an api that developers can use to insert and customize the way that the anchor server responds and handles information the reasoning behind this is that uh set 24 which was the original standard that we implemented this for uh has a lot of things that are standard about it every anchor is going to be doing similar things they're all going to have deposit endpoints they're all going to have info endpoints they're all going to have what the step describes and when i say the set sorry i'm just going to break out of my actually i'll stay in the slides until until afterwards but 724 is a standard and it defines an api for clients to be able to hit in order to uh in order to interface with the anchor and every anchor that implements sub 24 has the same endpoints the difference though is that every anchor has uh you know pieces of functionality that are custom to them so polaris what it does is implement the stuff that's standard that everybody's gonna do and then it allows people to customize uh their own instances with their you know their unique situation uh so overall it's less time for the anchor to build uh people can typically get this up within an hour because we're gonna do it right now um and we maintain it the sdf maintains it so we're gonna continue to upgrade this make sure it's up to date with the recent standards make sure it's up to date with the sdk upgrades and it's open source everything that i am going to use right now is viewable on github and we have links for the documentation and code in following slides so in order to understand polaris we need to talk about integrations polaris offers integrations or integration functions or classes that allow anchors to register custom functionality with polaris so polaris is going to facilitate you know the api endpoints and uh build out what a step 24 server would be but there's things that uh polaris can't automate right so polaris can't automate your banking or payment rails right uh if you're an anchor in brazil uh you know me as the developer of polaris i don't know what bank you're connecting with i don't know what api you're using i don't know anything about that so what you need to do is inject your own banking and payment rails code into the polaris framework uh in the same way we don't know what uh information you need from users so you may need email and that's it or you may need a photo of the ID you may need um you know a variety of different information social security number here in the u.s there's a bunch of stuff that you could you could need you could require in order to deposit or draw assets um and so kyc kind of goes hand in hand with user tracking you want to know who's using your service who they are how to reach them stuff like that there's uli customization so polaris comes out of the box with a decent ui but if you want to customize that ui you're free to do so and finally there's just transaction processing when when the transaction gets to a certain state in the flow you may want to update some of your own data models to adjust for the for the change uh and so polaris can't automate any of those things so it provides uh rails integration classes so you would in your code you would write uh you know within the rails integration class uh a a function that connects to your bank and actually makes payments to users and you're going to register that integration that you write with polaris and i'll show you how to do that so that transitions you know well how do you use polaris well we're going to do two things in this talk we're going to install and configure polaris and we're going to implement the integration points or at least enough integration points to get the anchor server up and running um and so there's going to be a few steps involved in that we're going to create a django project and hopefully people who are viewing this uh are familiar with django and are familiar with the seps i'm gonna brush over some details about the steps so you have some context but overall this talk is gonna assume that you know what i'm talking about when it comes to django and start ecosystem proposals you're going to install django you're going to install the django polaris package we're going to add polaris the django app itself to the project and then we're going to add a bunch of polaris settings and configuration options and finally we're going to register and add our data or asset that we're going to anchor within our database and in the asset that we're getting the asset that we're going to anchor in this database is a uh or on this anchor is our stellar reference token srt it's uh just a fake token on test net uh that doesn't mean anything but it's it's used as demonstration so you can show or show i can show how people uh you know build anchor services around an asset once we have all the configuration installation set up we're going to start implementing integrations so uh the first thing that we're going to do is build a an appropriate tomo file and if you're familiar with step 1 this is implementing that um it's basically a file that describes the organization that owns the anchor and uh and it gives a bunch of details about contact information and stuff about the asset that uh clients who are viewing the file are to need to know we're going to do a little bit of some banking rails so we're not going to connect to any particular bank and so we're actually going to kind of just mock this up but the idea is that you would fill this function in with actual banking payment rails code i'm just going to do what's required from a functional standpoint to make sure polaris is working once we have the tomol and banking rails integration set up we're going to register those integrations and then finally we're going to build the application with docker and get it running so hopefully that gives you a good overview of what's going to happen here and again remember everything that i work on here is open source and there are there's documentation available so if you want to check out the documentation it's available at djangopolaris.readthedocs.io and the code is available at github.com polaris uh and these these pictures are the are some pictures from our test server or our reference anchor server that shows you how to do it um it's basically an example and uh and these are just some some forms that plars provides out of the box so this is what the ui looks like if you didn't do any customizations um okay and we're gonna do questions after the demo um but for now i'm going to transition into coding and uh and i'll probably be hopping back and forth from the internet as well to reference the proposals and just demonstrate certain things um okay cool we are right on schedule um so this is pycharm i'm gonna be you know django polaris is a python application uh and what we're gonna do uh when we start off most python applications is create a virtual environment so actually sorry before i uh before i dive into the code here i do want to show you uh one thing and that's a demonstration of what you can expect an anchor to look like um from a user's perspective and uh and this is a little demo that we do so what i'm doing here is this is a little demo wallet that mocks like what a user would see and we're going to walk through a step 24 flow before we get started so you can just see what it's going to look like but we're just going to use our reference server that the seller development foundation runs and provides and we're just going to walk through a deposit flow on testnet so this is what we're going to ultimately build we want to get to this point uh by the end of this talk so i'm going to make a deposit it's going to go through the step 24 flow and it's going to open up the actual interactive page the user is going to see so if i was a user this is the first form that would be presented to me i'm trying to make a deposit onto into my account on stuller and and here is the amount field that's asking me you know to specify how much i plan to deposit and so i'm going to tell them that i'm going to deposit a hundred dollars and on test net uh anchors need to assume that uh deposits are actually sent right on testing everything's fake right so i'm not actually gonna send money to the anchor uh it's just gonna assume or or understand that it's on testnet and it doesn't need to wait for me to actually pay them it's gonna pay um or send you know stellar funds to my account uh and just to give you some like more context this con config option this is obviously the the reference server that we're hitting the url of it but this is the secret key of my account um and don't don't worry there's nothing you know fancy on it you can check it out on testnet but i'm just gonna deposit a 100 or 100 srt uh into my account on testnet uh so let's go ahead and do that uh and so now uh django polaris after i submitted the amount is going to go ahead and work on depositing that those funds into my account so it's executing on the uh the transaction as you can see and now it's complete so if i were to go to uh my account right now i could show you that i have at least 100 srt in my account and i'm not going to show you uh what that is it's not worth it but but this is a kind of a page that displays all the information on the transaction so i sent them 100 supposedly i was charged a dollar and one cents and the amount that i actually received in my seller account the amount of srt is 98.99 and it you know tells you when it was completed in the status and all that kind of stuff uh so this flow of being presented some forms filling out forms being presented updates as the transactions submitted and then finally getting a you know notification that's complete that's going to be the user experience behind the scenes blogs is going to be doing a lot more and i'm going to walk through what that is okay so that's the end of the demo we're gonna go into the code and uh here we go bear with me in case uh something happens because something always happens in demos uh but let's see how far we get i think we're gonna be able to do it so like i was saying with any python project you're going to want to create a virtual environment so i'm going to create a virtual environment right now using python 3. um and i have a little shortcut that activates the virtual environment um but let's just do it you know the normal way so i'm just going to execute the activate function for the virtual environment so this is dot vmv and activate uh okay so now i'm in a virtual environment this little enclosed box where i can install my own packages and make sure you know everything that i'm doing here is contained in here and it's not affecting anything else outside my project and before we do this actually i'm going to go to the documentation so this is the polaris documentation it's available at django polaris dot read the docs dot io and it's going to walk you through how to install polaris now i'm going to update this documentation in the future i'll probably have some kind of like tutorial page where it gives you a you know front to back how you set up basically what we're doing in this talk but for now i'm going to hop around these settings in these documentation uh pages because you know they have different information and it's not organized in one way where i can just kind of scroll through um so the first that we're gonna do we're just gonna copy and literally walk through these steps uh we're gonna install polaris uh and while that installs i'm just going to go over kind of what it holds you know obviously it holds django and it holds it really holds everything that you're going to need to run this application so you don't need to actually install g separately or anything like that everything comes with polaris and it's ready to go uh so that's done now and uh now that we have the uh django polaris package we have django installed now because polaris comes with everything and what we're going to do is we're going to create a django project now um this is yeah so i have this function called or this command line tool called django admin which comes out of the box with chango right so i'm going to create a django project start start project and i'm going to call it app it's going to be super generic okay now if i look i actually have an app folder uh and you can see it in my in my source tree uh if you look in app uh i have a manage.pi script and this manage.pi script is basically the entry point to all of django's functionality so whenever i run python within the django context i'm going to run python manage.pi some command and then within the app i have all the files that are necessary for a django application and we're not going to go over again this is a django tutorial we're going to assume that you know generally what this is but it's helpful to understand where we're at so um let's get started so now that we have uh our django project uh we have an app set up uh we are going to add polaris to our app to our project right so the first thing that we need to do is add these three apps here to the installed apps list in settings.pi so let's open up settings.pi this is a generated file that django creates for you it comes with a secret key that you're definitely going to want to keep secret so you would never want to check this file in to get you know it just being auto-generated you want to use environment variables and hide you know those those secrets from from users and developers um but uh but yeah this is a generated file for django and here's our installed apps list and we're just going to copy and paste the three apps that polaris requires into the list now let me go over what these are so uh this package called cores headers this is a different package outside of polaris that is installed with polaris it ensures that your server allows requests to set 24 endpoints from any uh service or client um so it just sets the course policy for the server um this rest framework is a uh it's just a another app that polaris uses to build out its api and then finally you install the polaris app and because we have our own app right because django so this is a project right this app is a project but within the app i know that the app and project word is going to get confused here but within the app directory we have a django application called app so i can change the name of this top level app thing that's the project directory and then within the project directory we have the app directory and the app directory is essentially the app that we are running right alongside the other apps that we have installed in our installed apps list so i'm going to also add app uh to the installed apps list too um the next thing that we're going to do uh is we're going to add the coors middleware so that course package that i told you about it requires a middleware component uh jingo comes default with a bunch of middleware uh and our documentation actually requests that uh the coors middleware is above the common middleware so this is necessary for django reasons um the middleware is the order matters i'm not going to go too far into deep into it but you want to make sure that we have all the components that we add and the correct ordering at least in this section um cool and then finally we're going to add a project root setting to our uh to our project and this is going to tell polaris essentially where the top level is and it's going to look for an environment an environment file at the top level of this uh project so i'm going to you know initialize project root and i'm actually just going to make it the directory containing baster so baster it was generated automatically by django but it's actually this folder right here it's the right or actually is it so there's the file it takes the absolute path of that it's the directory containing that file oh it's actually this file so this is the application folder that baster is referencing and so i'm going to take the directory that contains that directory so uh project root is going to be my actual project polaris anchor 3. and this is important because we're going to add a dot m file and this is going to contain all of our environment variables that customize part of polaris deployment so let's go into there and polaris has a few environment variables right there that i need to just stick in the the file so uh you know for the network that we're using we're going to be using uh the test net so this is the the network pass phrase for that uh for that network and then this is the Horizon instance or url of the instance that we'll be using and then this is uh our host url so we're going to be doing this all on localhost so i'm just going to do localhost dot 8000 there we go and and that's it for environment variables for now and then we are going to add polaris urls all the endpoints that polaris exposes to our django application so that it's actually exposed so it's going to give me it's going to complain to me right now because it doesn't have some of these functions so we're going to import include and then we're also going to import uh polaris.urls cool um and so i don't know if you're familiar with some of you maybe but but so we have this admin endpoint that's already there it comes default with every django deployment and then on top of that at the root of the domain so in order to get to the admin page you would go to your domain admin uh in order to hit any of the polaris endpoints it's just straight on the domain so um so polaris comes with a bunch of urls um oh you know what it's cause pycharm doesn't know where my virtual environment is i was going to go into the source code and show you what's offered but polaris offers a bunch of endpoints in fact they're described right here all these endpoints polaris provides and those urls are going to be exposed at the root of the domain okay so now that we have our urls installed we're going to where's the documentation link okay now that we have our urls added to the project we're actually going to stop here because this is a this is set up that's going to be required for every uh installation of polaris but now we're going to go through the steps that we're actually going to deploy so so polaris can deploy any number of steps in any combination so you could you could literally do polaris and just deploy step one uh which is a tomophile you could deploy polaris and just do step 10.",
      "keywords": [
        "polaris",
        "actually",
        "lets",
        "thats",
        "django",
        "anchor",
        "file",
        "code",
        "environment",
        "server",
        "step",
        "integration"
      ],
      "speakers": []
    },
    "2020-07-15-stellar-development-foundation-q2.mdx": {
      "summary": "okay let's go ahead and get started thank you everyone for joining today's um stellar development foundation quarterly call uh we are very excited to have you all on today um we've got an exciting agenda a lot to cover because sdf and stuller really had a big second quarter of 2020. danel dixon our ceo is going to kick things off in a moment with an announcement about our work with a fortune 15 company and to also share some other highlights and achievements we've worked towards in q2 and she'll be joined by bill bar height ceo of abra about the exciting work and products that abra's been working on and that are powered by stellar and justin rice our head of ecosystem at sdf he's going to provide some details on our technology updates and our overall network performance as well as share some more about our terrible charitable giving program that we just announced with our ecosystem partner loomanthropy and then our general counsel candace kelly is going to touch on sdf's growing visibility and our public engagement activities and the work we've been doing to increase our involvement in the policy dialogue so like i said a lot to cover and of course we'll leave some time at the end to answer any questions you have about today's presentation or the report that you should have all received just shortly before the call started and you can submit questions throughout the presentation in the chat box in the in the chat box marked q a in the left hand corner uh so with that i'm really excited to turn it over to our ceo and executive director danielle dixon for the moment we've all been waiting for danielle thank you lauren it's so awesome to be here thanks everyone for joining the call today i just really love these quarterly calls i actually really love going back and reflecting on the quarter that we just had so i'm really excited to be here and thank you guys for joining us uh so let's get started first i'm super excited to announce and to highlight um that in q2 we finalized sellers integration into samsung's blockchain key store so over the last several months we've been working closely with samsung to integrate stellar and i'm happy to announce that stellar end users are now able to securely store private keys on select samsung galaxy smartphones i've been saying this a lot lately but key management is an important part of how we will drive our technology into the mainstream and samsung provides a key management solution that is user friendly and will ultimately drive greater adoption of blockchain technology because it's so easy to use it's designed with the user in mind which is just a really really important thing that we need to continually focus on in blockchain this integration is also significant development for the great ecosystem of applications built on our network it's going to allow stellar ecosystem developers to create blockchain apps and services for samsung galaxy smartphones in addition to existing stellar-based products and applications it just opens up a whole new network of users that can benefit from the combined innovation of stellar and samsung we already have four stellar based businesses adopting the the required sdks to make their applications available in the key store this is including d stock and satoshi pay lightmint and nodal but our work with samsung isn't going to stop here we're committed to collaborating to expand and improve the blockchain ecosystem experience for consumers by working with developers who built who have built on stellar network and incorporated the appropriate sdks into their applications to utilize the samsung blockchain keystore and the integration into their applications so together we'll partner in an ongoing effort to recruit onboard and support developers in the stellar ecosystem it's just the beginning as we work together to empower more developers and users to leverage blockchain in the capabilities presented by this integration we're really proud of this development and it's reflective of the growth we're seeing in all aspects of our business so it's clear that 2020 has been a year unlike any others across industries we've all had to adapt to a new normal uh fortunately for sdf and for stellar we're continuing to grow and thrive even during these challenging times we've grown our capacity and our team we've brought exciting new leaders onto our board and we've made strategic advances on every core tenet of our roadmap to creating equitable access to the global financial system and i'm just so proud of our work in these areas so i want to just take you through the three pillars of our strategy uh first we've talked about our requirement that we foster sustainable use cases and so we're growing our anchor footprint in regions around the world we're building product and we're making strategic investments to be able to support this pillar second to ensure the robustness and usability of stuller so we've rolled out an upgrade to our core protocol we've expanded our developer tools and our network health when you look at the numbers is stronger than ever and justin's gonna go through that in just a few more minutes and then finally to be the blockchain that people know and trust we've fully embraced virtual visibility by making the rounds in virtual conferences and hosting 20 events of our own candace is going to share some of those highlights later in the call in addition to how we're getting more visible with policy makers and regulators so the tldr is that we've made significant progress in q2 on all of our goals our strategy seems to be working and i'm convinced more than ever that our progress is proving out to be a strong year for stuller so let me share some proof points first let's talk about what we're doing to foster sustainable use cases on stuller anchors are a fundamental part of our network to facilitate moving value from the traditional banking system into stellar and vice versa the network relies on these entities that we call anchors anchor services help create a world where the existing financial structure is connected and interoperable with stellar so this quarter we continued our focus on building strong anchors in strategic markets so this included bolstering the u.s anchor ecosystem with the addition of inclusive which offers compliance as a service and accounts and payment capabilities we also expanded on calories success in nigeria and we're supporting new anchors such as click pasa in tanzania anchor mxn in mexico and end tokens in brazil i just can't say how important anchors are it's an essential function for enabling frictionless movement of value between fiat currencies worldwide and we're going to continue to expand our anchor footprint in markets where the data indicates that the stellar network can have an outsize impact specifically for remittance companies serving businesses and individual lenders and payment processors we've also been building what we've talked about before which is our product a wallet called vibrant that saw its beta launch this quarter vibrant is a wallet that will soon be generally available in argentina where users will be able to hold share convert and send value it also showcases sep 30 seller ecosystem proposal 30 about key recovery mechanism that is very user friendly so i encourage you all to check it out even in the beta form and then the other important way we've been fostering sustainable use cases on stuller is by investing in businesses on the network we made two enterprise fund investments in q2 one investment in satoshi pay a platform for connecting the world through instant payments and one of the earliest adopters of stellar satoshi pay expanded their business to tap into a growing b2b cross-border payments market where there is huge potential for a player like them who has been in this space and knows the opportunities and the challenges the other investment went to opera a next generation financial platform which is facilitating opera's integration with stellar as its blockchain back end and offers expansion of financial services that will bring new products powered by stellar so to share more about this work and the progress they've made so far i'm happy to introduce bill barheit the ceo from oprah to the call thanks so much bill for joining us thank you for having me and uh good morning or good afternoon wherever you uh may be uh so i'm going to spend five minutes just giving you an introduction to abra's business and uh then danielle and i are going to speak a little bit so if you'd like to move into the the slides for um forever um so um just to give you uh those of you who don't know abra a quick overview of the services we provide abra is one of the more successful most successful wallets in the cryptocurrency space today although we have users now using abra for storing fiat and moving traditional money around as well hundreds of thousands of users in over 100 countries now i think we're approaching 150 countries and we've processed uh processing a billion plus in transaction volume yearly uh just just the ex team has executed extremely well over the last couple of years and we're really excited now to take this to the next level with stuller and we're really excited that they've joined our investor base including american express and foxconn and and arbor uh fidelity back fund so so just um let me walk you through some of the details on the next slide if you will of how this this all works so in order to provide this awesome service that we have we've had to build lots of capabilities both what we call our core capabilities as well as our core services for depositing earning interest borrowing investing uh and soon paying and spending and then of course all of the the back-end capabilities that go into effectively running a fintech financial technology company let me walk you through a couple of those uh now and i'll go to the next slide so so what everybody knows of course in the front end is the ability to invest uh as the world's beloved cryptocurrency investing wallet app um we basically work with lots of exchanges and lots of partners to facilitate the buy sell hold and transfer of dozens of cryptocurrency assets and now lots of um assets and we run a very large liquidity system to allow consumers in lots of countries to get money in and out of the system both in fiat uh via the banking system bank wires ach what most of us in the us would know as well as cash network so that folks in for example in southeast asia philippines or in central america like in guatemala can actually use cash in their pockets to get money into the abra app and then withdraw cash from the abra app and to do that we've built a network of retail partners to process deposits and and withdrawals into the app it's very complex difficult uh part of our business but it's actually growing uh it's actually growing faster even than the uh the bank part of the business which is really exciting it's been exploding the past uh the past few weeks in particular so that's something we're really excited about on the next slide i give you um if we go to the next slide there might be a slight delay can you are you earn interest i see it so so sorry about that so yeah so just to give you a little sneak peek on some other capabilities this is the interest earning capability that we're going to be uh launching in the next couple of weeks this allows consumers uh for example people who not even aren't even familiar with cryptocurrency to store dollars and earn significant interest on those dollars or actually our existing crypto users can can earn interest on their on their deposits as well we'll be supporting staking uh currencies to earn interest there uh and other other currencies over time um so in the next slide you can see uh that in addition to uh you know just what we the interest earning on the front end uh we've built a very sophisticated uh lending system where we have uh very large institutional partners uh that are vetted in our risk management processes and basic are borrowing those funds in order to generate high yield for for our consumers and that is that includes everything from minors hedge funds large exchanges other loan originators and this is a good segue into what we're working on with stellar so if you'd like to go to the to the last slide um really the next the next phase for abra is is as i alluded to for us to take this to another level is building an entirely new uh part of our business in order to facilitate the movement of funds globally in real time using the stellar network and to do that and what that will enable for us is all forms of global lending the first uh kind of generation of lending that you hear about in the crypto world has to do with uh people leveraging themselves to go along in crypto or people borrowing against their bitcoin or ethereum holdings we want to take this to another level and and use the stellar platform to truly enable traditional banking applications at global scale uh trade finance rights cross-border uh p2p loan origination uh loans like that for example that are very difficult for people in the west to take advantage of in many cases we think are uh totally possible now leveraging the power of of crypto and and distiller platform so this is just a quick kind of peek as to uh what's coming and what we're really excited about to be working on with stellar so um i'd be happy to uh answer any any questions well thanks bill well thank you the idea of me being the one to ask you questions i've been on your podcast so now it's my turn i get to ask you a few uh one of the things i wondered is you know we talk a lot about financial inclusion in blockchain and i just wondered like from your standpoint how is aubry focused on financial inclusion and what are the um how do you think about that from your business side that's a great question we see financial inclusion as basically leveling access and creating a level playing field for access globally so that somebody in i mentioned philippines earlier you know a farmer in the philippines in in mindanao for example where we actually have users at abra can access the same services in a banking app as an investment banker in san francisco which is a place where we also have users and i think abra is one of the first companies to really try to create a level playing field across all of these different uh geographies in a way that doesn't really differentiate from person to person obviously in terms of how people might get money in and out of the out of the system would be different for a cash user in southeast asia versus a banked consumer in san francisco but other than that the core services they want in terms of the ability to invest and earn uh the ability to borrow the ability to uh send and share funds they're all the same the amounts might be different but the ideas and and the basics of what they want are effectively the same and our goal is to enable that globally and do you think that in our industry we're already making strides to really uh push this notion of financial inclusion forward well it's i think it's a mixed bag i think that um there's a lot of people kind of at the at the bottom of the income pyramid who've done fantastic work in building kind of micro finance services that's really hard it's very expensive um it's generally not self-sustaining uh with some exceptions um in mexico and india i think we've seen some examples of how microfinance can be self-sustaining but when you move into the middle of the income pyramid which is where abra is more focused it really becomes more about creating a a holistic uh kind of global oriented user experience that most banks don't understand they focus on bank branches they focus just purely on compliance compliance is obviously very important but it has to fit in with the user experience and we're starting to see this in some of these challenger banks particularly in europe and and in latin america that are gaining traction and that's very encouraging and i think i think you're going to see kind of a whole other generation of these challenger kind of services now that are just going to leave the banks in the dust okay so now i want to move a little bit back to stuller and would love to just have your few thoughts about why you selected stellar and why you thought stellar was a great entity a great chain to build on sure i think for us we're big believers in leveraging the power of cryptocurrency technology blockchain technology and now stable coins which has become kind of a flavor of the month but it's simply a way of leveraging cryptocurrency technology to represent traditional value on a blockchain to facilitate real world banking applications the first generation of all of this whether it's the deep fi which the flavor of the month have all been around crypto for the sake of crypto and that's fine we needed to get where we are somehow but we're excited about making this globally accessible for traditional banking applications many challenges there one of the biggest challenges we faced in just the kind of the 1.0 of abra was scalability a lot of what we originally built for example was built on bitcoin and it just wouldn't scale right so what we need is the ability to have a platform that can can create these stable coins but can scale to truly global uh applications in time and space for us in a way that the kind of a lot of the first generation platforms could not and that's where we think stellar truly shines all right i love that um now let me just ask you one more question before we turn it over to justin and uh if you think about the rest of the year and what a strange year it's been what is the one thing that you would love to see in this space change and develop by year end uh so that we could actually blow things up in 2021 yeah that's a great question so a lot of the first generation of stable coin products have been very us-dollar-centric there's a little bit of a few um examples of other things but i would really like to see some major g10 currencies um really go for or accompany startups start to develop some g10 currencies beyond the dollar using stablecoin technologies like stellar or others and start to see a lot of traction in uh forex applications money transfer remittances uh cross-border business payments that start to take advantage of this ability to do on the wire money transfer if we see that then we know that we have real proof points for crypto being useful in the quote unquote real world and we know it's coming it's just a question of is it going to happen you know in the next few months you know the next year et cetera et cetera but that would personally excite me the most it may sound boring but that's what it's going to take to make this really useful at global scale so awesome that would be great to see that happen thank you so much bill for joining us and i know that you'll be available uh afterwards for also questions so at this point i'm going to turn it over to justin who's going to walk us through some network stats and other things that he wants to share with us great thanks to now thanks bill i'm justin rice head of ecosystem at sdf and i'm super excited to be here to share more about the continued growth of the network and the development of stellar technology so stellar is open source and open participation and many of the advancements sdf makes are in collaboration with our ecosystem in these uncertain times when it's clear so many are struggling we've been asking ourselves how can we work with our ecosystem to make a difference now of course we believe the technology we're working on will help address some key underlying issues over the long term but we also continue to ask ourselves what can we do to help today so we've decided that part of our short-term answer is to continue our partnership with lumenthropy which is a stellar-based platform for charitable donations this time to rally our community to support an organization deeply relevant to today's challenges the usf institute for non-violence and social justice which is a 501c3 driving research education and advocacy to advance the practice of transformational non-violence so for the entire month of july we will match lumen donations made by our community to the institute up to two million lumens we kicked off the campaign with a 100 000 lumen donation and we're excited to see what our community will contribute to make the world a better more generous and more compassionate place now let's take a look at this quarter's numbers and talk a bit about what they mean um so here are some key network stats and we'll sort of go through them quickly the number of accounts on the network has been stable hovering around 4.5 million total we've seen a slight increase in the number of daily operations up 9 from q1 and that represents solid network throughput and speaks to the scalability of the network there was a significant uptick in average daily trading volume on stellar's decentralized exchange um this quarter we saw about 5.9 million lumens worth of trades per day which is a 70 increase from last quarter the total number of payments has also grown consistently over q2 9 million to more than 13 million uh as of june 30th there were 7 893 on-chain assets which is a lot i think it's important to note that we're working on a method to distinguish and measure meaningful assets uh those are assets that contribute to the connected financial financial infrastructure that we're trying to build assets very in line with the anchor strategy that danel mentioned earlier and many of these 7000 plus on-chain assets will be beyond the scope of our area of focus but one thing is for sure people find it very very easy to issue assets using stellar lastly let's take a look at where the network is in terms of health and decentralization there are currently 23 tier 1 validating nodes and about 120 nodes total that's about the same as last quarter and what we mentioned then bears repeating the network would continue uh it would keep going even if the sdf turned off all of its notes what's more encouraging is that we're seeing more organizations in the pipeline to join the ranks of the tier one validators and that's because there are more businesses invested in the network want to increase their engagement and are capable of doing so those tier 1 validators are fundamental to the health and stability of the network they're also important to its governance and they help drive important upgrades to the network like the adoption of protocol 13 and q12 so protocol 13. on june 18th the stellar public network upgraded to protocol 13.",
      "keywords": [
        "stellar",
        "network",
        "weve",
        "which",
        "working",
        "work",
        "other",
        "ecosystem",
        "anchors",
        "thats",
        "next",
        "great"
      ],
      "speakers": []
    },
    "2020-07-10-turing-complete-contract-proposal.mdx": {
      "summary": "all righty welcome to another episode of engineering talks my name is tyler van der Hooven and i'm gonna be talking today about a preset proposal for turing-complete smart contracts for stellar precept simply means that this is just some work that I've been doing on a stellar ecosystem proposal around this idea of turing-complete contracts and we're going to talk a lot about that today obviously that's what the talk is all about but it's important to kind of reset your thinking a little bit we all have an idea of what turing-complete or smart contracts means I'm gonna try and come into this without too much baggage and explain what I mean a bit along the way and I'm going to be using aetherium as our comparison project because most of us when we think of smart contracts have etherium in mind so this is not necessarily a competition against etherium it's simply a comparison of features that if this SEP were accepted and used how would you how you would accomplish similar sorts of things that you could on etherium on on stellar and comparing the functionalities and features that aetherium offers with what this Turing signing server SEP would allow you to accomplish on stellar so let's let's dive in today's gonna be a bit technical we're gonna go through Trent blazed through these slides pretty quick and then get into some examples and encode but it will be a little bit longer probably than we're used to for these engineering talks to stick with me it is quite interesting super excited I've spent a lot of time thinking and working on this problem myself as something that I very much need in my own development and I think would really benefit the stellar community at large all right so the problem is if the room has market dominance in an arena we're better suited to serve namely Finance so we have assets and the ability to have assets as first-class citizens where there in an account but often times financial architecture will be built in aetherium in instances where oftentimes it would be better to have that built in Stellar's it's going to be faster cheaper and you're going to have this capabilities and functionalities that are native in aetherium and you'll have to kind of custom build that yourself whereas in stellar they will often be built in kind of at the base layer so our solution ears to appeal to aetherium developers by bringing functional feature parity and that's a key phrase here functional feature parity this isn't feature parity it's functional so what you can accomplish in etherium trying to allow that same type of functionality in stellar in the in the financial arena and so the solution there for me the product there for me I guess is smart contracts now we have a concept of smart contracts and seller it's kind of using operations and this nature of stellar transactions you can accomplish a lot of different things atomically inside of a transaction so you can have lots of different operations that open things up and close things off all within the same transaction you don't have to do a bunch of individual things and then who knows what's going to happen inside because lots of things can happen in a single ledger you can accomplish a lot of very intelligent smart things and by using things like time bounds or pre assigned transactions you can get away with a lot of I would say complex big business logic and we've sort of slapped some our contracts on to that but in no way is that what most of the world thinks of at least most of the blockchain world thinks of when they think of smart contracts smart contracts as a concept is very different than what we tend to talk about when we talk about stellar smart contracts today so we're gonna be moving away from what most of us think of when we think of stellar smart contracts and moving much closer to what aetherium means when it says smart contracts so my definition is a smart contract as the ecosystem understands it so regardless of what wikipedia says the smart contract is the way that smart contract the word phrase is used as the ecosystem at large the blockchain ecosystem understands it is an arbitrary turing-complete program it's in complete programming executed on a decentralized network for the purpose of minimizing trust so you have this idea of a program that has arbitrary programming that does who knows what that accomplishes some sort of goal and that goal is better accomplished when it's trust minimized or there isn't a lot of third-party trust involved or it's decentralized and this is this is important to kind of for all of us to agree even if you don't necessarily agree with me on this that this is where I'm coming from when I talk about the smart contracts that I'm envisioning through this SEP that I'm building is this idea of trust minimize minimizing trust so there will still be trust involved there's always trust involved it's just who and how much and what are those parties that you're trusting and then arbitrator and complete programming the ability to do kind of any sort of logic that you need to to to create some sort of output instead you don't have that stellar is not turing-complete that allows it to be very fast and flexible in scale very quickly whereas an aetherium those things are bundled together where you have what we'll get to in a minute the idea of transaction creation creation and execution so what does that really mean was this ecosystem doing with smart contracts there are two things when it comes to financial smart contracts there's transaction creation and transaction execution so building blockchain mutations basically these are the instructions for how I want to change the ledger how I want to mutate the existing state of the ledger or blockchain by adding another block and then also the transaction execution which takes those instructions takes those mutations and actually runs them to perform the changes so you have the instructions and the execution the creation in the execution so we have that right in stellar and a theorem you can both create transactions and execute transactions both in stellar and aetherium so what's the big deal how how is what's the problem well the problem is decentralization in stellar there is no decentralized transaction create atheria m-- there is because in the virtual machines that run aetherium those are run all over the world anybody that's running an ethereal node and participating in the consensus the transaction creation and execution both happen in that process of arriving at consensus whereas in stellar only the execution of the transaction the creation of that transaction happens outside of the execution so you sort of give it very detailed in permissible instructions and then send it to the consensus protocol to actually execute that in aetherium you send a very minimum information and then both the creation and execution because assets are not first-class citizens you can build a whole program that will handle the kind of input that anybody might send it and then the ledger for your particular smart contract will be updated so both of those things happen the same time it would be one of the reasons that if your iam is built the way that it is and why some of the reasons or ways that it differs from something like stellar which what I'm going to get into that too deeply and I honestly don't understand it perfectly but with my new this set proposal that I've been working on we're gonna look at today we're looking at adding decentralized transaction creation so smart contracts do not execute this is really important it very something is very different than aetherium all that on adding or proposing that we add through this step is transact decentralized transaction creation which we will then tag on to the existing architecture we already have within stellar the decentralized transaction execution which would give us through this what I'm tagging is SEP acts if we add seller and this new sub X together we get feature functional feature parity with aetherium where we have decentralized transaction creation and decentralized transaction execution which would be amazing and we'll get to why hopefully maybe some of your wheels are starting to turn on what decentralized transaction creation would allow us to do some of the things that it would allow us to accomplish which we cannot do now but we'll we'll get into that so essentially sub X is Turing signing servers decentralized turing-complete trying action creation so a few weeks ago we had a engineering talk on Sept 30 which is the key recovery servers and we have Federation servers as well so we have this concept within solar ecosystem proposals of external servers or services which run to provide sort of additional logic or additional functionality common additional functionality across the ecosystem and so this would be an additional server that would be running the individuals or enterprises would run which would allow this decentralized turing-complete transaction creation where you have these multiple parties running something which will accomplish some goal in a decentralized way so still the smart contracts via sip X have three entities they have users contract creators and Turing server so some of these may be blurred at times the line between the two but they are distinct in the sense that regardless of whether they end up being the same entity or individual they will be serving three separate purposes so users submit transactions for final execution the final there the final interested party they have something that they want to do something that they want to accomplish and they interface with touring servers but it's typically transacting through a contract not the Turing server so they'll be contracts that users interact with and those contracts are hosted on the Turing servers so I will interact with a contract which is hosted on multiple turing servers and then there are contract creators obviously who create the contracts and either provide services or just innocuous features so we'll get to some of those in a minute but a contract creator doesn't necessarily have to be some sort of service provider they can just build a contract that anyone can implement and use to provide some additional decentralized functionality and so I have a diagram here which is 100% useless so we are going to break that down user wants to interact with a contract creator for the service right there providing save users and contract creators we have this concept already today where you have some third party that you're wanting to interact with with your stellar address whether you're making a payment or you want to provide some sort of functionality with some sort of functionality of the service providers offering and you have a very one-to-one relationship you send instructions or requests you interact with their UI and they send you back responses whether that sign this transaction or add this trust line or whatever that interaction might be it's very much one-to-one and this is where some of the issues are going to arrive this is unacceptable as a requirement oftentimes this will be fine but I think it's not the right thing to say this is the way it has to be right so it's unacceptable as a requirement as it leaves the user trusting a single entity and a contract creator liable for a high level of responsibility and involvement and ultimately it's not decentralized you could add more servers but ultimately the contract creator is controlling all of those servers and decentralization like at its core is mitigating trust or taking that trust and splitting it amongst multiple parties so that no one entity controls everything we split that up to where there's a level of trust because no one entity is the single trusted entity and so we are getting to that diagram I showed a little bit before we get we introduced if they're disinterested but incentivized third party service the Turing signing server which will act as a permission request arbitrator between users and contract creators to the server we upload a strict specific turing-complete program or smart contract which will create transactions they don't execute they create transactions so the contract creator will build a program which will create outputs it's basically just in in this in my case it's going to be a lambda function but ultimately it's just an API endpoint which when called takes an input and then outputs a valid transaction stellar transaction and then the Turing signing server as you can see here stores contracts and holds keys and those keys are seller keys which sign for the transaction that the contract generates and in stellar we have this concept the reason this works or is valuable is because in stellar we have the concept of multi-sig where you've got multiple signers which can be added to accounts and can sign for any transaction that's being originating or originates from that account so if I want to make a payment I can sign with my key or I can sign with somebody else's key if they've been added as a signer to my account and so as we start to we create this contract and we uploaded to a turing signing server when we upload it a signing key is sent back to us and that signing key is what we upload to our contract we add that signature to our contract or we gave it to our user to add to their accounts so that we can sign for some action off of off of their account now when we have just one Turing signing server we're going to see that doesn't get us any improvements but it's the duplicity the lots of Turing signing servers where we start to see the power come out but this allows for transactions and their signatures to be generated following the strictness of a codified contract rather than the trust of a contract creator entity and this is this is the big point here that's may seem a little bit abstract but it's it's really powerful because if I want to if I want to do something let's say I want under very strict specific circumstances I want you to be able to use my account to pay yourself a hundred dollars you know if if some parameter is met I can't ever give you my secret key because if I give you that you can do much much more than just pay yourself a hundred dollars so how can I give you access to my account without giving you complete access to my account it's only strict specific turing-complete access to my account well I get that through this contract creation where I upload a contract to a Turing signing server and then you interact with that Turing signing server and rather than you having access to the secret seed you have access to only perfectly signed transactions from those turning signing servers so I don't give you a secret key I give you signed transactions through these Turing signing servers and then you can interact with the Turing signing servers rather than directly with my account and that's that's kind of one example but hopefully that starts to make sense so the reason this becomes or how this becomes decentralized is we upload these contracts to lots of different Turing signing servers so it's the same contract across lots of different Turing signing servers and then through thresholds right so we're out of T signers multi-sig to accounts but each of those can have a threshold so I can say to make a payment you need a threshold of three so I need at least a weight of three to be able to make a payment and so when I upload all this same contract all of these turns signing servers they all send me back a key which I add to my account as signers but only with a weight of one so that no one turing signing server not even two turing signing servers could sign for or collude to do something with my account you would need at least three and through thresholds you can add any number of i guess up to 20 thresholds to agree very complex secure logic to account for whatever kind of logic you're trying to perform with your contract but essentially you're just going to upload this to a number of turing signing servers and then through thresholds decide how many of those turing signing servers need to add their signature to the transaction that's being requested and because it's the same contract it's producing the same transaction the same XDR and if any one of these gets a little sneaky and tries to you know make a payment to themself they would change the XDR and therefore the signature for all the other turing signing servers would be invalid if the requests that the user is making to the turning signing servers is different than any of the others it will be rejected it'll be spat out because it doesn't match any of the others and the signature therefore would be invalid when it finally comes to submission time and so now the contract creator is a nonentity they no longer really interact with the user the user interacts directly with the Turing signing server so contract creators don't even need to at this point run a server they just uploaded some arbitrary JavaScript logic or really any programming logic language logic to these Turing signing servers and so long as it's valid and producing good transactions and being used and not being nefarious the user can interact with Turing signing servers completely separate from the contract creator in a decentralized manner getting transactions which follow the pattern that the contract creator allowed for because they've added their signature to it and in this case following our example before the user can begin interacting and making payments to themselves for $100 so long as it follows the pattern that the contract creator allowed for so hopefully it's starting to make sense turning signing servers allow for secure decentralized transaction creation and signing through programmable contracts so again we need to we need to remember that Turing signing servers their goal is to create transactions not to submit them so they they perform the business of creating a valid signed transaction and that signing doesn't have to be and often I would say is not complete it's partial signing it's signing for some of the logic of the transaction that was performed but there's probably should be some piece that's left to the user whether that's paying the base fee whether that's in a you know a vending machine example you have to pay a hundred lumens to get a hundred of your asset back like Ana ICO model or some sort of token giveaway or there's lots of different instances where you're the user is going to be the final signer and so the transaction that comes back is signed and it's signed enough for all the interaction that deals with the contract creators account but there's still some piece that's left for the user account so it's just adding signatures to a transaction but not necessarily fully signed although that obviously could be again the business logic appears in the contract not in the XDR itself not in the stellar transaction itself so you can create all kinds of business logic that produces a transaction at the end of the day that could be any sort of thing and that's kind of what we're gonna look look through here now so again like the motto for this is you get what you permit so when you start talking about could I do this or could this be used in this case the answer is going to long as is related to like seller transactions and getting a payment and kind of really getting access to your account through a secure contract like so long as that's the question the answer is yes because so long as you create the right permissions it's you can allow for it you can build for something like that amazing the houses compared to etherium smart contracts will just look through this really quick so now with this FX would have along with the 3m decentralized transaction creation and decentralized transaction execution and then the difference here arguably is going to be again the safety over liveness that we have within the selection since it's protocol versus if you're in virtual machines anyway where the safety aspect to the contract control is it's just creating transactions it's not actually executing them and so you don't have to necessarily worry about your accounts or about the safety of your account so long as you've built your contract correctly and then the liveness aspect of it is going to come down to how well did you write your contract is your account funded all the things that are already limitations just within stellar versus the ethereal model which is once you upload a contract there's nothing you can do to really alter that because both transaction creation and execution are happening at the same time but that contract will always exist it will always be up unless you have some of those non decentralized back doors open so some of the core philosophical design differences stellar smart contracts nothing unacceptable can happen in a favor smart contracts nothing unexpected can happen and there's benefits on both sides really depends on what you're trying to build for those stellar smart contracts because that is just generating a transaction the final execution is in the hands of whoever the final user is whereas in aetherium smart contracts the final execution is in the hands of the contract so you you execute it hoping that it does what you expect whereas with a social on card track you execute it and then it spits out a final transaction which you have a final say and whether or not you want to submit it so finally the thing that we were all looking forward to examples and I think yes that is pretty much my last slide I'm going to switch now to my browser I'm going to open I've got some glitch demos here so fantastic little service here glitch and I'm going to open up all of these examples and then make this a little bit bigger so the first one I'd like to look at is a very basic kind of run-of-the-mill vending machine example so when we talk about smart contracts vending machines kind of a really good starting point where you give it an input and it gives a guaranteed output so in this case we're running a Tyler coin trade or swap where you send in a hundred lumens and you get a hundred Tyler coin back or it's always a one-to-one so if you did 50 it'd be 50 if you'd tend to be 10 so I've got an account here so if I can open this I've got an account here which I am making a payment tune and this is just a standard seller account that I've funded with friend bot there's nothing fancy that's been added to this there's a contract though that I've uploaded that says all the logic around when a transaction come or when a request comes in to this contract take a hundred lumens make a operation for taking a hundred lumens from this account and then send it ten all right send it ten top corner 100 for 101 to one and so we'll give it that hundred and then we'll generate the XDR so let me just pop in the code for this real quick we make that a little bigger so this would be our vending machine smart contract so essentially there's a contract that says when a request comes in and it has source and amount we're just going to build a stellar transaction and then spit out the xgr and that's going to be a payment for 100 lumens to me and then send back tot it going to the source account which is the account that we add right here and then it also adds the fee payment to the turrets so to the Turing signing servers so Turing signing servers again I mentioned that they are disinterested but incentivize third parties they have no benefit to get from collusion but they have benefit to get from collecting on fees so if you run a Turing signing server you can charge fees to execute these contracts as well as upload contracts so transact servers have a business opportunity but they're just interested in the sense that they don't care what contracts are being run so this is a very I mean 57 lines of code plus comments so very very small little contract but it does allow arbitrary logic and it allows me to safely say I can run an entire contract here of paying out my Tyler coin in exchange for xlm all through just this very basic JavaScript code so I'm going to upload this when I upload this contract to a Turing signing server they are going to send back a signing key because this is the account this is the contract address that is going to be paying out Tyler coin if we look this up in still our experts on the test net we will see the windows condemn when we upload it to the Turing signing servers they send back signing keys and those signing keys are what we add to this contract to allow for these contracts to actually generate signed transactions because the Turing signing server is going to generate an XDR and then add a signature using whichever signing key they have for that contract and then we have a threshold of three like I mentioned before so if three so long as three addresses sign off on this any any transactions coming from this contract we can generate a valid signature and the execution the transaction will go through in this case paying out toilet claim so let's go back here and generate that xtr that generate XE our button is going to call the Turing signing servers it's going to say hey this account would like to generate an ex TR and it looks like we have got a beautiful error so you know so is the way it goes but essentially what would have happened if it had worked would be the the contract goes out to all of those different addresses all those different Turing signing server sends back the same XDR with the signature the signatures get added to the transaction that comes in we add our final signature to the ex TR to the transaction and then we can submit it right so we have to we have we have this account we would have to sign for for that hundred lumen payment it pays out the hundred lumens and then the signatures that we received from the Turing signing servers for the Tyler coin are all valid all the signatures are there we can make this relatively complex payment all through a very simple Turing signing server smart contract so that would be our vending machine example the next one would be let's do this weather coin so this one kind of showcases but I would call Oracle eyes data but really it's just taking a third party API and using that information to generate a transactions a different transaction or our variable transaction so in this case we are using the dark sky API we are looking up the weather at my current location and if it's raining we are going to generate a transaction for rain coin and if it's sunny outside we're gonna generate a transaction that pays out Sun coin and so again we need the same address when I upload this the same thing happens each sharing sighting server sends back a different a new signing key we had that signing key to the contract and then the contract when we call it will generate signatures for this particular transaction so hopefully this one will work it's not raining at my house at the moment so unfortunately you can't get a any rain coin so in this case it's looking it up and it's saying because it's raining we're not going to be able to get any any rain coin so if it was raining you'd be able to get rain coin but because it's not theirs I think there's logic actually running in the glitch app which says if it's not raining don't generate the XDR so maybe a little bit of a letdown but still you can provide arbitrary logic to say because it's not raining in my house right now we're going to spit out and reject this transaction which is really cool because you allow that logic to say I'm going to give away like usage of my account but only under certain parameters and in this case it's an arbitrary third party API which is providing the information that's as well it's not raining and so because it's not raining we're not going to generate a transaction we're not going to add a signature for it we're throwing that out which is which is cool the next one would be the filter smart contract and this one's actually a little bit different because instead of adding signatures to a contract address we're actually adding signatures to an account to a user's account and this is one of those examples where a contract the ones we've looked at so far have been sort of third party services so somebody's actually trying to run a business off of smart contracts in this case somebody just created a random you know open source smart contract which provides filtering functionality and so maybe I have an account that I want to give access to someone for but only if they're xlm payments are below a hundred lumens so I've made a filter smart contract here which basically says when a transaction comes in so the input here is actually in xtr so we're going to generate a Steller's transaction which has to have just one operation which is a payment and it has to be an amount that is less than 100 because if it's great greater than 100 lumens the request will be rejected but in this case we actually want to attach this contract to a user's account not to a contract account so there isn't really a contract address here somebody's just created this contract and says hey I'm gonna upload this and if you would like to use it if you would like to get this filtering functionality for your account then you just need to add the signing keys to your address so if we take this xtr here which is a valid example we can look up the account that it's attached to so we've added the signing keys to this account and right now there's just two so we've uploaded this contract to tutoring servers taking their signing keys and attach them to our account we have a threshold of 3 which means we need all three of these both turning signing servers and then our own TFI signing key to sign off on and then we kind of have this escape base64 or sha-256 hash that if something terrible happens and we need to rescue this account we kind of have that in our back pocket that's not a turning signing server thing that's just good practice if you've kind of locked out your account to yourself but anyway sharing signing servers are going to sign for two so by themselves these turning saying servers can't do anything there's no collusion capability possibility because at most they would only have a weight of two which isn't enough to do anything they would they would need that final signer my sign my signature to actually do anything so however I can't also by myself do anything this account is useless on its own it needs those other tutoring signing servers to actually accomplish anything and those turning signing servers are locked in to only signing for this which is that the transaction is greater than or is less than 100 limits so if we go back here we can see this payment is for 100 xlm so if we go and we generate the xtr on this all of my examples are today this is not fantastic and we try the invalid one it works it doesn't it filters a transaction here looks like this one's not working I think I may have uploaded the beta X beta let me look real quick at the contract address and make sure I'm actually using the right contractors because this one is kind of cool so we edit our project real quick in our JavaScript know it's got the right one yeah who knows probably shouldn't have fooled with it too much before before doing the demo but anyway if you had a valid example which we this is valid X er but looks like something's up with my Turing signing servers this would be valid it would be signed you could view it in the laboratory and then submit the transaction to the network so long as it was under that hundred one more example here this on glitch is our hourly wager demo so I play video games occasionally and on Fridays will do wager pools so maybe like you know 10 lumens or 20 bucks or something like that and there that all gets pulled together and whoever wins the game gets the gets the pool you could also see it as a donation pool where or even like a Kickstarter or something where if if balance reaches over a certain threshold and the money's released there's lots of different smart contract logic that comes through these types of functionalities but you don't want a single entity holding all those funds with the risk that they could run away and so you might add multiple human signers to that but if one of them gets bitter and doesn't want to do the thing that you you know I go you cheated and it's I'm not going to sign off on this transaction where you could run it to issues when you have those human variables but if it's just machines and they're just following contract logic you remove that layer that risk and do the the perform that trust minimized aspect of things which is really what we're after and what turning signing servers exists for and so in this case you have a contract address which has the Turing sang service been uploaded to all of the turning signing servers with threshold of three again so you need at least three of these Turing signing servers and then individuals will start to pay this account you can see the payments coming into this account into the wager pool and then in this case every hour the contract will go through you'll be able to generate an xgr which will pick at random one of these individuals as the winner and payout the pool payout the pool to them so again if we go to our arrow the wager contract it's a little bit longer contract but not really still 100 lines where it takes into account the operations for this contract account looking at the payments and then we'll randomly select one of those as a winner every hour so those are examples in that case again you upload the signers in this case to the contract like we did before the last one that I think is really interesting is a recurring revenue model so one of the issues right now with recurring revenue models on stellar is that you have to pre sign loads of transactions and kind of bump sequence numbers and it gets quite hairy when it actually comes time to execute those as they have to give to pre sign loads of transactions especially if it's like shorter terms on weekly or monthly basis and you have a lot of these transactions just kind of sitting around hoping that they'll be valid valid whenever it comes time to submit them with Turing signing servers you can create a contract which takes into account when a payment when a payment was last made and for how much it was when it was made all the information around the actual payment and then if it's time if it's been a month since the last payment you can make another payment and so essentially you would create this transaction much like the filter transaction or much like the filter contract you upload this contract add the signers to a user account but those signers can only sign through this contract and so if it's been a month since the last payment was made you can call this contract and it will generate a transaction which makes a thousand lumen payment but as soon as you submit that to the network it's and you try and call it again and say hey I just want to keep collecting thousands of lumens from this account it's going to say hey it hasn't been a month since the last time we ran since we ran this contract so in that case you don't have to have any pre signed transactions you simply wait until the time comes you generate the transaction and you can actually generate it and submit it through some sort of third-party service the user wouldn't necessarily ever have to know other than they would still have ownership over their account and if at any point in the future they wanted to cancel their subscription they would simply remove your turning signing signers from their account and any calls to that account to make a payment would fail because the user removed this turning signing server signers from their account so I think if this account still exists we could actually look at the signers that have been added for this account it looks like I saw on that one I think it's actually yeah so we've got the two signers here but then it's also got a threshold of two so while we need both turning signing servers to generate that recurring payment every month if at any point the user wants to remove those signers they're able to do that because they have a weight of two set on their operation threshold so that's been a basic overview of what I have so far on turning signing servers it's still a work in progress obviously if that's something that seems interesting to you and hopefully it does I am looking for more people to get involved on actually building out smart contracts so I have quite a few turing signing servers just tests that turn signing server set up they're ready to be used ready for people to poker and see what's possible hopefully some of these examples have gotten your wheels turning but now is kind of the announcement for that we need some people to start using this thing to start poking it around to see if this makes sense as a septa see if we built the right thing and then towards the as that sort of happens and we sort of get a better idea of what this should be and how it works and doesn't work and what kind of contracts can be built using this we'll move into the actual draft the SCP draft portion where we write it all up we have the API endpoints we showcase how to build one of these servers and run it successfully and all the fees around it and how to generate revenue how to run a secure turning to a server but also how to create good contracts and then hopefully we can get it to an active state where it starts to be used more and becomes a normal sort of used active seller ecosystem proposal within the ecosystem where these Streng signing servers become possible where anybody can spin up a contract and upload it to a plethora of turing signing servers and then beyond that it's just the acceptance of it and it becomes a normal part of stellar development alright so that was long apologize for that apologize that the demos didn't work out great hopefully we'll have those back up and running so that everybody can play around with what we have so far should have that within the next couple of days and linked on the youtube let's go for questions I hope there's a couple of questions that you guys have for me as things pop up and I will begin to answer those and then we'll and then we'll close out but as you have questions for me feel free to type them into into the chat and we'll walk through them otherwise you can find me on Twitter and key base at T y VD H I would love to chat all right how is this relevant for cross-border payments where does this fit in decentralized finance well you kind of set it there in decentralized finance a lot of its going to boil down to what you mean by decentralized everybody kind of has their own idea of what decentralized means and when it comes to things like D central payments for cross-border payments or decentralized finance for cross-border payments it's gonna come down to like who's in charge who's in control and what what are the differences what layer's do you have when you're talking about ownership so in the case of an anchor for example and wanting to facilitate payments being made in and out of the ecosystem or putting up offers on the order book to maintain liquidity between assets right now all of that stun and a completely centralized way where an entity controls their order books and so long as those orders are out there they're free to take them down and when you have these cross-border payments moving back and forth that can become an issue if a large portion of the success happens on one entity maintaining liquidity so it would be possible that a liquidity provider could create a smart contract that creates order books that are decentralized where they don't have the ability to alter or remove the orders that it just runs the liquidity and doesn't remove itself doesn't have a capability to remove itself so a lot of it has to do I think with removing barriers towards trust and this is actually kind of interesting because that's one of the biggest barriers when doing cross-border payments is do I trust them are they going to do what I expect them to do by using turning signing servers are really by adding decentralization or trust minimization into your workflow into your business logic you're able to guarantee some level of trust because you relinquish some portion of control whether that's liquidity providing or making good on payments the more that you can guarantee through math that something is going to happen versus guaranteeing through goodwill or I have a good business plan I've done this in the past the better off you're going to be when it comes to winning people's trust like it's going to become true more and more as other businesses do that and say you don't trust us you verify through the code that we've written that we don't ultimately control weave or link which control of our secret key our ability to alter the state of the ledger to these transient servers which ultimately own the contract they run the contract through users interacting with it so in that sense depending on how it's implemented and at what level it makes sense for a company to add in trust minimization to their business logic pterence and insurers will be useful for cross-border payments or decentralized finance but a lot of it again is going to ultimately boil down to what is decentralization mean and is that actually helpful when it comes to trust minimization or making payments across borders is SCF going to run a turn signing server who runs strange signing servers without any incentive I don't think SDF is going to reconcile you server I mean I run a couple right now just as as testing demos but yeah there is tons of incentive to run a tutoring center we didn't talk a whole lot about fees or uploading contract fees but that's a big part of running a churning signing server it would be kind of a separate talk - what is it like to run a turning sign server but you can charge excellent fees so basically part of the XDR when transcending server spits out a transaction part of that transaction is payments to the turn sending servers so those are these small fees paid out to the Turing signing service as well as fees for actually uploading a contract so it might be ten or a hundred lumens or five USD to upload a contract to a turing signing server so there's both the incentive for people to upload contracts but also to run good Turrentine servers so that you can continue to collect on fees as cheering sighing servers are executing smart contracts don't understand why you need signed transactions with other party when you share your sign transactional attorneys sensor owner of training center to execute your contract only if that Turing something let me read the question I really don't understand why you need Turing signing servers to share signed transactions with other party when you share your sign transaction with Turing signing server owner of Turing signing server can execute your contract signed transaction to attack you again that's only if you allow that how did you write your contract because you some turing some contracts may accept a incoming XDR but it's not it doesn't have to be a signed transaction that's coming in it's just instructions or it's just a Turing it's just a contract it's just a that's been submitted to a jury in signing server but it doesn't have any signatures on it yet and if you write your turn signing server contract in such a way that the output is a partially signed transaction so not full where you still need to sign for the source account you still need to sign for those fees maybe but there's still another signature that's needed the the transaction is only partially signed it's not Val viable to submit to the network yet so what someone yeah a lot of it is gonna boil down to trusting all of the Turing signing servers together but you already trust that with the way the seller consensus protocol works where you trust the individual nodes that are running stellar so this idea of disinterested but incentivized third parties is quite strong and it has been proven to work quite well so ultimately it boils down to again you get what you permit and if you allow for the generation of a transaction that is completely signed and valid then yes the turning signing server could submit that but even that isn't necessarily an issue unless they're submitting something that you don't want them to submit it ultimately depends on what that transaction does what that transaction accomplishes but because you're splitting up your secret key between lots of different during signing servers any single one probably shouldn't unless you've allowed for it be able to do anything on their own they would need to they would need to collude with other turing signing servers to actually accomplish anything dangerous so what's the difference between sharing your signed transactions contracts with Turing signing server over traditional servers the only difference is they aren't their traditional servers just operating as turned sending servers ultimately it boils down to two owns the turing psychic servers because if you own them there's not two centralization there but if some other entity owns those some other entity is running those so long as again you're uploading it to multiples of those you're running sort of a it's not a clone but it's similar to how stellar works already where SDF and lobster coin quest all run validator nodes and you submit a transaction to their network and they validate the transactions and perform the operations within those transactions this is kind of the same thing where you have a secret key which is split up amongst lots of different servers and those servers then add their signature to any transactions coming from the contract and so long as it's valid and it's all the same and it's a valid signature it can be submitted to the stellar network how would you see this use for subscriptions like you mentioned before also does this support more than just JavaScript so I gave an example on the subscription model ultimately you would just have contracts that were built for different amounts or it could maybe take variable amounts I haven't thought too deeply about exactly how would we use my purpose isn't to be too stringent on how it should be used and more provide a platform that works and then allow other people to build on top of that so you kind of would have to think ok if I can either get ownership over someone's account but in a very controlled way through contracts only through contracts or I can give ownership to my account but only through strict contracts what does that allow for what are the capabilities there and then there's there's tons of them and subscriptions would be one of those with fee bumps I don't know I will be interesting to see if fee bums kind of gets rid of the issue with recurring revenue since you can pay sequence numbers and fees from different accounts now so some of the issues we had there may already be gone I haven't looked into that too deeply but when it comes to complicated or turing-complete recurring revenue models or you need to do much more beyond just paying fees and sequence numbers you actually need to do some some logic external logic or taking accounts of the person's account you know like refunds or oh they partially paid and now we have to perform some logic around some sort of partial payment or upgrades and you know more strike like functionality then you could use something like this to accomplish that through because the turn signing server or smart contract logic and again you don't do you need to do that I don't know that depends on how much your users need and value a decentralized option for something like this or a decentralized option and maybe they do maybe they don't that ultimately is up to the users and what they expect out at the services that they're that they're making use of all right do we have any other questions those were good questions and again this isn't this isn't set in stone this is this is very good discussion and we don't want to spend our time doing the wrong thing but at the same time all you have to do is spend a little time looking at aetherium to realize that smart contracts and turing-complete smart contracts is a very powerful tool that is very valuable and I think it's worth taking a look at is there opportunity doesn't make sense for us to include some sort of functionality like this functional feature parity that would allow for decentralized transaction creation where you don't have to trust the person who's creating the transaction you can you can mitigate that you can relegate that through other parties all right SuperDuper I appreciate everyone hanging out again feel free to reach out on key base or Twitter with follow up questions I'll try and get working links to these demos as well as some API Doc's for people to poke around if you want to get involved building these things or testing it out be sure and reach on them you know thanks again or for coming out and we'll catch y'all later bye",
      "keywords": [
        "contract",
        "signing",
        "transaction",
        "servers",
        "account",
        "turing",
        "contracts",
        "which",
        "smart",
        "those",
        "server",
        "through"
      ],
      "speakers": []
    },
    "2020-07-09-open-protocol-discussion-7.mdx": {
      "summary": "okay we're live alright everyone welcome to the open protocol discussion a biweekly meeting in which we review and plan for upcoming changes then provements do the stuff call we've missed a few meetings because people have been out of town but our plan is to keep live-streaming these so that the world at large anyone who's watching can see what we're working on and all the wonderful thoughts that you have about I don't like stellar better these meetings usually focus on reviewing court advancement proposals aka caps which suggests new features and improvements to the protocol and at the moment we're focused on protocol 14 on the upcoming protocol which will likely include two big caps cap 23 two part payments and cap 33 sponsored reserves today we'll cover a few remaining questions about those we'll also talk a bit about the downstream implications of those caps and the preparations underway to make sure Horizon and the stellar SDKs are ready for protocol 14 um so we published some pre reads for this meeting there in the event description and this discussion will make up a lot more sense if you've done them so do those if you haven't um there's also just a rough outline of the agenda on the left of the screen um and there's also a list of participants in the event description and for this meeting instead of introducing everyone I'll just let anyone watching Google the names to find out who's who if that's not working in the future we can take some time to introduce ourselves but let's start there seems simplest so diving in quick status update cap 23 and cap 33 are in final common period they've been there a little longer than usual there were a few lingering questions discussion was a bit slow because people are way but barring any blocker is raised in today's discussion we will be night them with the coveted status of accepted so first let's talk about those cap 23 to part payments cap 23 creates a new letter entry called a claimable balance the new operations that allow you to create and claim a claim of a balance the goal is to separate the sending and receiving with a payment so you can send a payment to an account that isn't already prepared to receive it it looks like there are a couple of issues here and I will turn it over to John to talk about the first one sure so this this is actually this originates from a from a question that David brought up I guess a few weeks ago which has kind of been lingering but basically the question is like right now we're using dislike predicates tree structure which is kind of novel in the stellar world you know in other places we use like linear threshold combinations and stuff like that but here we have this predicate tree and David's main concern about this predicate tree is that you know XDR doesn't have any built-in mechanisms to prevent arbitrary recursion and so anybody who has an extra parser first of all like as a matter of principle you should be making sure that you're not gonna get infinite recursion but you could imagine a world in which you have some structure which is like sitting on the edge of the recursion depth limit for different nodes on different architectures and whatever and maybe some nodes choose that it's acceptable in some node trees it's unacceptable and then you end up in some bad undefined state depending on potentially a fork in a really bad case depending on basically just how everybody's configured but they're different XDR and so the question is like how should we update this predicate tree structure and David had this proposal to basically turn it into a into disjunctive normal form but I've heard some opposition from myself from Nicola and from somebody else that I can't remember right now who the third person is that this disjunctive normal form idea is not really that great because like complicated expressions end up becoming like exponentially large that's kind of not ideal so we could either decide that we don't think this is a problem and we're not gonna be anywhere close to the recursion depth limit because like probably realistically a transaction even with this predicate tree structure has recursion depth maybe like 10 or 12 and if your system doesn't support like 12 recursions like that's a problem hold on that the idea is that a bad person could submit it to purposely submit a transaction that like pushes the recursion depth right but that would be invalid no matter what they're automatically invalid if the depth is greater than four so like if you submit because we have logic in there too we have to be exactly actually there's a laterally invalid if any of the predicate trees have depth greater than four so like it might you know if your XD our compiler doesn't generate code that handles recursion like deep recursions well it might crash your node but like if that's the case your XD are set up it's garbage and you have a security vulnerability regardless of whether we've done this or not well if we pick a number like four we can actually admit it's ugly but we can actually express that in any XD are pretty good tree one two three and four is like four different types you know leaf one two and three or something I mean but so that much is how like do we really actually have use cases that involve all of this like the thing is you already have the disjunction because you can have multiple claimants right and so so the question is why not do something that has just a conjunction you know in in the claim predicate and then you know we can add something more if it turns out that's not useful enough or at least come up with some actual like realistic use case that actually requires like you know like four deep nesting of like hands and wars so so the four wasn't chosen arbitrarily the four has this like very magic property of making a claim of like a claim over balanced entry the same size as a or rather the claimable predicate tree the same size as a data field so basically like this bore was basically saying like if you're gonna pay reserved to get a data field you might as well pay a reserved to get the same amount of space and claim a little balance but so that's where the magic floor comes from but regardless of that I mean like for me it's not just about whether like everything I think sensible then you could express it you could express in disjunction format like I don't see any reason why you couldn't do this but the issue is like if we then subsequently add the conjunctive stuff then we're no better off than we are now like we'd be strictly worse in fact because we'd now have this the disjunction thing which was your proposal where basically if you get disjunction if you're the same claim into multiple times that's currently not permitted at all claimants are unique in this in the current proposal but then you'd also be able to build these trees and then you've like kind of violated the like one way to do it rule so like that's kind of my main like basically if we think we could ever end up in a world where DNF is not good then we shouldn't start in a world where DNF is the standard because we'd be no better off in the long run so that's kind of my main take on it one other idea I'll pitched you and I'm gonna credit this one too great in it's not my idea but graden mentioned that we could actually to avoid the infinite recursion thing XD ROP KO phi the predicate tree and like we can for example make the xt are opaque version of the predicate tree like 64 bytes right now and if it's bigger than 64 bytes you're dead like that's not gonna work and then later if we need to get bigger trees for example for hash Cree images or something we just increase that number but that provides like a default bound automatically I don't know I don't know how much anybody cares about this at the end of the day like we could definitely do the hard coding thing there's a lot of different options and I just like I don't know how much it matters to spend time trying to decide like do people care a lot are people really concerned about this recursion thing what is the what is the use case that's driving the the more complex like pretty good cheese well the main reason for having the predicate trees is just that it's a lot like it's a lot more powerful than having Linear's like signer weights basically like what we have on accounts I like there are very simple situations where you would want an or for example or maybe even an and or an or for example like you might want a situation where it's like from now until this time I can do something and then from some future time until some other future time I again have the right to do something and now you've automatically got this tree structure implicitly so but no but you can already have this because you already have multiple claimants right so claimants are unique right now they don't support repetition but we could do repetition sorry but oh you're saying even the subunits of the claimants if you have a conjunction of me before Tuesday and me after Thursday you're saying those are the same claimant so the same claimant has appeared multiple pi correct and that would be invalid so yes I don't see why would you prohibit that like I can actually see a number of reasons why you might want to do that because like maybe you want to maybe you want to be able to be claimed by like a two out of three configuration and so like you know I should be able to sign on two of the claimants for example so having repeated claimants actually seems like a very useful thing unlike this this alternating and in or four times I'm not I'm not sure I understand why the repeating would be useful like other than in this disjunctive normal form at world like why what usage could possibly come from that it's strictly less powerful than the tree like anything you can do with the tree you could also do with the claimants like repeated claimants but the opposite anyway I want to come back to like then I don't want to spend time about this if nobody's concerned about this recursion issue like my stamps on the recursion issue is that if the recursion issue comes into play you already have a security vulnerability because your XDR compiler doesn't handle recursion well or your XDR library doesn't handle conversion look Oh recursion well so not but the question is like do we define a depth specifically for this data structure or we just expect to conform to whatever your XD our parser knows how to do this one has a big depth limit there are two paths to it yeah there are two paths straight right there from a security standpoint you want to be able like you shouldn't never use in you know unbounded num you know amount of memory if you get untrusted data on the wire right and then there is the second part that is a protocol and fourth thing that is what is the maximum depth and it's fall so they in that case if that's really what we're gonna do I would argue against the the maximum depth because because that's hard to implement right so people get it wrong if we just have a maximum do we have a maximum transaction size because then because the thing is like and maximum transaction size would at least be easy to enforce where did I I think I'd rather I'm not go that route because like right now like John said like the four as it's kind of a nice property where we don't have to deal with variable based reserve requirement only as soon as we say we have we bound this to the size of the transaction now you're you're you have to come up with an onion model so this for how much to charge for return because now like they're all going to be potentially a lot more predicates that you can put Kristin operations can get very big so what's your how big is your like a bad payment is you know can get is very big so how big is your implementation of the of the recursion depth John how many lines I suppose for us Siddarth did it so I don't have it in my head right now but I my guess is it's probably like on the order of 20 that's how much I think it would take me to implement it and and how many places just invoke that function in the code because it seems like we're gonna have to check this in a bunch of different places right everything is just one yeah it is very eight because they're immutable so it's just like in the validity path you check like hey like how deep is this cool you're good I mean and how so we need like a like basically every we need a version in the SDK and then we need to like check that the two are equivalent right it seems like any time is it difference like any time an SDK can be convinced to create a transaction of stellar core we'll consider are incorrect or invalid that's it that's it that's exploitable right because I'll convince you that hey we're gonna do this thing where you can like get a claim a bunch of money or whatever and then it turns out that you can't because stellar core rejects the transaction so I really I don't like this idea but like yeah III don't think we should never do it like they're clearly times that's appropriate but it just it doesn't seem justified here to add like an extra validity role that is not like this is not a good argument I think because like in general like you have an expression and you're saying oh like I want to look at the expression and I expect it to just pass in call but like really like if this expression is bogus like it doesn't matter like you know it's going to be invited later right so maybe the reasons we should make it as easy as possible for SDKs and other software in the stellar ecosystem to replicate the validity rules of stellar transactions and obviously sometimes we need to add extra logic but given that we haven't cited a single use case that it wouldn't be satisfied by by a a simpler approach here it just it doesn't seem justified but again I mean I've said my piece I'm not I don't object strongly enough that I'm overruling this I did both to put this to FCP so you guys can heed my advice or ignore it I guess how would you feel about the like the hard-coded thing the you know least one to three thing better much better because like that would be easy to do and it wouldn't really impact the implementation at all because all I would do in the implementation is just parse it once the real like the leaf four way or you know depth for way and then I would just parse it again as an infinitely recursos structure once I check that it's fine and you know and then you can just like you know XDR start you know SDKs and whatever could just parse it as the for depth version and it would just work out of the box yeah we would not even use the the one with the labels in call yeah we might not even use the one with the labels in core exactly that's a good point because we know that we're secure against arbitrary recursion so no no but the whole point is we want the logic in core to exactly match the logic in SDKs right so so the well I mean we're paying the sophistication is full maximum depth fall right so it would be the same spec and they'll be giving a canned version to educator I'm just for I'm very skeptical that this the four is even necessary why don't we start with two and then if we need for we can do it yeah we could start with two two is fine but I mean like two hasn't helped you a ton in the sense that like two has exactly the same constraints is full right like you'd still need to check the depths and everything well no because two is like much less unwieldy to do with like a leaf in an internal rate like now it's sort of it's not that bad to have two different types for it also you would need well I guess like do you mean - is in like Route one - because no I I meant just like I just meant when you have an and or an or it's an andron or of something that doesn't include andin or of a leaf that's a lot more restrictive but again like what are the use cases here this feels to me like were we're building a mechanism without an idea of the use case for the mechanism right and you can always go you can always increase the depth right that's not oh yeah that's that's a third site you could always increase you know on the other hand you know it may turn out that the the main bottleneck here is that it's like it may be like very unintuitive to have like and an award like complicated boolean formulas for this stuff right like I think a simple one level like a disjunction of conjunctions is something that you know it - it really makes sense like okay there's like three conditions on which we can do this it's like this and this are true or this is true but once you start going to more than two deaths it starts becoming like fairly unintuitive like it's what you you know expect to you know feed into your Sat solver because you've generated from whatever but but it's no longer gonna correspond to sort of simple human expectations so do we actually expect that we're gonna be having compilers generate these like really complicated predicates and that we're just gonna trust these compilers to do something sensible or do we just like if we have a use case for that I'm okay with it but until we do I'd say why not just defer having that complexity I mean I'm not opposed to going to - in the short term and making it super simple and you know we can make it higher in the future when we need it like would that be difficult if we started shallow and decided that it needed to be deeper would it be difficult you know it'd be very easy I think that I have an idea how to implement this without the recursion maybe we can just allow the predicate to be an array of predicates and allow duplicate claimants in the conditions so with these two preconditions we can implement both and and our cases because duplicate duplicate claimants for example two or more claimants with the same account ID with the same destination will allow to implement our cases and and making the predicate an array of predicates educates it makes they were all soon easier it's intuitive it's like it makes sense it is fairly expressive clearly there's a lot of different opinions here so let's let's take this I think we've like we've talked out some of the details okay take it to the mailing list and try to come up with what's the right thing to do like the beautiful thing is like none of these changes are going to be very material to the implementation so we can plug in whichever one we kind of think is the right one but I don't want to take the entire time of this meeting talking about this one thing okay so the plan then is to make these suggestions on the mailing list evaluate them in synchronously and choose one for the implementation soon okay that's what we'll do then email after this meeting and kicking that off cool um then I or is there anything else that we need to cover on cap 23 or it's that sort of procedure forward with that I think we could probably take if people want to talk about the other thing about like changing this before-and-after notion to having a not we can do that but we can probably take that to the mailing list oops they're all kind of bundled up is one kind of topic so unless anybody really wants to talk about that right now I'd say let's take it to the mailing list great think it's the mailing list look out for that in your inbox everyone um get excited so then we'll move on to cap thirty-three sponsored reserves this proposal allows an entity to cover the reserve for accounts controlled by other parties without giving those parties control of the reserve that extends account entries and ledger entries so they were pertinent information about sponsorships it creates new operations to initiate and terminate sponsorship and to update sponsorship information for existing ledger entries the goal is to allow asset issuers and while it's never user reserves basically one issue came up which is that there was some incompatibility with step 30 which is a stellar ecosystem proposal that defines an API to allow users to regain access to a stellar account after they've lost their private key without providing any third-party control of that account and so I think these there's been some investigation of how to deal with potential incompatibilities and I'll turn it over to you yeah I can give just a quick description of what the incompatibility is and then we've got a short-term fix at the SAP level and then John will talk about a potential way we might want to think about this at the protocol level later on as well so the incompatibility is that Sept 30 the server that implements Sept 30 because of signing transactions for multiple accounts it has this rule to find intercept that says that the server should only sign a transaction if the operations and the source Canon the source count on their transaction and the operations is for the the account that's registered the account for the signing for and the latest version the cap 33 has things like adding signers including other operations that have to be signed by the sponsor account so because this transaction that adds a signer that's sponsored it has multiple accounts signing it as have 30 server would reject this transaction so the short term fixed that we're thinking of for at the SAP level is just to alter that rule so that a Sept 30 server implementation can choose to allow the sauce account of operations to include some limited set of accounts that are knows that you won't be signing transactions for and that should allow asked I'd say the sponsor to that list of limited limited sub and would allow those transactions to be signed and John also has an idea of how to deal with this in another way at the protocol level do you want to go you wanna shut up yeah I wasn't sure you were done talking didn't want to interrupt you so this this harks back to a super-duper old issue from actually opened by Jeremy Rubin like out of more than two years ago it's protocol issued number 93 if anybody's interested but basically Germany's observation was that signing transactions in the world of stellar is very susceptible to the confused deputy problem and the basic idea behind the confused deputy problem for people listening is basically like or at least how it applies in the world of stellar is suppose you have two accounts both of which that can be signed with a single with a single sign or a single private key and then you look at some transaction and you and somebody asks you to sign it for one of these two accounts but what you don't realize is that it actually contains transact operations for the other account as well and you've now signed it for both accounts and it's good to go and now you might have authorized something that you did not mean to authorize there are other manifestations of this as well for example like it could be a more complicated world where like you have multiple keys and somebody asks you to sign for a certain set of keys and those keys combine to sign for some third account that you didn't realize you were signing for so at the time Jeremy opened this issue and asked a question which was something like John will know the best way to implement this that wasn't knowing but at the time there was no way to implement that was this that wasn't annoying because there was no way to change signatures but since David's cap 19 which got like subsumed into cap 15 and introduced the new transaction envelopes we actually have the power to change signatures in a very clean way and so the gist of my proposal is basically to add a new kind of transaction envelope which we'll call like for the sake of this discussion transaction envelope no confused deputy but that's a terrible name we wouldn't actually call it that I don't know I'm no good at names anyway somebody else would probably think of it and basically what we would this transaction envelope it would take the normal transaction but it would require a different type of signature and a different type of signature payload for that matter so transact signatures for an existing transaction like a train action v1 don't work here but these signatures would basically have a new bit field wrapped into the signature payload saying which operations you're signing for and also whether you're signing for the source account and then when you provide the decorated signature you provide that bit field again and since the signature is over that bit field you know that you've gotten the right data when you verify the signature like if you try to verify the signature it contains that big field and so you know whether you have it or not and then you just apply the signature weight to the operations and potentially the source account that matched that bit field so this would be like a pretty clean approach and it would allow you to sign for like every single thing in a transaction anymore it's pretty neat it'd be some work to do and it would require overhauling a lot of the stellar core signature processing stuff but I don't think it'd be like breakingly challenge challenging excuse me but to be clear the idea would be to try to proceed with cap 33 now and work on these changes later yes exactly I mean like from my perspective as long as there's a way to solve the problem and we're recognizing that like the problem is beyond the scope of cap 33 it's kind of like we could always choose to do this if people are encountering this problem all the time whereas like if we had no proposed solution at all then that's a lot scarier right I mean I suppose we can also see how many people use some 30 and how the set level change affects people and whether it's not the problem legitimate right yeah I think I think that the reason that this incompatibility and compatibility is important is that people who use cap 33 other people we may use accept 30 and vice versa and as comparing 20 years both but yeah I think we there's no reason to change that cap 33 because of this problem I think what John is saying is right this this is an underlying issue that we should address on the time and we do have a way to move forward with this up with sub-30 we have 33 together anyway alright it looks like there's one other issue here about changing sponsorship checks the truth sorry I was trying to remember what the what I from applying to the validity yeah so right now the way that the cap 33 is written the way that I've been implementing it like we we would accept transactions that have like for example like bad bad sandwich egg but these transactions are 100% guaranteed to fail at the time of apply you don't need like normally when we do validity checks we're doing them on a single operation level but like the reason for that is normally just because operations have side effects and we can't necessarily tell what they are but for all of these sponsorship operations like for beginning and ending in the sandwich King like you don't need to do anything to note like I can look at a transaction and tell you if it's properly sandwiched without applying any of the intermediate operations and so the question is whether we should allow these transactions to make it to apply time and then fail at that point for being improperly sandwiched or whether we should just say like no your transaction stupid and it's invalid doing that would probably require some new machinery but like it's not conceptually hard at all it's just new stuff to build whereas doing it at apply time is very easy which is why I took that approach but it has the disadvantage of allowing people to spend money on stuff that and also spend time on the network with stuff that's like obviously not going to work so I don't know people have a strong feeling about this I know I've discussed it with Nikolai before but I don't know whether he what I don't really know which way he wants to go with that really cold it's worth I would have thought we would check this kind of thing in the SDKs as well even possibly in Horizon I mean actually thought about it but as you say it seems trivial to check I mean like yeah like for me it seems like it would be a good candidate to have this as the validation step because it you know I'm trying to its a usability thing I think that said you know if if we if we think that some bitching is more like remote in kind of a niche thing maybe it's not worth it I mean either way is fine to me it's it's more like yeah trade-off of were classes because we can always change that later on to so it's not like that's exactly is gonna say that we always have the power to change this later I also don't think it makes a huge difference to usability because somebody's running these types of transactions is probably gonna be running a lot of these transactions so they're gonna find out really early in development like they're not kind of hopefully I hope I think I'm likely then they kind of run like 10,000 of these transactions and then see them or fail they're probably going to run one during testing see a fail fix the code and then move on then there is a strong point this is like a kind of like an enterprise tool not really an individual user tool yeah and if it is a user tool it's probably not gonna be at a scale that is okay so it seems like the answer is don't worry about that great are there any other are there any other sort of comments questions or suggestions about Kathy actually not as I mentioned earlier ambit worried about the locked phones clawback logic without it this proposal seems incomplete and sponsor the sponsor sponsoring entity has no means to recover its phones from government sponsored accounts we agreed to sync on this later so just with the record I think it's important to articulate this towards the timeline for this feature like this year the desired feature list is fully parked but next year will definitely introduce some way to deal with such situations because companies that are willing to sponsor reserves for their client accounts must have confidence that they will be able to claim the walked funds in the future I think it's important but if you if you have some ideas about how to do this I mean like I would definitely welcome a proposal about how to do this I definitely think that be a be valuable I haven't I haven't really spent any time thinking about how to do this other than the fact that it's like probably possible with the current design albeit like probably not that easy but yeah if you have a like definitely like submitted proposal I'll definitely look at it so I spent like a ton of time thinking about this I have lots of context on it sure  okay great um I mean I feel like even though there's it seems like there's still a little bit to be resolved on uncap 23:33 it's feeling like it's in a pretty good spot and obviously these are things that were intending to include in protocol 14 and already the Horizon team and people that work on SDKs have started to think about what that means and so I know Eric put together a working group to to sort of go through some of the issues figure out some decisions and I think he's going to give us a summary of where they're at yeah I don't have a same person except to say that we had a lot of discussions we went through and tried to think about use cases and then we tried to think about how this stuff would actually work and we came up with problems and the caps and we went back and modified the cap and then we came back again we went round asleep a few times it was really really useful I've linked our discussion doc in our agenda that you can look at to see kind of the gory details an FAQ that's coming out of this which will be helpful for the ecosystem I think and the outcome now I think is that we have a spec that's pretty solid so there are two issues in the go mono repo 2787 and 2788 that you can have a look up that really described the end points that we expect in Horizon and the work that we expect to do in the SDKs and anything that's remaining that's unclear I'm kind of satisfied is implementation that all problems how do you put things in what tables that kind of stuff so I'm pretty happy with it the only other thing to mention I'm just going to mention this briefly I know they didn't really want me to there is a naming question in the cap 33 whether we should rename these operations there's something more clear because one of the things that we ran into in this discussion was that we kept getting confused about what certain operations actually meant and if we're confused then everybody else is going to be confused this is relevant to Horizon because we have to name our SDK functions and our own points according to what we decide the actual operations are so there's a mailing list discussion about that I'm hoping we'll get an agreement on it I like the new names I think we should keep them but we'll need that in order to actually make the final implementation what are the new names and one your news sure yeah I don't have an issue talk about the sponsoring future as I think so the sponsoring future reserves confirm and clear sponsorship and then update sponsorship they were the original and the new proposed names are begin sponsoring futures as hen's sponsoring future reserves so it's really clear that that's a sandwich and then the third operation renamed from update sponsorship to revoke sponsorship because that third operation is signed by the person letting go of a sponsorship or letting go of paying the reserve for the account yeah I agree with all three of those particularly the third one yeah that seems nice and clear I mean there's a lot of there's a lot of letters and some of those names for super clear we're gonna hit our 80 character limit yeah on the lines of the HDR file after like one word so as far as you can see right now from your point of view and no surprise database migrations it looks good to me yeah I'm pretty happy with it cool any any other questions about sort of prep for protocol 14 downstream or about whatever just I guess it's worth mentioning as well that I expect us to begin implementation of this in our next sprint which will be in about a week in a house type unless something comes up to dissuade us or ask us to spend more time so those like pending decisions about cap 23 think they have they have an impact on that timetable that's significant that's more exciting Eric hopefully I'll have something decently functional for you guys to test off up by then yeah when you can get me a cool build ok going that looks like there's one final small issue which is started as issue 622 change clothes time semantics I think it's now cap 34 or which is in the draft you know you want to just summarize that real quick yeah like the cap is not yet in a good transform it's really rough so I'll just focus on describing at a high level what its cap it's about which is actually yeah we had like a bunch of ideas going around in the issue itself and this is the annoyance in the current protocol so this is not impacting the SDKs or Horizon it's more in fact if the only people that are getting impacted are going to be impacted in a positive way which are people that write transactions that in the context of smart contracts that have expiration times and basically closing a net case that nobody is probably aware of when the right those smart contracts that today a transaction can fail drink on Central Time basically consuming the sequence number even though the time bones that was specified would make this transaction invalid so basically like the typical scenario is when it is smart contracts is you have mutually exclusive transactions on a time bound one is for example only valid before a certain date and the other is that it only after and then those are like your two branches of execution basically and here what we have is it's possible that it's a the first one which is only valid before a certain time would be accepted for consensus then only you would find it to fail during consensus because the first time that was picked during consensus is actually incompatible with that conference actually this is very annoying because now if you have this one transaction failing in your branch that means like normally people what they do is they change transactions with with hashes right and now that particular path basically becomes possible because you consume the sequence number but she didn't actually execute that one transaction so that smart contract is gonna be in a broken state so it's it's a very edge it so it's a really an edge case and because it's an edge case yeah we want to get rid of it anyway so the fix for it that that we came up with with David was - during Constance is basically this pick as close time the one that is associated with the transaction set so normally when nodes nominate a value in general so the value is made of transaction set close time and upgrades right now what we do is that when we get at the end of nomination we combine all those values into some more interesting value that is translate a transaction set that is one of the transaction sets that made that made it to the end of nomination and then a closed time that is the biggest closed time so instead what we're going to do is going to preserve the opportunity of transaction set to close time and by preserving the affinity what we can do is actually change the validity criteria for a transaction set I mean up for the pair transaction set close time to only allow transactions that are going to not be expired with the that given transaction set so basically it's pushing the burden through the nominated value it sums up like the actual the actual change is that and then and then will will kit will basically not even include those transactions that would expire between two Ledger's in the transaction set start the gist of the update change so it's not it's not a big change but it potentially will make it can be a life-changing for those people that may hit that Berg do we have actual use cases that are running into this so we so the thing that we see those transactions fail today on the ledger so people are running into this it has definitely happened before it happens we don't know in the context that people know what that we don't know yeah that we don't know and we we don't even know for sure like contracts that you didn't even you know that didn't happen yet right like that's the problem with those things that they are pre signs we don't know yet what so fact here's my my concern so I agree this is a problem and I think there are a number of ways to get fix this problem including this which seems like a plausible way another way would be the the kind of signed operations proposal that I made just on the mailing list but the problem is that all of these things they eliminate some j-- and introduce other edge cases and so I'm just a little apprehensive about doing it sort of in the abstract because so for example this new proposal would definitely would facility Ned case where like you know you've got a payment channel and you know you submitted something and it like expired and like you know you would have submitted something else otherwise and now you're sequence numbers are messed up on the other hand under the current proposal there's a danger that if someone is doing like atomic cross chain swaps that it would work today and with this proposal if there's a network outage you could actually lose money right because no no no like this is fixing a niche case where you're guaranteed that the transaction states that it will not exclude transactions that would succeed so here's here's so ok so the fact so either I'm misunderstanding it or or you're misunderstanding me either way it's in its it's an indication that this is an edge case which is so imagine that what we're trying to do is we're going to swap lumens for Bitcoin right and so what I need to do is I'm gonna claim my lumens and in order of my to claim my lumens I'm gonna use a hash X signature and by disclosing that someone's gonna be able to like claim their Bitcoin right and I have to do my thing by certain deadline and then the Bitcoin person has an extra hour to like take the preimage that they've found in the stellar transaction and use out the claim the Bitcoin on the Bitcoin network right so under this new proposal if some if the stellar network goes down for an hour it's possible for an operation to actually execute even though it was supposed to execute at most one hour ago right and so you know again so this will require Dawson the network are getting a little bit lucky with with the time of a of an outage but if it's if you're trading enough Bitcoin for lumens that's something you'd be concerned with so again it's not I'm not saying it's a bad idea but I'm saying it causes potentially other problems that people now I mean not that we're sending what you're describing because if I don't already exists David yeah this problem already exists this I we messaged Justin about this like a very similar problem this morning like two hours ago like right now imagine this like super terrible thing happened imagine that you submitted a bunch of transactions you know like I submitted some transactions Nicola David Lee Orbitz Justin to like we also made a bunch of transactions and like Eric also submits a transaction but Eric's name starts with E and that means that he's malicious in conventional you know crypto stories and Eric knows of some zero-day that allows you to crash the network at externalize time and so what happens is like Eric's transaction gets into the ledger all of our transactions get into the ledger and now the network is dead like it crashes during you know ledger closed and nobody externalizes as a consequence everybody crashes now like when you restart the network it's gonna crash again because you are committed to this transaction set so the only thing you can do is update the software blah blah let's say this takes like 36 to 48 hours probably to get everybody back up and run it would be like I think a reasonable guess maybe even a conservative guess but like you should not consider any transaction expired on the stellar network until you've seen a close time past that time once you've seen a close time past that time you can say that that transaction is expired but until then you cannot because no matter what model we use like it's possible that the difference between like the clock close time when the like ledger actually externalizes and when the like a long time like the like the stellar header close time could be like arbitrarily far apart so this problem exists today like if you get into the situation like that transaction might execute until that ledger closed timestamps I think this is a different problem so this is also a problem but the the problem the problem I was concerned with is that a transaction with an older timestamp might not get disclosed until long after that timestamp right and if and if the contents of that transaction unlock something on a different blockchain then then that's a problem can you give some more background on this I'm not sure I understand how that would sure like so okay so basically we propose a block with a particular time right and that time was an hour ago because and in my case you don't need a software fault it could be like some botnet attack stellar or something right so it takes us an hour to like recover from this thing and now we're going to execute transactions that were like an hour old because like it's still the biggest block that's been nominated right even though at this point like everybody should be nominating everything but it could be that the block an hour ago was like the biggest blog nobody's heard of neuro transactions right so even though other people should be nominating like higher timestamps we you know well how it will execute like an old timestamp and so people might learn about a transaction with the timestamp of 11:00 a.m. at like 12:00 p.m. but like shouldn't you only vote for a transaction set or a stellar value that has a timestamp that's close to your clock time so like if everybody thinks that that transaction is super old nobody should vote for it because it doesn't have a good close time no you should vote for anything anyone elses and any one of your leaders is is voting for only if and you can take and currently and currently yeah only if it's valid actions should we consider a transaction with a super old closed time valid do we even do that to walk a block with this a value with a super old yeah that's my mentor value I don't think we'd have that even happens today I think that if it's older than like 60 seconds it's dead nickel I would know the best so I'm gonna let me Claude take it can be any any any clock in the between the lapped ledger and the current time all this that can be introduced as a potential but we pick the highest anyways so Jeff people repetition so so I think that what that my point is that no II don't think yeah no change like that like the the likely close time to win in that situation is going to be appropriately current time oh okay that's confusing actually hold on that's not what I inferred from the proposal no no I knew were close time with a worse transaction set no no is it so no but like the it's when you have nodes nominating you know a pair transaction set close time the close time that the nominate did you introduce on the network is there local clock time right so that's the so actually if you walked out for like an hour you know during the you know during the last ledger that new ledger will be an hour later obviously like compared to tie so is it's actually snapping to the to the current time it doesn't but a malicious node could say that it nominated something with an old time right like is there anything stopping them from doing that these are well there's a race right so so like the gos can happen at any node can be do s right so so any node can introduce a closed time so in this particular situation the change of pick being I guess that's whether the changes you may end up with picking the transaction set a closed time pair from one node that actually decided that it was not going to nominate something that was close to the current time like instead something in the past you know but close to the bigger than the last time I I just wanted to say by the way that were fast approaching the end of the hour so I don't necessarily want to cut this discussion off but at some point I think we'll stop the livestream and figure out the best way to have this discussion move forward yeah since people I mean basically what I would like to do is I would like to either have you know a little bit more data about like sort of smart contracts and stuff just to make sure that we're not sort of solving one problem and creating another and second of all maybe a little bit broader discussion because the point is like these sequence numbers are actually like annoying in more ways than one and so it could be that if we solve the sequence number problem then this issue goes away and we haven't had to also create this potential annoyance for like atomic cross chain swaps so there is already a way to avoid this sequence number problem I actually described it an issue 6:22 like three or four hours ago but the the basic concept here is like instead of letting your transactions have sequential sequence numbers they have gapped sequence numbers where like you can choose a gap of one for example and then the transaction just needs to have a bump seek and so if it fails you know that it didn't happen and that would solve so many other it would like solve a whole bunch of other problems too so it's like I'd way rather just like kind of address that problem rather than just do this one thing that's targeting this one very specific problem which we don't even know is exactly the problem that people are having in practice we know it running into these four regular infections no no but all we know is that some transactions are getting submitted that have a have a bad close time right but we don't know that that's like messing up people's smart contracts and and you know those people may not care that they're losing a you know you know 100 micro or 10 micro lumen fee or whatever like it just might not be a big deal right way so you want to put a face to those to those transactions yeah there'd be so much upside to actually allowing the gap sequence numbers like because that would solve all these other problems too so like if issue like like here what we are talking about is that there might be smart contracts out there that are broken because the way things are actually specified is wrong right and what I'm telling you said if you lock gap sequence numbers so many it will solve so many other understand with including this problem right no you have the same there's only would affect our new one yeah new ones would be fixed but you wouldn't fix old old we don't know that there's any smart contracts in use you can't say that we don't know sure but like let's let people complain about a problem before we contract well describing here is the very like this I think in most examples of smart contracts the you know branch on time like you want something but it you know I branch before some some time and a different branch on the different best like the like 101 I would argue it is I would argue smart contract when I want is the cross chain swap right well I think yeah like you bring up a super good point here which is like anything that we're proposing as a solution here like we better test it to make sure that it like it should be perrito better right like if I'm not happy with the solution that six is this problem but makes you know cross chain swaps worse so like probably like mmm I don't know if it doesn't I think we should do was the thing right we're going to have a conversation on the dev mailing list for this one and David if you if you if you can show us how are these breaks Atomics I mean across as change swap happy to fix things then break things so Jonathan John if you have another idea for how did you cap sequence numbers side spices signed I had that one frozen for the signed operations but basically something simpler like I think I'd rather just argue if we have something that like I can argue fixes this problem but also fixes other problems I'd rather spend my efforts arguing favor something we still have the same problem that's the problem with any other solution we will keep the cruise time broken comes with respect we don't know if we have gaps sequence numbers then there's no issue because I can basically sir so right now in the back we say if you have but time bounds they've drawn at the bad time bounds the transaction is embedded that's what the spec says and we're actually not doing that that feels like it feels like right place to end up to him I think we should yeah I'm right there any of this one 622 thanks everybody for watching that's the end of this week's open protocol meeting see you in two weeks",
      "keywords": [
        "time",
        "transaction",
        "thats",
        "dont",
        "actually",
        "problem",
        "which",
        "people",
        "other",
        "basically",
        "thing",
        "transactions"
      ],
      "speakers": [
        "Jeremy Rubin",
        "Central Time",
        "Jonathan John",
        "Nicola David Lee",
        "Orbitz Justin"
      ]
    },
    "2020-06-26-user-friendly-key-management.mdx": {
      "summary": "hi everyone welcome to the stellar development foundations engineering talk series my name is Lee McCulloch and I'm a software engineer at the foundation I'm one of the people working on improving the experience that individuals have using stellar and the businesses have building on still and today I'm talking about stellar ecosystem proposal 30 sep 30 is an approach to make still a key management user-friendly in products built on stellar so a user friendly team andr is maybe a bold statement to make because key management is rarely user friendly but that's what we're going to talk about today first I'm going to set some context and touch on what key management looks like on the stellar network how key management relates to Louis and then some common approaches that while it's take in the stellar ecosystem and in the blockchain space in general then we'll jump into the approach taken by a SEP 30 or through an example step by step of how Sept 30 works and then reflect on why this is valuable we'll also have a Q&amp;A at the end so if you have any questions during the talk please drop them into the YouTube chat box and we'll get to them at the end so what is key management and why do we care at the core of owning a stellar account or an account on many blockchains is being in possession of a key on the stellar network if you have an account you have a key for that account a key is made up of two parts a public key that you share with others and a secret key that you keep private this is an example of what the public key looks like and what a public key looks like on the stellar network it starts with the G the public key is your account address people send funds to this address and they'll show up in your account balance and this is what a secret key looks like it starts with an S on the stellar network we call the secret key that defines your account address accounts master key if you create a new account on the network and don't change its configuration your master key is what you use to assign transactions it's what you use to control your account so what do we mean by signed transactions stellar accounts have silenced a signer is a key that can authorize transactions for a stellar account and the master key it's the default signer of the account being a signer vostell account is sort of like being a signer on a bank account you can sign cheques for that bank account and banks will accept the check as valid if you get a new account on the network it's got one signer and that signer is the master key but accounts can also have more silence in addition to or instead of the master key as signer is a signing key just like a master key accounts can be configured to let signers authorize transactions individually or together in a group on stellar that configuration for what combinations of signers are required to authorize transactions is controlled by setting a threshold on the account and then weights for each signer an example of this could be an account that has a threshold of 20 with with signers that each have weights of 10 need two of these signers to sign a transaction for the transaction to be valid another example might be an account that has a threshold of one where any signer could sign the check by itself for the check to be valid much like a basic joint bank account you'll hear people use the term multisig to refer to accounts they use multiple silence but most accounts on the network only use the master key and so they only have one signer some have used an additional signer as to factor auth the control of the account still hinges on possession of that master key so key management is how we manage all of these keys and will it play a pivotal role in key management because of the core of a wallet is key management a wallets core job is to hold your salary calm and so its core job is to store your key protect your key help you use your key to sign transactions and then prevent you from losing your key so let's talk about some common approaches to key management that are being used so many wallets they only use that master key this means your account has one key one signer and that key is stored on the device in the wallet application those wallets can help you to not lose your key using a few different methods one approach is to give you Eve the key in some form to write down on a printout the key lives in two places it's in your wallet on your phone and it's on paper as a backup if you lose your phone this is great in terms of simplicity really straightforward to implement your key is backed up but it does present some challenges it puts a lot of responsibility on the user the user needs to write down the key exactly correct if they lose the paper it's written on they've lost their backup if someone else finds the paper their account is easily stolen and it can be a jarring experience to ask a new user to write down a lot of text immediately after dev installed a new application that they may not be committed to another approach is to store a copy of the key on the wallet server but this this has some different challenges the users gotta trust the wallet server completely because the server will have access to the key and therefore control of their account somewhere let's address this challenge by encrypting the key using a password that the user enters into the wall all it but has never shared with the server this means the wallet server is not able to use the key because it cannot decrypt but this only works for wallets and products that require the user to make a password that won't be shared with the server which is yet another password for the user to lose so all while its do key management but most focus on managing one key got master key and backing up that master King so let's talk about the approach that sub 30 takes sep 30 recovery signer is a stellar ecosystem proposal that means it's a proposal that contains a new standard or a change to existing standards that is build on top of the stellar network and for use in the stellar ecosystem sep 30 is an approach to key management that's focuses making key management and specifically the preventing loss part has user FM as user-friendly as any other consumer application its goal is to work without recovery phrases to have no server with a sole control of the account and to not require the user to remember a secure encryption password to encrypt their key sep 30 is currently being used in one wallet the vibram wallet which is a noncustodial u US dollar saving wallet the store's value on the stellar network the vibram wallet is currently in open beta and presents a user experience designed for the general public you login with your phone number you don't need a password a wallet like vibrant that is implementing sep 30 still does many of the same things that other wallets do it's a store a key they protect a key and they help you to use your key to sign transactions and they prevent loss but the loss that prevents is different it prevents you from losing your account and not your key a wallet implementing sep 30 weren't manage and backup a single master key instead the wild manage device keys and help the user to get new keys the user stellar account won't change its address will stay the same but the user signing keys will change so let's have a look at what Sept 30 is Sept 30 to 5 that provides two endpoints one to register accounts and another to sign transactions for that account a wallet uses that first endpoint to register an account with the server in the request the wallet tells the server what identities are allowed to request signatures for the account those identities can be things like a phone number or an email address the wallet authenticates using septum which is a stellar eco system proposal that's widely used already that defines a challenge and challenge response authentication flow that the wallet uses to prove to the server that it possesses keys that can sign for this teller account this way to the server noise of the client should be allowed to define who can sign transactions for their wallet in their response to while it gets back a signing address for the server and it makes that address a signer of the stellar account the second endpoint is transaction signing a wallet calls this hand point with a transaction it wants to serve it assign it'll do this when it has lost its key and it needs the server to sign transactions for it the wallet authenticates using an identity provided during registration if the phone or email matches an attendee stored with the account on the server the server will sign the transaction for the seller account and returned that signature to the wallet so let's have a look at an example and we'll walk through how well it can use these two endpoints to support account recovery for the example I will give the user who is using the wallet a name and we'll call her Alice when Alice creates an account with the wallet the app on her phone is going to generate a master key and then the wallet server is going to create the account associated with that master key the master key will be one of those big s secret keys that we looked at at the beginning and it's the red key in this diagram the red key never leaves Alice's device the app on her device doesn't give this key to anyone with sep 30 we can implement this wallet so that there is no need for the master key to be backed up anyway Alice's wallet also generates a second key what we'll call her d'lai scheme it's a key that is only for this device to use to sign transactions in the same way that the master key is not shared with anyone the device key is not shared with anyone either palace' Swallow submits a transaction to the network making that device key a signer of the account and removing the master key has a spoiler Alice's wallet then deletes the master key it's not useful anymore the wallet then goes through the process of registering the account with to recovery cells each server has their own key that they generate themselves each server is hosted and controlled independently by different entities the wallet proves to each so they independently that it has authority over the account by signing a sub 10 transaction and tells the to recovery servers that anyone who can prove possession of the user's phone number or email should be allowed to request transactions to be signed the wallet submits a transaction to the network adding both recovery signers as cylons on the account but limiting the weight of those signatures so that neither recovery server has independent control over the value in the account each each recovery server will be at assign a transaction at the request of the user but the transaction will only be authorized if signed by another independent honey the only individual with independent control of the account is Alice here's an example of what it looks like on the public block Explorer on the public Stellar Network this is Annie this is an account on the public network with its threshold set to 20 and there are four silence the master key at the bottom with a weight of zero meaning that it has no control over the account a device key with a weight of 20 so that the device has complete control of the account and then to recovery servers that each have those weights of 10 so let's imagine that Palace has lost her phone and she's purchased an earphone the greyed out phone in the top left is her lost phone that still has her device key on him and her new phone has no key for the account Alice's new phone goes through the same process that a previous phone did when it signed up with the wallet server it generates a device King and it signs into the wallet but that new device key is not a signer of her seller account so her device can erase transactions yet the wallet app talks to the first recovery server and ask the server to sign a transaction that makes her new device key a signer on the account Alice then continues recovery with the third party recovery server the third party is operating independently so Alice authenticates with them independently with an SMS codes and to her phone number or a link or a code sent to her email address once Alice has authenticated the server science the transaction and returns the signature to the wallet the transaction has now been authorized with a weight of 20 and can be submitted to the network the transaction removes the old signing key that was lost with Alice's previous phone and adds the new cyma key that lives on Alice's new phone Alice is now back in control of her account finally what's important to highlight is that while alice is in full control of her account this process can be built into the wallet into the wallet application and be behind the scenes for her what Alice experiences is the same user experience that we've grown accustomed to in consumer applications which leads us to y sub 30 is very broad right now great user experience drives adoption and supporting account recovery through phone and email brings a noncustodial wallets user experience closer to that of other consumer applications the registration user experience for Alice can be that she signs up like many consumer products logging in with her phone or email and the recovery user experience for hours is similar requiring only a second SMS or email with a third-party recovery provider these are patterns that are familiar to users of consumer applications this approach is also very flexible allowing a wallet to still offer a recovery phrase that can be written down by generating an additional key to be their recovery phrase or to allow for multiple devices where each device generates its own key that never leaves that device this approach also makes dealing with lost devices simpler a lost watch containing a wallet can be quickly revoked by removing its key as a signer without needing to get a new stellar account and when Alice decides to purchase a new watch it can be given a new key again without interrupting any of her existing devices but the court reason for why sub-30 really is valuable right now is user experience user experience that will drive adoption so if you'd like to learn more about sep 30 the proposal itself is about a 15 minute read and there's a thread on the stellar dev mailing lift without mailing lists where you can ask questions provide feedback or make suggestions contributions and discussion welcome and now we have some time for Q&amp;A see what questions we have okay well thank you listen to me talk about subsiding",
      "keywords": [
        "account",
        "wallet",
        "server",
        "user",
        "stellar",
        "master",
        "signer",
        "phone",
        "recovery",
        "device",
        "network",
        "transaction"
      ],
      "speakers": [
        " Stellar Network"
      ]
    },
    "2020-06-05-zkvm-about-the-motocrab.mdx": {
      "summary": "hi so hello everyone today we're going to talk about project slingshot and ZJ diem my name is Alejandra and I work at stellar on this project for the some time already so I'd like to give you an overview why we do that how we're going to use it and why is it interesting so let's do the time check all right so the problem that we have is we know about the ball change so how do we do the blockchain that protects the private information while being in the public right it's a public system that's fully auditable and transparent but yet we do the private transaction in it so effectively we want something like ledger with TOS so there are two major components to it one is the confidentiality part so for these we need some sort of encryption for our balances and accounts and amounts that we transfer and since it's a public system we need a public verification mechanism for proving that the encrypted the Hylian transfers are actually correct and respects the balancing equation but people when they transaction they don't create the money out of nowhere so we need some sort of zero knowledge proof in our technology static and the third important component is that some customization mechanism why is that the block chains are especially consensus systems they the work best when they're mostly decentralized deployed widely and as many applications the users run them and execute the rules and check the transactions and this means that it's very hard to upgrade the the system with new features or improvements so we need to on one hand to make it as simple and focused as possible so it's not buggy but at the same time we want to build some interesting features around the system like from smart contracts to whatever you know decentralized applications to improve the security of people transacting in this new environment and one way is to just roll out Network wide upgrades which is as hard as it is decentralized or on the other hand foresee some customization points so people can build things on top of it without changing the underlying rules so this is where the VM part comes in we need some sort of program ability for our system and if it's programmable it means that there are programs and it means that there is some sort of virtual machine that is going to execute those programs so this is where the DM part comes in now what is slingshot and how does it relate to the akkadian so slingshot is an umbrella term for the entire suite of libraries and protocol implementations that include not only the can a more interesting part the transaction format the zero knowledge proof sand the programmable conditions which is the kvam but also all the exhibitory cryptographic libraries such as signature schemes Multi signature things the multiple tree implementations all the way to the entire ball chain system where the blockchain state machine is a separate protocol implementation and the peer-to-peer networking stack and higher order application protocols such as the mechanism behind accounts the protocols for synchronizing well that's doing payment channel sorter books and all these kind of things that could be built on top of the on top of the core blockchain system so this whole thing is called slingshot and it's all exists in in a single github repo where the development happens now what's interesting about the TVM and the slingshot is that as a filing modular design why is it important this is not a single application that has a specific way of using it it's more like a collection of libraries that we can flexibly figure out how to deploy and roll out in the best manner so we can build a sidechaining or we can use it as a private ledger or we can use it as both the cryptographic pieces are composable so we can attach the off chain proofs to our transactions so for instance we can offload some computational cost from the network by building some intra-party proofs about payments for instance some notarization or zero-knowledge other schemes completely outside of the blockchain so we don't have to load the Internet work with this with this computationally heavy problem we can use the full node as a library embedded in in the greater application that for instance does some interesting indexing of the transactions and we can decide how big the now it should be how much data should store for instance the uijik so state compression scheme allows us to have very little minimal state at the cost of a little bit more bandwidth overhead and you can decide whether you just have this very compact who know them better than your wallet or you have way even lighter wallet or you build it completely standalone applications and running on a cluster for instance with as much data storage as as you possibly can because you want to provide as much service to the very light applications and this is why the default project is designed to be modular from the beginning now specifically the key VM is a transaction format that sits on top of the networking part and the consensus mechanism and on top of the KVM then you can build your custom application protocols so what does it mean to say that the helium is a transaction format so in other words the key VM is a fancy parser if you think about bitcoin or stellar or Z cash the transaction format and those protocols are is more like XML so this is some kind of hierarchical structure with lists of things that contain other things that describe declaratively the flow of assets in contrast theorem is much more programmable but the transaction format is more like a remote remote procedure call where the transaction just sends a message to network and then you have the global state with some programs loaded into that state that can be invoked and do some operations do some mutation into the state and that was actually simply signed message into this global computer and the key mam is neither of those two things it's more like a PDF so it's sort of a declarative format but at the same time it's an executable a little language that you run through the VM that is sort of like a parser that exist the kids the commands does some local operations to determine what changes to the state should be made so you can explain this better this is the quick overview of the data model indicating so you have transactions and transactions are objects these little files transfer assets from inputs and APIs and they can also issue arbitrary assets because it's the multi-asset environment right just like stellar so this is how the esse flows from inputs to outputs and the outputs are actually the objects that we call contracts they have a predicate that can all locks some content inside the contract and provides conditions to unlock the contents and the contents are called the PD load and it's actually a list of things and those things could be either values that are local linear types the things that you can move around but cannot duplicate which are the assets themselves or some data parameters so your contract is this collection of values and data that can be locked into this container by a predicate and the simplest way to think about the predicate is the public key right so you say whoever owns the corresponding private key can unlock the values and then decide what to do with them and your unlock by showing the signature on a transaction so you have a transaction that says I want to spend this value and such-and-such way you have to provide a signature that authorizes you to unlock that contract or the predicate could be a little sub program so you have to run the program meaning that the VM will run the program and check additional conditions that are described by the program before deciding to unlock the the values and you can combine both of them with the scheme called a taproot it's a like Merkle tree of programs and public key is so you have the flexibility to decide things like you can either have multiple parties signed together the contract or they could choose individually whatever branch they want to execute so this gives you a lot of flexibility in terms of pre-programming different conditions that unlock stadium and the mining and it's a little bit even more flexible because you can not only pre-program some conditions or provide a signature which was action but you can also provide a signature over in new conditions so you can decide some program later and then sign it and then that program will be executed so this gives you infinite ability to do some interesting multi-state schemes while having pretty simple design so how does this all work inside the VM again transaction is just a program like I said like a PDF file so in our case it's has a little just a little bit of metadata it's a program that also has a zero knowledge proof and we will show in a second how this proof applies so what happens when you want to verify a transaction you instantiate a VM and by you I mean the Denelle that verifies the transaction it instant Chase the VM that is completely ephemeral it means that it's not some sort of globally running VM like like a dr. container a kind of thing it's it's like an instance of a parser for this specific transaction so it's very lightweight you create it just for a single transaction you load the transaction into this VM and it works as a simple stack machine so it has a simple stack it's not your incomplete so it has a predictable performance and the goal of the VM is not only to provide you with ability to customize a conditions but it also enforces the network rules so the operations that excuse they are also checking that you don't duplicate money that you respect the rules of the network and don't break that so what the in des it runs the program and the n as the program is running it's compiling on the fly thing that we call a constraint system which will be used for the zero knowledge proof so the constraint system is effectively just a list of linear and multiplicative equations that check that for instance the sum amount should because some other amount or should be subject to certain formula but the cool part is that this constraint system works in zero knowledge meaning that those numbers in the formulas that you are manipulating they are all can be encrypted and so your program can manipulate this encrypted values and and require that they conform to certain formula and as a result of execution of the program you will have this sort of a matrix of constraints that builds this constraint system and after the program finished executing then the verifier runs the serial logical flow VM checks the proof is correct for this constraint system which proves that whoever knew this secret keys that encrypted those amounts correctly combined them so if there was a smart contract saying that a couple of values must correspond to a certain formula then this these values being secret they're still correctly constrained by by the formula so this is the job of the zero knowledge proof and the VM does that in the end of the program execution and finally all the facts in the VM are fully local there don't affect the global state so it allows you to evaluate all the transactions independently from each other and verify in parallel so how do we even do the effects so all these inputs and outputs are actually recorded in the transaction log which is simply a list of effects that should be applied to the blockchain state and once we've run the program and verified this your knowledge constraints then we simply take this log this list of effects that are effectively saying that you have to erase certain inputs and create certain outputs and then we apply them to the bot fisty and this is very lightweight operation that can not only fail if you're trying to double span the same output twice and two different transactions and if it happens that the second transaction tries to suspend the same input then it will fail in the very end at that application stage but this is the the only stateful operation and the system now how do you instructions look like think of this as a stellar operations in stellar transactions you have realities of operations that you could do but they are more like a list of things that are not really working with each other they just enumerate what you want to do in a transaction for instance to send money from here to there or open offer or create an account things like that so in a similar Berean the key VM has instructions that are high level well-liked constellar they did their high level operations they don't they are not like assembly one assembler language low level operations that just manipulate bits they manipulate values they manipulate contracts the high-level concepts but they are all composable with each other so for instance you can instantiate a contract and then open it up and then take the values out of it move them around maybe mix and merge them together there and then lock them in a new contract and this sequence of operations will be not just the list of them but actually manipulating those values on the stack behind the scenes so here's an example let's say you want to make a custom constraint to do something about it so you start with pushing some numerical value on the stack instantiate a variable out of it that creates the variable inside the constraint system then you combine different arithmetic operations on it that as a side effect create those constraints and without actually computing because the value could could be encrypted and you finished those constraints by saying verify meaning that you can pull the whole constraint it you want to record it into the constraint system so it will be checked later then you can so it looks something like this so you have a formula and you do this kind of stack machine as syntax for multiplying adding checking equality and verifying and then once you have this variable all verified you can create overboard value and output in a certain place so you say okay this this value is correct so I am making a payment with it and boiler instruction is kind of cool because it's a zero interest rates boring just within the life of the VM it gives you to balance the negative and positive 1 and negative has to be mixed it with the proper payment coming from somewhere else using this zero knowledge mix instruction that we call cloak it's implements it's a whole clock protocol that allows you to mix M inputs into n outputs preserving the assets but in complete zero knowledge so you don't know where the asset flows within the boundaries of transaction so these instructions gonna show you how you can combine the value of flow with custom conditions and the important part is that this is all imperative meaning that all the contracts they do not have kind of declarative conditions but they incredibly do things that they want to be done with linear types that cannot be simply dropped or created out of nowhere or duplicated so entire clasts of security vulnerabilities are eliminated versus the access control lists always have this problem where you have hard time combining the different clock rolls together here it's very imperative and Lear types help greatly by just literally moving the valley where it needs to be moved and then make sure that you don't you don't break the rules along the way so this is very powerful but at the same time very safe system so I'll say a couple of words about cryptography so can make it all work it's important to have on one hand fancy cryptography but at the same time pretty conservative one so we have this stack of the high-performance curve to 5519 implementation on top of which we have the safe cryptographic group the which would build a bulletproof system and that allows us to do this custom constraints and we use the blue person two ways in one way it's a cloud product call that enforces the network rules that mean that you cannot duplicate money and at the same time it allows you to do on-the-fly custom constraints and this is cool because many other 0no systems like Z cash they do not allow you to do on-the-fly conditions instead they use a very complicated trusted setup where several priorities must decide the rules and compute some crunch numbers in order to compose a single solid constraint system that will be used for all the purposes of the network for for one time and bulletproof allows us to avoid this trusted set up and instead build the constraints on the fly every time the transaction is running because this is so fast and lightweight and finally if you provide the interface to all of that we have these easy KVM instructions and then on top with you using these instructions this is where you build your applications and this whole stack that we have is written in POS so everything is very neatly compiled and one first of all hassles in an API is in between two layers and then it's compiled without any overhead in a in a while finally efficient binary just like you would have with C++ for instance so another cool thing is that the DMA operations in the KDM are designed to be either cheap or expensive which is funny but the point here is that the chip operations are very cheap it's really like a parser and all expensive operations are completely uniform a scalar point multiplications in this cryptographic group and this means that they can all be deferred and done in a batch which makes them much faster so effectively what you have is you have a very quick run of the program then you have a bunch of things to compute in a cryptographic group that you can batch together and do very efficiently later you can even imagine doing that and in GPU if you have to verify a lot of transactions and then you have an answer where the transaction is valid enough so this gives us very low educational agency for the features that we have it's less than one millisecond per output so effectively like lesson no second for payment or more like Costas begins maybe like two milliseconds per payment because payment Nelson always have them change out but and we use all opportunities to prove performance that we can so if you have multiple signatures they all can be aggregated and then batch verified and transaction size is pretty distant so it's like one 1/2 to 2 kilobytes and this growth slow very quickly so if multiple parties join together they greatly optimize the total cost of the network and so a couple of examples to how you can build something with with this so one is the basic payments so the cool part is things like accounts and balances they are all off chain concepts as to the the basic network on the season it's an APIs and all the interesting kind of data wrangling it happens I've seen that provide security for the people involved in for the party stress of acting and greatly improved performance because there is a lot of can a complicated decision making is completely taken out of the out of the consensus critter parts and placed inside their application this also allows you to innovate faster because you can do different protocols and try different versions of like payment channels or be famous protocols completely outside of the can a consensus critical part so you don't you have to only upgrade the knows that care about this feature and not the entire network so the order book is an interesting example of smart contract so it's simply a contract that allows you to unlock the value being offered for a price so this is where you use the predicate I can pack several conditions inside the predicate and the cool thing about the zero knowledge is that you can do this both and public so it's like stellar like completely public offer and there's no nothing secret going on but you can still do this kind of semi public so if you have a pool that wants to be kind forced on the network and be auditable by authorized parties but you don't want to do publicize exact prices and exact assets that are being offered then you can also do that as well because all these formulas work on the encrypted values as well and you can notice that this contract allows you to do imperative description of the conditions that you want to do so you check that certain quantity and the price is moved to certain address and then you unlock the asset that you have you never I have to do this in a passive checks that whatever is provided or whatever like feature on that transaction object is set or some flag the set versus in Bitcoin there is very complicated kind of hashing flags so there's none of those things you can empirically just do the things that I have to happen and then if there are some kind of negative amounts left on the stack in DBM then the user has to provide appropriate amount of payment to cover them and finally payment channels is a nice example that shows you how to do complicated state machines in this model where you don't have global programmable states like in Assyrian supima channel natural is a state machine between two parties that can do payments without settling them on the network and the only thing that Network sees is that the initially deposit some money in that they closed the channel at some point later but all the intermediate movements of the money are not visible but still they have to provide some assurances to the to the parties involved so how does it work if the one party becomes unresponsive then the latest signed agreement could be used as a way to exit the channel and settle by another party unilaterally so this state machine is implemented on top of transactions so the states are embedded in those contracts and transitions are the transaction objects in themselves which is pretty natural it's just the intermediate assigned transactions they are not published until you want to exit the channel so this is how it looks in this model of inputs and outputs and transactions finally to kind of wrap it up a little compressor with all the designs and then we can proceed to the questions so it's kind of like a setting for discussion leader so if you compare the design of the KTM it's always very different but is founded on similar principles so it's multi-asset environment for modern financial protocols and the specific difference is that the data and asset values are confidential encrypted by default you can of course make them public if you if you want to do any sort of conditional or conditional disclosure schemes if you if you need some audit the concept of accounts is completely off chain and the verification of transaction is largely stateless and your mechanism for customization is this composable instructions instead of just enumeration of kind of thicker higher level operations and another important difference is that the order book logic installer is built in and has some kind of stateful conditions that will allow were more interesting kind of multi-party map price assurances in the KVM there is no such build the open concept you can build all sorts of order books on top of the system yourself depending on like how complicated he wanted to do to be compared to the Syrian atrium is is also a design for the customization and smart con metrics but the model is quite different the etherium is sort of like a global state machine with a lot of code and like libraries of code that can call each other and do a lot of stateful changes in the KVM all the changes are isolated and limited to this creation and deletion of the outputs and another important part is that the KVM is not cheering complete by design so it really acts more like a parser and allows just as little composition between the instructions in data as necessary to create ease for financial operations but not to just program whatever and the assets are first-class types that you can move directly around instead of being some entries and a miniature bank that you have to program inside your program inside the serial so this makes the whole design much much more easy to reason about because you don't have to win vent a little ledger inside the ledger every time you want to create a new asset and finally education Manero they they're heavily focused on the privacy and they provide some cool non interactive obfuscation of the transaction graph which the key DM does not provide but you can still do this with teams like pointer and so when multiple people join multiple inputs to one transaction then they can sort of mix them but Cillian provides you with the ability to have customization in contracts where easy cash Tamara doesn't have any and still even have the confidential computation within those contracts and finally the occasional manera have single assets and to kvms design for multiple asses so as a summary what we're having here is this experiment in combining customization confidentiality and scalability features in a single project and using two to the optimal degree all the latest inventions in the blockchain space where we have reasonably innovative cryptography and but still trying to be on a conservative side and trying to make things very scalable and high-performance and you know obviously pushing as much as possible to the kind of chain application to design so we can innovate faster and have the core consensus critical parts as simple as possible so that's all I got for my talk today and then we can transition to questions you can check out the demo at the idioms - demo Dostal org and there is a star slash slingshot repository on github where all the discussion and design work is happening daily thank you oh yeah so we received some questions so the first question is can the gibeom law to be applied to the stellar blockchain or is it a separate sidechain the deviant watching is entirely separate system that can work as a side chain or it can work complementary like it can work as a side chain complementary reaches dollars so you could have a set of validators overlapping both systems and using the same stellar consensus protocol so we can can operate in parallel and we have some thoughts on how to do the import/export mechanism for their stellar asses from the main chain into the into the GK VM side chain at the same time and the similar mechanism can be used for the Zika VM in private setting let's say you have a organization where you need a robust internal ledger that is cryptographic assured and limits the information exposure and you would like to use it internally but but also interoperate with stellar so that's also a good idea because then you can protect your internal data from your own system administrators and your IT department so you can more precisely specify who sees what information if you run their thus giving and blocking just as your internal private letter the question is a Kinney build an automated node for collateralized loan how would you invoke locking for deposits and is there an up code or do you require an operator in between so this is a cool question because collateralized loan is one of those things that teaching naturally build with the KVM instruction set so you could make an agreement that the person who receives the the creditor receives the money if they lock some digital asset as collateral and this lock will have a custom predicate that allows you to take it out of allows that sorry I lost the creditor to take out the loan after some time out and also allows the the person who takes it takes the loan to unlock the collateral provided they make a payment and the contract the predicate of the contract will have a provision area formula to check that the payment was done including whatever required interest rate before the tenant so this scheme requires you to build a little bit of this kind of smart contractor program to embed in a transaction and build some infrastructure around to kind of support it and the Wallis - - to use this feature but then it provides both parties good security against each other they can simply unlock the de collateral with mutual agreement but if they disagree or don't cooperate then each party has the clause that protects them from another so the creditor is assured that after a timeout they can simply take the collateral salt in the market and the debtor is assured that they don't need to cooperate with a creditor they can simply take back the lawn to take back the cloud or provided the payout alone to pre predefined address and so that's a perfect example for the use of the KVM and you don't need any third party to intermediate ease these elections was fully like just to parties and without any trusted third party to your medium I was able to provide a timeline for when he expects to get him to be fully complete and live on stellar so that's a trick question because like the GBM itself was pretty complete what's required which is a canal like annoying engineering problem is to build this kind of blockchain kinda networking infrastructure around it so you could integrate it just with the kind of networking nodes which is an ongoing problem right now with we we have the blockchain state machine we have the peer to peer network components but there is also you know also kind of wearing the right packaging you have a node with the UI stuff and things like that but also there is the integration with the installer consensus protocol and integration with the stellar assets there are two separate problems so so far I I would like to have an assistant as possible but we're kind of getting out of the stage where we have to build something within this gonna slingshot project and now it's you know in the last in the ongoing wakes we're going to really face the problem of integrating where the stellar consensus protocol and with a Horizon and with like input of the assets so we're working on the roadmap for this right now so this require not just kind of work on the project itself but more like an integration work and working with more or engineers on the store in a broader taller side so the roadmap isn't being in development right now we have any more questions well thanks everyone for joining us today we're glad you've watched this livestream and if you would like to participate in a project and I have questions would like to integrate things with your applications then please find the github repository which is a stellar slash slingshot and I would be glad to see your issues or pull requests thank you so much",
      "keywords": [
        "transaction",
        "system",
        "things",
        "program",
        "build",
        "dont",
        "which",
        "stellar",
        "network",
        "state",
        "operations",
        "work"
      ],
      "speakers": []
    },
    "2020-06-04-open-protocol-discussion-6.mdx": {
      "summary": "all right welcome everyone we're live-streaming this just so that everyone knows this is the first ever broadcast of the open protocol discussion which is a biweekly meeting in which we discuss and plan for upcoming changes in and improvements to the Stuber protocol generally these meetings are to review core advancement proposals also known as caps which suggests new features and improvements to the protocol sometimes we also talk about the process for perfect call improvement and we're going to do a little both in this meeting first we'll talk about two caps and one issue that outline proposed changes those are all for possible inclusion in protocol 14 and then we'll cover an issue that relates to the process for the creation accounts finally I'll just touch a little bit on the process for orchestrating network upgrades because we've learned a lot upgrading to protocol 13 which is has yet to happen so we published some pre reading requirements for this meeting there in the event description so if you're following along you may want to look at those so that you can keep up and there's also an outline of the agenda on the left of the screen I believe and without further ado I guess we'll just jump in I wanted to start this out with a protocol 13 update so that's the first agenda item basically after surveying the ecosystem we decided to push the upgrade vote two weeks is supposed to be today that was gonna be June 18th to give people more time to prepare basically most of the stellar based businesses that we talked to are ready right now but several crypto exchanges aren't and we just wanted to give them a little bit more time so they don't break so that's the protocol 13 update news any questions okay cool things that we have to talk about our caps that are potentially for a potential inclusion and protocol 14 the first is cap 23 to part payments it's been around for a while we've had a lot of discussions about it the current version is pared down from where it started basically it creates a new ledger entry called a claimable balance into new operations that allow you to create and claim a club level balance the idea is to be able to separate sending and receiving of a payment so that you can send a payment to an account that isn't prepared to receive it cap 23 is there anything else that I mean we talked about this a lot is there more discussion that needs to happen about this doesn't want to have any questions comments Jonathan drove do you feel like you've gotten the feedback you need I think I think we're ready to go I think the only outstanding thing here is that based doing what we decided two weeks ago or whatever the last time we met was I think two weeks ago where this isn't in the proposal yet but instead of trying to send funds back to you know in basically instead of like trying to do this thing where it's like oh you try to send them funds back to the to the creator but if you fail you send them to the recipient we're not we're not gonna do that anymore as we decided it's not reflected in the proposal yet and instead we're just gonna you know unreturnable funds go to the feet pool basically we're already working on that in the implementation but the proposal hasn't been updated yet I just wanted to mention that but everything else is as we agreed I have a question the question is if I wasn't clear to me reading the proposal if the account that's the created buyer or weak at 33 becomes the sponsor do they always have the possibility of claiming back at the claim or balance or does the creative the creating account you need to add themselves as a claimant to the other claim of I so the the creating accountant doesn't have any special privileges relative to any other account it was only there for this bookkeeping about returning the about return in reserve but it's not it's not special in any other way you know if we took the approach of like always destroy the reserve then we wouldn't even have that information there one thing I will mention is like we're not like that created by field isn't gonna exist anymore like the cap 33 functionality is going to supplant it so there won't even it won't even be there anymore it won't look special anymore relative to any of the other sponsorship things but no there's nothing special about it does that answer your question me yep great okay so if there are no other questions the plan here is that I'm going to the the people who are eligible to vote on moving this into final comment period will email me by the end of the day tomorrow and if this if they agree to move this into final comment period we'll post on a mailing list get final comments from anyone out there in the community and go from there sound good cool next on the agenda capped 33 also for potential inclusion and protocol 14 sponsored reserves this proposal allows an entity to cover the reserve for accounts controlled by another party without getting that other party control to the reserve it basically extends account and ledger entries so they record pertinent information about sponsorships creates new operations to initiate and terminate sponsorship and update sponsorship information for existing ledger entries and so the goal is to allow people like asset issues and wallets to cover the reserves for users this one landed more recently and so I guess my first question is does anyone have any comments questions or suggestions about the sort of recent version of this that Jonathan turned in I had a question in order to use this stuff you have to have creation of the sponsor the sponsorship happens by one account and then there's a closing out and that happens by the other account right to make sure the this thing is sandwiched properly with angel not supposed to authorize question is how does it work him like a workflow a kind of vibrant like workflow and a great Lee's account I was struggling to kind of see in my head what the path was because you have to get the the account the two accounts to coordinate with each other do we have an example of that somewhere what could somebody talk me through it enough revived so that certainly should answer this we might also have more context on this than me so if you feel comfortable taking this money I would appreciate that but otherwise I will do it yeah I can I can talk about it I actually also have a question about this and a concern about how specifically in the situation that that Eric brought off by creating accounts but yeah so I think if it was to work how to read in the proposal the the client a client on the server would have to be negotiating so the clients gonna make some initial hello that starts off the process the server's going to create the transaction assign an account that can use that sequence number for the duration of this whole handshake the transactions going to have to be signed by them and passed back to the client sigh and and then submitted say there is like this back and forth negotiation that has to happen the sower or the service that's creating and sponsoring create an account and sponsoring it can't do it on its own does that answer your question Eric yeah I guess so although I start having more questions then like what happens if the account doesn't exist just fine so do you think it would make sense to explain this in a non normative section of the document I think we actually need a new set for this and it's very analogous to what set 8 is to cap 18 basically how does how do you actually do to the negotiation off chain and then before you submit to the network so I would I think that Lee because you guys are gonna be probably one of the first implementers of this it would be great to have you guys figure out what makes sense to you and then inform the rest of the ecosystem or ask for comments yes I think so I actually have a concern with this so my understanding of why we have that second that's that last transact so their last operation to confirm and close it out he's we made what we want we see value in the account that's being sponsored confirming that they actually are okay with being sponsored and I think a problem with that so I think that works for a lot of cases where the account being sponsored can be the account where the sequence number is coming from but for the create account operation I think this is going to be really difficult at scale because the the service the sponsor is going to have to lock up an account with a sequence number during that process of that negotiation and I think that's gonna be I think that's going to be problematic enough that this way that could prevent this from scaling and we really want this to work sponsorship to work at a significant scale because it's primarily for an enterprise that's going to be sponsoring lots of accounts so I'm wondering if like if we're putting too much value on what this soul's want the problem of the souls and if this will create a larger problem yeah that's a good question I mean there's there's definitely like this this is not the only sequence number provision problem in in the world of stellar for sure and I think I think given the like you know fee bump improvements that are coming in protocol 13 this is kind of a step backwards in that regard for this particular issue I am a pretty strong believer that there are a lot of advantages to making this like double signature requirement I mean like I think we're gonna be here for months otherwise just in the sense of like me going through and just like making sure that everything is still going to work and doing sanity checks on everything because it weakens the backwards-compatibility constraints a lot that being said like David was at our last meeting talking about I think you actually sent an email about this which I'm going to confess to not having read as good as I feel have read it it's not the startup mailing list I can I can post a link to it somewhere else if you want yeah review it after this now because it's seeming more relevant and I wanted to start by saying like whatever I'm about to say is like definitely not gonna happen in protocol 14 no matter what because there's just no there's no time but like as a longer-term solution like providing some other kind of mechanism to avoid this need to you know manage sequence numbers for all sorts of random stuff that that could be the long-term solution to this kind of problem you know using something like a hash preimage or something else that you know to do it Mike I think that that's like the calm that was the concept right David like some other kind of authorization thing actually it was basically saying that you can sign an operation and then that up you don't have to sign the transaction someone can use the transaction he someone can include that operation in a transaction and it will not increase the signature requirements on the transaction envelope oh so that that would allow you to sign the transaction envelope at a later time basically once you've already tripped like at a time when you can choose the sequence number right like basically let's say I want to allow you to add a particular trust line to my account or I want to allow you to authorize a particular trust line on an account I can just sign that one operation and give it you and you can include that operation in whatever transaction you want yeah that's an interesting idea that would that would mitigate this problem I mean I'm kind of I'm kind of like I'm kind of like backing out on this basically and look I don't have a good way to avoid this problem today given this design and my stance is kind of like the merits of this design warrant searching for another way to avoid this problem which is like a general-purpose teller problem anyway you know trying to solve it for this specific issue isn't gonna solve it for some future issue where we're going to encounter the exact same thing and they need to engineer some solution for that as well and to be clear the problem arises specifically with the create account operation correct yeah yeah and it specifically arises there just because the sequence number is being locked up by another party so you know most the time when you're creating accounts right now it's not such an issue because the service loss of the sequence number for it for the time it needs it to be locked up for but this is gonna be looked up for the time requires to party to negotiate yeah I mean one approach you could kind of take it's basically the stance that like you need to do basically you set some time limit on how long this negotiation can take you know this off chain communication you say like basically like hey I'm unless you take like up to one minute to sort this out with my server and otherwise you have to like reinitiate this with me at some later time and in that time again you'll have one minute and then this could allow you to use like a small pool of accounts you know you only need to maintain one minutes worth of accounts basically to use a sequence numbers obviously it's not amazing solutionn it's not elegant it comes back to the channel problem again sounds like a minutes worth of accounts for a high through but service is a lot of accounts agreed well I'm not so sure I mean signups are typically a very small fraction of what happens on a service and so that's I think when you do create account I guess maybe you do create account during escrow operations as well so I'll make it might make a trickier but I don't know my take is like the you're probably gonna have to build a channel system anyway with things the way they are and so sure this maybe means that you need a hundred channel accounts rather than ten but it's it's not really fundamentally changing the situation maybe that's a really optimistic I don't know yeah I think think where I can see the challenges is just in typically at least how I know by we have implemented this before is you take a channel account you lock it for some pre different you lock it for some predefined operation that you're gonna run in code so just becomes more complex to say okay I'm gonna lock that based off someone else's actions and or some timeout yeah I agree it's it's just building on existing complex in here so yeah it's not really new complexity also I think the the timeouts are in the same order of magnitude right like we're talking at Terra transaction typically valid for like let's say a minute I would don't imagine you would go you know longer than that for those interactive things anyways I mean not know inter don't directly I mean it's really just you're physically passing this to the client they kind signs it and you know I know that it's probably the same thing that's what I imagine I think this is a good opportunity for us at the SDF to put some open-source example of how to actually achieve something like this in a you know in a fairly high throughput manner and like John said I think that this specific problem doesn't actually relate to cap 33 it's more of a general store problem so maybe trying to solve for this right now is counterproductive I mean on the other hand it would be nice to at least commit to some way of solving it you know like if there's an assay you know this is gonna be a problem and what we do is we approve cap 33 and then you know followed by six months of discussing which of like four approaches should we take to solve this problem that that could be an issue I don't think so I think there are also you know like we have to solve it in general like it's not just for for that particular operation right like you won't even like a paycheck 18 you need some way of doing that efficiently I guess happy yeah then maybe they should be disgusting maybe there should be just a short non normative section of the cap that discusses the need for some kind of mechanism and then subsequently caps can cite this you know will sort of provide ammunition to get whatever a solution would come up with over the line later on yeah I think that's great now I'll add that after this meeting or sometime later this week just a little discussion about how this is like it's an annoying source of complexity it's probably worth it nonetheless and it's just a manifestation of a bigger problem that we're fighting all the time and then that and then the plan would be to create some sort of group to solve this larger problem like a working group but but from what I understand this cap cap 33 we could move on to final comment period because it seems like there's not a way to do it that doesn't encounter this larger issue is that correct yeah I mean my stance that would be like it if you avoid this issue you'll find a difference like we'll find the other issues that were problems with cap 31 which we rejected in favor of this so it's like you can't avoid both sets of problems you have to pick which one you want I'm picked this one this set of problems only from the perspective that like they're problems that are general-purpose manifestations not not single purpose and I think that the other benefits are better is on top of that but John you think you can add this language before final comment period yeah I I mean like we make modifications to these during implementation also and then we're going to the implementation period so yeah I mean I'll add the language and it'll be there during the final comment period for sure so you'll add it and then we'll vote okay John when John's added it I'll I'll submit it to to eligible parties to vote on and then we can see and if it it basically if people are like no we don't think it's ready we can bring it back in the next meeting but if people look at it and decide that it is we can go ahead and fold it into final comment period and open it up for final comments cool I had one other question other operations you said other operations will make it semantics and what its behave correctly proposal that's Spencer that might include I'm having a little trouble hearing you Eric can you say that one more time yeah the other operations need updated semantics in order to behave correctly can you just give like a high-level view of what that might include is that something we need to worry about it's not something that we need to worry about well it's something that I'm I'm already worrying about I'm working on it I was working on it right before this meeting actually but basically but like what's kind of what kind of needs to be done is like everywhere where we do like a where we change the like account numbers of entries field we now need to do it we now need additional logic to say like hey like what's the response err oh if there wasn't and then do what we used to do if there was then we have to do all this other stuff like oh like check the sponsoring account still exists it doesn't have to still exist for example so like that's a new failure mode I haven't worked out the precise details on this because it's like I need to kind of go to the implementation and see what's gonna work and that's why it's kind of very nebulous in the proposal but the kind of consequences you're gonna be like potentially a few new failure modes that are only possible with sponsorships and and basically just just new code for me to write but every other perspective everything will kind of just like work the same like when a create account works it'll just work and you won't really be able to tell the difference other than some sponsorship the information will have changed okay so it sounds like most this is internal to the implementation but we might see some new error codes yeah and like that those kinds of changes are where like like we have like the ledger entry extension v1 and the account entry extension v2 those changes are where those things will we will be ma will be maintained so you know that that's pretty much what it comes down to okay is there anything else there to talk about in relation to cap 33 well I feel like the plan right now is John gets back to work that's this extra session you send it out and see if it gets voted in final comically but I don't want to close it if there's still questions just want to say that it's a great cap John much better than cap 31 I think I really like the whole moving things to the off chain logic really nice cover I appreciate that  great well then we will move on to the next item on the agenda that's issues 622 which is about changing the application of clothes fine basically it changes the clothes time for a transaction so it's set for the ledger after the transaction gets a bike because right now in a bank transaction we use the clothes time decided during consensus and that can create issues for the transaction gets accepted but into a ledger but fails later I think this is just a just an optimization does anyone have any issues with it does it feel like something that should be worked on for protocol 14 yeah it's an annoyance basically false about contracts and we are kind of hanging out those things over time this is a small small item so that's why well yeah I'm not sure I'm not sure I understand the issue right now who decides the time that's evaluated against time balance it is not about deciding the time this is about all we reason about the time from a transaction ready DT point of view because of time balance right okay so time downs are you know we look at we compare it to the to the to some time right right and right now we use the time that were this tidy during the consensus round right and this is wrong and so in the wait time you're proposing is to use the time from the previous ledger because the time from the previous ledger was already decided when you were checking for validity of the transactions when they were submitted I mean this seems somewhat dangerous this means like if there's an outage it's possible that we can apply a transaction that's like an hour old or something yeah that's yes and the first time make also jump by an hour right so there's no like with we have to decide I mean this is not a you know that's just the way they know you have to make a trade-off you know what happens you have an outage which transactions you want to reject I guess so like let's say that like we have an option where I have a transaction that I can submit that will trade X for Y or something right and since I don't know the value of x and y in an hour you know like we agreed on this now so now I could theoretically you know toss the network and get like a free option to you know basically make my decision with an extra hours worth of information I mean obviously the alternative is and that's a lot harder is to remove those transactions from the transaction set and the things that we cannot do that right now we have no way of doing this right consensus is still running like he can't change the transaction set I mean I I do see other ways of doing this and I haven't you know haven't thought deeply about this but just you know so another thing if you do is for example when you nominate a transaction set it could have some expiration time or something and then but that's not your fist okay you know bit based on or you could kind of like I'm not saying that you you would have you would look at very DG based on unlike some heuristic on the on the time stand awesome another saying like you know currently we sort of take the largest transaction set when we're sort of combining multiple nominated values and now maybe we could take the the largest transactions or the the transaction set with like the most number of unexpired transactions or something but you still end up with some expired transactions right that's the issue here is that those guys what do you do with them because it is basically the the I guess the reason we have this problem is the close time and transaction set are kind of decided separately could we could we modify our validity checks to like I'm specifically thinking about David's like one-hour window thing that he was talking about so this is still under the assumption that we're gonna make the change described in 622 but could we modify the validity check such that you won't vote for anything if you're not Byzantine that is in basically it's like transactions time bounds are checked both using the last closed time and the current time because then it's like you wouldn't vote for something from an hour ago because it wouldn't have been valid using your current timestamp it has to meet those conditions to work there's the only vertical level change it's not that you only if you do that you only reduce the chance of having a bad time stamp we don't make you don't eliminate it and and so that the main I mean it's the main issue here just that we have garbage in in the set of transactions that we can't charge right yeah right now no it's not gathered I mean it's a it's more like that we end up with transactions that are accepted for you know during consensus but because they are now I graduated against a different time stamped and the one from you know when they were nominated did now becoming valid so now you have like those smart contracts potentially getting dust right where if I if I because you know they are valid when consensus starts and now now invalid during consensus and yeah they are failed transactions and they will consume that account number and now maybe that smart contract is that way they don't consume sequence number the bug is but 622 that's what the core of the problem is because you know we have the invariant that anything that gets into the ledger we're going to guarantee we're gonna we're gonna take the fee and we're gonna take the sequence number and so did that's the thing that we're betting law wants to combat here is you know getting your your smart contract broken by one of these like boundary case time stamps well this is another way to solve this would be say authenticated operations so I feel like there are other things that know why you think that know how this has nothing to do with the authenticated operations this is time stamps well the authenticated operation gets rid of the problem of consuming sequence numbers it the part of the part of the problem here is how brittle a lot of these protocols are because of like sequence numbers right so the issue that sometimes don't work right so like you're saying like yet you could fix certain smart contracts by using like those you know this new you know like basically use a different sequence number basically from you know a different account you offload the sequence number some you know live account basically but yeah that's not what we are talking about we are talking about you know sequence numbers in general like today we do see do like once in a while Ledger's will failed time you know in the in the set of trade transactions I understand but I'm saying that the the one of the arguments in favor of this is that right now there are annoying situations that break certain protocols because a sequence number gets consumed by a transaction with an invalid time bounds and I'm saying that well because of CAF 33 you've already said there's a need for something and and one of the ways to do that something would be the authenticated transaction with the authenticate operations not saying that that's the right solution but it just so happens that authenticated operations also solve this problem all right no it cannot hold it right like like you're saying that no smart contract would ever rely on on a time bound or something like it yes no smart contract that ideally smart contracts would not rely on sequence numbers in a way that breaks if the sequence number gets consumed by an invalid transaction that doesn't sound that plausible to me actually because on Elections if you do that right not only that but you can't you can't do the bump sequence trick without that and you can because of the way I I mean at least though I'm not saying this is the right answer but it's an existence proof that you can do this right because of the way that because the because the authenticated operations can depend on there being some other operation in the transaction that other operation can be a pump sequence right so we've got existing smart contracts like what about ones who already have this problem then they'll have a different problem if we do 622 Oh like only a line the only reason you would have a problem is the DOS situation if you have like those funny time windows normally it's more like starting from a certain date this is valid you know expiration you know if you have an expiration and you don't write around the expiration time I can see that this is a problem regardless right we have this is not a sole thing like well you basically rely on the fact that the network has a semi accurate time right but in the event of a dirty not accurate it's going to be off by some number look I think that you know there's a problem here I think that if you were to write up like a requirements list my suspicion is that I could you know propose some alternative that doesn't look like the proposal here whether that's better or not I don't know but I think it would probably be worth considering multiple approaches based on a kind of specific kind of like a slightly more detailed description of the problem and like what we're trying to achieve does anyone object to taking that course basically writing up a requirements list and getting David an opportunity to come up with an alternative solution that's fine it doesn't have to be like you know I'm not trying to create a lot of make work here like you could just be you know a couple simple examples of what what we're trying to you know scenarios that were tranqued where we're trying to avoid a problem but I think honestly that it would be it'd be good to think about it a little more just from the perspective that like I I want to try to understand that that da scenario well like is it a problem or does it just sound like a problem I'm not I'm not sure that it's action a problem but I'm also not sure that it's actually not a problem it's a big existential question so like I think it's worth looking at least a little deeper about this and making sure we know what we're doing I think we're also talking about that type of scenario is quite a bit already on the mailing list I think because David had this other change to the timing bounce to remember David like that was like what yoga at this point I remember we went back and problem on time bonds that's basically is what ended up being replaced by cap 23 I think but in that proposal he had some interesting new time bones right I had like preconditions I think but there were some discussions around like those type of things like what happens when you when you're like an attacker delays the network you know what other type of properties you are trying to get here and maybe the issue is that we don't fully right now we don't have basically a written statement on what we expect smart contracts developers to do when you have this type of attacks I think that's made it just you know one of the other things that we need to think about here yeah um so yeah it basically what I'm saying is before someone invests the time to like write a whole cap for this let's just like get some requirements down and just you know at a subsequent meeting just talk through like whatever approaches people have and come up with an approach we think it's like the best approach because there may be there may be other approaches maybe not maybe I'm wrong but that seems like a great solution to me cool any other discussion about this are we ready to move on to the next item great so the next item is issue 624 which is improved the cap process so it clarifies the role of working groups also it tends to take into account more information about the impact of proposed changes on downstream systems thoughts questions discussion that we want to have about this I mean I guess for me it makes sense to to better figure out how working groups create caps and who owns them and and who participates in those groups and I mean this proposal made a lot of sense to me and then I think it's just a question of starting to experiment with it and seeing if it works right like maybe like as background like one nice when I wrote this stuff like one of the things I also took into account is that in the current like process that we have actually written in the criticals repo it says that there is this I know mythical creature that participates into the cap process that's the body or whatever yeah that's right right that doesn't exist so and and basically as I really and also you know with the way we've been working more and more it seems to me that that body was you know concept was more or less a over-engineering in a way from the protis point of view in trying to take away you know like room for the working group to actually figure out who are the best people to actually have in that working group so I think like if we end up with like more something more like what I'm highlighting in this issue who would remove the body from the process yeah I mean just generally object to the word buddy it just sounds I just don't like the sound of it okay but also I think if it's something that we're not using and it was the same thing that John brought up on this with it with the test section right like I guess that we need to just look at the actual I guess it leaves in the cap reading that defines the the cap process and make sure that it actually adheres to a process that we feel good about and that reflects what we've learned but then I think we also need to be relying more strongly on working groups right yeah and maybe like III maybe this time we can I saw that Eric had a question like what does it mean to have the rest of the stack you know like light up and all that like to me the intention is to have the working group think about the implications of that change in a more holistic manner basically if we need like very often some of the changes at all we need a set basically no the sap is not should be basically written in parallel with the cap you know by the working group if that's the only way that that thing can be used because that's how we are going to find bugs in the cap another thing on performance because I think Eric with Erica maybe I don't somebody has asked about performance I wanted people to think about performance implications in other systems as well like the working group should be thinking about well the cap itself or he talks about you know the local performance impact but at the same time for example one of the most painful changes in protocol 13 is but it was very surprising to me it was the the change that he column in Horizon right the table migration that takes like nine hours well whatever it's something you know maybe we do would have it made some changes I don't know like you know like if we had identified this early on so this is kind of thing I'm trying to to get to is get you know sometimes changes look trivial you know in the poor layer by the implications up streams are just terrible and I kind of want people to think about those type of implications early on so that we know we can make adjustments into basically the working group would figure that stuff out document it as part of the proposal submit it to this group with all that documentation so that all the research would be done you know yeah a little bit more what we were talking about yeah and to me that sounds great I mean the only question that I have is a feasibility one right like if we had the all the right people to staff any given working group that we wanted to create this would work I just wonder if in reality we're gonna run up against issues where we just like we want to have three working groups we don't have three working groups of people with the necessary insight just to build those working groups that's my only like feasibility concern that make sense I mean we can you know I run into that problem already and yes we do and at the same time and I know my response is that if we don't have time to think about this maybe we should not do it in that protocol version if we do the due diligence you know that goes with a specific change that means we're not thinking about it right so I think that the additional lift here which is reasonable is to basically improve the process of putting together working grade so it's like improve what a working group does define it better add it to the cap process and then also get better at putting working groups data which is seems reasonable to me and and my hope also made that maybe the chair on the top would be if we have more of those kind of lively discussions that the working group level do they should become quite be a bit more those conversations I think end up being a little more inclusive from a ecosystem point of view because they are actually touching a lot more different paths right now I think the issues with any thread on the dev mailing list that our protocol changes they are so far removed from the end from the actual developers that nobody can really chime in right they don't see how this is really impacting them unless it's like you know obvious so my hope is that yeah we can maybe get a little more feedback early on from the you know people that are going to use that those things in the future if anyone's watching this right now is like I would love to be in a working group in the future you should email me just another org like I got it you know I think it's gonna be about going out and collecting people right inside people with insight people who are building stuff and making sure that they understand the potential implications that one of these chord changes have and getting their insight rate yeah that makes sense to me I like the working group direction and being more inclusive of you know people on the Horizon team or SDK team or even application developers I think one other element that seemed pretty central to me that I didn't I didn't maybe I missed it but I didn't really fully see it flushed out in this this issue was was kind of the contents of the cap and and having an explicit section of the cap that discusses the changes that we've made to Horizon so like to to Nico's point like saying yeah we're gonna migrate this column and within the base table we're gonna change the schema this way I'm going to add these endpoints we're going to modify the go SDK to have these new calls or deprecated this call that seems pretty key to have as part of them for understanding the downstream effects and I I didn't really see it articulated here I mean that the I mean like the issue by the way like it was really to start the conversation it's not the actual day for oh you know what we're going to do on the on that week me or whatever at the top level I agree I mean I think at the same time yeah who the cab become you know more implementing implementation you know focused I don't know like I like that right now it's a little more the spec level you know like functional and not so much at the you know - too low into the details right and I think that if we have the right participants in that working group the implementation kind of pulls in place more in github issues and so on not in the actual dark like the actual dock is more like tracking like the high level like does that even make sense right for all the systems involved and depending on the change there may be a cept that needs to actually certain cap don't make sense without an accompanying except and so there's no point in like talking about you know what database tables you're gonna migrate in the car when there's like very associate itself I also agree that this I think the cap is the wrong place for this kind of stuff the cap is evolving as its implemented and then there's a key there's like there's a point where it becomes reasonable to think about the details for downstream but the high-level details can be thought of separately and should be done in a working group and I think most of the time there should be a set associated with the cap because something is motivating this work right and that should be the self yeah that's kind of what I was gonna say Eric like maybe we should have a new standard which is like we don't accept caps that don't have sex and this EPS might not be like a hey here's some you know new off protocol that you know climb server need to implement or something like that new end points it might just be like hey like Horizon is gonna be broken by this and we know lots of people depend on Horizon so it's part of because that's that's not oh and there can't be a rule right I mean if we like fixed like when we fix the bucket list or whatever you know like that you know you don't need a set always but like you know some when you're adding a new feature like it generally is gonna make sense to have a step involved well maybe it's a question that you have to answer does this require a sensor is known link like so maybe one of the header fields should be like associated steps maybe there's multiple ones right there's new feature that can be used in two different ways so so it's a kind of metadata thing that needs to be out it well while we're on the metadata this is this is kind of minor but you know I mostly think that's fine but I'd like to argue for keeping the term author instead of recommender and maybe having a maintainer instead of an owner just because I want to make sure that everybody who contributes to writing a cap gets you know appropriate credit and the term author kind of suggests that you deserve credit for something whereas recommender doesn't necessarily carry that same connotation I mean those are names from yeah I guess they are from different worlds like the names I used where the from the RACI thing right so and that's why I stand out oh just doesn't race to use authors into a for often no according to be read it means several different things one of which is how many things which like definitely makes no sense in this context yeah what what makes no sense acceptor yeah yeah all names of superheroes yeah like we can try to tweak it as long as we have clear definitions of what those things means right yeah yeah I think just to chime in again I I think like what we're describing maybe is a little bit closer to our current process and so I'm worried it might fall into some of the same pitfalls like I mean maybe it's just kind of a terminology thing like in my experience except did doesn't talk about the rot changes the Horizon end points I I've never seen that in this app and and I think I don't care what document it's called exactly where it appears but I think there needs to be a link in the cap at least if not included directly in it that explores changes to Horizon changes to the SDKs because I think that's been the issue so far as we have a disconnection between the cap and then the implications it has downstream in this nasty case so as long as we cover that in some kind of dock maybe we kind of change that aceptas to include that yeah or we can do that posit ori or some new place to store that particular kind of dock right Mike yeah like I said like a cap links to except in acceptance to like a you know Horizon working document or something whatever we call it yeah I support this I just want to make it clear that like we may not find all this stuff at the right time right it's good to think about it at some level but like the the earthy change was very subtle it's in its one line in a piece of XDR that you have to notice and then realize that actually that's implemented within in 32 in Horizon and then there's all these consequences we are not gonna get all the things so I wouldn't want to like gate gate the cap and the only way we get those is if we like release some protovision of core and then it had a long time to implement all the Horizon changes and discover them I think in the same way that the cap evolves as scored as their implementation some of the Cottagers will become visible as you think 3ds annotation and the SDKs or Horizon yeah yeah and my point was I think this due diligence had to happen before the cap gets into the final state even if you missed some stuff I mean no but the point is that you know what Eric was saying for example all days that change people have to actually go through every change think about every change because that's how we do right the cap we have to actually think about you know in detail what does it mean to make that change in call right same thing for the other systems I feel like part of the surprise with the feeching with the with the change in columns in the Horizon was just how long it took right like it maybe I'm wrong but I think it was hard to know and so you started doing it like oh man that copying and pasting like basically creating these two new columns is gonna take forever in like okay yeah about that move yeah let alone I guess but like in general right it's more like we should be like maybe we shouldn't we would not have identified this this free change until what much later it's more about the pattern right that we should evolve if you think about you know like oh there's this schema change coming and maybe we don't done exactly like the implication but we know there's this big schema change yeah yeah and then hopefully you know the more eyes we get on that thing people you know remember all when you make this kind of change you know it's going to you're going to take a hit yeah I mean I definitely support this I support through instant due diligence upfront and trying to think it through at a point where we can still make changes in the cat that seems like a no-brainer to me I'm just saying to understand all of the implications is very difficult and we're not going to sit down and think really hard and figure that out just to be sure okay I mean do you like the idea of listener listening out the changes to the Horizon API for example before finalizing the cap I like is this some kind of summary that says what we think the impact is our high level I just don't know how detailed that can get but we you know we'll try try our best and so happens now the other is it says representative group of stakeholders which is I guess intentionally vague and so we have to be careful that we don't fall into the trap of thinking about the consequences fall for something like Horizon and then forgetting something else like maybe the consequences for hardware wallets you know for example yeah definitely yeah that's that's the reason is vague is because basically there is a when the working group is kind of forming it should actually decide who are the members right I also think like those members might be thinking over time that's something I've been thinking this whole time or it's like at the beginning like at the beginning you need people to know how poor works you know plus some people who have like a reason to motivate this thing and then as the core part of it develops and it's like oh okay like we have these ideas for how we could do things like let's make sure we're like none of these are offensive to Horizon or offensive to Hardware walls and then you start roping those people in and you got a different set of voices so everybody gets to spend a day with John what a present for everybody okay I mean obviously that's needs thought and work and it but I think that it should kind of kicked it off and we can talk that more I don't know that we're gonna come to any greater conclusion after this I mean it seems like we could talk about this on on the on the dead mailing list and eventually I feel like we need to update the readme or on the kathleen and probably like the actual template for Cap's - and work on working groups we should not even great to work on working groups may be a way forward is everybody can comment on this issue that Nico's raised and we can iterate a little bit because as he says it's not the we're not saying this is the dif we're saying his a starting point so we should have had this discussion great perfect so we'll start the conversation there which is issue 624 in the protocol really cool um it's I'm just gonna take one minute and say that you know obviously we're part of the way through all of this impacts what I'm the upgrade process protocol thirteen you know we delayed the boat through two weeks and I think we've learned a lot about just better notification um so I think you know the basic idea which I've post or is to work out the timeline for Horizon and SDK readiness and I think these working groups will help do that then to pose in a great guide that tells everyone what to do and where to find stuff message all the relevant channels and then to verify that key projects and the ecosystem are ready basically get them to write back to us and say we are ready to upgrade then I think do the tests enough upgrade then coordinate for the public nib upgrade and then once an upgrade happens we post an upgrade notice with all the errors and any information about how to use the new features so it's like all concise and that's again just a proposal that we did most of that with protocol thirteen but we didn't reach out specifically to key organizations until later in the process and it's gettin it's gettin it's gettin somewhat better but I'm open to any suggestions that anyone ever has about how to improve the process whose a key organization do we have like a mailing list of key organizations or something by the list yeah is that anyone can join inotify like places where anyone can join which are all of our public channels are notified out the wazoo right so like they get first notification they get notification every time that there's an update and a week in advance so any place where people opt in like but we also need to reach out to people who will not opt in to our own channels like so specifically what too late this protocol release is like making sure that crypto exchanges where you know they deal with a lot a lot of different networks and stellar isn't first and foremost in their minds it's hard to get their attention or get them to opt into a channel so yes anyone can opt in and we can check readiness or anyone goes opted-in but we also need to do some spoke outreach people who have difficulty okay radical so that that's the end of our first broadcasted stellar Protocol meeting how's everybody feel",
      "keywords": [
        "time",
        "thats",
        "basically",
        "mean",
        "dont",
        "problem",
        "other",
        "account",
        "maybe",
        "working",
        "theres",
        "something"
      ],
      "speakers": []
    },
    "2020-05-22-engineering-talks-kelp-gui.mdx": {
      "summary": "Today we're going to be talking about the Kelp GUI where anyone can create crypto. My name is Nicholas Har and I'm one of the developers for the Stellar Development Foundation. We're going to go over what is kelp, what is a Kelp GUI version one.",
      "keywords": [
        "price",
        "which",
        "these",
        "lets",
        "market",
        "kelp",
        "create",
        "first",
        "asset",
        "euro",
        "trading",
        "spread"
      ],
      "speakers": [
        "Nicholas Har",
        "So George",
        "The Kelp",
        "Jerry The",
        "So Madison"
      ]
    },
    "2020-05-08-engineering-talks-intuitive-stellar.mdx": {
      "summary": "all right hi everyone my name is Marta and I'm a software engineer on the stellar core team and today I'm here to talk to you about the stellar consensus protocol we're briefly going to go over the agenda so first we're gonna have some motivation for this talk why are we even doing this and what are the things that we're going to cover we're then going to have a quick recap on chorim's and what they are and what they mean in the context of the Style Network we will talk a little bit about statements which are the building blocks of the stellar consensus protocol and then we will see how statements are used in the process called federated voting we will have a demo for federated voting to see kind of how it all plays out and then finally the two steps of the stellar consensus protocol which are nomination protocol and the ballot protocol will be the last thing that we will cover all right well let's start with motivation why are we even doing this so distributes concerns protocol are difficult to understand there are a lot of steps a lot of things to keep in mind and if you're new to the protocol and just trying to get an understanding of it it could be quite overwhelming to read through all those materials and try to understand it understand everything at once we also realized that there is quite a bit of advanced material out there and there's a lack of simplified version so this talk will not have any complex theorems no math just the high level ideas to help you get the right understanding of the static consensus protocol and we were inspired by physics in physics you don't go directly into complex formulas you first get a high level understanding of what's going on you try to imagine something before you actually go and work out the formulas and dive into more complexity with that we're going to briefly go over quorums so you might already be familiar with quorums but we're going to go over a few important definitions here so chorim said is a set of notes that you trust so for example if you look at the diagram on the right we have a we have four nodes a B C and D and you can look at the arrows and the arrows represent the quorum sets so for example for a a has B and C in its quorum set another example is for B B has three nodes in its quorum said it's a C and D we also have the notion of threshold and threshold is a minimum number of nodes in one's quorum set that must agree for example if we go back to our node B remember that it has notes AEC in D and it's quorum set suppose that the threshold for B is 2 which means that any combination of 2 nodes would be sufficient for B to proceed and in this case like I was saying it can be any combination so it could be a CCD or ad so those subsets a CCD and ad are called corns license you and finally the most important definition is the definition of quorum quorum is and non-empty set of notes that contains a slice for each member so in our example on the right let's try it and see if we can if we can get a quorum starting with a note a so remember that a has B and C in its quorum slices so we add a B and C to a quorum but ABC is not a quorum on its own because B and C also have D in their quorum slices so we have to add D to the quorum and then altogether ABC and D is a quorum another very crucial definition on the stellar network is notion of nodes blocking sets any set of nodes in the quorum set without which the nodes cannot reach consensus is a blocking set and intuitively if you think about the name the blocking set blocks consensus if you do not see agreement of you're blocking set then you may not proceed in in the consensus round so you're blocked just with a small example here if we have a quorum set of four nodes and then suppose we have a threshold three so we required three out of four to agree any two nodes will be blocking and it sort of makes sense because we require three out of four nodes to agree so if we have two nodes that are not an agreement then they're blocking us and we cannot proceed and reach consensus another important thing here to note is that the concept of blocking blocking set is a per node it's a node because every node gets to select their quorum set and so the blocking said for each node would be different depending of what their quorum set is so going back to our example let's look at the node C so C has a B and D in its chorim's quorum set and let's say that C went with the most aggressive threshold three out of three everybody must agree so any node really in C's quorum set can be blocking for example a is a blocking set because C threshold three out of three so as soon as a does not agree cease blocked similarly be on its own is a blocking set and D on its own as a block instead and also any combination of those three nodes are also blocking sets but here we're just looking at the smallest blocking sets all right moving on to statements what is a statement so statement is the smallest building block of the stellar consensus protocol it's basically something that the network wants to agree on for example when a node says I proposed this transaction sets for leisure 5,000 that's a statement or similarly if the note says I am ready to apply this transaction set for lger 5000 that's that's also a valid statement so the second one here is a little bit stronger because at this point the node is actually ready to apply the transaction said but nevertheless both are valid statements and both both statements are valid for the network to agree on which naturally leads me to my next point how does the network know if a statement is actually agreed on it thoughts on it and it votes on on statements we had this procedure that is called federal voting so before we dive into the rules of the Federated voting it's important to see how a node perceives a statement when it when it receives one so I know let me decide what it wants to do about a statement depending off on what its quorum said said about that particular statement so for example and node may say four things about a statement it may say I don't know anything about statement a and I have no opinion whatsoever they can also say I received a and it's valid and I vote for a but it's still not quite safe to act on it yet so voting is basically like a weak form of agreement where a node says that yes I vote for a because I validated it but we still don't know network-wide what's the state of a a node may also say I accept a if it has seen enough support in its form slice for this particular statement a but at that point the note still doesn't know if it's safe to act on it yet and then finally another might say I confirm a and it is safe to act on it even if every note in a quorum slides has not yet confirmed a they will not be able to confirm anything else but a so this means that there is final agreement on statement a in the quorum slice and at this point a note might say I confirm a so these are the various steps that a node may take regarding a particular statement a but let's actually go over the rules and see how this transition happens how does it know the boat for something how does it move to accept and confirm so here are the rules of federated voting and node may vote for a if a is valid and consistent with previous votes a node may accept a if either every node in its quorum slice voted for or accepted a or a nodes blocking set accepted a and let's let's look at this second bullet a little bit closer why do we have this rule that a node may accept a if you blocking set accepted a so remember the definition of the blocking said without the agreement of the blocking said it is impossible to reach consensus so a node has two choices it can either be stuck because a blocking said accepted something else or it might it might just go ahead and proceed and accept what blocking said accepted and so this is why we have this rule here that a node may accept a if it sees the blocking set accepted a but you might wonder what happened if I voted against a before in case and node may just forget its previous food and accept a note this does not mean that a node would vote for a it could accept a but doesn't necessarily vote for it could have voted for something else but because it sees the agreement of its blocking said it also accepts a and then finally a node may confirm a if every node in its quorum slice accepted a all right a little demo here to see how those federal voting rules actually work in an example so at the top right corner there are some they're the same rules of the Federative voting that we just covered in the previous slide but I just put them here like a little cheat sheet for us to kind of always be able to refer to it so here we have a network of seven notes and similarly to our previous example the arrows show the quorum sets selected by each node and I want to focus here on this dependency of node five so note 5 has six seven and one in its quorum set and it's important here because remember the definition of the blocking set for this particular example let's assume that the threshold is the most aggressive right so we it's all all basically all nodes in the quorum slice must agree for a node to proceed so one is a would be a blocking set four five and six on its own would be a blocking set four five and seven would be a blocking set four five all right let's move on to voting so let's say that two different nodes on a network decided to vote for different things different statements so three voted for X and then six voted for Y and then those notes send out messages saying then hey I voted for X or hey I voted for Y and let's see what other nodes do when they receive those messages so nodes 1 2 &amp; 4 receive vote for X from 3 and you know they have 3 in their quorum set so they validate X no problem with that so they go ahead and vote for X on the left side notes 5 and 7 receive messages from 6 that they've that six votes for why they validate Y no problem and they also go ahead and vote for y now let's refer to our second rule of federal voting just accept if quorum sliced voted or accepted so let's see what we have on the right side on the right side every node voted for X so as soon as those messages get through nodes may proceed and accept statement X and so we can we can see that 1 2 &amp; 3 accepted X and you know maybe some messages are delayed and 4 hasn't accepted X yet but this is just a matter of time where the messages reach 4 so something really important is happen here if we look again at our node 5 remember that 1 is a blocking said for 5 and 1 just accepted X and 5 voted for y let's look at our rule number three which is except if blocking set accepted so at this point five sees that it's blocking set accepted X so it just goes ahead and accept X as well and we can also see that for node for the messages finally went through and four accepted X as well what about our notes six and seven so notes six and seven they also see that I've accepted X and 5 is a blocking set for 6 and 5 is also blocking set for 7 so referring to our rule number 3 again here accepted blocking set accepted 6 &amp; 7 can accept X as well so at this point everybody accepted X so all the quorum slices except the X in which case we can proceed to our rule number four which is confirm if a quorum slice accepted so everyone scorn slices on the right except the next everyone's corn slices on the Left accepted X so everybody can go ahead and confirm X and at this point it is safe to act on it great so now that we covered statements and federal voting let's actually see how those are applied to the stellar consensus protocol so stellar consensus protocol is a two-phase protocol that uses federated voting to vote on statements and the voting is on statements and statements contain values so for the stellar Network the values are transaction sets the first step of the stellar consensus protocol is the nomination protocol which selects values to consider for a particular ledger so it selects multiple transaction sets to consider for the ledger the second step is the ballot protocol and what it does is it actually attempts to commit those values which were selected during nomination protocol and it does so in two steps at first it prepares values and then it commits values all right time for another diagram here so we can think of the stellar consensus protocol as the funnel so the very beginning a node doesn't know anything about the state of the network it does not know what its quorum slices agreed on its uncommitted it may really vote for anything it then goes into first step which is the nomination protocol where it selects a few valid values that it wants to consider so it goes through the nominate phase and it selected candidate set it then goes in to prepare once it's selected a few nominations it goes into the preparer state where it attempts to commit those values alternatively if it gets stuck it can also accept what the blocking said accept it and proceed with that value after that no after the preparer is done notes go into commit phase where nodes attempt to prepare the values attempt to commit prepared values excuse me or they can again accept what the blocking set accepted and then finally at the very end once the commit phase is done this is where we know that the network has agreed on a single value and so everybody applies the single value and the census is reached so if you were to walk away from this talk just remembering one thing this is the diagram that I want you to remember just high-level this is how Stellar consents protocol works it basically tries to narrows down all the possible values and at the end you end up with a single value which everybody agrees on and then you probably have guessed that this yellow step is what nomination protocol does and then the orange step is what about protocol does for the prepare and commit alright let's get into a little more detail about what nomination protocol actually does so nomination protocol is essentially Federative voting on statements such as nominated transaction set C and though it may vote for any transaction set any transaction said during nomination phase as long as it's valid once the node goes through federated voting on the particular nomination statement and let's say that that nomination got confirmed a node may add that value into the sub that we called the candidate set so the candidate set is basically just all of the confirmed nominations there's an important variance here and note stops voting for new values as soon as it confirms its first nomination so a node may still accept and confirm values that it sees its blocking said accepting or confirming but it may not vote for new values and we will discuss a little bit more why this is actually really important in the next slide but for now just remember there is an important variant here that we do not vote for any new values as soon as you confirm something and then finally when we have those candidates those confirmed nominations we may select a single value which we call the composite value and at that point we can start the ballot protocol on that value so in the stellar network nodes select the biggest transaction set as the composite value so if you have several transaction sets in your candidate set you just go by whichever transaction set has most transactions all right let's go over the belt protocol so about protocol similarly to nomination it's a procedure of federated voting on statements and there are two types of statements prepared transaction set X and commit transaction set X so prepare verifies that everybody is willing to commit this value that everybody is okay with committing it while commit ensures that everyone actually commits the value and at which point it is safe to act on the value the important thing here is that nomination keeps running in the background even when the belt protocol is running so you might have started the belt protocol on a particular composite value but nomination never really stops so it may update the composite value in the in the background and we will see why this is important in in the next slide all right so why exactly do we start the ballot protocol as soon as we have a confirmed nomination why don't we wait for nomination to finish you so we know that it eventually all nodes will converge to the same candidate set through nomination and why do we know this we discussed the important invariant a few slides ago that nomination protocol stops issuing any new votes as soon as it confirms its first nomination remember that it can still accept or confirm whatever it's blocking said accepted or confirmed but it may not vote for anything new because of that property we can guarantee that eventually all the nodes on the network will converge to the same candidate set through nomination but there's a problem we don't know when we don't know when that's gonna happen and so this is why we are starting about protocol optimistically as soon as we have our first confirmed nomination but you might be wondering what can it hurt safety is it actually safe to do it this way is it possible that the network will end up with some different values actually no this is pretty safe and there are two scenarios here so best-case scenario is let's say we started with in optimistically prepared value and let's say that the network actually agrees with that and everybody ends up committing that optimistically prepared value so it's kind of the happy path well what happens if the things don't go so well worst case a node might try to prepare a value but it gets stuck because it doesn't see agreement of the other nodes on the network and so it would timeout after it turns out it can either retry with the new composite value remember that nomination is running in the background and updating composite value so we might end up with with a new compass value actually so it could retry with that new value or if it sees that it's blocking said made more progress and it accepted some time or confirmed something it can just switch over and vote for excuse me accept or confirm whatever the blocking side accepted or confirmed all right so this was sort of a very brief discussion of the stellar consensus protocol I also encourage you to check out the blog post that we have there is another demo in the blog post which actually shows how the federated voting works with both nomination and the ballot protocol and it's very detailed so I definitely encourage you to take a look but for now we're going to go over the summary so remember that statement is a building block of consensus and SCP uses federated voting to agree on different statements nomination is essentially Federative voting on statements to select a small set of values to consider for a particular ledger and the ballot protocol is 32 voting which tries to prepare and commit those values which were selected in nomination and most importantly SCP acts like a funnel by narrowing down possible values for notes to commit and with that I want to see if there any questions all right do I have a choice to choose a threshold value for quorum slices yeah that is a very good question so you do you do but the selection of threshold really depends on how many failures you're willing to tolerate so generally we suggest that for if you for example to add different organizations into your quorum set you want at the threshold of at least 67% so then you can tolerate failures but if you have nodes within your own organization for example then you can select a lower threshold like if you are running three nodes and they're all within the same organization you can have just a simple majority 51 percent threshold but yes short answer you you get a choice when you configure your stellar core node you may configure your quorum sets however you want and select whichever thresholds you want but we generally recommend using the automatic automatic quorum generation mechanism that we have built into stellar core because it accounts for that 67% and it looks at nodes within the same organization and choose them and it chooses a simple majority there so we definitely recommend going that route because this way you're making sure that your configuration is actually safe and it cannot fork you great any other questions alright well thank you guys so much thank you for watching",
      "keywords": [
        "blocking",
        "quorum",
        "node",
        "protocol",
        "nodes",
        "nomination",
        "accepted",
        "value",
        "voting",
        "lets",
        "values",
        "accept"
      ],
      "speakers": [
        "Style Network"
      ]
    },
    "2020-04-30-continued-discussion-creating-a.mdx": {
      "summary": "my name is Lisa Nestor and I work on our ecosystem strategy team at the stellar Development Foundation and I will be providing moderation support during our discussions today so the the topic on the table for this virtual round table is a direct send proposal this is a discussion continued from exactly two weeks ago on April 16th and we will be talking through and finalizing the the direct send proposal first however I'd love to give just a little bit of background on what a SEP is this is a stellar native term and so SEP stands for stellar ecosystem proposal so steps are publicly created open source documents that live in a github repository and they facilitate the creation and eventual adoption of technical standards within the stellar ecosystem so steps are really a dynamic way of introducing standards and protocols utilized in the ecosystem built on top of the stellar network and in particular as new use cases evolve throughout the stellar ecosystem new steps help to formalize those use cases and make them increasingly easy to implement and streamline between various participants so specifically today we're going to be talking about the direct send sep people are also referring this referring to this as a send receive set and the purpose of this set is really to enable Fiat de Fiat payments that would be facilitated between two anchors we also think of this as being a set to support more traditional style cross-border payments in which a sender execute the transaction to receiver and a foreign destination and really wants that receiver to just have funds arrive in their bank account they don't really want to interact with a wallet or a digital asset themselves so like a remittance or a business payment the transaction is executed and the receiver can just the funds to date there have been some initial decisions made around this up and we've linked to the the specific github pull requests there and so to move forward let me quickly introduce our participants today we have four different companies from the stellar ecosystem representatives from each of these companies that will be joining us so we have Anthony from tempo we have Andy from Satoshi pay blue bemy from Kaori claudio from inclusive and Michael from SDF so thank you all so much for joining us and being patient this morning and so finally this is what today's agenda will be we are going to work hard to talk through each of these line items so if you're in the stream feel free to kind of follow along with us and with that I will hand it over to Michael from SDF to help kick things off thanks thanks Lisa okay so really quickly can't go back to the agenda yes so last week we talked a lot about the happy path for this proposal I think we got it to a really good place we had some updates from from the conversation and I think that we're pretty happy with where it is for the happy path where it's simply two anchors that have you know good financial partnerships or our financial institutions themselves and then what we're going to talk about today are some additions that might be become a part of the set or might become a part of an additional set then make it possible for a lot more parties to participate in this this network of Fiat to Fiat rails so the the first thing I'm talking about is a well is a multilateral kyc then if inclusive is going to give us a an update about what that is and I think the general idea here is it makes a much easier way for multiple parties to share kyc data so everybody doesn't have to duplicate efforts and people who might not be able to get involved previously can through this through this process and then we're going to talk about how non-custodial applications so noncustodial wallets can start to execute these directs and transactions so I'm going to pass it over to clutter you apologize if I pronounced that incorrectly no that's fine that's fine thank you you're closer than this at them from us - so what we are doing at the Cruces and what we are trying to achieve with multilateral kyc and what's let's say our role in the interstellar network so maybe you want to see if they're focusing on compliance checks KY c KY b and c DD continuous due diligence monitoring and reporting but multiple k was motivated kyc as a little bit of background and maybe already touched in the last discussion like each anchor for each payment right has to do a kyc on the sender the said if we are talking from bank or anchor set which is on the agenda and also the receiving anchor from the regulatory point of view also needs to put a YC on the on the sender right and the center and cross on the on the receiver so can we see multilateral also how we are calling its EDD connect basically we will enable through our guess product which is also late guy based to share this information in medicine formation are referring to the KYC data without any personal information attached to it right so as an example for example let's say one anchor from Europe wants to do payment to an anchor from Nigeria for example right and the anchor from Europe already onboard it let's say the sender using our chests api's and then also Canada from diner from Nigeria he's using our our cassock that's right so when the anchor from Nigeria will do the center kyc basically we are not performing another KFC check basically we are just sharing the existing data and let's say report and history of the center which was already made for the anchor from Europe right so basically this is Casey Casey connect OCD connect right and what this brings it to the table it brings I think cost deductions right because it reduce costs it also makes the process more efficient right because but just by enabling sharing data also this process is almost instant like it doesn't involve the basic LSE check Nativity church doesn't involve too much manual interaction but of course it can be extended with checks which will involve some let's say offline processing in case of you know you want to do extra due diligence on a certain entity or individual also this is multilateral AIC is not let's say enforcing an anchor to just you know do kyc in a single way basically it just you just try to provide the framework but each anchor can have its own particularities for example to extend kyc its own services or whatever you know third-party tools they are using right what else so we already starting discussion I think our CEO is in contact with most of the bankers which are present right now in the call to to agree upon let's say requirements and use cases which all of us try to fulfill on the stellar Network so yeah and we are more than welcome everybody else wants to join this is huge initiative okay this exciting two reasons I think what this gives us at least a sorry about seasoning okay so this excites me for two reasons one is what you said you mention it as cost savings and I think it's more than that I think it enables you know the cost savings come from right now every anchor kind of has to be a specialist in the KYC of every region which is obviously a huge cost and also just it's not going to happen so this kind of says you know this one company's going to focus on kyc in different regions and now everybody else doesn't have to so that's a cost savings and it allows you know no no company is going to be able to have a team large enough to really work all over the world and the second thing that it does and correct me if I'm wrong here this is this kind of goes to the the last point in that subsection was it enables people who may not be able to do actual kyc people who are not financial institutions such as Satoshi bei this will allow them to kind of offload the KYC process on to conclusive so when they start a process they can get kyc done through a regulated institution like inclusive and all the other parties in this multilateral agreement can accept it and that will that will regulatorily allow a Satoshi paid to start creating these transactions so we you know there's two things blocking them one is the technical way does it fit into the second one is the regulatory way will other parties accept payments that originated from a noncustodial wallet so am I correct in saying that this this will solve those two problems yes you're right you're right we provide everything everything you said and that's room so basically that's that's our mission you know to provide easy access to to compliance services and also you know to banking integrations and then yes also from outside that sounds like that's what we're aiming for cool to hear from the anchors does that make sense from your perspective I'm just kind of given how you typically handle your responsibilities anchors to myself how much access we have two simple kyc processor and then as long as we have you know like access to the data and so on and so forth we could probably still meet the regulatory requirements saying that yes we did do this kyc we didn't have access to the KYC data and when you do your own processing like you just said this is only in your own home country right so you still don't need to specialize in kic for other countries just yourself yes perhaps to meet the referee requirement in Honduras diction reckon each of us in country specific and in this multilateral agreement is that something that's allowed we're a receiving acre can pull the data down or is it obfuscated behind a token to have the actual data to meet arranged to meet the regulatory requirement so it can't be obfuscated we have to have access to my data and insert the situation required to share that data with directly interests of for example if there's a little vest or something like that they would need to see the actual basis so bright we confiscated we means actually access it in the current situation where we process it ourselves moving we you know we would actually process and store my data so it wouldn't be a office cater to sighs my regulate so cardio is that something that's possible with your scheme yeah so basically just to make things a little bit clearer you like you know for example energy that you have the data you want to do the KYC check on it right so what you will do you will just call us and we will just see if those person were already kyc it right and we have a report on them and of course only if the institution like the anchors that you are participating in this one are billing to share the information about them right because each country might have its own degree place you know in a certain card any country maybe you are not allowed to share the KYC information even though if it's not a personal information right so basically each anchor will will own the personal information yes we will also have it but you will get back the the KYC data right so we will not get anything over skated on it right okay any data that shared from one anchor who's part of this multilateral agreement that data can then be pulled down by a receiving anchor who is also part of the agreements exactly it's a full data sharing agreement it's not like it's not like we're just saying what we trust that conclusive did it so we're we're cool with everything we can actually pull whatever we need down yeah yeah exactly cool okay that that sounds it sounds like it solves the problem from from Kyra's end I don't know if Anthony from tempos and does that sounds does that sound right to you does this sound like it'll solve any problems from your end it could there's EU regulation and it's going in place where they have to be authorized by the EU central bank as a kyc provider so that's something where if inclusive would have to get this authorization from the EU yep yep and they and it's right now I don't think they've actually approved anybody there's a bunch of companies in application process but that's the current state in EU and then we're also doing it in Japan and in Japan it's a little bit more lenient they don't require this sort of artificial intelligence on me on the passport and ID or ID and we typically consider the EU to be kind of one of them the more strict jurisdictions is that correct that's my understanding specifically Japan and Germany in Switzerland strictest okay and then France comes right after I would say okay cool and then I mean the nice thing about that is that's inclusive bread and butter is to get authorized by all these places so that everybody else doesn't have to so okay it sounds like to me that scheme does solve the the regulatory issues with satoshi pay another noncustodial waltz being able to you know get kose data into the system and to be trusted from that end Lisa can you share a link to that agenda could I could pull up I think the next thing that we talk about is the technical aspects of it so I guess we can look at some more these questions so the the strict we're asking if the strategy works for everybody it sounds like assuming that inclusive gets authorization from EU to provide this kind of data that this will actually solve a lot of these problems we asked about if there's any geographies or scenarios where this may break down and we kind of talked about how you know in Europe things are stricter but it doesn't it doesn't break down as long as as long as the providing company can can get authorized in that geography and then if we're looking at edge cases where this may not work I think one of the edge cases is the case where the receipt actually needs some more data so you know I'm imagining the situation where a sending client comes in in a very lenient state provides you know some data that might get them access to their their originating countries regulations but once you're trying to send the summer and EU the case it might be that they need more information there they're much stricter and so I'm curious how inclusive would imagine is working do we do we ask the receiving anchor to collect more data or does conclusive say okay well now that you're going to be you we're gonna have to collect more data do we have an idea how that work yes so we had a we had a talk and discussion internally about these and to be honest it depends it depends on the customer right because each customer has as its own needs but how we want to address it is like each customer will let's say like a compliance customer of ours can't define its own list of extra fields they want to collect right besides our core fields which we provide by default for doing my C's KY based on individuals and entities right and this this is how how we are ticket to bleed and of course if for example a field to make sense for us also to include it by default in the core fields we can do this and for example I think I can give an example as a result of the discussion we had with Kaori for example they they requested to have a custom field called the BGN a bank coordination number which is specific to Nigeria and to validate this field we have to integrate a specific API from from Nigeria to do that right and then we have an internal internal discussion and what we decided is this is that look this is a core field for philosophy because not only covering is with all the entities or any rituals from Nigeria and need this kind of validation if you want to offer them the the compliance check they need right in that specific country and region so that's one saying it depends on the case on the case right because if if something is can be made as a core field we will include it as a core field and it's enabled by all the countries so if a customer from a certain country or something region right if it's something specific let's say not to a country or region but to a company or entity or individual it can be addressed but to configuration so we we thought on this and at least these are these are the two directions we want we want to go if it makes sense so when the POC is originally being provided when an originating anchor initially collects the data are they collecting that data with the knowledge of where it's going to go so that they can say you know they can tell you hey we want to send this baby you what do we need to collect or do they just collect the data for their own region and send it to you and then wait around in the process the receiving anchor will then ask you for the data yeah okay so how I see this process is that I think to the steps which are available on the on the stellar protocol like each anchor will define its fields he needs for kyc care might be right so basically when this information is exchanged between anchors you know each anchor will not like for example maybe as an anchor which is using secrecy as compliance provider maybe will interact with an anchor which does music it doesn't use conclusive compliance right and this is and 50 to correct me if I'm wrong this is embedded in the intercepts right to the fields you you can share between anchors so each anchor should be responsible to to configure these fields even if it's a constant field for example and maybe it's not on the I think it's set 9 which has the list of the fields right it still can be requested to this exchanging of fields right and yeah of course if it's viable for you also can be also added on that list right okay so it sounds like it's it's the responsibility of the originating in here to make sure that they're giving you enough data so but exactly and of course some of the fields can be made off from some of the tea fields can be made required right so you can have this flexibility right to jump away the fields cool does anyone else in the edge cases where that scheme might fall apart Oh because it sounds okay but generally what we do because well for the first time you might not necessarily know all his intended jurisdictions Mike gave you my mother everywhere intends to send she going forth but what we tend to do is as we got a client we would say we would often which countries or which region I mean sending two intense eccentric now in the future kind of thing and based on that for example if you have payments that are going to Europe or to include Europe as one of their destinations then we would try and acquire the KYC to make the information required for Europe if it's the u.s. we were trying to quite finish so we take no responsibility as an acrobat engaged payments to get the correct information for correct destination and it's business-to-business payments and there's very involving onboarding process we can ask the client front that okay are you going to meet with the US Rep against the name of the European which and that means we can we have a better idea of what can when submission it would meet for the destination okay yeah I think that's all make sense there's also the case where for example for a very large transaction we might you know the recent anger might need extra data and I think this is fine the way that it would work is in the step right now the descending a Turk I checked the status the transaction periodically and it might find out about there is actually more data needed so in this case would they provide it directly to the anchor or would they provide it to inclusive and until the anchor we've updated they're kind of kyc profile with with extra data that you needed I actually don't think it matters I think both ways would work just fine I think from my perspective and at least how we are placed right now I think is the anchor responsibility because basically having seen these-- Cruces with his compliance service sit under the anchor is not exposed to the anchor right because all the all what you get exposed to the anchor is just the API definitions which are guided by the spiceps right so in any set right now there is no mention of inclusive no mention of a compliance engine right so basically the anchor is responsible to integrate with inclusive through a set right a set which collects the chaos information at least this isn't if I'm seeing things right now maybe in the future can is everybody else still here I'm still here yeah I think we got a just a little yes delay there okay I do have one or two comments or questions so I kind of on topic one of them is you know Michael we historically had a compliance a compliance service or compliance server as part of the stellar ecosystem stack did you all consider using that and why or why not yeah I think that step 3 I'm just gonna pull it up real quick there there were aspects of it that we used for sure and there were aspects of it that didn't quite work this is a good question and I think I should put some information about the I the answer is I would need to go back and kind of collect the answer to that I don't I don't have it offhand I do know that we referenced if you're talking about step 3 we referenced it in a lot of ways but there were a lot of hiccups to it that made it more difficult its Anthony I can I can I can add to that because we were using it quite a bit to compliance ever it's a lot the this new implementation is a lot simpler and cleaner and this the compliance server was a little bit compliment complicated to implement and it's a little bit different from these from the other except 24 so this will keep everything kind of in with one authentication mechanism SEP 10 and one kind of signing of the data gotcha that makes sense today great and so one other comment that all I'll bring in before we jump back into things you know we're talking a lot about sharing kyc data between anchors can anyone speak to how we ensure that this data is treated securely as part of this process I mean you know how how does a consumer using an anchor know that any personal information they share is going to be treated securely throughout this kind of anchor - anchor can we see exchange process so I think there's there's there's a few aspects of that to look at one is technically how is this actually secured and but I think the more interesting question is business-wise you know we are sharing data between entities so how do we ensure you know that your personal data doesn't get sent to some shady anchor that you know it steals it and does whatever with it so from the technical side I think you know everything's obviously encrypted I think this about this set makes it clear that this has to be all of our steps basically say you have to use HTTPS so everything is cryptid over the wire everything is authenticated using SEP 10 was a cryptographically secure way to say that only authenticated people can access this so people who are part of this network have all agreed on a public key with each other so that they can authenticate with each other so I think it's safe to say that for all reasonable intents and purposes this data can only be accessed by the parties who are involved in this agreement now the interesting part of the question is how do we know who's part of this Agreement how do we know who can actually access our data and I think the answer to that is you know anyone who's part of this multilateral agreement knows who else is part of this agreement so you are you know as a user you're giving your data to a company that you trust if if you're giving your data to a company you don't trust like all bets are off so you know you've kind of entered into this by saying I trust Howry to deal with my data and implicitly you're saying I also agree that the people that calorie shares this data with I also trust but we do get into kind of a more you know that that's a that's a much bigger leap does anyone else have any thoughts on kind of that the trust story here involved with personal data yes so from my point of view or our point of view I think it would make a lot of sense if the user would sign something like a piece of data that says I want to or I agree to share my data with anchor X so also anchor X can later odd ZK was he provided conclusive can later proof that the use of was was informed about that is that the data is going to be shared because I signed that piece of data so it's it's like in a contract between two parties yeah I think it's a much clearer story when you know a user comes to calorie puts in their data clearly they trust carry with the data and then they actually go to send the money and it says we're gonna go through tempo I don't know if the UI actually tells them what they're going through but pretty much this thing I want to put my data in for this this this transfer from you know between these two companies so I trust that these two companies will will treat my data properly the the question that comes up is since we have this multilateral agreement can a third company come in and just request you know request Michael Feldstein data from from conclusive you know if a kind of sketchy company gets so there's I guess there's two questions here that I have for the the conclusive product is does every party be that's already involved in the multilateral agreement have to agree to a new party entering and then second question can any party at any time just requests data that's been entered into this pool or is it only possible when a user agrees that you know they want that's the other party they want involved with their data mm-hmm so sorry for dropping off but they have some internet issues so so it depends to ask you a question because I think it depends on the under regulations for example in the u.s. regulation by law you can share kyc data no personal data but you can you can search every see date right so let's say for example if europe is the same and by law you are allowed to share kyc data what personal personal information data let's say is when an anchor from us is doing payments and transaction with an icon from euro for example there is no need for an agreement because we are not sharing personal information you are just between ke wifey data and personal information yes kyc data for example I've checked you on the sanction list of ABI you're not there but it's not showing the name it was checked right okay I checked you own off at least or UN list or something else you are not there right or whatever sanctioned is or address match or things like that so you don't get in the KYC detain a person any personal information but the game actually is the result of processing the person exactly exactly so the anchor has to keep the personal information is just sent them either the personal information or either on just an identification or a house or something that person information we are still working on this and if we already have the KYC for that unique entity or person we just share the KYC data which doesn't contain any personal information and again that's why I said it depends because it depends on the regulation like maybe some country or regions you're not allowed to ship kyc data even though it doesn't contains any personal information right so for the case of sharing personal information like like we talked about earlier this this this process does allow for a receiving anchor to pull down the personal information like with any said you know they need to be able to share that with regulators they need to know you know things actually get data so does that process for an anchor actually pulling down personal data how is that controlled I think that's the control of anchor level and sub level I think you guys already have this in the first I think the first I think it was set three or something with Padma Franco to anchor in which when you were requesting personal information for a central entity or individual involved in the transaction from another anchor that anchor would had like a check on this information like its shareable or not or something like this right so I think the death should be and as you guys mention I think somebody mentioned it should be a conflict signed between anchors right to be able to do this either two anchors either like but the entity or individual level right maybe when you start in a transaction you can ask you okay are you willing to share your personal information and maybe a note if you're not willing to sell your personal information it means that maybe the transaction or something right but is there any way for someone to say I'm willing to share my personal information with just these two entities versus I'm willing to share my personal information with anyone involved in the multilateral agreement yes I think is possible but to be honest I don't know whose responsibility it should be like it should be anchor responsibility to collect this data and store it right and to do the check okay I am I'm allowed to share the information with this certain entity or individual or with this provider let's say or released anchor or it should be thing if responsibility to collect this data and went on this monster that little thing just to check if I'm allowed to share this right okay we are not trying to share personal information we are trying to share kyc data right so that's the best purpose okay it seems like an aspect that we really need to dig into and make sure that was a really good question I'm glad somebody brought it up I'm not I'm not certain that we have an exact answer for this but it seems like if if we're gonna have this just this way four acres to download personal data we're gonna need some pretty good controls on who can actually do that otherwise you know that's it's a broad pool of putting your data out there so I guess a more straightforward question is the first one in this multilateral agreements how does that pool grow does does everybody in the pool have to agree to every new addition and just one thing Michael I do want to call attention to the time so as much as we can eventually move the discussion to the 0.3 I think that that would be great to do so but don't want to interrupt you I think I think that was we need to dig into that a bit we did it on the call so yeah let's take a look at that next section okay great so Andy did you want to give a bit of an intro on this yes of course so we have a bit of unusual use case from an anchors perspective and considering what we discussed so far because we are a noncustodial application and we want to take part in that directs and process so right now we have two approaches that we are trying or discussing internally at Satoshi pay and for those two processes we have two different there's two different flows we have two requirements like one each how to how would we take part and would we facilitate the direct send even though we are not an anchor so our use case is actually that we have a client who is in charge of their own funds they owned their secret key and we want to use that iOS and API between anchors or to another anchor so like we one option we are looking into right now is that basically it happens anchor - anchor and we would need some way to initiate the whole payment flow like we as a third party which need a way to tell anchor a descending anger and to actually start a payment to anchor B this is one option that we have the other one is from from us from a receiving anchors perspective that we would basically be the sending anchor in some sense but we would actually send the money from the from the user's account from the clients account or rather the client sends it and as we're non-custodial and for that we would need to be able and as a direct sent proposal of states that the endpoint is not supposed to be public there's like a white list of entities that are able to to use that endpoint usually anchors we would not only be able to to have us white listed as Toshi pay but we would need to be able to have like sub accounts so like we have a Satoshi pair identity and we have our clients and our clients would need like the keys of our clients would need to be white listed to participate in that direct indirect send I hope that makes it half way clear even though it's a lot to paint in in the air so maybe we can get some kind of thoughts from Google your Anthony about how they imagine the ability to actually take these as the receiving end of this yes yeah it would be based on the piece I think that would be the ministering forward implementation for every key as the initiator of a transaction which would be such as basic customer we would need to know that key I believe the accent makes you stop the step turn ostentatious key right so we can verify that an incoming transaction was signed by your original key so basically we just need to know or have a process where such a few people would register each individual key with us maybe as part of their onboarding process or something so they would say okay this key is lost to me belongs to Stassi she paid us to one of such as she pays customers and then we would essentially whiteness that particular key and when second receive API it's being called it would need to be authenticated with step 10 so we knew that this transaction was signed by this key which was white listed to start so yeah I think that would be the mystery for yes that sounds exactly like what we had in mind and the point like what's missing right now from our perspective is just that we need some some protocol how we do is a retro string part yes essentially we need to come up with a way to actually we could go as far as making it suspended say that it's the same process immiscible with so we actually have so first off is it okay if we go ten minutes over since we kind of got a ten minute late start I'm good with that hey yep my I was just actually messaging people about that so in fact we can go ten or fifteen minutes over so all the hard cutoff time being 9:45 a.m.",
      "keywords": [
        "data",
        "anchor",
        "thats",
        "information",
        "personal",
        "actually",
        "which",
        "process",
        "does",
        "dont",
        "share",
        "youre"
      ],
      "speakers": [
        "Development Foundation",
        "Casey Casey",
        "Michael Feldstein",
        "Padma Franco",
        "Anthony Michael"
      ]
    },
    "2020-04-24-engineering-talks-creating-usable.mdx": {
      "summary": "okay I think we're live what's up everybody welcome to this week's edition of stellar engineering talks my name is Colton I'm the community manager here at the cellar development foundation and I am NOT an engineer but I will pretend to be one for the next 30 minutes or so for the sake of conversation this week I'll be talking about creating usable stellar applications and I also wanted to give a reminder that this is a series that we're planning to do on a bi-weekly basis so every other week we'll have an engineer from SCF come on and talk about whatever they're working on sort of internally at the foundation so before we get started I want to give a little background on this talk and why we thought it might be a good idea to host it so lately within the ecosystem team we've been thinking a lot about how we want to onboard developers into the ecosystem whether that's you know developers who aren't native to the blockchain space we're developers who are just thinking about creating financial applications or whatever and a lot of them whenever they first start working with stellar they don't completely understand some of the usability implications or they don't understand some of the technical aspects so creating a resource like this as a sort of way for them to have something to reference and look back on to understand what they should be considering with building cellar applications is sort of the basis for this talk so let's see if I can change slides here yes so basically also before we get started I wanted to spend some time defining usable I understand that usable means many different things to many different people right we have all these different applications within the stellar ecosystem they all serve different user bases they all have different use cases and so usability kind of means a couple of different things across different services so rather than think of this as like a set in stone definition for what usability means I'm more of just trying to create a baseline for understanding what sort of makes applications usable or how to give your application a better chance of being usable within this stellar ecosystem so we also need to understand why stellar can be hard to use especially for people who aren't super into the space right up there encountering your applique for the first time what are the some of the things that they can have trouble with and some of these things include going from the real world to the blockchain right we all remember that first time like how do I get my hands on this coin or how do I use a stable coin also things like public and private keys are extremely difficult they're not really something you're used to in your daily life and there's constant there's this concept of decentralization right what does that even mean where is your app on the spectrum etc there's things like security so for the first time a lot of users are responsible for their own security maintaining their own private keys making sure they send their funds to the right place etc and then you have things that are stellar specific like the seller decentralized exchange anchors trust lines lumens and so you can take all this stuff and bundle it up and just call it hard stuff right so how do we create applications that abstract away all this hard stuff and make use cases I'm easy to understand and easy to use for you know the average person who's not into the black gene space so I mentioned all these hard things what can we do about it the first thing is create and use standards so within the stellar ecosystem we have what are called stellar ecosystem proposals or steps and essentially these steps provide a set of standards for developers to implement when building stellar applications and these are things that evolve over time with the needs of the ecosystem these are things that evolve it's new use cases pop up and these are things that also evolve as technology improves so steps are not this thing that's like set in stone on the protocol level disease they're these things that are constantly improving for developers to use and the way I like to think about steps are just this category of sort of protocols that exist on top of the network so oftentimes and we're describing stellar and some of its functionality a lot of people confuse that for functionality of the network but really it's just a standard that we choose to follow to make that functionality possible so think about steps is this thing that exists on top of the network in between applications and stellar itself so it is possible for applications to just directly interact with the network without you know implementing any of the steps but the problem lies and that you might be able to use the network but you might not be able to interoperate with other applications in the space right like you might not be able to send a federated addresses you might not be able to work with anchors etc so it's really important that if you're building an application in the space that you you know mind the mind the standards try to follow the standards pay attention to the standards and try to implement them whenever you're thinking about ways to build your application and serve users in the best way possible oh I went too far so some examples of what you can sort of do with SEPs or what problem steps can solve are things like set to the Federation protocol so you have a standard where basically we can map human readable addresses to stellar addresses I know a lot of you probably remember the first time you sent any significant sum of money from you know whether it's your exchange account or your wallet and you're typing in a public key manually and you are super scared that you might have forgot you know your fur you might have forgot one character or one letter or whatever and if you mess up you lose all your money so what better a federated addresses do is turn these public keys and to human readable addresses like on key base where you have colton star key base do or whatever this is super easy to send to a friend super easy to read if you're a user and basically it just takes the stress away from you know dealing with public keys so whenever you're building applications thinking about okay how can I make the stress of public and private keys easier to handle for my users and federated there are the Federation protocol it's one way to do that another way is do something called set 5 which is a way of just defining how we should derive key pairs and so one of the things that key 5 are set 5 lays out is this way to represent secret seas or private Keys as mnemonic phrases so mnemonic phrases are basically like just a list of 24 12 to 24 words I believe that basically represent a private key so if you're moving from one application to another you don't have to copy and paste or write down this super long and secret key that you might mess up but rather you can just write down human readable words and the kind of go behind this is just I have something that users can resonate with right like it's hard to write down the super long string of characters hope you don't forget a number and then you're screwed forever so you want to come up with a way to make words easy to write down and easy to digest so that if I mess up like let's say I misspelled deposit and I'm trying to move my secret key to some application to another application I can figure out that a misspelled deposit but I can't figure out that I forgot a character in my secret key that's much harder so the other thing to mention is like this is something that's constantly evolving right and this is like the benefit of doing things through SEPs rather than trying to change them at the the core protocol level so there's also a step in the works called SEP 30 which is basically multi-party key management of stellar accounts so this is a protocol that basically defines a way for an individual to regain access of a stellar account if they lose their private key so in the event that you lose your private key which is a huge usability problem not only in the seller ecosystem but in the blockchain ecosystem as a whole you can find a way to recover that key without giving control of the key to a third party right because if controlled if a third party has controlled the key then that means they can steal your money if they wanted to hopefully they don't but it's possible so coming up with different ways to make you know private keys and public keys easier to manage for users is an extremely important thing to think about when you're building your cellar applications then next we have standards for anchors and clients to interoperate with each other right this problem of going from the real world to stellar or to any other blockchain for that matter right now the current flow is like you go to a coin base or you go to buy Nance or whatever you create an account you have to buy some coin and then you send that coin over to your wallet and then you can maybe transfer it to a different coin and then send it to your friends and then you have to go back to coin base and then try to get it out so there's this like super convoluted process of going across different applications just to achieve a goal and so we've created standards here in the stellar ecosystem that try to solve that problem such as I accept six at point four SEP 26 and so basically this allows you to go from the real world to your stellar wallet without ever needing to actually leave your stellar wallet an example of this is in practice you can see I think all mobsters soul our wallets teller X etc all of you support it but an example on lobster here is that I want to deposit USD for Maker USD into my account I just click deposit I fill out some information I click continue and boom anchor USDA interface loads up within my within my wallet I never have to leave and so the benefit of this is that you can all of a sudden Interop interoperate with many sort of anchor services or on off ramp services inside of your application without ever needing to force your users to leave and so basically we can we can make all of our services on stellar interoperate with multiple services rather than like having to form a partnership with just coinbase or form a partnership with just wire right you can choose a whole bunch of acres that you want to work with within your payment service outside of standards we can also sort of simplify the experience we can make stuff that's that's easy to use some of you who might have been in the space for a long time might know back in the day maybe the only way to sort of send or receive stuff like Bitcoin is through the command line and of course like no I don't think payment applications are going viral through the command line any time soon so we have to make these things easy to use right and so first steps to do stuff like that or what tools like stellar laboratory right you create a wrapper around the entirety of the functionality of the network and well to stellar laboratory is a super useful tool it's a super powerful tool it's not something that you would consider like for mainstream views right it's not something that you want to give to users and be like all right cool now you can send payments or make trades or whatever so while this is a step in simplifying the interface it's not quite there yet right so we have to go a step further and that's where things like crypto while it's come in so they take the the complexity of the network and they put it in a to easier to understand wrapper then say like something like several laboratory but even still crypto Wallace can be pretty daunting right the use case is not immediately obvious for those who don't appreciate the complexity of the network or completely understand what they're trying to get out of it so by presenting all of this information users it can help a little bit but it might still be complicated for some and so what can we do about that right like it seems like we're out of solutions here but we're not we can actually continue to simplify until we simplify it use cases so if you think about where we started we simplified the interface for interacting with the network and then we simplified use cases for interacting with the network and an example of this is something like Satoshi Bay right the only aspect of seller you're really exposed to when using Satoshi pays micro payment service is sending transactions on the network and then receiving transactions on the network they don't expose you to a bunch of different interfaces they don't expose you to a bunch of different functionality it's literally as simple as deposits and lumens haze pay for some content nothing crazy additionally we see this explored through things like D stock where instead of focusing on the payments aspect of stellar they focus on the decentralized exchange aspect of stellar so now you can decide ok I need to buy and sell stocks I just need to know the price and I just need to say how much I want to buy and sell and boom I can do it right there in the interface so I take away all of the complexity of deciding what I want to do by just presenting one single use case within the app and another example of this is Vega so Vagos the dollar savings app that we're working on internally here at SEF and essentially it just lets you send and receive different local currencies as well as exchange in and out of those local currencies but you're not exposed to a bunch of order bucks you're not exposed to a ton of trust science you're not exposed to a ton of public and private keys a lot of the stuff is abstracted away so that your overall experience using the application is super easy to understand and so again we want to expose users to as little as possible about the network hone in on one thing that you want your application to do really really well and just focus on that it's not really necessary to support all of the functionality on stellar because it can be a lot to handle its a lot to handle as a developer it's also a lot to handle as a user and then the next thing we can do is educate users so you want to let users know what they're getting up front one of the things that I find a lot of services guilty of especially in this space is that people will understand the value proposition right away that's oftentimes not the case and so you want to make sure that you can present that value proposition to them some examples of this in the real world are say like key bases homepage so key base is an extremely powerful chat application but it's it can be difficult to use if you don't know what those value propositions are and so you have their home page where it kind of goes through all of the functionality that's available to you and why you might want to use that stuff and then another example on the right is something like robin hood and what's interesting about this example is like if you're downloading robin hood you probably know what you're getting before you download it and so essentially I know what I was gonna get before I create an account but they still take the time to educate me anyway so for example they do these four slides where they talk about you know you can invest in socks it's secured you have free stock trading etc they let you know what you're getting before you even click signup or before you even click login so recreating this flow within your stellar applications is just as important right not everybody understands Stellar's value proposition not everybody understands the value proposition of interoperability and so making sure that they understand those up front always good to do an example of this in the stellar ecosystem and I think is one of the better examples is lobster so before you create a lobster wallet they actually present you with these four screens very similar to robin hood where they tell you exactly what you're gonna get up front right trading platform I can manage my assets sick that's exactly what I want to do so when I create my account I know exactly the functionality that I'm looking for and I know exactly how I'm going to use the app before I even get started and then additionally they've spent some extra time to translate their app into other currency or other languages rather so if you're creating an application that's global in nature which is absolutely possible on stellar you want to make sure that your service can actually onboard those users right you want to make sure that it's translated for the target markets you're going after you want to make sure that everybody can interact with your app that you say should be able to interact with your app unfortunately our community is sort of global in nature and so it makes that process of finding people to do these translations really easy right you can pay a handful of community members to come knock out translations and next thing you know you can serve markets all around the world and easily onboard those users without any confusion so to wrap this thing up and keep it kind of short and sweet the three things we went over is sort of following standards following and creating standards this is really important it's really important that if you're a developer and you're creating a use case and there's some standard that you think can be derived from it that you participate in conversation and that you do your best to try to come up with standards for doing things and then it's also important that you do your best to follow these standards they're there for a reason they'll make your life easier as not only a developer but it'll make your life easier as somebody trying to launch a product that's interoperable with other products within the seller ecosystem and you can find these in the stellar github repo they're all there there's about 30 ish of them or something like that so if you're building an app on stellar make sure you're going through those understanding them understanding which ones makes sense for your use case and all that good stuff additionally we want to simplify the experience like I mentioned so simplify interfaces right remove the stuff that's not necessary abstract away the stuff that's really hard and then hone in on a use case find out what's you know what are you actually trying to accomplish with your application is it a trading application is it a payments application maybe a little bit of both what features do you need to focus on what features do you need to present to your users and what features do you need to remove and then lastly educate users right show them where the value is show them what they're getting up front and make their lives easier whenever they're using your applications you don't want to just dump an application with a ton of functionality on them that they'll never understand how to use and that's it so that's pretty much all I had to touch on throughout this whole presentation I just wanted to go over some basics of what to consider when you're getting started on stellar what to consider when you're building applications on stellar and how you can sort of scour the ecosystem to find resources that can make your applications usable I don't think there were any questions if there are any feel free to ask them really quickly and we can I can try to answer them but other than that if you have any further stuff you can't get ahold of me on key base my username is just Colton additionally you can find me on medium I write a weekly newsletter called the dev digest or basically I cover all of this kind of stuff so if you're interested in the latest conversations around ecosystem standards I cover that if you're like if you're curious about the latest developments in the ecosystem I cover all that stuff so if you're interested as a developer and keeping up with the stuff that's going on within this our ecosystem you can easily do that just by checking out my medium and then there's also some base there's basic stuff such as like introductions to trust lines introductions to path payments all that good stuff so if there's no questions I guess we can call it a little early thanks everybody for tuning in and remember to tune in I think next week we're doing a set browned table and then the week after that we'll be doing another engineering talk so thanks everybody for coming by",
      "keywords": [
        "stellar",
        "youre",
        "things",
        "applications",
        "make",
        "thats",
        "stuff",
        "ecosystem",
        "these",
        "application",
        "users",
        "different"
      ],
      "speakers": [
        "Satoshi Bay",
        "Vega Vega Vega"
      ]
    },
    "2020-04-16-creating-a-stellar-ecosystem.mdx": {
      "summary": "life okay we are live I'm gonna give this just another couple seconds to let everybody get settled and then we will get started so thanks everyone for joining us okay I think I'm gonna go ahead and get started here all right so hello everyone thanks for joining wherever you are in the world my name is Lisa nester and I work on the ecosystem team at the stellar development foundation and today I will be your moderator for our first ever virtual roundtable where the focus of our discussion will be on a new sub proposal that focuses on what we call send/receive transactions so we'll dive more into this and certainly all of the details of the send/receive proposal however first I'll give a quick outline of the agenda so I will begin by providing a quick introduction to everyone about what a stellar SEP is and this dollar set ecosystem will then move to the send/receive depth discussion providing a short overview of the purpose of this SEP as well as decisions that have been made today and then we will open it up to our roundtable participants to start having a discussion and sorting through pending details then at the end we will also try and leave some time for Q&amp;A from any anybody who streaming in and participating this in this discussion as an audience member so please feel free to add any questions on the the youtube question chat box as you'd like so go ahead and dive into things what is a step so a SUP is a stellar native term that stands for a stellar ecosystem proposal and so steps are publicly created open source documents that live in a github repository and facilitate the creation and eventual adoption of technical standards within the stellar ecosystem these are standards above the core protocol layer so these are really eCos some level proposals and standards so so provide a kind of short overview subs are really a dynamic way of introducing new standards to the protocol for the ecosystem above the stellar Network so these are things that really helped to develop use cases that are being implemented and tested by companies and individuals across the stellar ecosystem and as new ideas or kind of new use cases are developed they can be introduced in the form of a set to start creating technical standards and adoption across the ecosystem and it's worth noting that you know steps within the cellar ecosystem much of them have been inspired by the IETF just to give a quick view of the SEP overview process for anyone that would be interested and doing this themselves or getting more involved in other steps that are being introduced so this really starts with an introduction or kind of initial discussion so there's a use case there's a type of transaction or you know a type of operation that someone wants to do in the stellar ecosystem and there's not really a standard easy way to implement this so they will reach out and and start kind of talking with other people an ecosystem including SDF to get a sense of other people would have a similar desire they see a similar need and also to get feedback on kind of other other iterations of how that use case might work after those kind of precept discussions happen then an actual step is drafted and so you know this usually comes in the form of a pull request and the github repository at that point there's a lot of continued discussion further iterations and merging of the proposal itself which then will actually get changed into a formal draft um once that draft is developed then it will kind of go into an awaiting decision on standpoint where it's tested and implemented but there's a period for final comments to be submitted by other people in the ecosystem that are using with the SUP and it's kind of very early stage on once that kind final comment period is closed the step officially becomes active again this is still you can think of as a very early period where the stuff is finalized but there's still kind of testing an early stage implementation of it and then once we feel a step is really robust we call it we move it to a final phase where it becomes a full standard within the ecosystem so just to give reference right now for this conversation we're still in this kind of merging and further iteration so there was a proposal that's been drafted and so we're now reviewing that and so you know I think to look at the big picture subs are really a ecosystem each sorry steps are really a tool to ensure that we're facilitating an open financial network they create standard and uniform ways for different types of assets or applications to interface with the stellar ecosystem and underlying that is an ability to create interoperability across various applications wallets and assets across stellar so they're really a critical part of facilitating an open Financial Network just a quick example is sub 24 deposit and withdrawal or anchored assets and wallets and the stellar ecosystem so this is a very it's an active set and it really has provided a way to improve user experiences across wallets for users to be able to deposit them withdraw balances across many many different anchor tassets and it also ensures asset compatibility so as an anchor or somebody issuing an asset I can make sure that if I use the 24 the others twenty-four wallet or application in the stellar ecosystem will be compatible with my my asset so very valuable in that sense hmm moving into the actual round table I'll quickly introduce our participants we have three companies from the stellar ecosystem which will be speaking during this roundtable we have Anthony from tempo money transfer who's calling it from France we have Erasmus and Andy from Satoshi pay we're calling in from Germany and we have boob Emmy who is from Calvary System and calling in from Abuja so yes from Lagos I'm sorry I apologize for that and finally we have Michael who is one of our lead integration engineers at STF who will be kind of taking the lead and help to facilitate this discussion for the participants so transition into this we can kind of start by providing a quick overview of what this send/receive stuff is focused on doing and we've had to date so with that I will hand it over to Michael all right cool thank you this time so what this is trying to achieve we already have two steps for wallets pinker interoperability so this is kind of a unilateral thing where it's one person trying to withdraw into their own real world Bank um the the point of this step is to facilitate payments between two different people so as far as the actual users are concerned here it'll just look like I'm sending money into my other person's bank account this is going to be facilitated usually by two anchors who actually have relationships with each other and ideally there will be a a dense network of anchors in all different regions so you could send to anywhere in the world but the important part is that it is between two different end-user individuals so our use case you know for example business from Nigeria to Europe and this is something that Kerry and temple have already started working on and have kind of used some of our older steps to to make this work and ideally we're gonna have a more clear actual explicit step for this so that when other you know if a third party a third acre comes on they can have a business relationship and then just plug in and not have to do technical integrations or not have to do anything complicated it's already gonna be built so we've made some decisions already you know nothing nothing final this is all I'm just trying to put something out there so we can talk about it it looks a lot like step 6 mostly because what we've seen from other anchors we've seen from Temple and Calgary is that step 6 technically seems to work for a lot of this the shape of the API what it offers really it seems to work so I didn't want to reinvent the wheel and make everybody jump through hoops so what I did and you can see in this this draft PR it basically takes something that looks like SEP sticks create a separate end point for it and clean up a few things so we took out the usage of step 12 and step 12 is a customer info server so this is a way of sending it's an endpoint just for sharing kyc information between two anchors and originally we used this and what we thought is it just makes the flow more complicated it's easier to just send the customer info with with the first call anyways so I'm gonna walk through do you mind if I share my screen Lisa okay I'm gonna do it has anybody here some experience with step 12 because to be honest I had not seen it they come up in many conversations previously yeah it's something that you know I'm curious so that's one of the things I want to ask about it is do people feel like step 12 is necessary is it useful and helpful or does it just kind of redirect some some usage and complicate this story yes we've implemented cent well personally I think it's useful I like it it goes back to that original goal of having and what it's experienced such that you can do kyc once you can have it stored in the wallet and then any new anchor going forward you can be sure that you have done the KYC them so I think it's useful in that respect it really helps to use the experience that you can do kick the questing once and then they can have their one of it to manage the KYT anything you anchor who comes online afterwards that user is sure that they can do okay I see with Latin America I just absolutely control but it's in German that's my proposal wouldn't you still have a new anchor comes on board wouldn't you still have to redo that kyc with the new anchor yes but the idea is or my concept is you can help you want it actually strong kyc information once right Amanda when a new ad comes on board you can share that already stored kyc information with the new haircut finest set well does that make it easier so actually let's let's come back to this I'm gonna walk through how works so we can also be on the same page they see audience aware what kyc means so kyc is essentially you know your customer this is information firm ation about people trying to send or receive money this can be simple as name or it can be as complicated as we need a photo of your passport with me a photo of your face holding your passport that kind of thing so it it can get complicated at times well some of the my toast be stricter requirements and businesses and I know your customer there's also know your business right and then we really start opening out from Pandora's box and so it really is a diverse topic can you guys see this separate now I'm confused as to what's happening with missing plane yes yeah so I'm just gonna walk through what the step we have currently is so at the highest level there is you know this is something that creates a product between my brother's already to end-users and it's facilitated by two businesses that have rails between each other so these you know one of the differences between this and something like step 6 or step 24 is that this is not a discoverable protocol any anchors that are going to be involved in this any rails are created they have a relationship up front so it's not like someone can just pop up and say now I'm an anchor in Saudi Arabia and you know get money sent to them without without someone agreeing that they're actually a real real business so in this example we had Ellis in Nigeria who wants to send money to Bob in Europe so she Alice will sign up with Nigeria pay to make this payment reading about Bangkok Bob doesn't need to know anything all he needs to do is make sure that Alice knows his bank account information so she can actually deposited so Oh looks like they used the word calorie instead of Nigeria pay I'll change that but basically this Nigerian anchor has a relationship with someone in Europe Europe a and then they will use this protocol to actually transfer the money and tell Europe a where to deposit the money into paws bank account so the actual protocol only happens between the two anchors everything that happens outside of the two makers communicating is not part of the SAP we don't need any protocols for that so when when Nigeria paid on boards Alice and collects all of alice's information this is just a web app or a mobile app there's no interoperable protocol here so we don't want to try to define too much only the things that have to do with part parties interacting with each other my listen I just asked you I you know looking at the feedback at the moment or on github I'm just on your screen I'm looking at the github at the at the markdown and the github just just wait wait a second are you on this what you're seeing what I'm highlighting right now yes okay I'm sorry yes I'm looking at this why is this okay I'm sorry I was looking at the wrong screen I had a second screen up so this is what I just described there are so here's how this actually works there there are four entities there's a sending client and the receiving client these are the actual people or businesses sending money and receiving money and then the sending and receiving anchor so the sending client will set sign up with the sending anchor tell them they want to send money to Europe the sending anchor will decide who their anchor is in Europe send the send the tokens over and then the receiving cur will deposit into receiving clients Bank when these rails are set up each anchor is gonna find a counterparty who would ever reach anyone operate with and they're gonna trade public keys so that we can use step 10 than step six in step 24 where we use sep 10 to the anchors it's the anchors proving who they are to interact with each other this is not a sub time for the end user so when we sorry okay when we do all the onboarding and when we collect all the information for the transaction this happens out of the scope of the spec and so the the first time to anchor the sending anchor will collect the amounts the any kyc information about the sender or the receiver that they that they need the bank count information where it's going and then that's when the actual initiation happens of the protocol so I I just got a message from someone asking if you could zoom in a little bit it's hard to read awesome is it I also we're gonna link to this repo specifically in the YouTube chat so people can go on that directly as well yeah someone could drop that into the chat I couldn't comment from my seller account that great so so this is where things start to look a little familiar so now that the sending client has cleared the Sun Waker when it wants to you we can start this protocol advanced so basically the sending client is going to choose their destination region they're going to say I want to send this to Europe and now this sending anchor says okay I know who my my Europe anchor is I'm gonna look up their Tamil file to get their their sensor for API endpoint I'm gonna look up their infant to see what fields they need so this is very much like the steps except 24 in phone point they're actually just a SEP 16 point where it'll say you know I can I can do a direct send for euros and I need these fields I need bank account I need routing number I need first and last name of the sender first and last name of the receiver and using the information I can make sure that as the sending anchor I've collected all that from my my sending client and if I didn't you know that's the second page I can collect whatever I need so once I've collected all that information I'm making a post request to this send endpoint so this is very much like the posts deposit post withdrawal of step 6 and so it's so late so this is where we were talking about step 12  instead of using step 12 to to send the customer info separately we're looking at sending it all in one request so this is just a single atomic request that says here is what I want to send here is all the customer information and if I'm missing something rather than say rather than the receiving anchor tell me that oh you need to step 12 me some other info they just say I also need the sender's last name and I will just try the whole thing again with the extra information so the receiving anchor will just reject this send call until it contains everything needed to do the transaction and once that's ready once once the sending anchor has sent everything to receiving achenes we're gonna get back the all the payment information so now assuming that the sending anchor has collected the fiat however that's going to happen from a semi client it can do either a path payment to send the receiving anchor whatever it expects so a three-c maker is expecting to deposit euros the sending anchor should send the receiving anchor euros either via path name or via you know a regular payment where they've exchanged it however they want but as long as the sitting anchor receives what they expect then the the set part is basically done the receiving occur should uses that bank count information that was sent with the send call do the deposit and then from then on there's just the standard transaction end point where the sending Aker can check on the status to make sure everything is going correctly and so yeah that's the general flow of this so a few things I want to ask about were you know a the SEP 12 stuff be the idea of refunds is a kind of an open question it's something that should be very rare but in the case of a bank you know once once the receiving anchor receives the tokens if they can't actually deposit into the receiving bank account we need to know what happens there so there's this part of the set where we actually describe what this is or is this something that happens outside of this back where if it's a very rare thing you know you just communicate with each other since you have relationships with each other yeah before I go any further does anyone have any comments or questions on what I just talked about sorry if that was a lot I'm sorry for the confusion earlier on the screens so let me ask about this f12 stuff then if the value of step 12 is knowing that I can just send I can store the customer info and send it to whoever else isn't that still the case here where the sending Aker collects the kose information for whoever it is they can store it forever because that sending client has create an account and they they send it over via this this descent endpoint doesn't that functionally give you the same thing as using except 12 I think we need to make some definitions is useful for an onboarding process like a registration process this particular call is not it's not for onboarding this is like an actual transaction basically meaning it can be called many times so in terms of just getting the required information it makes sense the way you describe it my book that gave her all the information is already complete because this is for an actual transaction and if there's anything missing receiving a kit can immediately reply and by saying these are the fields missing in each these fields and that the sending actor can we try to transaction the this makes sense in the context of actually sending transactions whereas set 12 is useful is actually for onboarding and the main differences on body requires identity documents writing this particular transaction this particular end points are referring to the same doesn't necessarily include identity documents right it's more like personal information which would be the receive this name receivables bank information but do not hide entity document sir this is useful in the context of a transaction which is repeatable recep 12 is useful for an onboarding process and where identity documents are extremely so one is it one of the things that retama early on is the idea of what is part of the sap and what is not so step 12 is really useful where you're onboarding to a service from a product that's not run by the service so this is really good for using when we head step 6 if you have a third party wallet that wants to onboard with an exchange sep 12 is really important because this lets the exchange collect information from a wallet where the exchange is not controlling the UI in this case you know calorie controls the UI for onboarding so you you can use step 12 if you want but you don't have to do since since the party collecting the information and party displaying the UI is the same product there's not really a need for an interoperable if I think that's the the key distinction is that if there's no two parties interoperating there's really no need to define a set Michael could I ask you that a little bit more just kind of definitional info on sep 12 we've referenced it it's you know yeah so step 12 a customer information transmission protocol basically what it is it's an endpoint where you can post customer information so let me start over the use case so what like like I said earlier the use case is I'm an exchange and there's a wallet that wants to do to the posits into my exchange for a user I need to collect customer information from them to do my kyc I need to collect personal lastname a photo of a passport so should be pioneer information strings whatever what this says allows is it says here are the fields that I need and here is the end points that you can post them to and then the wallet who doesn't know anything about the exchange other than this is where I post the customer info to um can can send information to the exchange yeah I mean that's generally simple protocol it's you know a lot of these steps are very simple you know this is just one endpoint it's actually two endpoints it also allows you to delete information but it's it's essentially just you know it's just a standard that says if you're gonna collect customer info and you want other parties to be able to provide it to you here's a here's a standard way to do it with no no UI or the UI is up to the product itself we don't say anything about it but can I ask so I don't I don't have a lot of experience as I mentioned with this approach but the there's no way of fetching the raw data by this correct what kind of routine what do you mean so perhaps I'm an anchor or an entity in and and I'm being told that somebody has been chaos eat but for whatever reasons regulatory compliance I may need to run my own kyc again I would like to fetch the raw data if we have some sort of agreement between these two entities that we call so like share the data of course in a compliant manner then I would I would also want to fetch that raw data the identity documents the identity identity of the natural person all the documents I have uploaded so this so the way that we imagine is happening now is you know remember the first step of the actual protocol here is we have this info endpoint which I think a lot of people are familiar with subsection 724 this basically this is how an anchor will kind of advertise what it supports so this is an anchor that says I support receiving US dollars here's my fee information and what you're asking about here is these fields so this says if you want to do a transaction with me I'm gonna need the sender's first and last name the receivers first last an email and these can be any number of kyc fields including things like passport photo or something and then the information regarding the transaction so this is this is another way that we we kind of diverged from step six a bit is we separated sender receiver and transaction information whereas in step six it's all just fields and that works because there's only one party you know with this there's there's two parties there's a sender and receiver so I guess first off does this so actually there's there's two ways one is this way the info on point says here's the fields I need you want to interact with me you're gonna have to send me this data the second way is if you're doing a some someone's echoing if if you're not talking could you sorry  if yeah so if you have a transaction that's particularly particularly high-value you might say oh you know I originally I said I only need first last name but I actually also need passport photos now and that's where you would reject the first end call and say you know I need more information I need this as well and then the sending anchor would have to collect that and send it to you as well does that answer your question about how you would get that data from the sender yeah I mean my question was more about step 12 like why it wouldn't be defined then also just just I mean at least some suggestion so everybody would have an agreed standard of also requesting that data right there might also be interesting if if we looked at sharing a compliance data across a network but it maybe it's a bit outside the scope of this conversation if if we're mainly discussing this this new direct payment proposal so but it was more like more the direction of a compliant partner Network so you're saying you want a way to like kind of just have shared kyc ahead of time for everybody rather than at transaction time yes for example or just just that it's sort of the separating concerns a little bit so that in the set 12 that would potentially allow a I mean we I'm sort of segue into a little bit of an absolute discussion here but it would allow for a sort of a an entity that's focused entirely on doing compliance would allow them to also for example provide an a an endpoint that everybody would know how to consume and where they could request the data according to certain rules but but it may be it's really relevant to this discussion because it would be more regarding the set 12 itself so maybe we should pick it up and can I say one thing Michael yeah of course from a kind of European perspective because the regulations are changing slightly and Germany was a leader in this is that basically we need liveness tests on all new registrations and so the whole concept of the SEP 12 of basically having the data and submitting it to a regulated entity in Europe probably won't fly simply because we need to do a live nest egg on the hologram on their ID as well as on their face pretty principle if they're a sort of a expiry date and when that so let's say that somebody does that three months ago and you requested the video recording of that lioness test somebody sitting in front of an agent and holding up their passport for example if you know they know yeah there's no expiry on the video when the passport expires we have to request a new passport but yeah the issues that we as regulated and we have to do our own kyc even if we're using a partner what kind of responsible so we can't 100% delegate that we still have to hold be held accountable so it could be good to have a third party and in fact there's about three or four like one if I or some sub or there's about a dozen vendors out there will offer this kind of thing but passing it between companies it can work you just need an agreement a data protection agreement between the companies like what we signed with bid bond where they passed us the data they've collected with German kyc provider and they basically an API into the into the provider exactly so that would be B something along those lines and I'm just thinking that that perhaps at 12 could also assist in this sort of sharing a purse and then work right so yes of course it would have to be with a German agent in your case for example over the I guess for the European agent that would have to do the lioness check that would be like very certain my specifications for somebody in Europe compared to somebody in Africa and so on but the if that independent compliance provide a partner they they made sure to take all the data accordingly right so this is combined with this regulation in these countries it's not combined with these if there's a way of signifying that right and I could still work and however I appreciate this really is an axillary discussion to the the set it is related and it's sort of also a little bit beyond the scope so it's a very tricky to know when to stop this conversation and so I think it is like it's the actual mechanics of it are outside the scope of the SAP but I think it is important to just know that that is a use case the idea of having like a shared kyc provider so I don't think it might not work for everybody but I want to make sure like I want to make sure that it does fit into the set if people do want to use that so we had thought about this and I think that I think the SEP does provide for that so if you have a kose network you have somebody provides you know kose compliance for you and the way I imagine it works is every client has like every end user has a token that says like this is the user you can look up on the compliance provider and say here's the user here's the token can you you know provide the KYC for me and verify that they've actually been you know properly vetted and I think the way that would work is that in this info endpoint you know we would say instead of first name we would say senders kyc token that would allow you to then go back to your kyc provider and use that token to make sure everything's on the up-and-up and everything is what you expect as far as actually building the KYC network yes f12 might be a good way to kind of facilitate that between each other and I think that is a good use case where you actually you don't have to do proprietary characterizing everybody nd I asked you to mute when you're not talking I think you're you've got some echo going on there oh thank you but do you think that that so I guess my main concern is I just want to make sure that what the step provides doesn't disallow I don't want people to have to add another ad hoc API to use this kyc as a service stuff so just to I mean this is something that we're pushing for very much I mean we our service it's very much in between different entities and the understood network and one of the things that we want to streamline it's the compliance process so we are we are very actively negotiating with the compliance as a service provider and inclusive and of course is it something that we hope to achieve so yes I mean we would ideally want something on that so I'm just just to let you know we're also doing something where we're just opening up we have a partner who was requested and we just open up an API where they can then pull the information Andy maybe that could be a step as well like a standardized way of pulling but they've been validated the issue that we ran into is every country's got different documents they require like we're in we're working in Cyprus and they require in France we don't require proof of income but in Cyprus they do so it gets all very complicated very quickly and and this is why we would we would want really want a focused entity to working in this that we don't all try to set up our own but but this is at least from our side what we what we what we would like to see that we have an entity dedicated and Stellar who provides that service and also works on standardizing these and then can go into the nitty-gritty of quite figuring out the requirements for each jurisdiction and the different purposes businesses versus individuals and so on right and the only other comment that I have is that if you look at one of the big guys like remotely and cosimo they typically do the became I see at the end meaning they receive the payment first and then they do the KYC after the payments received so currently we're not doing that we're doing the KYC first where we unset 24 or we pop up the interactive URL and this is going completely off-topic sorry because with anchors anchor - anchor traffic that's not an issue but I'm just saying that with the KYC thing it might following on Andy's concept of this kos uses services it might happen after the payment yeah you could share something that would be great I mean it's really a it's really a good it's like it would be very valuable for the ecosystem I think if we would have an open standard there in time and even if the requirements chained are very different between countries sometimes it would still be valuable in the sense that you don't need to start from scratch but just need to add the data that's missing so I I wanted to see I don't know we hadn't heard from UPenn me in a while so I wanted to see if you have any comments on this and then also say that I also think this is very relevant to this discussion would also suggest perhaps that we kind of make some assumptions around how kyc is being collected for kind of like a short-term model of how this anchor - anchor transaction would work unless that seems too difficult to do just so we can kind of test or continue that discussion regardless different jurisdictions requiring different kyc I just wanted to ask isn't it up to the receiving anchor so it's the receiving uncle who would always determine what the requirements are so if you're in Cyprus but you are sending through tempo therefore tempo it's what tempo requires so in this particular situation you're you're standing from Cyprus but the requirements would be tempos requirement which means they don't need to think about such situation yeah I just wanted to ask about receiving Anka who determines what is required normally we do the KYC on who's sending the money so with the case of you guys we do the KYC on on cowering your folium the bank on the on the case of individual client we do it on the client so it just depends on who who is the client in the case of you guys you are our pot so we do the KYC on you and then but then because you're working with a regulated entity within Nigeria where you're doing the KYC in Nigeria and the you passing some additional details so we do a validation check but the person thought on some terrorists list or something like that in France but we're relying on you and your banking partner to do the KYC in Nigeria on the sender no now now if the amounts are a little bit higher like with you guys typically what we ask for additional information not proof of income but you know what what's it for like proof of the someone sending two hundred thousand euro or four hundred thousand dollars and this an individual normally would better buying a house we'll need a reason for the wire and then maybe proof of the purchase of the house or with a company does need an invoice for the your company might need to send an invoice and that's not relying on us that's often our downstream banks that require that or our internal compliance officer yeah so my question is that in this case temper we have to follow the template requirements so it's not determined by requirements that might country you as the receiving anchor you are responsible for determining what kyc used to be censored this question of different jurisdictions I went what I'm trying to get out of is the receiving honker always wins is to receive an actor who determines what kyc is required so therefore it's always receiving I'm Christa jurisdiction as it doesn't matter what the standing occurs jurisdiction came I see to require okay um I think but in any event I think this flow works for us Michael when I talked to you last there was some information like the how would this work for a cash transaction like a cash out and the second one was a rename like if the person that the receiver name was wrong and they needed to change it or the bank account was wrong yeah so so in the case of if some of the information is wrong I think what we do is we just have an arat we just error it out so with a with an area that says you know the bank account is not a valid bank account or something but what happens if it's after after tempo like it's a downstream thing we sent it to our bank and maybe the bank at the other end rejects it because it says account number invalid so okay yeah that's that was one of my big questions I want to ask is how rare is that case and is that something we want to make part of the spec so I could imagine a case where we have you know the this thinning anchor might say if anything goes wrong send the money back to this stellar account and we'll essentially reverse the whole thing this this creates bank accounts I don't think we have a lot of errors but we do with a cash so if someone sitting to a cash transaction is a synagogue or Philippines we often get like I mentioned last time things about three to five percent of the transactions the person puts the wrong cuz then it might person might have a middle name might have like three or four names and so the sender puts two of the names and so when they get person goes to pick up the cash their passport says the whole five names and so they have to call us or contact us and then do a rename okay so this is this is where you're acting as the sending anchor not as the receiving right and then a receiving anchor says let me do a little bit of cash out it's not our main business but I was more focusing on Africa don't we do a lot yeah okay that's yeah that's a big percentage to just ever out I think I think just airing it out is the well okay no sorry you can't hair it out because it's already sent some four is kind of like an update payment endpoint or something where someone can change after after everything is said and done but it hasn't been paid out you want to be able to update something normally what would happen is they pull the transaction status we'd have it marked as error and we'd have an error type like it'll be one of two things it'll be in pending pickup or like a waiting for pickup status this is cash still and the person would do a rename and say okay instead of John Mark is John it's John Luke and and does it renames the last name okay and so currently this solution that like actually exists in the spec is to just issue a refund and do it again okay this this creates problems because there's foreign exchange fees values change obviously it's definitely not ideal so again with our customers they would expect it to be the same they'd expect exactly it'll be a giant nightmare if lifted you'll refund right we do it yeah okay then I think that's something that's missing I think there's something that's missing here so we need to figure out a way for the receiving anchor to tell the sending anchor something's wrong here's what's wrong and here's how you can tell us how to fix it if it's a fixable thing right so what they would probably do is give the reference the transaction reference the operation ID or some transaction reference that we feed them back and then send a transaction update call okay and since the spec doesn't have a way to update the transaction only to create them that's probably the missing okay ah it's a little more complicated because you have to tell the setting Inc or something and that's a different direction that doesn't really exist in the specs so far so okay this is good information I'm gonna have to do some thinking on that and come up with come up with a solution but I agree that that would make the product a lot better this is kind of a big missing thing okay that's fine have this resolved with the transaction and portable so you would normally pull the transaction endpoint to find out the status of your transaction so compass be solved with that endpoint basically when you first send the transaction they would return something like panting pay up and then eventually let's say you call it a couple of hours later tomorrow we're at that point you know there's something wrong then it would have an error description wouldn't that work yeah I think so so the transaction object can have like a status you know mmm info needed or update eat it or something you know we just had a comment on YouTube from Mariano who said do you think an intermediate status could be added for all transactions that by default status would be pending and then change to share that comment and also give a five minute warning cool yeah I think that when you guys well said just makes sense have a status needed update for transaction and then also make it so you can do a plate or a update call on the transaction endpoint to actually change some of the information I think that seems fine one of the last things I wanted to ask about while we're all here is the idea of receiving kyc what I've been hearing most of is that there's not a big issue as far as like to be run kyc on the receiver could you guys share a little about what what requirements you have about the person receiving the money um just really quickly from a European perspective for mittens it's fairly like kyc because either we collected directly from the recipients like if they come to a store a physical outlet to pick up cash they'll provide their ID so we don't need anything on the call because we're collecting it or it's the bank account in and European bank account we don't need an additional kose information however if it was a merchant and we're doing merchants acquiring which we've been looking into then we might need to kyc the beneficiary because that in that case the beneficiary would be a merchant but i don't think i think that's out of scope for this specification when you're acting in as the sender do you ever need any kose on on the receiving client when you're descending anchor occasionally we do okay but that's our compliance officer would go to their compliance officer and typically ask for proof of the ID but I think it happens it's a very rare event okay but it could come on the transactions again like I mentioned if it's a very large amount there might be additional proof of source of funds or you know for an invoice or a company or something else we handle that side of expect if your receiver kyc doesn't come up much if it's going into a back then it's all handled by the back has all became YC initially and it's no it's we don't at the moment but if it's cash then we connected it from the actual we could click the KYC from the person who's coming to pick up the cash so we don't need to rely on okay Anthony you're saying that sounds like by necessity a very high touch thing it's not something that can really be codified for cash no for like a really high value transaction where you need proof of funds or something is that something that can become part of the spec or is that like you really need a compliance officer to be doing this manually for me it would be maybe a next version of us of the spec again each country is different so it's a little bit hard to codify it okay pending the anchors to it I guess that would be done by pending senator pending receiver if you're gonna check on something that's more complicated so that that's fine yeah it could be a pending receiver and if there was some free text or something like this it could be good where you say a proof of proof of source of funds are proof of Issa funds required yeah cool I know our time is basically over but I just wanted to highlight that we didn't have the chance to talk about the our use case yet said is like if it involves a party that it's not a traditional anchor in that sense but another business entity I don't know do we still have time to quickly outline what what what different approaches or what what features we would need in the in the set and to pull that off for this special use case maybe I'm gonna jump in here yes I totally agree with you Andy and I think you know this just means we need to set up more of these discussions and more frequently or definitely really focused on supporting the stuff in your use case as well so I think for now we can't extend this specific session but we can obviously continue to extend it offline and perhaps we'll set up another one of these in the near future so thank you all for attending I also just wanted to address one kind of recurring question that we saw through our website and YouTube feeds which was in regards to like how do you know the quality of an anchor or des stellar or SDF somehow that anchors as part of its network and so I just wanted to make the point clear that stellar itself is an open financial network a decentralized ledger anchors are enterprises and institutions with real world reputation and oftentimes real world licenses and regulations that they're following so anchors are vetted by applications or other anchors that are going to use those services with the mastaba ecosystem we have a system called you know Thomas which helps to helps anchors to publish their website information about themselves their business licenses they hold but we you know certainly are working in both and open but also reputational ecosystem on stellar so I just wanted to quickly touch on that and again thank everyone for joining this conversation is certainly not over so perhaps even you know just getting started but I think a lot of really great insights here a lot of great suggestions and so will will follow up and continue to take things forward cool thanks everyone",
      "keywords": [
        "anchor",
        "information",
        "step",
        "something",
        "theres",
        "thats",
        "transaction",
        "sending",
        "receiving",
        "send",
        "other",
        "case"
      ],
      "speakers": [
        "Financial Network",
        "Calvary System",
        "Latin America",
        "Saudi Arabia",
        "Bangkok Bob"
      ]
    },
    "2020-04-10-engineering-talks-practical-path.mdx": {
      "summary": "good morning still our community or afternoon wherever you may happen to be evening I don't know bill the night it's worth it to show up for this this is the first of our stellar engineering talks my name is Tyler van der Hooven and we're gonna be talking about practical path payments today if you have questions along the way or already have questions we have two places where you can put in your questions either on the stellar events page stellar org forward slash events click on the practical path payments and then the bottom right-hand corner is a little box where you can ask some questions or if you are tuning in via YouTube you can just ask your questions there in the chat and we will get to those closer to the end the goal here with our engineering talks is to have relatively short and very pointed discussions around specific aspects of the stellar blockchain so today we'll be talking about path payments so a path payment is a means of it's a payment right so if you've ever used payments on stellar or you're essentially just passing a set a from holiday to why would be that they receive the same asset so this is very common this is the way we think about payments today I have a dollar and I give you that dollar and we've just made a payment a path payment is quite different and I think I believe path name is to be one of the most interesting and important aspects of this teller blockchain and there's nothing necessarily new or incredibly different about path payments but what they allow you to do with with their very tight packaging the the feature that is a path payment kind of pulls together a lot of different aspects of payments and order books and allows you to do things that you really couldn't otherwise do without a lot of headache so as we start to think about path payments it really should get your wheels turning on oh I wonder if I could do X Y Z or oh this really allows something that we hadn't really hadn't really had the ability or capability to do so it's this idea of transferring value not just assets understanding and making use of one of sellers most powerful Sevilla weapons a path payment is a payment made through the Dex the distributed stellar distributed exchange or decentralized exchange that probably doesn't make any sense but let's let's kind of walk through a little bit so vanilla pod payments we've already our vanilla payments we've already talked about that a little bit traditional standard payments simply move an asset from address a to be nothing fancy you have any asset and you make a payment to your friend who will receive any of those houses that you sent them nothing fancy they're very essential but they are simple basic boring and I think if we only think of payments in that way we're missing a huge part of what stellar allows us to do so incomes path payments path payments move your asset you're given asset through the decentralized exchange before arriving at the final destination so we'll walk through some examples of what that means but essentially if vanilla payments move assets path payments move value and that's that's fun that's a fundamentally important thing to understand when I'm trying to think through what a path payment is that you have an asset you're not just trying to move an asset from someone to somebody else you're moving the value of that asset so whatever is behind whatever that asset allows you to do whether that's buying groceries are paying rent or buying a house or maybe it is the house whatever that value is you're how do I move that value to to the the third party via the other person that I want to pay as opposed to just moving the asset so if you have USD as an example here USD exilim or a gold token you make it past a manure and who can receive any of those any one of any asset on the order book the value of that thing so I may pay you with US Dollars and it goes through these different paths of maybe a pizza token which then goes to a gold token and finally arriving in in your wallet as a euro token this obviously is gonna require some order book stuff to make that happen and we'll take a look again in a moment about what those things are but essentially you never hold euros and your friend never holds USD in this example that I just showed never latigo stiva the value of my USD has arrived safely through the asset paths a pizza and gold in that case to this in this final payment to you so you foresee the value of my USD you've just received it in a euro token so let's take some let's take a look at the practical aspect again you might be thinking that sounds interesting but I don't know exactly how that helps me either as a user or a developer of an application so let's take a look at a market order on TV so this is something that is very common in other exchanges where you can just make market orders right so inside of our  kiba's wallet here we are going to make a payment this I recently discovered this this is quite fantastic use of path payment so I'm just going to pay myself so most the time when we think of payments we're paying somebody else but I'm actually going to pay myself I'm going to send other assets so this would just be the standard payment flow if we click on send some other asset i would like to receive u.s. dollars let's say I want to get five and I want to send excellent so this is essentially I'm going to send 107 xlm to receive five US dollars and so this will be a market order that essentially I pay a hundred and seven lumens and I'm going to get in exchange for that five dollars so this is a market order that I can use to pay myself five dollars without ever touching an exchange all I did was spend time in a basic wallet interface in am able to receive other assets any of these assets that I've created a trust line for so hopefully that will go through and we will receive some of those tokens sweet we've gotten our five US Dollars and we spent we spent those one hundred and seven lumens to receive to receive those five US dollar tokens so fantastic we've achieved market orders through path names we never had to touch in exchange and that's the beauty ever right so an exchange did happen and an order book was touched I just didn't have to do it manually it happened in the background through the path famous write an order on the order book of us of the anchor USD tokens was consumed a hundred and seven lumens were spent on somebody somebody had an order out there that said I'm willing to take 107 lumens in exchange for five US dollars I didn't know who they were I don't care who they are I just want to get five US Dollars and I willing to spend hundreds of lives to to get that the other obvious example is to make a payment to somebody else and we can use the same key base flow to achieve that now we've got some some US dollar tokens we can pay let's pay our our good friend Colton send some other assets let's see what he accepts he accepts Bitcoin sorry buddy I'm not going to give you one Bitcoin but let's see it okay we don't wanna make it wealthy off of this and let's use our five US dollar tokens let's see we have to send three point forward US dollar tokens to get to pick one it actually looks like it's consuming a couple of different paths so it's going to go to actually arrive in Colton's wallet as the 0.005 Bitcoin it's going to go through a couple of different order books couple different order paths to get there I don't care about any of that but can you imagine trying to go into all of these order books to actually make this exchange happen I mean for one time would be involved and so the rate is probably going to be different between all that but then it's also just very difficult to make that happen you could do it and it could be manual and it could work but wouldn't it be really nice if all of this could just happen in a single payment never having to touch an order book and I can do all of this from the comfort of my key base wallet we are sending him too few offers looks like it looks like our payment failed probably we took too long to to get it there we'll try it one more time sometimes these payments could fail if if one of the order books isn't all that liquid so I don't know how liquid the Bitcoin market is I also don't know how key base is doing there pathfinding we'll try this one more time if it doesn't work I'll just use my lumens again hope a that time succeeded nice so an interesting thing here if we go to Colton's address and we pop this into stellar expert here this is on the public network we should see OOP we should see that he's got himself some some Bitcoin tokens that we just paid him from our address and we can even see the past that that went through if we look up this operation yeah so you can see all the trades that were consumed to to make that possible pretty pretty interesting but just a very again a very basic example of doing something it would be incredibly complex to do manually and something that maybe we do sometimes right where we want to make exchanges through different assets to arrive at a final payment the way we can do that very simply through just the in this case the key base exchange or the key base wallet so last but not least a quote-unquote Enterprise example if we were to go to I've got a path payment example demo set up that I use to help explain sort of the enterprise idea of path payments and when I say enterprise I really just mean all of the pieces so we're just gonna go and create so we have this market right so they're assets where things have to move if I want to be able to send US dollars the value of US dollars to my friend and have it arrived as euro tokens that requires that there be order books set up for both of those things both USD and euros so we'll need to make markets if we have a market maker here he's going to need we're going to need somebody out there that has USD tokens and euro tokens and is putting those out an order book which can then be consumed where is this path between US dollar to euros can somehow happen because it doesn't happen magically it happens off of orders that are already on exchanges already on the decentralized exchange books so now we have US dollar and euro markets made so let's create our wallet in our friends wallet here with the example again of we're going to have US dollars here and we want our friend to receive euros so we're going to purchase with our xlm we're going to purchase a few US dollar tokens will notice the books over here will start to change we just spent some xlm to get some euros so we'll see the books over here looks like we just bought some US dollars with our xlm so we have just under 25 there and if we click send it's going to create the trust line on our friends account and then take the US dollars over to the order book here turn them back into xlm so that it can go from xlm to euros and then send those euros to our friend but we never accept euros and our friend never gets US dollar it goes through the books to get there and our market maker is the one who receives euro into US dollar and X align so we'll click that that'll create the trust land on her friends account I didn't create the books if we look at our books over here I think we'll see this one change and this one yeah so we've gone through the order books and our friend has received 10 euros we've spent some US dollars to make that happen and we can see over here that the excellent value for a market maker has been up he's starting to make a little bit of lumen profit hopefully if the spread here is is good market makers can make money off of the spread as users send path payments or use the books to send those path payments so that's pretty pretty interesting and so those are three kind of basic examples but also very powerful examples of how you can use PAP payments right now if you're interested in seeing the code behind this it's open source there'll be links in the description of this video where you can go and play it play around with this enterprise example our good friend Colton also has a very good document explainer on path payments that he wrote up so make sure and go and check that out if you have further questions there enterprise example I mean I'm not gonna walk through all this if you want to take a screenshot or spend some time reading about this this is kind of our bullet point list of where the interesting parts are in path payments as well as just kind of an explainer on why I think path payments are so valuable and I'm a very interesting use case kind of here at the end right I would like to see market makers actually being made from within applications so the yet when you when you switch off from assets being the thing that you want to the value being the thing that you want when you can actually transact in value versus assets like why don't in my bank account light up why don't I have you know Canadian dollars and Australian dollars and euros and was because those things are valuable to me because I can't use them because I can't make trend I can't do transactions in them I can't go to the grocery store and buy groceries with Canadian dollars I need US dollars but once you have path payments I absolutely can make payments with Canadian dollars because I can make a path payment and wherever I'm spending my money I just say hey I've got Canadian dollars but at the end of the day I would like the payment to be made to be received in u.s. dollars and so long as they're active markets for whatever the asset that I hold are so long as that's a value by somebody I'm willing to hold that and so wouldn't it be interesting if an application took advantage of that fact that it's it's not the assets that are valuable it's the value that those assets represent and let's begin to transact in the value and the liquidity can be created through a volume of users rather than a volume of assets I guess there still is volume of assets but there's no longer this limitation this this some localized a limitation of I can only use this asset as far as my feet can walk and my car can drive it's now I'm willing to hold asset so long as they're valued by somebody somewhere which is quite interesting okay obviously there's a lot more we could talk about but we'll leave it there for now I'll answer any questions that people have and then as you begin to develop or have other questions make sure I'm on key base and Twitter so ask questions there I'm around a lot it's my job to answer questions and hope you could assist and implement these things so feel free to reach out let's see we've got one question here the atomic nature of path payments and what that means so atomic is really that something happens all at once that there's not this process this manual or time-based process of okay now we're going to do this and then in 10 seconds later we're going to do this and then we're gonna do this and this and this it all happens in one package where all of the the pieces in this case of a pain moving through assets moving through different order books they're all happening within a single transaction so when when you look at that path payment that I sent to Colton it consumed a lot of different order books that we're offering different assets and so as that value moves from exo-m to US dollar from US dollar to Nigerian naira from Nigerian naira to euro tokens or figure until khun's back to whatever asset you want it's doing all of that within a single operation within a single series of payments so instead of within stellar you've got this concept of Ledger's so every five seconds a new ledger clears this whole payment is going to happen within a single ledger which allows the the the fee structure I guess they're like how much of the asset how much of the final asset is the is the last person the last leg of the journey and what are they going to receive that's relatively stable because it's all happening within a single ledger rather than it being spread across you might look at coin base and say okay a Bitcoin token is worth X and I've got a u.s.",
      "keywords": [
        "path",
        "payments",
        "payment",
        "make",
        "those",
        "through",
        "assets",
        "order",
        "dollars",
        "asset",
        "books",
        "value"
      ],
      "speakers": [
        "Center Dex",
        "Friday Expo",
        "Twitter Twitter Twitter"
      ]
    },
    "2019-11-04-sdf-s-next-steps.mdx": {
      "summary": "all right everybody it's been a it's been a long day but I hope a very productive one and it is enclosing the first day of Meridian I am so pleased to present our next and final speaker Denelle Dixon the executive director of the stouts Ehlert development foundation so thank you all very much and let's give a really warm welcome to Janelle [Applause] hi everyone good afternoon I'm back as they say so I thought I would start by just mentioning that I joined SDF six months ago last Friday so it's been a journey for me I can't believe that it's been six months and yet at the same time I can't believe that it's only been six months so there's a lot that I've learned a lot that I've learned about all of the work that you're doing a lot that I've learned about stellar and it's been pretty phenomenal so I worked at Mozilla for seven years and at Mozilla which is my role just prior to this I was the chief operating officer I did a lot of work focused on the open web focused on ensuring that government's didn't have access to technology with backdoors talking about encryption and privacy and all of these issues that our core tenants to the open web transparency and so when Jed came to talk to me and he talked to me about this role as the executive director and CEO I thought I had to reflect on how all those things that I'm so passionate about about openness and transparency and fighting for the rights of the humans that actually use the content side of the web if all of those things could be equally translated over here to what we're doing here at SDF and what we're doing with stellar and good news is it is so it's been a pretty wonderful transition for me to see all of the work that has already been done and frankly a lot of the work that's done with respect to blockchain technology it doesn't get highlighted enough I don't know if that's because of fear or ignorance because of what regulators are concerned about or because of history but one thing I'll have to say is that I think now is the time we need to actually really focus on getting more regulators involved understanding what we're doing with blockchain now is the time for us to come together and to develop excuse me to develop this community and to get all those out there to become part of it I actually love one part of what I've done over the last six months in particular which is talking to those folks who have concerns about blockchain and about stellar in particular those naysayers out there that don't really maybe understand the technology and one thing I'll say is that you can overcome a lot of those concerns when you have facts and you have evidence and when you have momentum and I think we have all of that here and so I've had a lot of success talking to folks maybe even to some of those folks that I wanted to bring on to SDF to be part of what we're doing here to really engage them in the value that we have in this ecosystem and what we can do and what actually stellar and blockchain generally can deliver not just in financial services but outside of it so the underlying tenets of the internet all those things that I really fought so hard for for the last 15 17 years I think they're actually more true in this space than in any other right now standards openness the focus on not creating trust through contracts but creating trust through transparency creating trust that exists because you can actually see touch and feel those are the things that the internet was based on you know back in the day with security they used to talk about you don't have to know you don't have to trust me you can audit the code the same is true in this space even more so today than it is on the on the content side of the web and that's really exciting to me and I think as a result of that we just have so much that we can do in this space but we have to continue to focus on interoperability standards openness transparency because if we do that it's really hard to fight against the work that we're trying to get here so I want to just mention again I talked this morning a little bit about SDF as a role as the connector as the the bringing folks together the convener and because of the growth of stellar and what we've done here as a collective it feels a lot like we're able to do that not just through things like Meridian but through all of our work and so I reflected a lot on the role of stellar as we as we think about like what it is that we're doing here what it is that that the role of the stellar development foundation is as we get through this and I think it's really important to to talk about stellar development foundation itself instead of stellar because many of you know that we Shepherd the codebase that we do lots of things but many of you probably don't know the details of what SDF is and so I thought maybe I would go into that a little bit first we're a non-profit why is that important we don't have shareholders why is that important there is not one person who can actually benefit and who actually gets a dividend or a payout with respect to anything that the SDF does that's important because that should build trust - so that's a really important fact that I want you to think about the other thing is we're a tax payer we actually pay taxes in the state of California and at the federal government and we're not a charity and finally all of the capital that we have at the SDF is actually used to support and make stellar than that work successful so we talk about this as no shareholder value no dividends no EBIT ah no stock price focus none of those like those things that you talk about when you talk about corporate America we don't have those things we have all we have to think about is making stellar the global payment standard that's our daily goal that's our quarterly goal that's our annual goal that's our only goal so what we do is each of these things we spend our time building and supporting stellar in the ecosystem we create awareness and education around stellar and we develop and support stellar use cases so that these are the things that we do today some we've actually done better than others but this is what we focus on we have it says 54 it's actually wrong we have 55 we just hired and he starts on Wednesday our chief marketing officer which I know many of you have been clamoring for us to get we just hired him he starts on Wednesday so it's 55 these are some of the titles of the employees at the SDF we're across eight countries we have an office in San Francisco we have an office in Brooklyn New York and we have people who are located either as contractors and employees all over the world and this is important because our work is representative of what all of these people all over the world do we want to be here for a really long time supporting all of your work and so this is something that I think it's good for you to know so that you could access us you can talk to us we have folks that are focused on integration alone and these are important jobs and important roles for the SDF to play so now let's talk about the role of the SDF in the ecosystem and I did talk a little bit about that as the convener and the connector and I mentioned Meridian and I really do think of the work that we do is bringing the whole globe together so all of you bringing all of you together to be able to focus on the work that we have ahead of us which is really creating stellar as the Global Payments standard so there are things that we think through about what is our role today like how important is the SDF to the ecosystem I'm going to tell you that the role of SDF five years ago is very different than the role it has today we're no longer at the center of the ecosystem which is super awesome and this is one of the representations the vote that occurred on October 28th to regarding the inflation mechanism is an important important example of demonstrating the decentralization of the network but also the role that SDF plates we actually spent time looking at the dev forums we saw the conversations in Reddit on key base and it's our role to sort of take the output from that and make a proposal which is what we did and then the vote happened on October 28th and it fundamentally changed stellar the network and it was really cool because it definitely shows that feedback loop and how that feedback loop work loop works we heard what you had to say we put a proposal out based on the feedback and the network the validators accepted that proposal another important way to determine our role is to think about Franklin Templeton we learned about Franklin Templeton's plans to build a mutual fund on stellar not from them we got it from a Google Alert of all things and it's demonstrates for me it was one of the more exciting days because it was like this is the way that this should work things like this should happen without people having to come to meet with us and figure things out that means that our documentation is better it means that they have determined the value of stellar on their own that's exactly the kind of thing that we want to see in a decentralized network and then if you look at the nodes and just to think about the validator networks today two years ago we couldn't pull our validators off the network because it wouldn't continue to run today it can and this is going to get even better and better as time as things progress so from our standpoint this is a pretty cool place for us to be and our role is really solidified by all of you and the work that all of you have done as that convener as that connector so as we started to think about all these things and think about our role we came together to think about what are the next 10 years and what does that look like for SDF and how do we actually ensure that we're doing our job which is to make stellar successful to make it the payment standard so not surprisingly in doing this work we had to reflect on what's working and what hasn't worked as much as we would have liked so what it's working is our tatka it's scalable you guys are all contributing to it our people we've built an awesome team of folks who are not only committed to the mission for SDF but are committed to stellar and that's awesome our community building look at Meridian you guys all came here to Mexico City to join us to celebrate all the work that you have done many excellent and promising projects like IBM Axio reality bits Satoshi Pei lobster stellar X so many more and our focus on decentralization as I just went through we feel like we've actually kind of cracked that nut so what hasn't been working so much our marketing some of you may say what marketing so we just hired our CMO yeh it's not marketing for SDF it's marketing for stellar marketing for all of you partnership marketing as well as network marketing our policy and our focus on regulatory efforts we've done so much better over the last six to eight months and we're gonna get so much better we have a General Council now who's focused on this and we also are hiring a head of policy who's going to be focused on that from a global standpoint our lumen distribution through grants and air drops we've seen some pretty awesome results and yet we still hold a lot of lumens so from our standpoint it's not working as well as we'd like and our transparency around SDF now tried to fix some of that today but you can't just do it once and let it sit there we got a continue that so we're gonna focus a lot more on telling you more about what we're doing with the capital that we have that wasn't me and about what we're doing just holistically as an organization that's our commitment to you so in reflecting on all of this and thinking about the ten years we really refocused our mission I mentioned this earlier today creating equitable access to the global financial system it's an awesome mission as I mentioned I mean awesome in the sense that it's big but we're committed it we're committed to it and we want to use not just stellar but all the work that you guys have done to make this happen and as we've reflected on it we also thought about what are some of the pillars that we need to put in play to help us to say yes this is the thing that we should do and then to help us to say nope we shouldn't do this thing it's not consistent with what we need to focus on so we put these pillars together and we're gonna flush them out as an organization in more detail so that we can put our own sort of goals and operational support behind them but this is how we want to be seen we want to be the blockchain that people know and trust not for our own good but for the good of all of you we want you to be comfortable building on it and knowing that you're gonna be able to answer to whatever regulatory bodies you need to answer to we want you to feel comfortable knowing that you can trust the network and that therefore you can tell others - we want to ensure robustness and usability of stellar robustness and come encapsulate so many things security stability scalability all of those pieces foster and develop real sustainable use case stellar use cases so some of these will do ourselves a lot of them you're gonna do and we're gonna help you and we're gonna help you in ways that we have we're gonna help you by marketing in ways that we maybe haven't because we want this to be successful so these are our pillars these are the things that we think we need to focus on and we think that these things can actually help us say no too many things so now how do you make the plan happen so let's first focus on our resources whenever we spend money at SDF whether it's to hire an engineer to put together a marketing campaign to do any of those things we have to ask ourselves is this spent moving us closer to the adoption of stellar as the global payment standard we consider that every time that we do this so this is our question that we ask ourselves every hire that we make all the different things that we do in the organization and then we think about our resources and as many of you know this is what our resources looked like before I started this talk so there were a hundred and five billion lumens that existed in the world 20 of them were out in the world 17 wherefore sellers for SDF s operations and 68 were reserved for the giveaway programs that were administered by the the SDF so stellar isn't mind as most of you here know so the lumens that are now in the public hands are in the public hands because we worked really hard to get them in the public hands and we did that over the last four and a half years as for the other two allocations there's been lots of thought about how we can distribute these and how we need to work on them but the network and the community around stellar are different than they were when we first started they're much more robust and SDF can carry less weight now because of the way or the network is so we're just a piece of a much larger larger whole and the funds that we use that we have need to reflect that and so right before this talk we burned 50 billion lumens and the way that that breaks down is that we burned five billion lumens from the SDF operating fund so we have 12 billion there today or now we also eliminated the stellar world giveaway program and the partnership program and so 50 of those 68 billion lumens were also burnt so these are the remaining SDF lumens that exist as of this talk so we believe that the number of lumens now better aligns with our mission we're not gonna burn any more lumens that's an important point so all told as of now there are 50 billion lumens that exist in the world approximately 30 billion are in the hands of SDF and I'm going to go through how we broke those out and 20 billion remain in the public this new mandate reflects our desire to do more of what has worked at SDF and for stellar and less of what hasn't worked so let's dive a little deeper into this from an operation standpoint you know it wasn't until really this year that we started hiring human capital which frankly is the most important capital that we have at the SDF it's the team of 55 people that do all of the work to help to support stellar and so many of the folks that were out there in the world that would have before maybe received grants partnership grants are now employees of the SDF and are committed to the mission of stellar I'm excusing the mission of the SDF and to support stellar and so we're going to continue to exercise that same standard that I mentioned before which is just spending this lumen on our operations on the human capital on the office space on marketing on all of these different things that we need to do are they is it moving us closer to stellar becoming the global payment standard so we're going to continue to do that with the 12 billion lumens that we have we're also going to and we actually are going to issue a blog post right at the end of this talk which has a lot more detail so that you can read about it but we're also going to lock these lumens up for three billion a year for the next four years so that the SDF lumens that we use for operations will release in mechanism over that time period so let's talk about the partnerships what was previously the partnerships program we've broken that up into two so we have the ecosystem support we have a lot of great work that's been done with respect to infrastructure grants and the community fund and those are going to continue with 1 billion of the lumens that we have now I should have also said that each of these are going to be set in accounts that are going to be public so that folks can see them and you can see when lumens are being utilized for these different projects or these different programs that we have and so we also have currency support for things like anchors or supporting the quiddity in the market these are things that'll come out of a currency support bucket of 1 billion and then we have this new program that is the use case investment where we've set aside ten billion xlm and what that's for is 2 billion of it will be used for the SDF to be able to build new products and use cases as we help to fill in pieces of the network that we think need the support and we'll also that'll also show that will also have its own account and be visible to folks as they go through it as we start using the funds and then the Enterprise Fund which is a slight twist and I think a better way to think about partnership grants because what we can do with this Enterprise Fund now is we can actually take equity in companies we can acquire companies and we can hold them as part of this enterprise fund but we can actually have more control and ability to dictate what happens with respect to stellar and their use of stellar and the movement of those companies in to an on to the stellar network so our intention is and then the and then any companies that we acquire will be held in the name of SDF but it'll all return back into this enterprise fund any monies that are that are collected as a result of it remember we're a non-profit or a non shareholder so there's no entity there's no one person here who gets access to any of the dividends from this but these are I think this is a really interesting way for us to be able to help to support the ecosystem in a different and new way and then the old giveaway program which frankly I think had some really wonderful success but again like to get the sixty eight more billion lumens out there in the world it was just going to be hard given what we've already seen and the challenge that the challenges that we faced some of them just technical challenges and some of them just getting them into the hands of humans well four billion of those are going to continue to go into the hands of humans we're gonna focus on using applications that are out there building on stellar those we can put funds into those applications so that they can actually just get into human hands and be useful to the network and to all of your work that you're doing so that's that part of it and then the two billion as I mentioned is marketing support and that's marketing for stellar but also marketing for the partnerships that come and build on stellar those businesses those developers who are focused on building on stellar we're gonna work with them you all of you we're gonna partner with you to actually promote all the work that you're doing so that's what that's gonna go so here is what it looks like again and again there will be a blog post too so that you can take a look at it again this isn't the last time you'll see this and then a one question that I think we're gonna have to answer is why burn it all well we didn't start by saying we wanted to burn we actually started by saying what do we need what does stellar need and what is SDF need to be able to provide those things to stellar we had a very focused arrangement around only keeping what we actually could use because part of the challenge that we've had and this this this weight not just on stellar but the ecosystem was it as much as we wanted to use the lumens that we held it was very hard to get them into the market so that was the first premise of why burn at all and the second one is you don't derive a plan from some arbitrary number and so if we just took the 105 billion lumens and then tried to derive a plan from it that just doesn't like that's actually feeding the need that we have to do for the ecosystem and so we really thought we did a bottoms-up analysis and we thought what is it that we need and then how do we get there so that's how we approached it and we were very careful in terms of plotting the next ten years so now that we have our mission we have our pillars these strategic pillars that can help us to say yes and no and we have all of you and all the work that you're doing and we have right size the amount of capital that we have available to us and to the ecosystem we feel we're like we're poised for success so I want to say again thank you to all of you for coming here to Mexico City to join us at Meridian thank you for being a part of our ecosystem there are any naysayers out there in the crowd I'm happy to talk to you and convince you about the facts the evidence and the momentum of us moving forward because I'm convinced and we're going to call that an afternoon  [Applause] so now I'm gonna bring Jed up here and we're gonna allow questions if any of you have questions we have about 10 minutes or so we're taking away your happy hour time but this is important we liked for Meridian to be an annual conference yes here's the microphone go ahead now that it's on target now that you have rice right sighs as you said the amount of capital and you have vested those 12 billion over the next four years the natural question is what happens after four years well I think that what we did is we blocked them up three billion a year for the next four years that doesn't mean they're all gonna be put into the into the public at that point but I mean honestly the goal of the SDF was to be able to put those out as quickly as possible and so if there's some way that we could get them out there that would be beneficial to the network but the ten years like this you don't just blow all your capital in a four year period you got to think about Treasury gotta think about how you're gonna sustain an organization like this so that's our job like to figure that part out it doesn't mean four years from now that before four years from now we just say all right we're closing it down absolutely not we're in this for the long haul but we just need to think about how we're gonna do that towards the future one of the most important parts of Stellar's that decentralized exchange but I think the liquidity so low that boosted up there any plans to incentivize market makers we actually already started making a market between Nigeria and the US and we have that's part of the liquidity piece that I mentioned in the end points yeah I mean I mean we try to incentivize that to some degree I mean a lot of it will come from just getting more users on exchanges like stellar port or stellar X things like that but yeah it's it's a process so so several years ago you made a concerted effort to not perform non-for-profit I think all of us agree that was the perfectly right decision so what do you think isn't the biggest challenge and opportunity going forward to actually create an open financial global system well there's a lot of challenges I mean it's obviously that's a very big mission I mean I think one of the first things that we're trying to address is how do we achieve Network effects because this technology is not very useful unless there's a lot of different participants so how do we get the first use cases on and that that's a lot of what we'll talk about tomorrow so yeah I think that the we call it the chicken and egg problem is the largest problem but I feel I don't know and maybe I'm just drinking my own kool-aid here but I do feel like we're on the precipice of success for all of those things and then you just need to get user adoption so I feel like we all can come together to try to make that happen but I do think it's this whole network like building the network in a way that is gonna bring everybody to the table at the same time it seems like Global payment rail and remittances are kind of the Courtney's case tellers have been solving very well I was attracted to it because of the developer Doc's thought they were phenomenal so what do you guys hope to see the community develop from maybe a consumer application or what are some non remittances or Global payment style apps that you'd like to see built yeah I mean there's a whole host of things you can do on stellar and I think one of the most exciting things for me is like like hearing about projects that I didn't anticipate or imagined before like for instance today someone showed me this app where you can have people bid on advertising it in a space like we could have a thing here and people could like bid on it and things like that like just kind of novel things that you don't really think of it or not that easy to do prior to stellar world so I don't really have anything in particular in mind other than just I know that I'll be surprised by the people that the things that people build on there and I'm excited by that so so I think one of the things we could do better from the community standpoint is because I don't have an application in specific but I think the community working together to get to know more of what's happening in the community because I actually think that all of you can support one another once you find out what's happening on stellar like this thing that he just heard about like we can actually build those things together so we're gonna do our own brand of like bringing the community together but I do think it's like being inquisitive as I mentioned this morning why do people build on stellar is a good question to ask but also what are they building and I think once you find that out you can see that that network effect happens when you actually think about it from the community standpoint all right so we've been part of the community since 2016 and we've built a platform on top of stellar now we are based in London originally we've just relocated to Amsterdam and one of the things we still keep getting when we attend events or networking events in space is uh we mentioned were built on stellar and many people go like why stellar and or we got the what is stellar is there any plan in the market in for more like standardized or like I guess a better arrangement for companies such as ours or even though the developers who actually are attending events or want arrange events to sort of promote stellar with official support from the SDF yeah I mean that's part of the marketing piece it's also just part of the questions that we need to ask ourselves at SDF and ask all of you as I just mentioned why build on stellar it's different for every different like a use case it's different as to the why there are some things that are consistent you know the speed the security the scalability all those things are consistent but we need to figure out like what is the use kit why does it work for your use case and we need to promote that and so get people talking about that so that is part of the work of our chief marketing officer that we just hired super happy he actually just we closed the hire on Saturday and he is going to start on Wednesday so we'll have a lot of focus on that and and we'll have it in materials that you that everyone can use it's not secret to us this is like beneficial for the ecosystem at large so we want to help you with that I guess ah could you tell us a little bit more how does the regulatory thinking fit into some of the roadmap and the plans for for stellar interstellar I would be curious to hear a little bit more about some of the potential hurdles did you foresee and what are you doing to to address those so I'll start and Judd can jump in on this like from the standpoint of regulatory like part of the hurdle that we have is that we actually haven't done the best job of it before when we go and we've spent I think we've gone to DC now since I've been here I think four times three or four times and when we do and we talk to policymakers and regulators and this is just in DC and we need to actually make this global because it's not just this government that's important in the United States it's actually other governments that are equally important but when we do and we talk to them about stellar and the differences and just even the structural difference between what SDF is and then what stellar is and what stellar does it's kind of like a light bulb to them because it's unique one of the things that I learned when I was at Mozilla that was really important is that when I would talk to regulators and I spent a lot of my career doing that and policymakers it was from the standpoint of an entity that cared not just about its own products but an entity that cared about the ecosystem at large so the web and by the way we also were building a consumer product in the market and so it was helpful from the regulatory bodies for them to understand that we have a very similar look and feel here we are a non-profit we have the notion of not just like the success of SDF because frankly SDF would be nothing if stellar wasn't successful and so we have the focus on what stellar is which is all of you and so I think that we have an opportunity to get through the first regulatory hurdle which is the education piece because as I said and just a little bit ago like I feel like so much of this is about blockchain and the resistance to it is it because of history and a little bit because of fear of the word blockchain and then that cryptocurrency word gets thrown in there and everybody just doesn't know what to do and so I think that it's these kinds of things that we need to talk through like the truth of the matter is the network layer doesn't have to be regulated and shouldn't it's very much like the Internet and all of the entities that touch via are already regulated and so we shouldn't have a lot of regulatory hurdles but the focus on consumer protection for regulators not just in the US but outside and every other country is a big one and we need to tell them why that's okay why consumers are going to be okay and we need to show that to them so one of the things that we pointed to in the pillars is for us to focus on to be the blockchain people know and trust and that trust mechanism comes from also getting governments to understand that we can be trusted also this network can be trusted in the people that build on it have opportunity to be able to create that trust with their consumers so I feel like their hurdles but we can achieve them we can overcome them and then of course there's like regulation and we just need to focus on the right regulation and really advocate for the good parts and explain why the bad parts don't work so kind of a different kind a different kind of question I would ask you if you could do you consider yourself as being an environmentally friendly and responsible enterprise because of the fact that you're doing something using a technology that an algorithm that is not as power consuming as Bitcoin or other technologies yeah I mean I kind of think about that inverse where like the default is to not you know burn you know tons and tons of coal or whatever kind of power needs to power the thing but yeah so I but we're definitely have way less environmental impact than something that requires mining I can't see okay now okay I can't see like way up there  this whole place is male-dominated if you're looking to do more marketing if you're targeting mass adoption you are missing half of the population and how do you address the issue in a blocking space this is not just Stellar conference this is just everywhere in blockchain obviously and maybe I don't have to say this obviously something that's near and dear to my heart and it's not just in blockchain it's actually in tech generally so I've experienced it for most of my career so I'll just say at the SDF we're hyper focused on inclusiveness not just from a gender standpoint but from lots of different ways that we think about being inclusive and so we focused our hiring that way I think that we would love to see more gender equality in this space that's a lot of work that you guys need to do she's right you look around here not as many women as we would like to see we need to get that to be higher we're gonna do our part to do that by supporting all companies not companies that are just created and developed by men but companies that are created and developed by women and every other kind of diversity that you can think of so that's our part but I think it's a I think it's a request to all of you to do the same and I think that in order to make this whole ecosystem better you do have to think representative of all the different players out there that are your ultimate consumers in the space and I gotta say women are an awful lot of them so it's work that we can do collectively and we need to spend the time and effort to do that and we're gonna do it so I'm committed to that ourselves [Applause]  all right thanks everyone [Applause] alright alright thanks so much everybody it's given us a lot to talk about over some drinks which you will find where you had lunch thank you guys so much for a very successful day one at Meridian and I had a great time with networking and drinks",
      "keywords": [
        "stellar",
        "things",
        "actually",
        "thats",
        "those",
        "work",
        "these",
        "billion",
        "important",
        "network",
        "focus",
        "lumens"
      ],
      "speakers": [
        "Franklin Templeton",
        "Mexico City",
        "Denelle Dixon",
        "Global Payments",
        "Google Alert"
      ]
    },
    "2021-01-14.mdx": {
      "summary": "hi everyone we are now um live so i just want to say welcome to the first stellar stellar protocol meeting of 2021 um so in a minute we're going to do some quick introductions but first i just want to take a second to give a quick overview um what are we here for so the stellar protocol is designed to evolve to meet the changing needs of the growing ecosystem all the different projects that are building on stellar and actually the proposals that we'll discuss today are kind of a perfect example of how that works right they make it easier to issue regulated assets on stellar so the purpose of this meeting is to discuss and plan for those changes um in case you're not aware protocol changes which are implemented in stellar core they're submitted as core advancement proposals or caps for short and they have a very specific like life cycle um they generally start with a discussion on the stellar death mailing list and then they're like drafted and further discussed on that list and kind of when they baked a bit we bring them to this meeting where we raise issues and address key questions really start to hammer out the details um the draft of a cap goes through several stages before it's accepted and ultimately implemented into a new version of the protocol and validators have to actually vote to accept that new version of the protocol in order to upgrade the network so there's a lot of steps i want to also say that every step in that process is public so if you're interested in keeping up with or even participating in discussions about the future of the stellar protocol i definitely urge you to check out the stellar protocol repo on github and also to join the stellar dev mailing list that's where discussions about these things originate there are links in the meeting description so anyone listening you can join right in in case it wasn't clear from that overview what follows is going to be a pretty uh specific and pretty technical discussion um we're mostly going to focus on uh cap 29 which would make some modifications to the allow trust operation in order to better support regulated assets and then we're going to talk about cap 35 which is what the real probably the bulk of this meeting will be about about um cap 35 asset clawback which provides an issuer with a means to claw back assets from a holder in order to support regulatory requirements there are links to the proposals and to the discussion threads of those proposals in the show description and if you really want to follow follow along you should probably check those out it's again there's there's a lot there but it will really help you if you're sort of looking at the nitty-gritty details while we have this discussion so that's kind of my overview but before we actually start let's do some just quick introductions so when i call on you just say your name your title and your affiliation i will start i am justin rice head of ecosystem at the stellar development foundation tomer told me weller head of uh integration Stellar development foundation dan i'm dan doney the ceo of secureancy we're a blockchain-based financial service infrastructure company awesome lee hi i'm lee principal software engineer at the Stellar development foundation jonathan hi i'm jonathan jove i'm a senior software engineer at the seller development foundation uh nicola yeah nico berry i'm sq get up on the great eric my name is eric saunders uh i'm a Horizon engineering manager at stuller development foundation siddharth hi i'm siddharth suresh i'm a software engineer at the startup development foundation great karen uh oh we didn't hear karen but can you try it one more time i think your audios there's something up with your audio but and we'll figure it out but uh and finally i believe david hi i'm david maciers i'm chief scientist at stellar development foundation okay great um so let's get started uh in sort of a last-minute decision we flipped the agenda and we decided to talk about cap 29 first um it's a it's a smaller discussion and there's less to work out in a way and also it sort of logically makes sense because cap 29 has to do with the existing um authorization flags on accounts so cap 29 has the catchy title allow trust when not auth required um basically a trustline authorization it's an important feature of the stellar protocol it allows issuers to handle various regulatory requirements currently there are two flags that you can set on an account auth required and auth revocable however the way they allow trust operation works with those two flags probably needs a bit of tweaking so the goal is to kind of clean it up um basically the idea is that issuers should be able to authorize a trust line even if their account doesn't currently have an auth required flag set and they should also be able to revoke trust if they have the auth revocable flag set on their account even if they don't have the auth required flag set so right now you have to have them both set um that would basically allow them to deny list certain accounts which again is is valuable for issuing regulated assets so this cap it introduces two changes to the allowed trust operation in order to achieve those goals so that's the summary um i think you know anyone can kick off the discussion i i think this this this cap originated with tomer so tomer do you have any thoughts yeah just uh quickly discussing the use cases that uh we have an issues with we have an issue with right now uh one is that uh what happens when an issuer changes authorization uh flag so let's say that i issued uh the tomer asset with an uh auth required flag to begin with uh justin created a trust line that trust line is by default unauthorized until i allow off to uh but let's say that later on i changed my authorization flags i removed the authorization the auth required and now i want to elevate justin's trust line to be authorized i can't do that because the uh off required flag is not set so it creates like a bit of a weirdness i need to reset it in order to set justin's proper authorization flags uh so this is uh one case that we want to fix the other case is what if an issuer wants to have a blacklist asset that means that by default the authorization state is true is authorized but uh if the issue wants to disallow that they can de-authorize the state right now they can only invoke the allow trust operation with authorized false if the auth required uh flag is there uh so this is a pretty unoffensive cap it just fixes the semantics to make sense um yeah that's it uh first kind of obvious question why did the issuer onset their flag why not just leave it uh are you talking about the case when when an issuer modifies their their their authorization flags i mean this stuff doesn't work this stuff doesn't work if the issuer turned their flags off but i guess i'm wondering why they did that um maybe the you know the authorization requirements changed maybe they started you know when they did the first distribution of tokens uh it needed to be uh regulated but for some reason down the road uh it doesn't have to be so um you know the idea is that right now um you know like we don't want uh you know as long as issuers don't set the authorization flags to immutable we want them to have the freedom to move between these things and this currently uh gets in the way i feel like there also have been cases where someone started with an auth required asset and realized that it wasn't necessary and and so they they essentially made an error when they initially created set the flag on the account i mean i'm all in favor of consistency and this just seems to make our our transactions semantics more consistent so why have weird little rules that disallow certain things in certain corner cases in certain situations if if we don't need to so it just seems like an obviously good idea yeah i'm with david on that and uh following up on that it's like we're making the rules simpler in a way that you know anybody who is relying on these rules i mean there's no sensible way in which you could have been like oh my business is based on these particular rules being in effect uh you know my application is designed to take these things into account there's no compatibility risk to changing this stuff i i don't see how you could have relied on this is this the shortest cap discussion we've ever had i guess my question is why is it like this i mean presumably we had an idea excellent question eric i don't i wasn't here for the origins of this but from studying the code i have some good hypotheses about this uh and i think there were some other things in the code that we've already changed uh siddharth did did the work on it i think it was cap 28 maybe um but basically like this name auth required is very misleading uh like from my perspective the name should be something like uh auth like off default or something like that like do you default to true or default to false um and that's what the flag actually does inside of stellar core but because of that this name auth required there were lots of places in the code where there were things that we were doing that looked like we were going to check this flag on the issuer's account but we don't actually do that and so i think that this this behavior kind of originates from this very very misleading name more than anything else i don't know people like nikola might have a perspective on why it was written like this originally if you can remember back that far a lot of things happened very quickly uh you know last year yeah no i don't remember so it seems like no one no one has an objection to this cap i mean is that correct does anyone have an objection i'd say if so now is the time uh what i object to is like psychologically i think we all feel like there needs to be some minimum discussion time for any proposal but if it's just an obviously good idea let's just like get it over with it done great then i stuck to his word and this is 15 minutes or less so that's that's impressive yeah it's it's eerie okay great i mean it's it's are there are there any follow-up like questions that we need to address before we move on just in terms of thinking about the implementation of this cap or we just we just move on to cap 35. so one last point following on what john said do we think we should take the opportunity and rename these flags i discussed this with liabit and i i pitched that same thing relevant this came up in the discussion of cap35 as well and lee kind of convinced me that like from an ecosystem perspective renaming this would be nightmarish i'll let lee chime in on that if he wants to but i was pretty convinced that it's not a good idea yeah so these names um they obviously exist in the protocol they also exist in Horizons api and that consistency is elegant that you can look at the Horizon api and you can see a flag name you can read documentation that discusses the protocol and that's the same um so if we were to change it in one place it would be ideal to change it in other places to maintain that consistency but that would break Horizons api um because the actual name auth underscore required authors are revocable they show up in the api as field names i think the cost that weighs the benefit of changing the name personally just take the victory let's okay we're moving on thank you that that's the right way to do it david um okay then we're going to move on to cap 35. um so as i mentioned at the top of this meeting cap 35 defines a method for allowing an issuer to claw back an asset in order to support regulatory requirements it could be used for instance to recover assets that have been fraudulently fraudulently obtained um to respond to regulatory actions and to enable someone who can prove their identity to recover an asset in the event of key loss or theft so this proposal which was updated very recently it currently introduces a new account flag a new trustline flag a new claimable balance flag and two new operations one to claw back an asset and one to claw back a claimable balance um dan i i think you understand the need for this change more than anyone is there anything you'd like to add just a little background on this we are doing a series of experiments with a number of prominent regulators from around the world and we've we did a a pretty significant experiment demonstrating the ability to enforce um regulatory rule sets from different jurisdictions in using stellar's decks and uh it was very well received by by regulators in in that particular setting that is the ability to enforce policy in a decentralized setting using the sep 8 pattern and out of that discussion came a second discussion that the regulators are particularly interested in that has to do with custody and you see assets in general falling into one of two patterns one which is a bearer instrument pattern bearer instrument patterns have certain benefits in the marketplace in terms of being censorship free but they also have certain downsides to their nature and this is one that makes them much more difficult to regulate and from a regulator's perspective there's a particular record keeper role which has certain responsibilities into the marketplace known as a transfer agent the transfer agent if they fail to execute their responsibilities can be sued but they keep the official record in the absence of the transfer agent being able to correct the record you can't have records on blockchain for securities but it turns out it with a clawback mechanism you can actually empower a transfer agent that is a licensed entity with this responsibility to correct the record and why would it do that and the big thing that for example the sec worries about is the case of the canadian exchange operator who disappears or dies and loses custody of a number of their clients assets and there's nothing that the marketplace can do about that scenario the sec sees for trillions of dollars worth of securities writing in these ledgers that that would mean that they have to be securities experts for everyone who performs a broker role in the marketplace and that to them is just frightening and no one would ever get through would be just way too much of a responsibility not trying to discount the sec's position on these things but they see the ability to correct the record as an essential component the central piece of correcting the record is executing a clawback if someone has made a mistaken or illicit transaction if you can pull back that asset and put it to its rightful owner you have the means to uh to correct the record so this is the nature of this element came down to regulated assets as we've interacted with regulators globally virtually all of them require some form of this which we'll easily fall into we believe the structure of what's been produced here with the with cap 35.",
      "keywords": [
        "theres",
        "thats",
        "flag",
        "dont",
        "trust",
        "asset",
        "clawback",
        "actually",
        "flags",
        "mean",
        "auth",
        "issuer"
      ],
      "speakers": []
    },
    "2021-01-28.mdx": {
      "summary": "all right everybody welcome to the stellar open protocol discussion um thanks for being here thanks to all the panelists just a reminder the goal of these meetings is to talk about and plan for changes to upcoming versions of the stellar protocol specifically we go over core advancement proposals caps for short which are open source specs that describe suggested new features designed to evolve the protocol to meet ecosystem needs so caps they have a life cycle they go through various phases discussion draft final comment period acceptance and implementation before they're finalized added to a major release of stellar core and put forward to validators who ultimately decide whether or not to accept the changes by upgrading the network so actually if all goes well today we may attempt to move a cap from draft to final comment period we'll see what happens very exciting procedural stuff there if we do we'll post a notice on the stellar dev mailing list and there's a link to that in the meeting description uh at which point anyone who has comments or questions or suggestions has one week to respond before we decide to either reopen the discussion or mark the cap as accepted so that's what happens if we move this cap into final comment period so last time we started the meeting with personal introductions um but today i think we'll skip that just to keep things moving along all the participants are listed in the event description so if you want to know who's who just do a quick search or look at last last protocol meeting where a lot of the same participants there's also a q a box where you can submit questions we probably won't go through them one by one during the meeting but we do look at them they do inform our discussions and decisions so if you have a question about what we're discussing and again please about what we're discussing feel free to raise it there so fair warning this is a technical discussion about a specific proposal and if you want to keep up i suggest reading through the cap which is also linked to in the meeting description that will give you context now today today we will continue our discussion from the last meeting about cap 35 which defines a method for allowing an issuer to claw back an asset in order to support regulatory requirements so it can be used for instance to recover assets that have been fraudulently obtained to respond to regulatory actions or to enable someone who can improve their identity to recover an asset in the event of key loss or theft now remember i said we do actually pay attention to the qa well based on some questions that came in last time it seems like there's a bit of confusion about this proposal so before we begin i just want to give a quick overview to attempt to clarify a few things so based on questions that came in last time um this is kind of what i i want to point out right the proposal would introduce an optional feature for assets and it does that by creating new authorization flags and new operations to take advantage of them the goal is to add new functionality to stellar that would make it easy to issue regulated assets now these new flags will have no effect on accounts that already hold an asset that means if clawback is not enabled when you obtain an asset it can't be enabled for you issuer can't just come in and change the rules after the fact also when an asset has clawback enabled that fact will be clearly visible on the issuing account and on the holders account in other words a potential holder will know in advance that an asset has clawback enabled they'll look at the asset they'll see that it has clawback enabled and if they decide to they can hold it and they do so fully informed with eyes wide open right people opt into holding these assets and that's a pretty pretty important point um i i sort of mentioned all that just to clarify some some some questions that came up last time does anyone else before we dig in does anyone else have anything to add are we just ready to go cool so cap 35. um the current state of this it is in draft mode uh the question that i think we're ultimately trying to get to is is it ready to move into final comment period pending acceptance but there are a couple of changes that have happened since last time there are some bug fixes that address comments and there's a new set trustline's flag set trustline flags up that allows an issuer to remove clawback the clawback flag so i i i think just open up does anyone have any comments or questions about the changes since we last met so i i think that uh the first of all i just want to congratulate the authors i think it's gotten a lot better um uh i have kind of like i don't know three quick comments that like maybe are just changes you can make or or not and then one like point for more detailed discussion so i don't know how how you want to go through this if we should start raising points or go around robin or what why don't you start with the three quick points let's just hear what those are okay so one again this is kind of trivial but in this set trust line flags off the clear flags and set flags or pointers and i was wondering why that is uh is that for future extensibility in case we have like multiple banks of flags or something we want to turn it into a union because otherwise if you just have a an integer if you zero then you're not setting any flags or clearing any flags so it seems like the optionality had was there's like redundant mechanisms to not do anything i'm just curious for the rationale so it matches uh what set options uh does right which is like if you if you don't want to change clear options or like like you don't want to clear any flags you can just set it to no right so i just follow that i don't i think your approach is fine as well uh i do think we there's an advantage in keeping it the same as uh set options but sorry i thought that instead options that actually actually set the thing to a particular value whereas here we're actually setting or clearing bits so it's like a different so set options it is the same as set trustline flag so i think you're thinking about allow trust that sets it oh right right uh so yeah the goal here was to make it make it similar to uh set options and that you you control specific bits um okay well it's not it's not again this is pretty minor point i raise it it sounds like there's a rationale so it's not not a huge deal um the uh the other question so another question is should we deprecate allow trust stop now that we have set uh trustline flags up i i think so i think we should uh but that would be just something to mention like you know we don't have to like remove it or anything but we can just deprecate it and like slowly you know eventually maybe like you know way down the line remove some some of these obsolete operations um so third kind of quick point or suggestion is um in the set line trustline flags op instead of having an asset code should we think about putting an asset there and let me make the case so it's not cut and dry but there are advantages obviously you might say well right now it's like completely redundant because the issuer should be implicit in whatever the source account is for the operation however i can imagine situations where down the line we might not want that to be the case and here's kind of two scenarios where having the full uh asset in there would would make this easier so one is maybe there's certain flags that like the issuer can like add the flag or remove the flag but you can add the flag or something so we actually want the owner of the trust line to be able to change some of the flags and the issuer to be able to change other flags or maybe the owner can do it in one direction the issue or in another direction the second thing which kind of comes back to this point of feedback that i've gotten a lot from talking to people which is the annoying thing that if you issue a bunch of assets you uh and you want a fixed quantity that uh if you lock the um the high threshold of the account to known as high threshold you can no longer rotate the keys that are used to like authorize trust lines and so i don't think we want to fix this today but one thing that one can imagine down the line maybe is adding like a super user flag to like your trust line which allows you to not only hold the asset but actually authorize other people to hold the asset right i realized like maybe we do want to do this maybe we don't want to do this it means looking at another uh entry in the database when you're transaction processing so there's arguments against it but uh but but that would solve this problem you could like issue an asset you could like create you could basically create a super user account to to manipulate trust lines and then you could completely lock the original account and then you could still rotate uh uh keys in the other account so just having the full asset in there would allow us to do that because it would allow us this level of indirection that a different account could be the one uh authorizing at the authorizing trust lines and i just just to clarify you mean the asset code versus the full asset you mean the aztec code say usd versus having usd colon issuer of that asset exactly exactly um and so the issuer is redundant because it's the source account always but i can imagine future situations where we don't want to require that to be the case actually i would say i would support that like originally actually in the original proposal i didn't i didn't care for the clawback operation so to not specify the full uh asset because at the time we only had our trust but if we're going to make the change to this new adult trust like we would also make the change to clawback right and then now we end up with like this is completely open and and in the future we can easily make that without having to add new operations basically so yeah i totally support that i just want to echo this i've been hearing from partners uh this desire to basically delegate um um delegate the ability to allow trust to separate accounts um right now we you know we we uh we promote this idea of everyone needs to have access to the issue or account and a low threshold but there are a lot of issues with this so if the issuer can actually delegate this authority to other accounts uh then um i think that um is great cool so i have one more issue that probably is might require more discussion so i'll maybe defer if other people have quicker things we can come back to the longer running ones i think uh i thought something i want to comment on this is i think this is really great the idea that we can we can in the future possibly delegate who could run these operations as opposed to being the issuer i think that that relates in some ways back to a previous conversation we had about clawback and the fact that um right now clawback is only going to return the asset to the issuer and there's no ability to specify a destination because i think if we if we start thinking and i think that decision was completely fine if we think about clawback being something only that the issuer operates um because if they claw something back they can always then issue the asset themselves again but when we start talking about making it flexible enough so that a delegated account could cause the clawback then the clawback is going to return to the issuer um so then then we have that no no in that case it would have to go back to the source account right which would be this uh this other account so i think it would be consistent with the behavior okay in a in a thick attack situation you would actually not be burning uh assets in this situation you would actually uh be moving assets from the account being called back to the this kind of uh you know type of account so is the clawback mechanism set up to claw back to the source account currently why it's implicit right it's implicit okay i mean we could add a destination account so imagine a situation where whenever you claw back you actually want to send it to some like arbitrator who's gonna like decide whether this is just or not or something as a way to although really you'd want to kind of force that so maybe that's not such a good idea i think it's better to have it like go back to the source icon if you're the issuer you end up burning it and then if you want to send it to an arbitrator that's actually the second operation and then you do have clear kind of separation of like what is actually happening the history so it sounds like we do we do need to change the definition in the cup slightly just to be more clear that the clawback is returning the asset to the source account and right now the source count is only the issuer um but like because i think right now this language that talks more is more focused on clawback burning the asset rather than moving it so so to be clear like in in cap 35 would not be uh like it actually doesn't make sense to do clawback from a non-issue icon because you know you can't actually you don't have the right to do it uh but i agree in terms of wording i can actually say so second right it will just work because you know adding this functionality is actually uh adds a bunch of complexity uh that i don't want to do in capital e5 because you have like limits and all that stuff that the shirt doesn't have so you have like new fader modes and so the suggestion is just to slightly tweak the language so it's clear that while we're at it i did notice one really nitpicky thing which is that um this new operation that was added recently um set trust lines flag op does appear in the semantics but not in the abstract so while someone's going to tweet that language my request is please add that to the abstract portion of the cap i can take that cool does does anything does anyone have anything else before we take here david's more potentially rabbit hole question so i have i have one comment related to the uh the suggestion to make the asset code an asset we uh in in the original subtraction flags proposal there was there's a similar change allowed you allowed either the issuer or the owner of the trust line to operate on the operation or operate on the on the trustline flag and one concern that came up that john brought up was that he would he preferred he would prefer it if we just use a different operation for if the owner wanted to modify the trustline flag uh because he said you know it would be it would make it would be clearer than allowing this like this other this brand new functionality which we don't even allow at the moment right uh i i personally i i don't think it's it matters that much i think it's fine if we if we enable the the owner of the trustline to modify a flag in the future but that that is one concern that he had so that's a decision we're not taking that decision today like that may be perfectly fine all we're saying is we're gonna leave the flexibility not otherwise we'd be making a decision today that we have to do it that way and we're leaving our options open that was only one of the two uses that i could think of off the top of my head of having a full asset instead of the asset code the other one being this delegation which both tomer and i guess have heard uh uh requests for from people okay yeah i think that makes sense all right david i think we're ready for your bigger question okay so the so the bigger question um is and i don't know what to do about this and maybe it's not that big a deal but the the when you when you're clawing back a claimable balance um the the problem is that that whether or not you can clawback a claimable balance depends on the person who created the claimable balance not the person who can uh redeem it right who can claim it um and this seems like a little bit unfortunate in terms of uh for example you know how you arbitrate a situation where like you know i i sent you a clamo balance and then like i couldn't claim it anymore so i considered it was yours but it somehow got clawed back before you were able to claim the money um and uh and maybe you had some special arrangement where like you didn't have clawback or or something um so so this is uh so this is bad and another thing where i think this would come a lot is kind of at the end of some complicated protocol like a payment channel or something where you kind of like at the end of the day i give you a bunch of assets and you give me a bunch of assets now it's sort of like uh i would expect one of those oh you know you both either both to happen or neither and now there's a possibility that kind of the wrong one could get clawed back like my funds could get caught back because you were subject uh to clawback uh but you were the one who'd like created this claimable balance so given that the claimant you know given that you can't you don't necessarily know who can um well anyway so that that's the problem so should we do something about this and do we care and if so you know what should we do i mean like to me that's that's that's actually why i wanted to have this flag in the first place on the on the balance entry because you know if you have if you don't have a clawback enabled on the balanced entry basically it's uh immune to kind of interference like that from for smart contracts yeah for the for the ones that do have that flag enabled i agree um uh as soon as you as you touch it as an issuer you're actually kind of blowing up a whole smart contract and i yeah but the problem is like it feels like in most cases you'll be blowing up the wrong leg of a smart contract you don't know the problem is that you don't know yeah so you have to do a lot of like offline type of uh kind of work before actually doing this claim can you explain to me what the use case would be in this situation how you'd be using payment channel payment channels with claimable balances for assets that had clawback enabled like is this something that there's that a reasonable person would be using these assets in that way sure i mean this like whether or not you want to use the payment channel on an asset should be kind of independent of whether you can claw it back or not um but uh but the point is that like most in most of these protocols you kind of assume that the funds are yours once you can claim them um and we're now slightly changing that situation and that like they they could still get clawed back because of something bad that the issuer did even if the recipient has some kind of a non-clawback agreement with the issuer that would be on the recipient's account right on their trustline flags so like the sender and the recipient both have this clawback flag they can be set or onset in their trust line so if the recipient doesn't have it set in their trust line then they know ahead of time that it can't be changed for them um right except that except that they're the the claimable balance that they can claim can be uh clawed back uh unless i'm misunderstanding right and only if it has the flag only if the sender had the flag enabled right so in a way it's like you wish that the policy had to do with the recipient rather than the sender i guess is is kind of what i'm saying but but that also doesn't work right because you don't want to just be you i shouldn't be able to like protect my funds by like sending them all making a bunch of you know claimable balances that people can't claim and then reclaiming them afterwards so i don't know what the solution is it just it seems like it's something slightly uh annoying recipients recipients also don't have to exist at the time the claim will balance yeah exactly exactly so there's a lot but there's no guarantee we even have that information i think the only the only things we can guarantee exists on the network when the claim balance is created is that the issuer exists and the the account holder exists the original account the sender exists um and i think if we were to choose from one or the other where to get that information from the sender is better because if we use the issuer then if the issuer enables clawback then a sender whenever they create a claim or balance it's become going to become clawback enabled even though they maybe have an agreement with the issuer that when they hold the asset it isn't can't be called back so i guess my question is what what does this where does this conversation lead what what action needs to be taken to sort of resolve this issue i mean you know maybe we can't resolve it right maybe it's just um uh yeah you know it's not there there doesn't seem to be any ideal solution here and you know i agree that it's it's kind of at least as reasonable to have the flag and a claimable balance be based on the sender than to have it be based on the issuer so if the given that those are kind of the only two options i can see on the table um maybe we just live with it the spec currently specify using the sender i can't remember it is yeah in everything the yeah okay so that's the standard because that way like like the reason i wanted that in the first place was because if you're going to engage in a payment channel let's say at the beginning like you can actually look at those flags that people have on their trust lines and decide at this point you actually want to basically take the risk or not uh in that payment channel right if people don't have the flag set you know that basically you're taking a zero risk if you have the flag then you have a question um i don't see but the flag can change like during the execution of a protocol right so you no no no no that's the point is that if the flag once you have if you have the flag not set people cannot uh like issue i cannot set it back it can only be on set okay that's a that makes it that's that's why this this works right like if we are allowing the issuer to to basically renege on the on this it also breaks that so that yeah so so anyone would be up they would understand this fact they would opt in to choosing to use the asset in that way again eyes wide open yeah like but here the important bit is like you can imagine having some accounts on the network that don't have that flag enabled even though it is uh like the issuer has the callback enabled but they're like you know maybe privileged accounts or something like you know better cheers basically of accounts that can actually engage into those uh payment channels or whatever i like to yeah i agree that it's not ideal because like really what you would want is like any any asset i mean any account should be able to to participate to payment channels but like the thing is that as soon as you you potentially have this third party kind of interfering uh it gets really complicated uh i don't see yeah so i i can basically live with it i think you guys have convinced me that this is probably fine and uh anything else is going to be worse i i think i also want to mention i think this is a limitation of claimable balances in general in the claimant balances the only the only place they can go is into the account is into a claim is into the an account that's defined as a claimant um and so for their use in smart contracts there's that limitation already um and may like maybe there's room for improvement in the future for claimable balances to have other destinations so you know you could take funds from a claim balance and move them into another claim will balance all into multiple claimable balances and if you know if that is ever a possibility in the future you know that opens up more flexibility for smart contracts um because um you know then we can start talking about you know they can inherit the attributes of their previous kind of balances or different things like that um but that's i think that's like that's off topic a bit but i think there is some limitation that we're inheriting from the fact that claimable balances only have accounts as a destination okay well i'm satisfied nothing needs to change in the in the cap basically after this so the one there's basically one minor change which is to replace the asset code with that oh sorry i meant for the last part of the decision sounds like for the other one we agreed that we'll add a note that allow trust stop is deprecated and we will um we will add to turn the ass in two places we'll turn an asset code into an asset i guess right that's correct i think those are the changes that we've suggested making does it does that seem accurate to everyone else yeah and if so those feel like pretty correct me if i'm wrong sid for instance those feel like pretty minor changes to execute is that correct yeah they should be like that like we could move this into final comment period pinning those changes does that seem correct yeah all right guys i i say we uh i say we move this from draft and final comment period um i kind of want to do like a formal process here we have to say i or nay um so let's do that let's do that uh nico yes sid yes david chalmer yes eric yep is that uh is that everybody i think that's everybody who's on this call guys i actually have a gavel so i'm going to strike this gavel and can you see it and and now it's officially moved into uh final comment period i happen to have that gavel in this room full of junk i did not go buy it especially for this i promise um and so that's mostly it i mean the only other thing that i guess we could do uh which we can also decide not to do is we could talk a bit about where this cap is because i know that some implementation has already been done um do you want to walk us does anyone want to walk us through that or should we just be happy with this sort of procedural vote that we just had and close the meeting i think that's probably enough for now like in the context of this meeting okay cool meetings that end early are great there's just no reason to stretch out to the full time if you're done okay cool so we're going to move into final comment period pinning those changes so when they're done i will send out the official notice on the stellar dev list and again anyone who's watching that gives you a week to for final suggestions we can reopen the discussion if it seems necessary but this is final comment period pending acceptance great well we answer the questions we move this along i think we're done everybody feel good great yeah thanks thanks everyone for coming thanks everyone for watching see you next time cheers you",
      "keywords": [
        "asset",
        "actually",
        "issuer",
        "dont",
        "clawback",
        "account",
        "flag",
        "thats",
        "theres",
        "flags",
        "maybe",
        "trust"
      ],
      "speakers": []
    },
    "2021-03-11.mdx": {
      "summary": "hello everyone um welcome to the open protocol meeting uh which is being live streamed um and for all of you watching at home i just want to give a quick overview the goal of these meetings is to talk about and plan for changes to upcoming versions of the stellar protocol so we go over core advancement proposals aka caps which are open source specs and they describe new features designed to evolve the protocol and meet ecosystem needs and the cap life cycle begins with the draft and today that's what we're discussing a draft specifically a draft of cap 21 which is titled generalized transaction preconditions this cap has actually been kicking around for quite a while it was first created in may of 2019 but with the um recent addition of claimable balances which were introduced in protocol 15 there were some new possibilities that opened up and this week david naziris has been adapting the original proposal with those claimable balances possibilities in mind so fair warning this is a technical discussion so if you want to follow along i suggest reading the cap and the recent developer mailing list thread about it both of which are linked to in the event description um so i think you know just a sort of quick overview of cap 21 it generalizes the time balance field in transaction to support other conditions including conditions that relax sequence number checking and that provide relative time locks it does that by extending account entry to keep track of the time and ledger number which an account sequence number was last changed it also replaces the time bounce field of transaction with a union that allows more general transaction preconditions so the goal is to advance network scalability by facilitating off-chain payment channels um and that's sort of like what we're talking about today is this are there questions that we can answer will this cap help uh create those payment channels um it's also to advance security and simplicity and interoperability with other networks by enabling relative time locks and finally it should make it easier for developers to create highly usable products by enabling time-delayed queue recovery so today it's the first discussion of this newly revised cap so part of what we're trying to do here is really just get like a sanity check before we start prototyping anything um does anything have anyone have anything they want to want to add here at the top yeah as well as insanity check i think there's also so this one question is is the overall approach saying and the other question is uh nico's raised some points uh uh many of which are you know things one could go either way on and so it'd be nice to just kind of see what the consensus is for uh for where we should go great i mean and since this is sort of something that you've been working on do you want to start out with any any questions that you might have or sort of pick a point where you think the discussions will start we can go from there um yeah i mean i think thanks for i think your summary uh was was pretty good here i mean i guess the the things we could discuss are uh one you know does this seem useful for like a bunch of different scenarios because if you have one mechanism that supports like a bunch of different things then that's good so i've got four examples of things that you can do with this uh you know if people accept those that's great if people have questions it's also great if people have other things like could it do this like i was very grateful lee kind of suggested this that you have a one-way payment channel and maybe this isn't perfect but this is but the fact that i was able to cook something up pretty quickly using this mechanism to do something that hadn't been one of the things we'd anticipated was uh you know an encouraging sign i would say um yeah and then the other thing is like sort of nitpicky like technical questions that we should get consensus on so where should we start application like uses or uh or just dive right into the nitpicky questions david can you give a high level overview why uh these things are relevant for payment channels ah okay good so the uh the the kind of overall architecture of a lot of payment channels and a lot of other uh protocols frankly uh higher level protocols on blockchains involves uh kind of a two-phase thing where uh you want someone to be able to kind of recover unilaterally from a failure if the other party goes away or starts becoming non-cooperative um but you don't want people to do something uh invalid so there's kind of one phase where you disclose that you're going to do something and then there's a certain amount of time in which someone else can object if you're doing something that's not quite right like you're trying to for example close a payment channel with an old uh closing state and there's a more recent closing state but then if nobody objects then after that time delay you're you're able to to close the channel so this pattern of kind of disclose and then finalize something um is extremely important in a number of contexts um and so uh with without cap 21 it is possible but uh but both extremely tricky to do with stellar and uh you have to sort of pay a time penalty and that things where like for example when someone fails you might in a payment channel you might lose access to your funds for twice as long because you cannot the only way to do it is with kind of these uh pairs of transactions that have non-overlapping absolute times uh in them essentially so uh we've we've done stuff like this like starlight a long time ago was was uh was a proposal it uses it just gets super complicated and so the idea here is like let's just make it a let's just provide as a primitive the thing you actually want which is kind of the ability to do something after some relative uh delay and since we already have this notion of accounts and sequence numbers it seems like uh and since uh sequence numbers are extremely useful for sort of invalidating a bunch of stale transactions you can just kind of give them successive sequence numbers it seems like the simplest way to address this is to just uh have a a transaction precondition says you can do this transaction but only when the account has been idled for a certain amount of time therefore if the attack count gets changed when someone discloses that they want to do something you have to wait that amount of time before they can actually do the thing and in that time uh somebody else can object by you know raising the sequence number further and invalidating whatever you were going to do to close the transaction so so that's kind of what what what led to this uh the proposal so it might be worth mentioning that uh the bitcoin protocol uh has relative time locks they added it specifically for enabling the lightning uh network um just as a reference um but it seems that david like you were talking about relative time locks but your proposal is actually much bigger than that and also includes some some uh sequence number changes and maybe you can talk a bit about that and why that's relevant um yeah so um so the uh uh the sigma summer changes are because we have uh basically um it's our sequence sequence numbers are extremely brittle and hard to use right in in protocols because basically you have to have you have to know the exact sequence number in order for for a transaction to run so uh so for example one consequence of this is that um in a you know if we don't have cap 21 and you're implementing payment channels the kind of disclosure disclosure transaction that sets you up to to close a payment channel needs to be signed on multiple source accounts you need multiple versions of it because uh you know if you submit yours but you submit the wrong one then i still need to submit one uh and so um and so it needs to be on a different source account because you've already burned the sequence number of yours another example is you want to set it like a pre-signed uh transaction um that will uh that you can kind of submit at any time to do something like clean up some mess or something and uh again the account that's only valid if the count is like in a particular sequence number and so without i think overly uh complicating things um i added a feature where you can optionally for an account say by the way this transaction is valid for a range of sequence numbers so whenever you execute a transaction you always leave the account state um the the the invariant is the transaction is only valid when the sequence number of the transaction is greater than the sequence number of the account and after you've executed a transaction the sequence number of the account is always the sequence number the transaction you just executed until now it's always been the case that it also that the sequence number the account has to be exactly one less than the sequence number of the transaction in order for the transaction to be valid with this new optional feature you can add a different a minimum sequence number so you can say actually i want this transaction to be valid for any sequence number below uh the sequence number of the transaction or for you know the last hundred sequence numbers um and so this makes transactions that you've kind of signed ahead of time a lot less brittle the particular uh you know particular example of where where i use this well actually it seems to come up in in actually all of the the proposed applications so in payment channels it's useful because i can submit a disclosure transaction and if it's the wrong one you can submit a disclosure transaction and they can both just be on the escrow account we didn't need to have our special other accounts just for the sequence number because you know an earlier disclosure transaction doesn't invalidate a later one because the disclosure transactions are signed to accept a range of sequence numbers um uh you know another place where this might come up is where you have you want to be submitting large numbers of transactions on one account you have like a farm of 100 servers that are all like you know each uh each round they're kind of submitting a transaction uh on on the same source account and using the new feature you can accept gaps in the in the sequence number space so if like one uh server happens to be down or not produce a assigned transaction time that's okay you can just skip over its transaction um another example that i had was uh was uh recovering like if you want a friend to be able to help you recover your account in case you lose your keys um you know you want to pre-sign a transaction that you give to them that they can just uh submit and will will add their signing key to your account but of course you don't want them to be able to do that immediately you want to have some chance to object in case somebody like steals their key and so again you want one transaction you can just submit that will bump this disclose that this is going to happen and bump the sequence number all the way up to the point where your friend can take over the account and then a second transaction with a relative time lock that allows your friend after a few days or whatever to take over that account and help you regain access to your funds one thing that i wanted to can you guys hear me yes excellent one thing that i wanted to uh to kind of ask about was how you anticipate this interrupt excuse me interacting with claimable balance IDs which are sequence number dependent is the anticipation that when you do one of these uh range bounded transactions on the sequence number that the sequence number is bumped to the last sequence number prior to submission like prior to the operations being applied so that no matter where you were applied in the range the any claimable balance generated would always be generated using an ID that is equal to the actual sequence number of the transaction so there should be no change the the the definition of the operation ID uh still applies unchanged um in the sense that every transaction still has a sequence number the only thing we're changing and always leaves the account with that sequence number when it's finished executing the difference is simply that the transaction may be valid even if a transaction with the prior sequence numbers have not executed yet so just to make sure i'm 100 on the same page as you if the sequence number bounds were minimum one maximum three whether i played the transaction at sequence number one two or three the claimable balance would always be created as if it was ab sequence number three um i think what you're saying is technically correct but that's not maybe not the clearest way to view it so i just view it as there's no maximum sequence number there's just a sequence number which is just the sequence number of your transaction and then there's a minimum sequence number that says when your transaction starts being valid and the minimum sequence number by default if you don't specify it is just one less than the sequence number of the transaction meaning like every transaction can be submitted at exactly one sequence number but you can uh you can reduce that minimum sequence number down to all the way down to zero if you want the reason i'm kind of asking about it and asking about it specifically in this way is that the the language you keep using is that when the transaction finishes executing you will be at blah blah blah sequence number yeah but i actually think that the phrase you want to use is when the operation start executing you will be at blah blah sequence number because otherwise it's quite ambiguous about which sequence number you're at when you're actually doing these operations and also it's quite ambiguous what it means to a bump sequence okay so let me actually address so there's several points so i so the way i was viewing it is that the uh the the operation ID in a claimable balance is depends on the actual sequence number of the transaction not the sequence number of the account um and the reason is that i was assuming that you kind of execute transactions in two phases one in one phase you kind of claim all the fees and and bump all the sequence and address those sequence numbers and you know validate the sequence numbers and then in a second phase you do all the operations including things like bump sequence um but it is currently the case that for example you could um you could submit two transactions in the same block right and uh depending on the order in which they actually one of them could like bump sequence to invalidate the other right if they have different transaction level source accounts and so that behavior is sort of unchanged uh in that like all the validation and checking whatever is still all happening before uh bump sequence but regardless of bump sequence when you're generating a so forget cap 21 when you're generating an operation ID it's still based on the sequence number of the transaction not the sequence number of the account in the sense that if you have a bump transaction that's not going to affect the operation IDs right i'm actually i'm actually trying to confirm that right now i was under the impression that it was based off of the actual sequence number of the account at the time that it executes so that would make it difficult to predict the uh the operation IDs uh which i think might be a uh a problem with claimable balances if it's the case so that might be something independent of cap 21 that we might want to revisit regardless right maybe it's not it's it's not because you don't know the order in which transactions on different source accounts are going to execute in the same block so you could have a situation where you you have a you have a transaction it you know it it creates some claimable balances um uh and then um because some other transaction happened to call bump sequence that the claimable balances have a different op ID that would be oh but no no no we no no like the sequence numbers are strictly like they are enforced at the time we apply the transaction yeah david is right though actually it comes from the transaction sequence number not from the account sequence number and so given that that's the case cap 21 doesn't change that that then it doesn't every every transaction still has a unique sequence number it's just we're now we're now can skip some sequence numbers we're a little bit more flexible at when a transaction runs i have kind of a basic question which is what was the original rationale for sequence numbers replay prevention because we don't have utxos um we need to we just need to make sure that like a valid transaction cannot be submitted multiple times to you know double the payments the reason the reason i'm asking is because i could foresee that if this is a feature uh for convenience maybe many people would use this feature so they don't have to think about sequence numbers and although that's like a choice that they've made maybe this actually makes their implementation less secure well no they still need to think about it it's still it still prevents replay but one thing that this allows for example is that let's say that you have a fairly low volume uh you know account where you're not doing a lot of payments you could decide that uh rather than query for uh the the latest sequence number the account you could just kind of use the the like the unix time epoch as like the low 32 bits of your sequence number right and and now if you set your minimum sequence to zero that that would just work obviously you would it would not work you would like get some transactions uh rejected if you happen to on two different machines use the generate transactions at exactly the same time and use the same sequence number but if that's unlikely to happen then maybe that's a that's a better trade-off in some situations and we would allow that and just following up on just to make sure it's super clear to you eric like this wouldn't let you ignore sequence numbers imagine that you wanted to be like hey you know i'm gonna set the minimum number to one and the maximum number to n64 max that's not going to cause any problems but again there's no match i'm not going to work there's no maximum number exactly please don't use the term maximum number uh it's going to take you straight to in 64 max you can do this one time and now you're a count stock i suppose we could uh we should actually do the um maybe we should add the limitation the same way bump sequence doesn't let you bump to n64 max right because we have some idea that we want to be able to delete the account and then recreate it and and not have old transactions be valid it does let you bump into 64 max actually it just stuck at that point and then you're just stuck you need to use another okay because we can't delete the account okay so great so fine we can just allow to have the same thing then yeah so so is one way to think about this that it's a bit like a normal transaction with a bump sequence uh built into it yeah but but with a slight advantage that uh the bump sequence happens later in the processing of a block um and this happens earlier during the initial phase of like collecting fees and validating uh transactions but yeah it acts a lot like an implicit like basically you're you're implicitly your sequence number is implicitly a bump sequence now so where there are also you know i believe on the stellar dev mailing list there were some specific technical issues um that niko raised and i want to make sure that we do if they're important that we do have time to get to them does it seem like time to move on to those are there still more sort of high level or general questions let's get specific okay so uh so the first one is that um i mean this is something i feel strongly about but it's not the hill that i want uh cap 21 to die on so um uh maybe we end up uh just deferring this to some some leader cap but the way we do extensions for unions by kind of uh kind of dangling more and more nested structures off the nested unions off the end of a structure is kind of messy and gross and it seems like the reason we're doing this is just because we're like uh we don't have enough like engineering resources to kind of fix each individual sdk in a way that like frankly wouldn't be that hard if we had someone who is like living and breathing that that sdk um so uh so i you know i think it's it's much better to do your um have your extensions to unions be kind of like having like an outer union so you can just kind of keep improving the data structure and you know keep most of the fields the same as opposed to having like many many nested unions which is both you know encodes in a more uh it takes more bytes to encode and is like more of a pain to program to because you have all these nested unions so i'm suggesting that the account entry extension that we replace the thing that's currently a v2 dangling off of v1 with uh with just a uh a v3 that that has everything in it and this isn't even like transaction state right this is like ledger state so like but by the time you talk talking about software that's actually parsing these like ledger entries like we're already in like pretty advanced software and not like random end users who were like uh doing xdr parsing on the um on the actual blockchain state as opposed to transactions i mean i i think the uh by the way this was the last thing on the list i think in terms of priorities i don't know why we're spending time yeah so again right now i mean we can't okay why don't we defer this to the end then um so the next uh next question um is that uh and this is kind of a more general point but it's like coming up here too we have we're using a combination of signed and unsigned uh integers for uh durations and time points and it would be super nice if we could kind of unify that across everything um and so my proposal so i don't i don't have a strong uh opinion on which because 62 to the 64 or 2 to 63 are both very large numbers of seconds uh john has suggested that it's useful to you know do queries in sql and that sql doesn't have good support for unsigned 64-bit entities not just sql it's also uh no other languages sure so uh so what we could do is change time point to be assigned 64-bit integer have duration be assigned 64-bit integer um and we would just say that any time bounds that is negative uh is just treated as like you know n64 max basically for backwards compatibility and i doubt any why would anyone nobody is going to care about if they've already signed a transaction whether the time bounds is like 2 to the 63 or 2 to the 64 seconds from the epic right i mean i think a priori i think that sounds fine to me i'd have to just look carefully through everything and make sure that it uh doesn't break anything terribly i mean but a priori i agree like nobody cares if something's gonna happen in 2200 or i don't know two to the 64 must put you into like the 30 000 or something i don't know something like that no i mean it's got to be much more than that because 32 bits already gets us to like 20 30 something right so 16. yeah no yeah you're totally right you know he death of the universe kind of thing like i think we got bigger problems to worry about at that point in time like yeah even changing crypto yeah yeah exactly i think my problem said 25 deep by that point okay so for that one is that is that where we're landing it sounds a priori okay but like we should go to sign 64-bit and we just have to be a little careful about legacy you know do it in a way that doesn't mess up legacy transactions um okay so another question so someone so again uh you know i just like doing things uh nice and simple and figure we already have unions like we've already got two kinds of precondition now no precondition uh uh time bounds and then these like general preconditions so if we want to add more stuff we could just add a new kind of precondition um you know but an alternative would be to kind of turn this into a little language um like like the claimable balance preconditions and you know having like an array of different things um you know uh again the proposal could work either way um i like this way because it's simpler but if there's overwhelming uh desire to go the other way we can do that as well i guess one concern you can go first nico i was just waiting to see if anybody wanted to go first yeah i know i was like thinking that if we just do this pattern right without the array i think it would just end up growing if we add more as we add more condition even actually with the current version uh like you always use like the worst almost like max max maximum size bikewise um that doesn't seem like a you know a good property i think in terms of complexities you know we can make it that it's actually fairly simple like i would say like you know the array has to be strictly ordered by you know uh value for example right like you cannot put like that's where you have like a normalized uh form right uh you can't you have to put for example time bomb before sequence number right uh things like that um and if you did that could you expand the the possibilities yeah that's it yeah i mean this thing is like 20 bytes right if it's not if it's not doing anything so uh let's see there's one there's one two three four yeah five things so like 20 bytes um i don't know 24 because the direct duration is like 64 bits but i mean uh i mean especially for things like yeah i don't know i mean i i can make it work the other way it'll be it'll be like you know more complicated to implement everywhere there'll be like more weird edge conditions um you know i i i think that in the end maybe you'll shave you know eight or 12 bytes off the size of some uh preconditions and others will be larger and you know maybe like four bytes bigger or the same um to me i don't know like to me it's like the you know it's called generalized but it's not generalized type of thing you know it's kind of you know we want it to be generalized like a place where we can add more and more conditions and then what if i called it something less arrogant than general preconditions like you know relatives or relative general preconditions v1 or something i guess you yeah you ask for it because it's like when people call the function you're smart something you know it's not smart right uh but no no no i'm i'm just saying like um i don't necessarily think it's it's a name problem i think it's more of a yeah the pattern like what what is the pattern that we want to have here and i i can see that fairly you know maybe not in the in the far future we'll have like yeah like some new conditions that pop up and do i want to again like uh you know have like it's it goes back i guess to this other point about half the weekend yeah fractures right uh how much pain do you want to have in the uh yeah and i guess here i just i don't i don't agree that the pain needs to be uh very very high i just think there's a there's a there's like a kind of a bug in our ecosystem that we make these uh union uh upgrades more painful than than they should be part for me kind of what i'm looking at here is if we think that this is a pretty reasonable representation of all the things we'll need in the near future like near future being like let's call it the next year i mean we lived with just sequence with just time bounds and single sequence numbers for like i don't know much longer than that five years i guess um so if we think we're gonna make it that kind of length i don't feel any need to go super crazy making this uh complex and extensible but i remember seeing i don't know maybe it was in the actual proposal maybe it was in the notes for this meeting i don't remember which discussion about whether we should be like implicitly elevating and which is the way that it's currently written you need to meet all the preconditions uh versus or uh if we do something like if we care about or then probably it warrants something more complicated but i think that or also might uh might might put you into people not being able to understand what they mean yeah i mean you're certain like foot guns and stuff like i mean like you know first of all i actually haven't yet come up with a an example where or you need or that's not to say they don't exist um and i would appreciate people speaking up if they have any such examples um you can also do or by just signing multiple transactions yeah that's not impossible so i would really like to i mean especially because i think like to the extent we want to go crazy we can do that with claimable balances right like we already have a little or or we should like try to unify the languages right like which is somehow make like have a notion of precondition that can apply to both clinical balances and regular accounts and stuff and once we start doing this i'm just seeing this thing like spiral out of control um and i think it's like we're not like saying we can never do this like we can have like a you know a new uh we can add a new thing to the union like when when we decide this is this is done but like look like you know i just let's just try to be good and not perfect for this because like what we have here is just simple it's easy to understand i think it's not going to be too bad to implement and i think it will be already enabled like a huge number of use cases you know i mean as oleg was pointing out this morning like in order to make lightning really work on on bitcoin they had to go through like four different soft forks or something um so like maybe it's not perfect and maybe we'll want to make other changes but we have that ability because we have we have unions so i think this claimable balance point is worth talking about for two minutes though i mean do we think we're going to be wanting to add this kind of thing to claimable balances i'm asking because i'm feeling the pain of clinical balances in Horizon right now and how we wish we'd made the IDs more general because we built everything around accounts but it turns out clingable balances have similar properties to occur i mean the the thing that the the predicates on uh climate balances have is that they don't they they're less monotonic than this stuff so kind of intentionally like things like duration and and uh like sorry min seek age and and min secret ledger gap and stuff um they they have a monotonic property that they'll you know like once they're valid they'll they'll stay valid right there's still a maximum time bounds because we're not going to get and get rid of that in the ledger bounds but um and i think that that uh that monotonicity makes it a lot easier to reason about like when you're sort of forwarding multiple uh transactions on the same uh source account you know whether they can all be in the same block you know we don't want to have situations where someone can kind of waste a bunch of bandwidth by causing validators to forward around invalid transactions and things like that and so the monotonicity uh helps with that as well you know once you start adding in not in all these other operators that you no longer have that and it just gets more complicated to reason about these things uh nico and john any pitfalls that you see in in implementing this whether it's a an sdf team or someone in the ecosystem trying to prototype this and still a core for which part the uh the condition like the i guess the only thing i thought so so in terms of like the captain uh itself uh like at apply time i don't think there are like real problems from what i see like they are i mean it's a fairly simple change actually um i'm still kind of trying to kind of really um wrap my head around like the like the um the coupling i guess in in some of those things like the like does that only work basically in for example like they are like the limitations on the flooding that david added last night that i i read this morning in particular the the ones that are related to relative timelocks themselves i think this really only works if you basically do like the same type of setup or you have like two transactions where one kind of allows you to to gate the disclosure and then the actual right you always have to do this right it's kind of and in a way it kind of bothers me a little bit that you know we have those constructs and they don't work independently i mean like all one actually requires the other one and i don't know it kind of sorry but that's the point right you want that you want to do you want to have to performing the action should require the disclosure right you know i understand but it's uh in terms of the construct like you have this construct that cannot be used outside of of the the combination right like normally we try to make things that like for example the sequence number thing that can be used in any other source of context right the other one the relative condition has to be used with sequence numbers uh like i mean um like actually like other transactions actually it has to be paired with some other scheme otherwise it's a food gun right like uh like people will not realize maybe that the you know it's actually a fairly subtle thing right that you it you know if some evil person is is constantly kind of pushing transactions in front of you then your relative time kind of keeps moving but it's always uh you know uh not where you want it to be right and you're in in the it's not it's like you have to use it i mean there are other patterns where you could use it right you can imagine you know if my account is idle for a year i want you know my family members to be able to like uh access the the funds or something right so you could just you could do it as a kind of a a trigger for for idleness uh so it doesn't have to it doesn't have to be for that but it seems like the the most most of the cases do involve this this pattern um of disclose and then act um but i mean i think it's kind of a very useful pattern right so it is something no the pattern is useful what i'm saying is more like uh like i guess you gave an example that where i mean this is useful in a context so we you don't pre-sign many transactions and maybe that's okay right um i don't know i mean maybe so actually i thought i understood your point but now i'm actually confused so i thought that your pro your problem was like well it's kind of inefficient because it like prevents you from pipelining back-to-back uh transactions or something but it's uh it was not an efficiency uh question it was more of a uh like a potential attack right like you pre-signed a bunch of transactions and then uh you expect the that last one to just work but you don't realize that maybe there are ways to uh touch the account basically because you have all like an example of a payment channel right like you can imagine that um you can actually uh if there was no if if the sequence number was not working in a way that it would uh uh remove all transactions you would end up in situations in a situation where uh the timestamp would keep moving from all transactions right so you end up invalidating basically your latest one and that's not the one you you want to invalidate right we're not invalidating you're just uh delaying it like you sort of you're worried about something like a live lock situation where yeah someone has low signing threshold on the account and so they keep you know exactly like this kind of stuff right yeah i don't know from my perspective on this it's kind of like if you're doing pre-signed transactions like you better know what you're doing or you're probably going to screw yourself up no matter what the pitfall is but you can imagine a day where say someone provides a service that does pre-signed transactions right where where some of that difficulty would be concealed but i still think that you know like cap 21 is only going to make that less error-prone right because of the fact that you sequence something less brittle so i mean uh you know there are things you can do that are would be weird with this but uh but they would be weird anyway um i mean like you could have a situation where like someone has low signing threshold in the account and they keep you know bumping a sequence number and so my my idol thing uh you so my idol condition never kicks in and i can't execute this but they could also use bump sequence to bump the sequence number to you know max uh 64 and lock the account too right so it's kind of like you're already giving someone the power to shoot you in the head and then don't you know i guess be happy if they only shoot you in the foot instead of the head or something but so can we just kind of accept that yes there there are ways to i mean yeah it was more of a yeah like like i said like a a concern that we are adding more complicated things that you have to know to use exactly right otherwise you know i mean i guess maybe that's what john is saying like you know those are uh to be used only if you really understand what you're doing and you know in a way like i think like when i when i see the um the actual payment channel protocol is actually super easy to understand like you can you know like it takes five minutes to actually get it right like and you know it's correct uh unlike you know like previous attempts so you know to me this is like uh the big win tomer had asked about you know implementation challenges and i i agree with nikola that the apply time part of it should be like super easy i mean a couple new if conditions a couple of fields to update but like there's not really any logic here so it's i think it's actually probably the forwarding logic uh so there's two places where that's what i was going to say dude and the forwarding logic is like a little bit more complicated but i think uh you know after i kind of thought it through and wrote that new section last night which uh yeah by the way thank you nico for pointing that out should have been in the first version of this um i think it's not uh too bad i think like the main challenge will just be you know the the forwarding logic is already complicated like there's lots and lots of conditions on conditions on conditions and the main new challenge here is just the additional bookkeeping burden of things that used to not be possible for example like you receive a trans transaction that's like signum three to seven or minsek three seek number seven as david would prefer me prefer i specify it and then the next thing you receive is min seek four sequinum six and now you can actually add that to the queue and so it's all about like do our data structures allow us to do these things efficiently yes no i'm not sure probably not actually right now uh so we'll probably have to redesign that stuff to make those things fast um but like it's probably within the realm of doable just uh the type of thing that we'll have to do a kind of detailed study of like what do we actually have to do before we touch anything lots of positive feedback here yeah this is exciting okay so in terms of my to-do uh things that i should revise here um it sounds like uh well i guess we never really resolve the union thing um if if i don't it sounds like if i don't want to i don't want to predicate this in an argument about like unions and ledger state i should just dangle the extension v3 off of v2 um which is my favorite but whatever i'll just do that if i have to um sounds like there is consensus that we should have a duration and time that we should have duration and time point types that these should be signed throughout um and so i can change that in this cap and then it sounds like there's also uh kind of reasonable consensus that it's okay to stick with just one big structure with all the preconditions as opposed to trying to build a little language like for claimable balances and does it make sense for instance john you know you were saying that you would need to to do a detailed study to figure out if the data structure would allow us to do these things efficiently does it make sense to also start doing that or is that something that should happen post these revisions uh yeah i mean our general goal is to try to do more stuff in parallel than we used to so we can go faster uh we have a lot of stuff to do so i don't know when that's going to get onto our schedule david my guess is david will beat us but in theory we we can start that whenever at this point i would say uh maybe nikola descents but i there's nothing blocking us from doing that and we've we've been doing a lot of work on that code recently so it's very fresh in our mind so it actually could be a a pretty good time to do it are not mandatory to to write kind of like a you know like a quick dirty uh perhaps dirty prototype um and uh obviously if we accept cap 21 in the future and and you know merge changes you know we'll need to optimize but we can think about it let's do that first cool this this uh cap is premised on the idea that it actually solves payment channels though right so we add another solution to payment channels we'd have to revisit whether this is something we want to do or or if i mean we do have other solutions they just have undesirable properties right so this was the best solution for payment channels it would go ahead but if it wasn't then i guess we'd re-evaluate whether it was still worth doing is that right yeah i mean or or we would do that we would tweak this because probably it seems unlikely that a good solution for payment channels would not involve some kind of relative time lock it just could be that there's some other feature we need to add or something um or there's some small tweak that we need here um so yeah definitely feedback challenges like you know again it was great like lee came up with this idea of uh you know the one-way payment channels with different trade-offs and so yeah so maybe i'll keep thinking about that too see if see if we can push on that to do like top-ups and stuff in there um yeah i think what i imagine actually is that there might be more work to do as people think in more detail about the closing like what really happens when you close the payment payment channel uh like i know in the past a lot of the complexity in the uh in the starlight implementation was that balances well we didn't have claimable balances um and um and then you have like yeah all the things that can fail and then you know there's no way to retry and then you're kind of stuck um and uh yeah like thinking about um yeah like how to ensure that things are safe even if you go beyond the one transaction right like because in this case you have this one transaction i mean i think it probably works if nothing fails if everything is claimed our claimable balances uh but that's kind of you know we'll know as we uh actually go a little further yeah i mean the major major pain point was that like paying out to the responder could actually fail and so therefore you had to make sure that like you know it was a separate transaction from like restoring the account and now the claimable balances can't fail um it's like it's fantastic right it's just you can do everything and just like one transaction that like fixes the thing yeah what i'm saying is more like the limit right there's a limit of 100 operations in a in one transaction so are there cases where you have to go beyond that and if so is it just a matter of like right now you do two times i maybe it's like three times i is that all there is to it i don't know saying like yeah a payment channel with like 100 assets in it or something um that that would be interesting i think we actually could do well yeah or like it depends if you do like multi-parties you know more than two parties like you know all this stuff right yeah so yeah and i actually think all that will work but i could uh if you'd like i could add a section on a like a a multi-party multi-asset channel that needs to span more than one trans closing transaction yeah i mean there's really no reason you can't just have multiple closing transactions with just kind of successive sequence numbers as long as they never fail right that's kind of the thing no no they can fail actually because because it still consumes a sequence number they can't be invalid but they can fail right so if it turns out you'd rather pay out with an with an actual payment instead of a create clinical balance you can still do that uh it's just now you have to consider the fact that that transaction could fail therefore you can't pay out to multiple users in the same transaction you just have to have multiple closing transactions yeah and then you have like the whole like what do you do with the leftover at the end and yeah you know the leftover at the end is you just the initiator gets control of the account yeah but like that's you know i guess that's one decision you have to make on that front which is because we don't have a way to um like the only thing we can do is basically leave it leave full control at the end of the leftover to like a given party uh you know which i think you want anyway because someone had to like put up the base reserve and stuff for that account so why not let them just get control it's also it has this other advantage that it lets the initiator uh unilaterally top up right that you don't have to like do some complicated protocol to top up like the initiator can just kind of throw more funds in there and then it can either spend those or it'll get them back automatically when it uh when it closes the channel leigh are you raising your hand yeah i i have a question back on um so i think i think we're getting in the details of like the specific payment channel implementation but i i just had a thought on something that you were raising nico about um you know the foot gun of just that min sequence age um and i'm wondering if like one of the early proposals i think david that you shared um attempted to use claimant balances as like the relative timeline so as opposed to having the relative time lock in the account it existed out in this external thing somewhere else in the ledger and i think that has some like undesirable properties that you know we wouldn't want to do that with claimable balances but um is is it worthless exploring that idea of having relative time locks being like uh like a very simple small thing on the ledger they get created outside of the account um and we can define uh things like when they expire and therefore transactions yeah so actually the uh this i you know i think we could still make payment channels work if we got rid of the min sequence number but actually it would have more foot guns right i actually think the min sequence number uh is there to reduce foot guns and to make a lot of things simpler by making sequence numbers less brittle i'm also interested in lee's question though it's something i've been wondering this whole conversation like are there things that we can do beyond changing the account state that might be more powerful than just changing the underlying account state like you know recording some other state or uh you know transmuting claimable balances on a transaction exactly i was actually referring to the sequence age so i was actually meaning like move that out of the account into like some you know you create a lock and that lock is automatically locked for like a specific age or something like that okay so i mean i can tell you a couple things you could do but they're all going to be uh more complicated so one thing you could do is you could somehow guarantee that a claim claimable balance uh will never be valid and fail right so then you could kind of use a claimable balances as a kind of synchronization primitive and be guaranteed that you're not accidentally going to burn a sequence number another thing that you could do is you could add a replay cache to each account so you can have a new kind of transaction that instead of instead of altering the sequence number it like adds itself to the replay cache for which you have to pay you know a base reserve um and then the transactions would get um you know garbage collected from the replay cache based on their uh their max time or maybe based on like bumping the sequence number this starts getting complicated because you don't want a single transaction to be able to kind of delete a million things from the database just because then that would be like an expensive transaction so you'd have to kind of limit the per account number of entries in the replay cache or somehow ensure that they can't all be deleted at once or have some other operation that deletes like only up to 100 things from your replay cache um that are stale uh so that that again would that that would simplify things because again you could kind of submit transactions it would be more a little bit more general and useful than this because now you wouldn't even have to worry about the relative sequence of these transactions you could have two transactions on the same source account that could be submitted in either order and they would both be allowed to uh to execute um so i'm happy to to cook up a proposal along this lines of a replay cache and i think it would be have some nice usability properties i think it would be much harder to implement and i think it would end up having some annoying warts owing to the fact that uh we want to bound the amount of work that any single transaction can cause validators to do so there's either gonna be like limits the replay cash or limits to how quickly it gets garbage collected uh leigh do you have more to say i say you're still unmuted uh i'll leave okay on the replay topic i i have tons of ideas about this david if you want to talk about it that i want to talk about in this context i actually drafted like a short proposal somewhere uh about this that you could do this in a in a very like no storage kind of way on the ledger uh and still have no undesirable replay things uh we could talk about it offline if you want to okay would it would it is it was your proposal good enough that we should consider instead of min sequence number or talk about that no it's kind of orthogonal to min sequence number it's uh it avoids other kinds of problems but it doesn't fix those problems so but it does allow you to submit transactions without changing the sequence number it does okay yeah let's talk about flying about that cool and i think we're pretty much out of time i mean i don't know if if there's anything anyone wants to say just at the end here but it sounds like there's some pretty clear next steps any final parting words parting shots clever jokes awesome everyone well thank you for coming into everyone who's watching thank you for watching this was a nice deep technical dive into cap 21 and more to come on there if you want to uh know what's going on you can always join the stellar death mailing list and you can also look at the github repo and look at the actual um drafts for these kinds of proposals and i appreciate everyone here for joining in the conversation thanks so much you",
      "keywords": [
        "sequence",
        "number",
        "transaction",
        "actually",
        "time",
        "dont",
        "account",
        "mean",
        "things",
        "transactions",
        "something",
        "thats"
      ],
      "speakers": []
    },
    "2022-05-05.mdx": {
      "summary": "hello everyone and welcome to the open protocol meeting obviously it is the first time we're doing it in this discord channel um but most the conversation around stellar development has moved to discord and so it makes sense to kind of put it all in one place um most of the jump cannon work in fact all of it is really being done in the open here on the jump cannon channel and on the jump cannon dev channel so anyone who's interested in seeing us work to bring smart contracts to stellar can you know join in that in that discussion um so today the these meetings these protocol meetings are are here to discuss and plan for actual changes to the stellar protocol and we are focused on project jump cannon at this point and on which will bring smart contracts to stellar and we're talking here about the protocol changes that are necessary in order to accommodate it to tackle jump cannon we actually decided to break up the suggested protocol changes into a suite of core advancement proposals and at this point they're actually four different caps that are linked to three of which are linked to in the media invite one that just came in under the wire but it's cap 49 so those caps are cap 46 the webassembly smart contract runtime environment which is what we discussed last meeting um and it's basically a building block that establishes a vocabulary that we can use to talk about wasm-based smart contract environments um 47 the smart contract life cycle defines the structure of smart contracts on stellar and specifies how users can create update and remove them then cap 48 and cap 49 i think our two approaches to deal with smart contract asset interoperability um and so this meeting is being is like anyone can sort of watch it now um i believe david has a sdf role um so uh but we are also archiving this and and posting it on youtube so that people who can't be in the discord channel who want to watch the protocol meeting can watch it later so with that said you know we're talking about smart contracts i believe that the first place the first set of issues that is probably worth talking about relate to your caps john cap 48 and cat 49 deal with interoperability so i feel like there are some questions that are that are open that we might want to it's probably useful to talk about now but john do you want to sort of give an overview of where we are with those two caps and then we can take it from there sorry first time first i'm doing like a video call on discard i'm still getting a little oriented um let me uh pull up the relevant documents give me one moment and then i will give a little intro okay i'm ready sorry about that um so basically uh these two proposals um they relate to just one very simple question or simple sounding question which is yes exactly but some error cuts on that which is we have some classic assets some of which have like you know substantial value sitting beneath them uh and we'd like to be able to use those immediately as soon as you know we deploy jump can and smart contracts uh on the public network without and the uh the kind of framework here is like well ideally we can use them without anybody doing anything they just kind of work like magic uh so there's a couple of things that go into that one thing we'd like is for them to be pretty fast um tokens are kind of like the framework on which blockchain lives so that to be really efficient in order to make the whole thing efficient um the second thing is like there's no reason to think that anchors are going to instantly deploy new software to support interoperability between their existing assets like classic assets and smart contracts and so ideally it just kind of we do it for them in some sense they everybody just gets it for free basically um and there's one other requirement which i'm now not remembering um oh yeah and the third one is a security kind of situation which is that like when i sign for a stellar account at medium threshold i have like complete control over all of that accounts balances um meaning like i might be saying that i'd like to make a five dollar payment but if i have a million dollars in my account and i signed for a smart contract to control my account at medium threshold it could just make it a million dollar payment um ideally we should make it so that that situation is completely impossible you can't just sign for the account to make payments basically um and so these two caps 48 and 49 are two different perspectives on this problem cap 48 is kind of like what if i did the thing that was the most frictionless possible but if you do that you inherit a bunch of weird stuff left over from like the fact that stellar assets are not really quite exactly like your z20 assets or whatever other ethereum standard you'd like i'm really focused on erc20 just because i'm familiar with it and it's classic and old but like there are other standards that could be relevant here um but i'm gonna keep saying here c20 and you should just interpret that to be whatever standard you like uh cap 49 on the other hand is more like what if we introduce a little bit of friction but we make it so that these things really really really look like erc20 assets uh and avoid any of these like weird questions like oh like what who did that do there's no more ambiguity so that's kind of my pitch for these two proposals ultimately is it about choosing one path or the other is this like a choice between 48 and 49 that that is something that we need to contemplate and make or are they they work together or you know given john given that cap 49 49 was just like dumped this morning on the repo maybe you can give us like a high level overview and like what are the differences between cap 49 cap 48 uh yes and to answer justin's question it is an either or but not like um not like an either or and no other options exist it's like a these are two good options and there could be other good options i haven't thought of but i have thought of a lot of options and these two definitely stand out as like probably the best given our requirements um so it's like either 48 or 49 or something that none of us have thought of yet um to go over what tomer was talking about in terms of 49 because i did kind of just drop it on you guys at like 11 o'clock this 11 o'clock in my time this morning um basically uh i went over the issues in cap 48 um which are listed in the design rationale there's there's four slash five of them depending on how you think of it um and i went through and kind of designed a system that solves them so what is the functionality of before i go over how the issues are different or work out differently so in cap 48 basically the machinery is like the like asset adapter or contract that like everybody gets for free actually goes around and controls the stellar trust line um so you know like when you use the erc20 function transfer it actually goes and uses the payment operation to send a payment from this trust line to that trust line or from this account to that account if it's needed whereas in cap 49 that never happens the um the only thing that the only time the contract will ever use your trust line is when you call these two functions wrap and unwrap or like if you're used to we would call them as deposit withdraw but this was confusing to niko so i'm sticking with rap and unwrap and we can change choose whatever names we like later but i think nobody will be confused by the terms wrap and unwrap um and basically like what the wrap function does is it effectively um it effectively takes some stuff from your trust line puts it in some new type of ledger entry for the smart contract which i'm going to call a wrapable balance name stinks whatever we can change it and then it basically mints the corresponding erc20 and then all the other erc20 transactions operate on this you know erc20 type balance that's just like a new thing completely um and the um the opposite thing unwrap just does all of that in reverse and so like the erc20 stuff is like completely working on new ledger entries it doesn't use any of the old machinery at all only the wrap and unwrap functions actually interop with the old machinery and then to make all this stuff work you now have to add a few compliance functions um like you have to add auth and clawback to the erc20 side of it um but that's like super simple machinery that like i mean it's super easy to build um i looked at how people have implemented it like i looked at i was actually looking at the USDC contracts to see how they implemented the auth and it's like exactly as simple as i was thinking we would do so that was kind of a perfect fit in that sense um in terms of how this solves the problems but actually before i continue anybody want to stop me and ask some questions otherwise i'll just go over how to solve the issues that i see just uh for me to understand the there's still this like canonical one-to-one mapping between an asset and a wrapped asset yeah okay it's like a native implementation you do the same kind of thing where you like say like hey like give me the contract ID for this asset and this contract ID is some kind of like native thing there's no wildling behind it it just runs it has some interface that we prescribe um and there's exactly one of them for every asset that you could ever make that's it um and they can store data and i'm not really talking about how the data is being stored in the cap because we don't know what the fee model is yet um so like there will be some fee model i don't know who's paying for it i don't particularly care at this time and whatever we decide later should just retrofit onto that's um that's that basically um any other questions before i go on okay um so why do i like the 49 version better than the 48 version so i'm just going to go like over these the issues i noticed um so the first thing is like it's not labeled as an issue in cat 48 but it is one which is like ideally you should be able to use a stellar erc20 like a wrap an erc20 wrapping a stellar classic asset however that interface works ideally you should be able to use it exactly the same way you would use an erc20 that's not even possible in cat 48 even ignoring some of the other weird quirks that like we have to agree on some design that makes sense some implementation that makes sense because just when you initialize a contract like let's say you have a liquidity pool contract and you have like a factory for it that takes two assets which are going to be the two assets that you have reserves for well you'd have to actually check like hey is one of these assets and like a stellar classic asset even if it has an erc20 interface because you would still need to create the trust lines for it that's a bummer but at least it only happens one time in initialization um that doesn't happen cap 49 you don't need to create the trust signs the the contractor does all the magic and we don't need to be backwards compatible because it's all new machinery however the fee model works i don't know um then the next thing is like what is the issue of balance like if i take the cap 48 version and i ask the concept like hey like balance of the asset issuer what should i return if i return 0 should i return in 60 formats should i return you at 256 max i mean like i have no idea what number to return there is no sensible answer the balance of the issuer is infinite uh and also zero zero sorry i think zero i think zero is a good answer for that question but like you can make a payment from the issuer in account so surely the balance isn't zero sure it can mint right but it does it like the it's the balance of like the currently minted uh you know the current circulating supply i don't know man it's not compelling to me um at all because like in this context like the function transfer for what like the function transfer when called on the issuer actually has to me which is not how an erc20 normally works and since it like if i can call transfer i should have enough balance to make that transfer you see if the function transfer 100 would succeed then i must have a balance of greater than 100. i mean should we be rethinking uh how trust lines work in the legacy model like i i i i think it might have been a design mistake that like payment is how you create assets um like i know like obviously a lot of people expect that now but like maybe that's something that we should reconsider that like actually an issuer can have a balance uh i totally agree that i would love to change that but it would be a lot of work that i don't want to do in this context time wise when like we could just fix the interface on the erc20 side of it so that this doesn't happen anymore and that's that if you want the same behavior use smart contracts that's what cap 49 proposes this problem doesn't exist in cat49 the reason it doesn't exist in cap 49 is because the issuer now can't hold a real balance and transfer doesn't mint anymore because it's all operating on these wrapped up tokens tomer's making a lot of faces so i feel like he's doubtful about my argument here no i'm not awful about your argument i understand why like i think there's an elegance to cap 49 which is like better separation between classic and smart uh but we are putting a lot of um burden on you know downstream systems in the user to actually like to wrap and unwrap uh tokens and like present some sort of like a unified view of the universe uh that like across the across these boundaries uh i agree about the unified view of the universe i don't really agree about the burden of wrapping and unwrapping there's a section about that but obviously i dropped this on you guys like two hours ago so i don't assume you've all read it but basically my argument is like well hey you have to go and work through this whole allowances thing anyway um and if you have to go and do that you can wrap up your assets when you're doing that at the same time uh there's nothing stopping you from doing them at the exact same time uh so like since your wallet is gonna guide you through the allowances anyway it might as well guide you through the wrapping um that's kind of my argument that might not apply in the context of like the eip 20 2612 is that the one where you have the permit function i have to go and look at how that would work but i assume we can do a similar thing for the wrapping anyway uh so probably it would still be fine um okay any questions before i do another one am i am i actually being helpful here should i stop you're being very helpful john um i'd love to hear nico's take i know he's been having some uh technical challenges can anybody here okay um john can you talk a bit about um about the various authorization models um author required author revocable while backable and how they would relate to the to both cap 48 and cup 49 yeah um definitely so in cap 48 everything kind of just works the way it used to uh there's no magic to it at all uh the only catch is that like you can't do the auth stuff from smart we could make it said you could but there's like a wide variety of reasons why you should not be able to uh and that might be a problem um but the in cap 49 the auth stuff works a little differently but they it works differently in a like favorably good way everything is simpler um and we can actually fix some things that were broken or not broken perhaps but less than ideal in cap in classic so the first thing that's better is like in classic there are three authorization states you can be unauthorized authorized to maintain liabilities or authorized in cap 49 all of that still exists in classic but in smart there's only check you're either authorized you're an officer because there are no liabilities so authorized to maintain liability is the same as unauthorized so we don't even need to represent it at all glorious um the um the next thing is like we had to do this like off clock uh sorry trustline clawback trustline flag fallback enabled something like that i can't remember the name of it anymore to preserve backwards compatibility with trust lines that like you didn't believe that they would ever be clawbackable but since clawback already exists before smart everybody anything that anybody ever builds on smart should be aware of the fact that clawback is possible so we don't need that flag either sweet uh so now we solve two problems already um and so now basically the way that auth works is it's just like a single bit on your account not on your account on your like stored in the contract data i guess stored in this like wrapable balance entry type of thing um and all it does is um it says whether you're allowed to use the contract or not uh and it's more i'm like representing it more in the like completely not allowed to use the contract sense than just what like stellar classic would allow for example if your account is not authorized on the contract then you can't even use transfer from to transfer from two other people you can't even be you can never be the sender basically on this account um and that i didn't think of that originally but that is what is implemented in that USDC contract that i was looking at and that approach makes a lot of sense to me if i'm not authorized to use it for my own balances i probably shouldn't be authorized to use it for anybody else's balances either sounds dangerous so um that's the only real difference but basically like author revocable clawback all of that stuff that can happen on the contract side of it it's just determined by whatever the issuer flags if the issue of flags are currently revocable irrevocable if it's currently clawbackable you're applaud backable that's it no other magic to it so it's a much simpler implementation than exists on classic basically does that kind of answer your question oh i definitely have some other questions obviously wrapping uh you can only do from from like a classic stellar asset to a smart asset you won't be able to go the other way around right so we're essentially saying that like there will be like a new universe of like payments for example only for smart contract assets that are completely in jump can like you won't be able to interoperate from the likes of the classic uh protocol uh i want to make sure i understand exactly what you're asking me are you saying that there will be an like are you saying that basically like when somebody wants to use a classic asset it ends up being only usable and smart until they send it back or you're saying that this is kind of a model where people will be using like will be making like erc20 type assets on smart i'm saying let's say let's say i'm issuing a new asset on the on the jump can inside uh doesn't relate at all to these wrapped assets or um or to any adapter whatsoever it's just like my own you know tomer coin uh tomercoin will not be accessible from the classic protocol in any way like i wouldn't be able to use like a classic payment operation on this coin i mean we should obviously we can't prevent that but we should discourage it right like it would be a bummer if um  you know at some point we want to have like really cheap payments and trades right and so uh to the greatest extent possibly want to encourage people to use assets that can participate in you know things like speed x right i mean i suppose in this context like if you wanted something that was you know that could be converted to a classic asset what you would probably just do is actually make it a classic asset and use the wrapper right that's what i'm saying that basically like it will be uh it will be of course it's true you know we will people can implement their own assets but uh to the greatest extent possible we hope that our classic assets will actually serve the needs of kind of ninety percent of the kinds of assets people want to issue but one would hope right otherwise yes no but if i want to coin to have features that are missing from the current seller protocol then i have no other choice right so i think regardless of what we do we need to acknowledge that we're basically going into a world in which there are two classes of assets assets that are interoperable between these two um uh runtimes and assets that are only in jump cannon and like do not inter operate and it sounds like we're also saying that classic assets that already exist uh we wouldn't be able to add in like if you any of those features tomorrow that you want to add to tomocoin um if ustc wanted to add it had those same features they wouldn't be able to do that because they're it's a classic asset is that right you might migrate back into the native protocol i wouldn't actually rely on us building any new features on the old protocol i think that's uh um yeah john is smiling that's all i needed if that's if that's the case then like we're actually by doing this we're not really planning a way to bring new features to existing classic assets so is there going to be this slow overtime movement of assets that just stop using classic and then we lose the ability to have assets to speed x and things like that to be honest i think that somewhere coin is a bit of a of an edge case like if we look at like it's not like assets on stellar actually have um very true real features missing from them uh like it look like we do have a good coverage of like asset features um so i'm not offended by the idea of like issuing them still on the classic side and wrapping them i i i'd like to find a way from the the user experience to make it the the wrapping uh parts less visible and not have like multiple balances for like the same hassle uh but we can figure that out later because the you know the the ewe experience is not uh you know when you're crypto native it makes sense when you're like you know just just uh you know arando trying to make their first steps in defa it's not like the best experience yeah i totally acknowledge that one thing that is kind of missing from the wrapped contract proposal that i wrote which i did think about this morning was whether there should be mint and burn operations on the smart side if there were mint and burn operations on the smart side it would be possible to effectively issue a classic asset and then always work on the smart side and so like your users could unwrap them and then use them on classic and re-wrap them if we wanted to preserve that interoperability but like in practice everything would happen on smart and people would never really be doing the wrapping and unwrapping unless they want to go back to classic uh and so that in that world you avoid the rap step like imagine if like you have an anchor flow that instead of issuing you the classic acid then you have to wrap it up and send it smart you just like they ask you like hey like do you want this to be smart or classic and if you want it to be smarter they just issue it on the smart side um and then you don't have to do the wrapping or we could even do that by make that the default at some point that might make the ux better for some cases which maybe would be a lot of cases actually i don't know what do you think about that summer slash lee it's yeah like it complicates things for the issue and now they need to decide which side belongs on uh ideally there would be like one um especially with like these stellar assets that we expect to be the majority we want to have like a very straightforward best practice um and i think we might be just confusing the the issue with adding that functionality on the smart contract i also think we're asking the issuer to make a decision really on versus uh between scale and flexibility so we want to be able to if we want like what david said an issuer wants an asset to be used on things like speed x or on cheap payment operations they're going to get they're going to be tempted to go that scale route but then that might be conflicting with flexibility like if they want to have i don't know some sort of um sep 8 like functionality that allows that's on chain that you know maybe says you can use my asset if you uh have already been authorized to use some other asset um you know as a sort of like a kyc interface or something like that um like if they want to add something like that later on or i don't know like they have to decide at the point of issuing am i going to be a smart asset or a an asset they can scale maybe that well i'd have to think about whether there's a workaround for that there might there might be one um i'm not really sure so i don't know i can't i'd have to think about that more to answer what i think just to clarify because i was going to ask this question i think you just answered it with that lee like i'm an issuer and i'm ch and i'm and there's a choice i can choose to issue a classic or i can choose to issue on smart advantage for issuing on classic is that has better scalability maybe true i'm just thinking like if new issuers come to me the other advantages are choose to issue unclassic sorry can you say that one more time justin i couldn't hear the whole thing oh this this well basically when new issuers joined the network why would they choose to issue one classic well presumably the idea of classic rate is that your um your asset is uh very well defined right there's just like you know four bits or whatever that like tell everybody exactly what to expect of your asset um and so that lets you know the the the the fact that it's you know it's such a well-known quantity uh also unless it be like you know allows us to implement things more scalably um and uh let's you know sort of guarantee like things like auth immutable right like guarantee that there won't be weird surprises i think the big thing is that classic will be cheaper and have more capacity that's the main reason to do that on classic but like for example do we expect um exchanges to uh offer both classic and smart assets or just classic assets like well you know when when you're getting USDC or whatever um will it be a smart USDC or will just be like classic USDC it'll be classic everything that exchanges do exchanges move slow they move very slow uh and they're very resistant to introducing changes so if you ever hope for you listed on you know kraken or wherever like you'll want to make it classic that's a good point yes yeah yeah generally speaking i think that uh except for like extreme um use cases for with smart contracts that have sophisticated non-trivial logic i definitely think we need to push everyone to issue on classic and use this uh whatever interoperability scheme we decide on then i think it becomes pretty important to make it as easy as possible to do this like those mint and burn operations i was talking about they sound important now because like if we want people to get like a unified smart user experience but still have an underlying classic asset that you can like actually unwrap that would be the easiest way to get that um so we probably should do that yeah we're yeah we're about to make uh Horizon's life a bit hellish um with like figuring out these things and how to convey them to the wallets um wait but isn't the whole point of if you issue your asset as a classic asset then Horizon should just work right that's another yes yeah but the question is like if a user wants to do something on the smart side you know let's say i did something on the smart side and now i have like part of my USDC balance is on classic part of the USDC thing is on uh is on jump cannon now Horizon needs to give you know give wallet some like unified view but then why should Horizon even touch the smart side of things i agree george can you expand on on why you agree i would also love to hear more i was also like it just doesn't seem like Horizons place to make those kinds of to coalesce those separate things like if you're making them separate then they should stay separate because we just give an accurate reflection of the core's state of the world and so if you have them in two places then we reflect them in two places right well well a wallet uses Horizon as um as it's kind of like you know uh just beta access layer into this into the stellar universe right now if a wallet classic wallet well no a wallet a wallet wallet not just a classic wallet like i i don't have any smart wallets but i would imagine smart wallets maybe wouldn't well like stellar wallets would want to add smart functionality right it's not going to be like two universes that's the whole thing right you know if i have a stellar wallet and i want to be able to participate in a d5 application and i need to have access to all those information um and we need to find a way to present that information you're going to need a level of extensibility uh that Horizon just like it's not it's just not the Horizon way of doing things like maybe i have some asset and it like keeps its own ledger and like some weird you know uh compressed state or something right so like i'm actually there's actually going to need to be like kind of server-side logic for uh for decoding that right and that's not we don't want to be like loading that stuff into Horizon right we want Horizon to be stable and predictable let me let me rephrase maybe Horizon is a bit of a loaded term but we need to provide a data access layer to stellar that allows wallets to reason about what's going on on the smart side what's going on on the um dumb side sorry classic side and to interoperate with these like wrap-on wrap functions so this might not be Horizon this might be you know Horizon ng or whatever but something needs to provide that functionality and that's something is you know like we're making its life a bit difficult well i mean i would argue that that something is going to need to be much more sort of modular and extensible than Horizon right it's just going to be a totally different architecture in fact you might have many instances of this and you have would have would have some Horizon ngs that support some assets but not other assets right and i mean it would just be it's just going to be a much more heterogeneous ecosystem right assuming that people are taking advantage of the smart contracts all right camera can i try to get some clarity on what you're actually saying here are you saying that you that you want this thing i'm going to use the word Horizon and we're all just going to pretend we're talking about the same thing even though we're not um but you want Horizon this data access layer to be able to talk about both the wrapped balances and the unwrapped classic balances like the trust line balances or are you saying that you want it to be more generically useful for exploring the state of the smart contract universe outside of these asset adapter rapper things i think you're saying the first one but i think david thinks you're saying the second one and maybe you're not saying either of them stuff right now like i'm trying to think of by the way can you guys hear me i don't know how long you were talking but i wasn't able to hear you for a while at least okay can you guys hear me now yes yes yes okay awesome so i'm talking about the wrapped assets uh specifically like the this kind of like dance between wrapped assets and regular assets um and i'm thinking about uh if i'm if i'm trying to um you know just like top down design from a user perspective like the wallet experience all the experience they very um they have like this universal view in which a user doesn't have to think about you know which side an asset is on right so either the wallet needs to have these like multiple services that it interacts with or it has or needs to have like this unified um uh you know service that it interacts with that provides it with like a unified view of the world um so i think that regardless of this is something that that needs to happen uh and and it doesn't necessarily um actually yeah i think cap 48 might be more friendly for downstream so i mean maybe the problem here is i didn't read these caps because i didn't uh hear about them in time so to the extent that the i guess that there's a choice between uh explicitly wrapping and unwrapping versus like always having um uh assets be sort of both classic and smart at the same time i would i would uh you know strongly favor the unified one but again i haven't read the the the um the rationales and stuff um you know assuming that we do that right then we're gonna have sort of classic assets which are also accessible in smart contracts and we're gonna have like smart contract only assets so the for the classic assets Horizon should be sufficient right because you can access those to the classic interface for the new smart assets every asset is going to need its own Horizon modification potentially or like a lot of assets are if they're if they're if they're doing uh interesting things and so we're going to need a kind of modularity on the server side we're like i might issue a new kind of asset with like new properties i'm going to need to like also present kind of like Horizon side logic to do that and i just to me it feels like danger like Horizon doesn't feel like it has the kind of modularity and extensibility that we would want for that we should think about a more like plug-in friendly architecture there's another there's another angle to this too and that is a Horizon like right now mostly Horizon just provides access to data and uh if we just make sure that if we make it such that Horizon has access to contract data technically clients could still use that contract data to display things like the balances or whatever you know they can look up in the contract data the same way the contract does um there's some downsides to doing that but that's one way for us to sort i guess kick that can down the road a little bit you know we can but they can potentially be services that uh show some specific balance format for specific types of assets it doesn't have to be a Horizon though clients could just use Horizon to get like the raw contract data actually i think that's that's sort of like the model that um of the first demo that paul had posted into the jump canon channel he posted a demo where um you could use this Horizon like service to just get the raw contract data and then the client can interpret it however it wants uh john um is the main difference in terms of the interface between cap 48 and cap 49 like ignoring the wrapped asset part but the other main difference just being supporting having that total supply um that's the other interface difference and then there's a couple other like ambiguity improvements like it's very clear what the answer of balance of is in all cases even outside of just the issuer case in cap 49 like is the balance the available balance or the raw balance this is one of the things that i like kept coming back to when i was writing cap 48 and i don't think i was consistent everywhere but in cap 49 like there is no notion of the available balance from the context perspective it's just the balance so like there's there's like some interface improvements in that like you get the total supply and cap 49 you don't get in 48 but like the interface is also just more logical in cap 49 like i don't there's only one right answer basically in cat 49 for every function it just does the thing that you expect it to do because there's no other thing that it could possibly do do we have to keep to the erc20 interface exactly though like i i could see it being if we can solve the other problems so if we found a solution to total supply for cap 48 we could say okay there's actually two balance functions there's you know the balance of and available our balance of um in the stellar ecosystem is that fair and we definitely could do that and then we could basically say like hey like you know when you implement a token on stellar what you should do is implement both of these functions and probably there you want them to be the same function they just have the same implementation we definitely could go and do everything in reverse uh so yeah a little bit ah it sucks okay maybe i need to shout or something uh it's good enough okay uh now i was going to say like the the uh like the reason we have this on the classic side is because of liabilities right and actually liabilities we could have implemented that differently like in in smart the way you would do it is actually you would move the actual liquidity outside of the account right so i think like you know like an offer basically would be you would actually move whatever you want to sell in the offer like that's not the way we did it whatever uh but that's right to me i don't know if we need to expose those two concepts like balance wise like the available i mean the usable balance is is the thing you want to expose like you know the fact that we that whatever is locked in our office i mean this is uh not interesting i think from a smart contract point of view it's not a it's not usable like it's not available right i mean the main downside of that though is like things that should be true cease to be true like you should expect that the total supply is equal to the sum of all the balances that just won't be true this feels like a minor detail to me like the distinction about how we would expose these two values because we could just choose one or we could just expose both and doing either doesn't really break i don't think doing either would break a contract's ability to um replicate what you know what's happening on other chains is is that not true i i don't know if it's true but like if your goal is to make it so that these tokens interoperate perfectly with what people are accustomed to using which is my goal here like if i could i would just like take the stuff that people have been building on for five years and just like build exactly that stuff on seller because that's how we're gonna get the fastest adoption and any place where it's not exactly obvious how it works exactly the same that's friction that's going to start with a slow adoption and if it doesn't work exactly the same then it's really going to slow adoption so like the first step is like is it obvious that it works exactly the same if the answer is no you probably have a problem and then if it doesn't work exactly the same you have a second problem so that's how i feel about this it's like anything we can do to make those answers like this is so obvious that you don't need to think about it and it does exactly what you're used to that should be our goal i don't know if people disagree with that goal but i i think it's a really good goal like my goal would be to make this so stupidly easy for people to use because they're so familiar with it that they want to build right now immediately you know and unless there are things about the way that systems currently work that people hate uh there are and that that eip 2612 thing that i mentioned was something that tomer pointed out that some people found a big improvement about something that people hate from erc20 so like it can be better but um all of these things work better than classic stellar assets i think at least for like the needs of smart contracts so i mean i guess we have about 12 minutes left in this meeting do we do we want to keep like i know that there's a few other um sort of questions that came up um outside the interoperability questions do we want to take this time to discuss those or should we stick with interoperability there's contract management questions that i know there's cat 47 talks about instance stuff that we want to cover especially because the cap 48 49 discussion for now i feel like there's a lot to think about and discuss it does feel like we got to a natural lull do you want to talk about the cap that you've been working on yeah i can start with the cat 47 uh so all right cat47 just specifies how contract management would work actually creating update and removing contracts so it's know relatively simple compared to cap 46 and 48.49 uh lee had some questions related to this i think the most interesting one was uh we we allow mutable contracts uh and the cap doesn't specify any versioning right now uh so one of his questions was that if you if you allow immutable contracts how would you identify uh which contract version was used for a specific invocation currently there's nothing in there that you would have to you know replay history and go look at which contract entry was used as specific invocation um uh so yeah so the least question was around you know auditing which contract was used uh i'm not sure if this is something we should add lee do you want to talk about this um yeah i mean you you basically you basically set up like uh i i just i think there's there's two components to it identification and then referencing um so uh there should be some way i think for someone to speak concretely around about a specific version of a contract um like you should be out there are going to be apis that expose information about this is the transaction that executed this is what it executed on um there should it makes a lot of sense i think for those apis to be able to point exactly to the exact code and maybe that's just a hash of the code um and if if so that's that's great we just need to include that in the cap um maybe it doesn't even need to be stored on the ledger i'm not sure um if that's important uh it could just be a hash that's not actually stored and you have to calculate it if you want to calculate it um there just needs to be yeah and i i guess in terms of storing in the ledger like the question i had was like you know do we need to install that in the transaction results or meta or something like that so that there is something more concrete or do you just have to know this transaction executed on ledger five and if you go and look at ledger five um at the the state of the ledger you can see that this is the contract that was there um yeah and like if we have to do that that just feels a bit ambiguous okay but i think uh nico may have mentioned something around uh you know there's a cost obviously to storing um 32 byte hashes for everything um and so maybe this is actually not realistic to store like that everywhere a contract gets used or something so nico i don't know if you want to expand on that seems to be having on and off issues connecting to this yeah i can hear you right now tomorrow you have been cutting in and out a bit though from time to time yeah um is this something that downstream systems can do you know when they index uh changes they can uh also index uh what what version of the contract uh caused these changes i think so or at least maybe um george uh might be able to shed some light on this i i think one thing we have had some issues with like backfilling some of this data in the past um so i think one example would be you know claimable balances don't track who created them and it would actually seem simple for us to say oh yeah downstream systems should be able to just figure that out but it was actually really challenging i'm actually not sure if we actually found a solution for that maybe maybe there's going to be an ask to the Horizon team who are sort of experts in this field yeah i would say it's pretty hard to say right now especially for me um i mostly joined as a listener so i'm not super familiar with how these caps are suggested to be implemented right now but i do know that like we have the the key value data access model that paul is working on um which provides access i guess to contracts but maybe not so much how those contracts have been interacted with so that's definitely tbd from the Horizon side i will say that i felt a little bad in retrospect about the not putting who created a claimable balance on it earlier drafts of the proposal had that feature and we convinced ourselves that it was a that it was a waste to do it um which was basically just saying like yo Horizon y'all figure it out which like maybe wasn't super nice in retrospect but i understand why we did it at the time and i don't know if i don't know if i would like even knowing what i know now i'm not sure we would have done something differently for that particular case um but there definitely is some like potential risk for like caveat in the future like i could imagine people wanting to know exactly what happened even on chain like hey like this contract had a bug in it like let me write a contract that goes and identifies all the bugged out data like i could imagine doing that uh or maybe you do it often i don't know i'm not sure um but uh i don't think i don't think we should just assume that the only obvious thing is to push the problem down downstream yeah i think that's fair and specifically because in this case um the identifier or the reference whatever call it could be derived from the data itself so i think like the claim balance created creator example um is more challenging because it wasn't actually derivable from the immediate data from the claimable balance itself whereas in this case it is like if you have the wasn't code you could hash it and if we say the ID is the hash then um it might not be the button one thing i was talking to slightly different topic but still related to like code versioning stuff that i was talking to darth about yesterday afternoon  was about like maybe the state of like and like start had some reasons that this is like maybe not a brilliant idea and i don't claim it is but like um basically like the idea that i kind of had which was weird was that all contract code is mutable there are no immutability flags or anything for it but it's only mutable from within that own smart contract so basically if you want to be able to redeploy your smart contract you need to write a function that can redeploy your smart contract if it is missing your contract is immutable um if it is there then you can redeploy your smart contract using whatever scheme you want for signatures and stuff so the main advantage i see to this is like you get immutability for free and you get mutability for free but if you want me ability you just have to build whatever readability scheme you want um but the uh the cash that's pointed out that made me think that maybe this is not so smart is he said that if you accidentally bork your contract and forget to deploy your redeploy function you're dead you're just straight dead so um yeah that's that's your risk basically yeah like we i think we uh concluded with the idea that maybe it might be a good idea to allow both you know you can update the uh the contract with update uh manager or update contract app or you can allow the the contract code itself up to upgrade the contract let me obviously have to think about this a bit more but that might that might be like that might be a good idea if you update if you deploy your contract um when is the new contract available like the current ledger no it'd probably be the next led you're right yeah it'd be the next ledger it would i guess the the operation would basically be like hey at the end of this ledger write the new code uh kind of like the same thing as like when we were working on speed x it's like a speed x create offer operation means like hey when you go into the speed x phase make this offer and try to trade it so there's some interesting applications of that you know you could write a contract that actually contains multiple versions of itself and it could change which version of itself is currently going to be deployed based off some other inputs um yeah that's it's intriguing it's funny you say that because i was thinking about things like that too i was thinking about deploying a client that can write itself back to the chain uh which i thought was just like intriguingly weird but there's some examples of like twines that can write themselves back even under this case of corruption so like you could imagine a contract that could have its data corrupted and then write itself back to the contract anyway which is pretty neat i have no idea how that could possibly be useful but like there probably are useful versions of these kinds of machinery it feels like a good thought to end on since especially since we're out of time um so we are going to be having these meetings weekly i i don't know if we're having well we'll sort of deal with scheduling in the background but so for anyone who's watching you you can find them in this channel um we're also going to be discussing this stuff asynchronously in the jump canon and jump canon dev channels here on discord um thanks everybody i will talk to you all soon you",
      "keywords": [
        "smart",
        "contract",
        "classic",
        "thats",
        "assets",
        "theres",
        "actually",
        "dont",
        "asset",
        "which",
        "thing",
        "these"
      ],
      "speakers": []
    },
    "2022-05-19.mdx": {
      "summary": "welcome everyone uh we're trying out something new by holding the stellar protocol meeting here on the stellar stage in the stellar dev discord um we've been experimenting a bit with platforms the goal is to try to have these meetings in public so that people can see what's going on and can ask questions and can understand uh the thought process behind changes to the stellar protocol um but we also want to make sure that the platform is not buggy that it works that it's easy to reproduce the meetings um and it's that it's easy to attend them and so we're hoping that this works um we've tried a few different things if this doesn't work we'll keep trying things until we get the right fit but we'll see what happens today so uh bear with us um i will say that these meetings the stellar protocol meetings are designed so that we can discuss upcoming changes to upcoming versions of the stellar protocol in order to advance the protocol to meet ecosystem needs so a lot of the times what we discuss are caps core advancement proposals and this is where sort of new features that we're going to add to stellar are big changes to the stellar protocol uh start right and they are essentially technical specs that outline changes that we plan to make to the stellar protocol and um anyone can read these caps they're in a public github repo the discussion for these caps happens on a public mailing list and some of them also here in the stellar dev discord again if anyone is interested in this process or in understanding the caps um or in leaving feedback about them or asking questions we encourage you to do so and in fact if you're going to follow along with this meeting it's a very technical meeting so i would suggest taking a look at the caps in question at the moment we're focused on project jump cannon which will bring smart contracts to stellar and there are actually we've sort of modularized our approach to this we're taking different segments of the engineering work that needs to be done to make changes to the protocol to allow for smart contracts and created a series of caps each of which sort of addresses a specific portion of that work and so at the moment there are actually five caps that relate to smart contracts we have 46 47 48 49 and now 50. and over the past week there have been some changes to cap 46 and 47 and cap 50 is a new cap um today we're going to start to continue the discussion about these things and um you know as part of that we we certainly again encourage you to take a look at the caps encourage you to take a look at the mailing list and we in these meetings try to address some some questions synchronously that are important to discuss together but a lot of the work also happens asynchronously so i encourage everyone to follow along with that and so today um it's a fairly open-ended meeting um and i think i i don't know i i'm not even sure the exact best place to start i know that there may be some stuff to discuss on cap 47 i don't know if we're ready to discuss cap 50 yet or if we still have open questions about cap 48 and cap 49 um so i guess the the first question i have i guess lee is not here i know that there were a few questions about cap 46 but it looks like sid you may have addressed those questions um maybe we can get a quick review by john over cap 50 and the latest changes made there perfect thank you let's do that done great um we can open up there although i do think we probably should go back and talk about 47 what's in earth later i don't think we've actually spoken about it much in any of these meetings but let's let's start with some overview of what's going on on 50. so cap 50 is uh if you saw the the first draft that came out i don't know about a week ago uh maybe a little more than a week ago it was really focused on just like um the question of like what does it mean to sign smart contract transactions on stellar the scope of it over the course of the week as i thought about it and talk to people a lot of people a lot of times really change from just like what does it mean to sign but more of what does it mean to do and what is the ownership model that we think should be like the default basically of owning it like basically like what does it mean to take an account uh take an action where your action affects some assets that you probably own and so basically like uh in terms of what's in cap 50 and what has changed in the most recent uh edition basically it opens up with um with uh let me actually look at it while i'm talking about it it opens up with some comparisons against like why the model that is used in ethereum is really effective the model being basically like you can take actions in general for message.sender in ethereum uh there are some exceptions you know where you use signed messages and stuff but you know prc-20 tokens for example kind of a bedrock aspect of ethereum are based on this notion of like if you're a message.sender you control the assets and you can do whatever you want if you need to delegate that control you use transfer from which works via an approval message where first you were message.sender to commit that approval so this is the same kind of model that i then propagate to stellar and so we introduce some new types of transactions basically which i'm talking about here is like an invoke contract transaction uh this transaction starts off looking just like a classic seller transaction source account sequence number fee all the stuff you're expecting to see then the next set of parameters are basically like what contract do you want to interact with what symbol are you looking up what parameters are you going to pass that function that corresponds to that symbol if it exists and then a read write set which i don't talk about at all and has nothing to do with this cap and it's really more to do with cat 46 i'm not going to talk about it then the next thing that introduces like okay well like who is running this transaction like when i ask who is message.sender or the terms i'm using is like this get invoker function uh host function what is it going to return when i run that contract and so basically there's a new signature slot that basically identifies that uh that person that key um and then there's one more layer outside of that which has your normal stellar decorated signatures and there's a ton of justification about like why that's a good model uh why certain things are done like this like why do you have this like three deep nesting of structure and all this other stuff why shouldn't you you know just do signature verification in every contract why shouldn't you do replay perfect prevention every contract all the stuff kind of ties into it but um that's kind of what's in here so john one thing that strikes me here is that it's a fundamental shift from the stellar the current stellar account model in the sense that um you know it doesn't have the all the kind of like the high level uh stuff that you get in a stellar account it really boils down to like a single signer account right yeah exactly and i think there's like a lot of merit to this model um mostly because like one of the things you get from like having a stellar account is this like ability to have multiple signers but like in reality we use like 80 25 519 and you can do a threshold scheme for that anyway so like you can just sign with a signal signal a single signature on chain that is like produced to be a multi-party communication multi-party computation off chain get a lot of the same results as you know having an account with multiple signers uh the other things that are on the account uh there is like when you're running a smart contract you don't have access the way that i'm proposing that we've been talking about things right now you don't really have access to like your native balance your native trust line directly uh so there's no need to have an account to store that balance instead you would potentially do like a cat 49 wrapped xlm type of thing um you don't like you can use a different account sequence number you don't need like if you want to have a sequence number you uh with the same key you can but you don't need to so basically this is just like a strictly more flexible model that's going to be more efficient on chain because everything boils down to a single signature that's my stance at least yeah it's worth mentioning that even if you use threshold signatures if you want to rotate keys you still need to modify the the key which is basically not an option here uh that is sort of true there are two ways you could do threshold signatures i'm like not an expert on photography but like if you want to rotate the underlying key like for example if you're like underlying secret key was compromised then yeah you definitely don't have that option here but if you just want to rotate the key shares that's actually possible in a re-deal in like a in a threshold system that supports redealing so it depends what what level of security you're looking for here interesting and what's the relationship between the classic stellar accounts and these new jump cannon accounts none whatsoever like you might have an account that's like gabc uh and you know you might want to sign for you know your smart contract interactions as like gtomer assuming that you actually had the secret key for that um vanity um basically like in terms of running like in terms of becoming the invoker the message.sender you don't need a seller account to exist for that purpose it it's totally completely logically separate i guess as long as you control the key you can become message.sender i think the distinction is not the jump cannon there are jump cannon accounts and there are stellar accounts i think the distinction is that there are stellar accounts and john cannon doesn't actually have accounts jump cannon just has signers or signatures that's a really good way of putting it lee well you you still have a concept of an account on on the jumpcat side but it's more of an like it's like an emergent behavior thing right it's like the sum of everything that this signer um you know owns in different contracts becomes the account it's like an abstracted uh yeah i mean you you couldn't describe it like that um but i think there's no physical representation yeah i think there's like what the protocol defines um and the protocol doesn't actually define an account in the encounter in the cap50 proposal so i mean the ecosystem and tooling can all refer to these things as account they can treat them like accounts they can display them in that way but the protocol doesn't actually enforce that like it does today in principle if everybody hated this get invoker mechanism even though it's like very it's exactly parallel to the message.sender mechanism in ethereum but suppose that everybody in the stellar ecosystem totally hated it uh the proposal actually described so you could just completely ignore it and like everything would work because uh oh that's actually that's one thing i should point out compared to the earlier version that you and i have discussed tomer this version actually makes the invoker signature optional um which was something that came up when i was talking to nico about like there are lots of times when you just like don't need an invoker signature like the contract will never ask who the invoker is uh because it's not relevant and the invoker's saying friends in ed25519 where you need to reveal the key also ends up being like 96 bytes and you just like y sign with some random key for no reason you could just do nothing so if people don't like this mechanism ignore it i'm still trying to wrap my head around the interaction between like from the user perspective you know they have like a an account on the stellar side um and like what happens when they move you know let's say we're in the world of cap 49 not that i'm suggesting we should do that let's say we're there and i move an asset to the smart side um and let's say that my my classic side has uh some sort of like multi-sig baked uh multi-sig scheme like what would be like the the the behavior here the expected behavior that's a really good question i think it um it depends on what the wallet kind of wants to do for me the kind of same thing to do would basically be to let's say this is the first time you're interacting with smart the wallet generates a new key for you or it asks you if you want to use some key that you have um but probably it should just generate a new key for you and then like uh somewhere in this proposal uh there's like a lot of stuff here now uh in the like compatible with cap 49 section wrap um it basically what you end up doing is you end up signing with the whole multi-sig configuration on classic that you need you run this rap and it'll be at the medium threshold i should say you run this wrap operation it wraps it up into a smart asset in the cap 49 cents and it sends it to that address whatever address you specify now that's the address that owns it on the smart site so i'm expected to migrate to a new account ID if you don't have multisig setup you don't need to um if you do have multi-sig setup and you like you uniquely control the key you don't need to like for example like imagine that i have like you know three hardware wallets um and i need two out of three of them to sign to do anything on my account well it's perfectly fine for me to do the public for me to use the master key uh i'm the only one who knows it but like if i'm not the only one who knows the master key then that's not going to work so it really depends a lot on the configuration of your account but you should propose address is going to be the same no do we propose a new stir key for the jumpcat inside for these account IDs i don't know uh that's a good question homer uh they're maybe maybe we should yeah i mean you will need yeah you will need that anyways for yeah if you want to deposit into contracts so i think the like the dangerous thing here is that i have an account on the classic side it's a it's a account it's a multi-sig and let's say that the the master signer is is uh nullified and now i ask someone to send over an asset on the smart side they use that uh like the public account ID and now i don't have that and so i'm screwed indeed if that happens you are completely screwed sounds like a pretty big footcon i mean in general on smart and this is like this is not unique to stellar this is like true on ethereum with the rc20s too if you send money to the wrong address bye bye money like it's not like seller where we're just like oh that account doesn't exist sorry um yeah but if the wrong address is the right address and it's on classic that's that's problematic yeah that's that's the big problem the fact that they're like two domains and you have like these addresses that are valid in both domains but actually mean different things that's that's like a a huge foot gun uh so i do think if we're going down this route i would definitely say that we need a new sturkey for accounts on john cannon well and or a new way a new new type of account on classic right the people should create deterministic accounts on classic that don't have a master signer so you can't accidentally use the master signer but yeah having a different circuit i guess would would mostly do the same thing huh that's actually not a terrible idea it just seems kind of wasteful to me to require a classic manifestation of an account to do stuff on smart there's there's actually no dependence on that thing having any physical manifestation so like requiring it to come from a deterministic account just seems like super unnecessarily fast like a lot of them you know i'm just saying then you can't interpret a deterministic account as a um you know because like a deterministic account would have a difference turkey right and so people kind of moved over to that i mean i guess the question is is the plan to kind of like completely junk classic uh and get ready for is is a plan that like you know classic will form the basis of like a super low cost like high performance decks and payment network right so in the latter case it seems worth it to like say that because these smart contracts are designed to interoperate with classic we should like make use of the you know this author did the we should have like a single sign-on if you will for both sides of the network but if the plan is eventually to deprecate classic then maybe it makes sense not to have single sign-on i mean like single sign-on is a myth no matter what in the world of smart contracts what if i just build a smart contract that doesn't use the same scheme like what if i wrote a smart contract that actually just does the same thing as the current get invoker scheme you know it does it by you know you submit a single signature i validate that signature and that's that yeah i mean you know of course you can you can implement crypto schemes that aren't even supported in classic or whatever you can do anything it's a smart contract well the question is what are we going to make like super easy and what are the idioms that we're going to um kind of train our our developers to use effectively yeah john i i definitely agree with with david here because if you look at both cap 50 and cap 49 there is um you know they kind of imply that you know we expect everything to kind of like move to the smart side um in reality if we want them to coexist then you know cap 49 cap 50 are i would say simple from a protocol perspective but they introduce downstream complexities across the ecosystem of having you know two types of accounts and two types of uh of balances so the question is uh you know does it actually make sense if we do think that they'll coexist you know what david proposes like for like having this like another new account that you can migrate to it's a minimal it's a different type of account it's a minimal it's a single signer account but it actually has representation on both sides uh that might be um you know something that that's worth considering if we expect classic and jump cannon to coexist yeah i actually just want to jump on that and just just emphasize this you know that two sets of keys like two sets of accounts um i think we have to evaluate this in the context of the goal of um equitable access so this is a like all of this complexity for users is maybe easy for someone who is immersed in the crypto um like in the blockchain space um but for for your average user who is an immersed in in blockchain technology um that's a pretty high bar um of complexity to to navigate yeah and it's not it's not just the absolute complexity but kind of the the shape of the curve leading there like in an ideal world the sort of the the um expert there's kind of a smooth line of like the amount of expressivity you gain versus like your expertise right and so like if you start just using classic and you want to write your first smart contract it's actually there's like a relatively gentle on-ramp to get uh get you doing that right versus okay now create a new account type and whatever and i don't know what i don't understand is david's proposal doesn't eliminate the need for having two sets of keys like you just end up with like okay like now i have a classic account a normal one a g account i'll call it um in the in the terminology we're using an eternity ago when we were talking about deterministic accounts and now i'm going to create another account that's a d account that has a different key and i'm right back where i was so i don't know my interpretation of david's uh proposal is not uh to maintain these in parallel but you know you get an option to migrate to this new account type you know the account this d account is a single signer account that's valid on both sides and from that point on the user uh the user doesn't actually interact with with the g account anymore like they they have like this one time migration and presumably new accounts are this d type but by the way i don't actually think this is necessarily better right like i think that our you know maybe the concept of uh just like you know account authority uh is is something that makes sense to just kind of expose in the smart contract world right and say like well these aren't smart contracts and avoid their smart contracts intended to interoperate with uh the legacy uh  stellar accounts and so to just kind of like expose that the way you know we expose single sign-on across multiple services is is a useful thing is there is there like um again what's the driving force for like why we can't have this key signature be the decorator signatures we have today and instead of uh having the source account be message.sender so like the account the classic account ID being message.sender which means contracts still are only dealing with a single identifier like you know they're dealing with account ID or contract ID as the message message.sender and then the protocol just hiding the fact that you know for the most of the time that's going to be the master key but sometimes there might be a multi-seek key but contracts don't actually get exposed to that so from the contract from the jump cannon side it's the same experience um it's an account ID or it's a contract ID and that's it um and uh like i think if i understand correctly the thing we were going for with key signatures is that accounts don't have to exist and then we just say that an account ID doesn't have to actually exist on the classic side for it to be usable on the well i guess it does doesn't it okay sorry no it doesn't like it's this it's actually the same in classic right like you you don't have the account doesn't need to exist to use it like you you can if it's a single uh key like you know like you can always reference it and use it in different schemes like you know as a signer for example it's just a key so i'd intended to write about this before this meeting today there wasn't enough time it's on my list of things to talk about like why it should work this way and not be just the account signers signing for it but at the end of the day my justification just comes back to pre-signed messages all the time for this which is that if we don't expose what the account signers are what does it mean to have a pre-signed message let me give you an example imagine that you're writing an erc20 token which is all my examples nowadays because it's like super fundamental token that we're all familiar with um you have these uh these operations you know you have balance of and allowance and approve and transfer and transfer from and blah blah blah blah blah blah blah and in this model everything still works based off of message.sender so now what i do is i sign with my account let's say that i have a two out of three multisig account like i was talking about before with like you know i own three hardware wallets i sign with two of them that's how i do stuff the account only gets message.sender which is my source account in this model okay but now i want to implement eip2612 permit how do i do that like how would you even default um how would i even define either 2612 permit also i'm seeing people complaining about my mic volume uh okay david then you should just adjust your uh just my volume for you everyone sounds good it's just some people are much much louder than others so i have to like constantly adjust my volume which is annoying but if you right click on me you can adjust my volume to you anyway oh awesome thank you yeah i got you um so how would you even do eip2612 permit um like the way that that works is it works based off of signing a message for the public key and that was message.sender um okay so basic and like what signatures do i use now like do i use the account signatures then it's not transparent um i have to go and actually look up the account find its signature find the designers check them against that blah blah blah blah blah blah or do i just use the single signature for the public key which is the very much more computationally efficient thing to do but it would be wrong it wouldn't convey the right access controls can we uh maybe like i think there are like two problems that we are that we are trying to deal with here there's one uh around i think and i think this one exists even in the current version of cap50 like regardless that is when i give somebody my address right like my public address um how does it look like if i decide to upgrade my account you know when i say upgrade to my account to a smart wallet like i really want to move all my balances and stuff right under my wallet so how would that look like i don't think the current proposal kind of allows you to deal with this type of situation um and then for the for the signature scheme like um like why not so right now we have keyed signature now that it's actually inside i think what we can do is actually make add a new case that would be like classic scheme or something right that that is just uh account ID and then threshold and then and then and then the decorated signatures and that's it and then you can actually use your like the invoker can be an uh a classic account ID which means you can actually use that as a you know when you as a recipient for anything really and then you have the threshold like you do on classic great but then right back to the eip2612 permit like you still have to go and act like if i'm a contractor implementing the ip2612 permit i have to actually go and read the account look at all the signers check the signal no no you do you wouldn't do that like you because you never sign like to sign something like when you sign a a payload what you the the statement that you have is here's a binary blob right that you want to sign as a specific invoker right um and then here the signature is fresh like like basically you have to sign a statement that says um those signatures when you add them to uh when you um yeah like uh evaluate them in the context of this account you reach this threshold you cannot guarantee that i don't understand how the account could not go and like could avoid going and checking the contract could avoid going and checking i just i don't see how that yeah yeah well it's the same uh like well that you mean verification wise is that what you're asking that's that code is uh yeah that would be like uh like we need a a function of source that is like verify right that is suppose the classic scheme i think that's kind of all there is to it but that has quadratic complexity yeah that's okay like it's really not no like it's all about what is it no no like it's gas codes right like if people want to do that they're not blocked from doing it but it's like really really expensive whereas like just checking a single signature i'm not saying to remove the single signature i'm saying that you you have a way out of the uh like my public address is g whatever and i i don't if somebody you know like sees my public address and decides to send me funds using smart i want that to not go to the devnet and then you want the contract in uh you want the contract implementer to go and implement both verification methods i mean what you think is we could also have like a you know like a parameter type or something like a signed blob or an account authenticated blob that would that would be um you know it would be uh checked uh independent before executing the contract basically like maybe we don't need to verify dynamic data like all the signatures can be checked statically we're getting into the area of being like super parental and telling people how to write their contracts when as a matter of fact you know they already have especially things like the the type of bridging applications that need this type of capability they already have implementations on other networks we don't want to be to parental i i think i'm on i'm on john's side with regards to keeping uh simplicity uh you know as a core value and and really like zooming in on these like single signer accounts um but i'm really concerned about the interoperability uh aspect um you know for the ecosystem and i do think that having migrating to some sort of like a new account that is a single sign or simple account uh that you obviously you can only migrate to um you know if you if you have a single sign or a current account uh but having that being um existing on both sides uh is something that the ecosystem can tolerate it's a little bit more complicated than that tumer it's not just that you can only migrate if you have a single signer it's that you can only migrate if the only signer is the master key and that means lots of accounts will be locked out yeah so i so what i see is uh you know like your wallet can uh you know obviously there's like a migration thing and your wallet can tell you hey uh if you want to work on smart you need to migrate to this new account um most accounts by the way are just you know like single signers and they do have a hundred percent uh of the of the like master weights so i don't actually think that's a problem uh but you know your wallet can tell you hey like this is uh um you know this is like the new type of account if you still want to maintain your multisig these are like other ways um you know you can do multi-sig in like this brand new world but but the thing is that that migration happens once right i don't have to actually as a user as a well while developer need to i don't even think about about this every time i move between sites yeah i think it makes it pretty difficult for wallets either today or that are developing for standards like sub 30 for example to be able to to then it will also interact with this world um like we're still sending people down this track of like you need to have two sets of keys um because the migration path is not particularly clear i think otherwise or we're saying like you have to migrate all the way to this only smart only jump cannon construct like how how like how would you have multisig on jump cannon and multisig off on classic at the same time with the same account is that doable i'm i'm proposing like not to actually ever like having just a single migration and then you're in this other world which is both classic and jump canon but it's on a simplified account model now if you have a multi-sig account on right now on stellar then we can think about ways to either you know either do threshold signatures or just actually deploy a multisig contract the same way that multisig contracts are on you know ethereum and other ecosystems what you're describing is every account that exists on the network today that uses multisig deploying their own contract on jump cannon that is one option again that's only if you want to interact to interact with jump cannon right so if you're a vibrant user and you don't you know you're not using any uh smart contract uh like these are not things that we need to have figured out like the first um you know like at launch uh and yeah it does not have to be like one contract per per wallet right it can be obviously the parity wallet is not a great example but the parity wallet was like a single contract uh that provided multi-sig for a lot of a lot of accounts right you hear that while it's super secure in fact nobody's ever been able to get their money out of it yes it is super secure i mean i still don't understand the whole like i call immigration thing how does that i mean like if if you look at some of the interesting accounts that are multisig right issuers like are we saying that changing the issue are probably key no i'm not saying i'm not saying that at all i'm saying you only need to uh to migrate to a new type of account if you want to interact with um with jump cannon and cap 49 proposes that exactly but like to a much greater extent right you need to every time you move between between the like i'm i'm talking about the issuer why would the issue where needs to need to migrate well they don't want to have like any presence in jump cannon they will have to use a different account i guess um i think like there will need to be a distribution account uh potentially that if they want to interact with smart contracts they need to be on on smart but i you know i think that depends a lot on the the asset interoperability story uh which you know we still need to think about can you just tell me what this migration looks like like i want to mic you know i want to migrate from my classic account to a smart account what is what has to happen i actually have to like somehow move balances or does it just like transmute balances and annihilate the classic key the very simple happy path for something like this is that you log into your wallet your wallet tells you hey we have a lot of new functionality uh on smart contracts but for that to work you need to migrate to a new account let's call it a d account um it takes you through the process and once you end it you know effectively like merges your account uh and and i'm saying happy path meaning that it's there's just a single signer and it's a and it's the master signer and then you know now you have a d account and you can either operate on regular stellar classic you know make classic payments and such or you can operate on smart contracts but it's a simple account you cannot you can never actually do on-chain multi-sig uh the way that you did with your previous account i don't know if we need to explore necessarily like yeah like in this meeting like the actual this actual migration flow it sounds like it will have a lot of edge cases uh like i'm thinking like from a kyc point of view right like you have a bunch of trust lines like you probably i mean you need those d accounts to have the exact same public key because that's what got kyc all you you deauthorize trust lines you know that's another option but you know things like that yeah again like happy path constitutes of accounts that are very simple they have a single uh master signer uh and and assets that are for the most part um you know the overwhelming majority are not asset not auth required or um and and can can easily be moved cool yeah just that that's all i was hoping for was a very quick explanation to like help clarify in my mind what it was that we were talking about um thanks i mean like i need to think about it more i i'm like i'd really what i really would need to do is go and like look at what the current like configuration of accounts network wide is you know there's like 6.7 million accounts or something like that can most people actually just migrate to a new public key meaning that like their master weight has weight one all the thresholds are equal to one if that's the case or i said migrate to a new publication migrate to only their public key if that is what most accounts are like then like maybe this is reasonable if most accounts aren't like that or even if many accounts aren't like that then i i don't think it actually gets us anything there's no worth there's no worth poking holes in it because it's just like not general enough to be worth considering so i need to go and like you know hit up uh hubble and figure out what the situation is wait hold on quick i think the alternative people still can't use uh smart except now they could lose money if people accidentally send the money on smart i'd rather have a world where most people can't use smart than one where most people can't use smart but it looks like they can and so money gets destroyed yeah i also just want to point out like we can research this with hubble but what we should also evaluate is there may be a lot of accounts on hubble that are not actually meaningful um and whereas uh we should also have a look at products that are getting developed uh either recently or in the future that we know of that are getting developed on stellar are they using multisig are they using things like sep 30 um how are those products like what's the story going to be for products that are that are just setting out now with multisig um because if we do just have a look at just hubble we may find a large number of accounts that only use a master key they also may be inactive accounts maybe accounts from the past accounts that are not actually relevant to um where we're going from here yeah but lee like we're not saying we're not annihilating the idea of multi-sig right we're just saying uh that like these um you know we need to find like a different multisig construction for these accounts moving to this new account type well it sounds like on some level at least though doing some research is is a good idea to understand how people are using multisit currently right any other thoughts on this issue i mean we have about 14 minutes left and we can stay here or we can move on now i'd like to go back to like the first thing because maybe that's what that would be a different approach to this problem that is like the the question i i was asking earlier that is how do we think about like uh i don't know how this is solving ethereum like if you if you have this flexible uh invoker thing like if i decide to to take my account and move my assets into a smart wallet my smart wallet becomes my public um address in a way i think right so how does the money gets routed if somebody sends money sends uh funds to my old key if you have the address and sorry if you have the key and only you have the key you just go grab it public key no no what i mean is that well it's kind of funny right like does it mean i have to even though i decided to upgrade my you know my setup to a smart wallet i still have to keep this kind of single key setup around forever upgrade to a smart wallet you also have a smart wallet um welcome there's no way to stop using that address other than to tell everybody to stop sending money there like i mean it's no different from when you move houses right like people will keep sending mail to your old address much to usps's uh display unless you tell them not to so you can do forwarding right in that case so that's kind of what i'm getting through there's no way we're going to do that probably like no but like for like if we had to support those type of scenarios some way to do forwarding you could do forwarding for those multisig accounts why do forwarding though just keep the key around until you don't want to forward anymore and go and collect the money like we don't need to be you know we don't need to be dad for these people if they know if they want to switch to a smart smart wallet they should know what to do no i'm just trying to kind of compare the complexity of like uh migrating to those d you know whatever accounts to having a way to um to kind of make it easy for people to change their keys basically and even in smart if you make it easy for people to change your keys you're just gonna end up right back at the okay well now i have to go and read this other thing and check the signatures based off of that and everything becomes less efficient like do we care about performance or not if we don't care about performance let's just glue on the evm and get 13 tps i don't understand why we're working so hard if we care about performance we can't do that and we have to do better but that means we should be making decisions that matter i mean it's it's not just about performance right it's about like the whole reason we are talking about this is for usability right like making it that people don't have those food guns you know everywhere but i mean i think that we we care not so much about performance in absolute terms as the the scalability of performance in terms of cores so if we can kind of split it up into work that can be parallelized and work that can't be then as long as there's a way to do the signature checking such that it can be paralyzed i don't care if it's you know i'd rather have it be four times as expensive but embarrassingly parallel as like you know four times faster and like it's competing for like the same cpu core as like all the other logic and all the transactions sure but i'd also rather it just be embarrassingly parallel and not four times slower and like what i'm saying is like these the discussion we're having right now doesn't change the parallelization well it probably makes it a little worse because there'll be more contention um but it doesn't like it definitely doesn't make it better that's definitely like nico's proposal will not make it better but it does mean there's more work for everybody to do so it's definitely going to be slower should we just add bls signatures the other thing is like do we have a particular it seems like not all implementations of threshold schnorr like people like cut some corners like do things that like we don't know how to attack but they don't they prevent the proofs from growing through um so there's the fact that like the multi-state we have now is it may be slow but it is very simple and very easy to understand the security and if you want this level of security you can still use a smart a smart model you just pay for it and if you trust the threshold schemes you use the threshold schemes and if you're happy having a single key you use a single key um same thing i said before like i don't need to to tell people what to do in the land of smart contracts because in a land of smart contracts if they don't like the thing that i told them to do you know what they're going to do they're just going to do it slower differently right anyway you can make it easy for them to do right so you can make it very easy for someone to use it in a smart contract to check that something's been authorized by a particular classic account right and if that is something that's easy to do then people will use it where it's appropriate and there'll be more coherence across the two worlds do we want to talk a bit about contract lifecycle today we have we have like eight minutes uh but i mean there are some open questions that came up during the uh in the dev mailing list that i can talk about uh if we think we have enough time i think i think we should start on it and if we run out of time we can bring it back up at the next meeting okay uh so one of the questions uh we're still discussing discussing is if the uh contract uh code vector should be like the size should be fixed in the xdr it should be configurable by the validators and you know the advantage of having it configured by the validators is if for some reason we think it's you know uh if there's an issue the validators can uh if there's an overlay issue for example and fix it through the values instead of uh you know updating the xdr which would require a i believe require a protocol upgrade um does anyone have any thoughts on this i think john is john's advocating for it to be fixed in the xcr and nico was advocating for it to be configurable well you need a parameter upgrade either way right or are you suggesting that different validators have different thresholds uh no so yeah you yeah so you would need uh you need to be a parameter upgrade and like an upgrade uh to the validators or a protocol upgrade right so either way it goes to a consensus in one you don't need to recompile that seems reasonable to not have to recompile i guess or to pick maybe maybe we don't pick like four gigabytes but we pick something that's much larger than we think people should need in the xdr and then we enforce a lower limit in validators that's what i was thinking uh yeah i i'm just like my big concern about this is like it's not safe to ever make the number lower you can only ever make it bigger and i'm just like what is the point of this work like why why shouldn't we just choose a number that makes sense and basically if we want people if people want to write bigger contracts just split your logic up among two contracts i mean it's not a big deal like do we really want people uploading this upload like a gigabyte 100 megabytes like what's what's the number that we're happy with people uploading in a single operation choose that number and call today likewise what's the number that we're happy loading up into the vm as a single operation we'll call it a day great and i can see you're talking i can't hear you at all i don't know if anybody else can hey can you hear me now yes cool yeah i just wanted to point out um we have the same issue basically with uh like there's gonna be quite a lot of fixed numeric parameters in the system it's it's really not just one um although the cost factor is all the memory limits all the parallelization factor when we get to parallel parallel execution there's there's there's gonna be a big bucket of numbers that are just constants that the system runs on um and there's gonna be uh this is this is a cap coming at some point we haven't got to it yet but there's going to be a a parameters block we're not we're not going to have a a single parameter in the ledger header for every single one of these because the ledger header will get gigantic a new magic ledger entry called smart contract numeric parameters and people are going to have to vote on that on a regular basis so i i i would just say it is a number but we would have to agree it's a number that can only go up then never forget no i don't agree or or it can go down with we have to have a policy that like we'll give you two months notice before we reduce it or something but no i i don't agree with that it cannot go down you can break somebody's smart contract by making it go down even if you say like i'm still willing to run a smart contract that's that's longer than this was uploaded before what if that smart contract itself is a factory which deploys new smart contracts no no no no there's there's no question that there's going to be perimeter changes that will break existing smart contracts that is that's guaranteed because if we if we change gas limits at all in any direction uh some smart contracts will will begin passing that didn't or and and that implicitly means some will fail that didn't because they were expecting the other one to pass there there are ways in which you break people's code by changing parameters guaranteed there's there's no way to just make it one-sided that's not going to work i'm not clear on why changing the gas factors would break people's code like you could always just run it with more gas right right but like it's something that you expect to work on one set of parameters will work differently on another set of parameters sure that's fine as long as i can figure out how to still run it it is fine but like if you lower the size fact that you can like fundamentally break never to be recoverable a factory contract it's totally recoverable you just have to convince everyone to raise the number again so right so it's only possible to go up as a consequence without breaking people's okay no this no no i just know i completely disagree with your premise um these numbers affect whether i mean seriously suppose your contract relies on on you call two contracts in order and it's really important that the first one fails for some reason because you you didn't notice that it fails but it's part of the semantics of your system working that the first call fails we increase the element now that now it succeeds your system stops working like people can rely on things in the wrong order if there's no and there's no fix for that if you want the numbers to only ever go up right like yeah you sometimes you have to redeploy things sometimes you have to change things back if you want to fix them because there's no other there's no other way you've set a specific set of parameters that you've defined as the ones that my thing works in and if the parameters change it is possible everything will work i mean i think it's it's when it comes to all those uh yeah like weird parameters i think they're like especially when it comes to any kind of limit i think they will will always have like you know when it comes to coming down right like from those uh limits like if you're close to that limit yeah i would say like you may get broken like by some some weird tweaks like that uh like if you want to be safe just play in a much smaller you know much further from the limit well i think it's i think it's totally reasonable to expect that that something like code size is not gonna like there's no there's no pay-per-view reason why we're going to start reducing that over time it's probably the case that would stay the same and go up and i think it's a reasonable assumption but it's it's no different than saying you know that your your set of pre-signed transactions that you know uh can only have a certain uh uh fee that they work under and and they won't work if the base fees increase or something like that like there's there's ways we were actually concerned about that problem grading yeah and we were so concerned about it that nobody wanted to raise the base fee and we actually did cap 15 fee bump transactions to fix that problem so like that's actually like an example that like proves the point that this is a problem i'm it will continue to be a pro there's i just there's absolutely no way you can fix this by saying it can only move in one direction that doesn't fix the problem so as far as i can tell you're you're demanding that we fix a problem that can't be fixed i think we need to just set expectations appropriately right if we tell people your contract we promise never to break your smart contracts it's going to be a problem right because we will end up breaking them and we'll also end up not innovating in ways that we should have innovated um and so you know like people validators may vote that they they're not interested in seeing a particular parameter upgrade that's that's fair right it's not it's not like us making parameter changes it's like us collectively the entire network right it's not just sf making these changes but if a change happens and all the validators vote for it the validators could vote to to to migrate to a new protocol version that turns off smart contract you know there's there's there's changes that can be made among the validators that will break existing functionality i guess the core of my argument here is there are things that we should that are like worth promising not sorry that are worth not promising to break and there are things where we it's like completely reasonable to make a promise not to break your stuff and i think code size is definitely an example where it is completely reasonable to promise not to break people's stuff you said it yourself you can't foresee a reason why we would want to make the code size smaller uh not a really simple one but i mean if you give me a couple of minutes i could probably come up with something um i i just don't think it's i don't i don't think it's lightly but you know there's a difference between likely and what i think we should be promising i don't see why that promise i guess i don't see why that promise is more important than any other problem there are so many other promises we could be making that are also not reasonable this is just another one that this really feels like we're bike shedding at this point like let's get a thing built and then like how hard or easy we make it to tweak one number like that's something we can figure out it's just not an important thing at this point i think david gets the final word in this meeting because we're out of time but um we'll reconvene next week and obviously there's still activity happening here on the um stellar dev uh discord and on the mailing list um and so anyone who's watching obviously feel free to jump in there or to see what what the discussion where it's tending anyone in this meeting obviously will also talk on those lists and get back together here next week but we're out of time for now you",
      "keywords": [
        "account",
        "dont",
        "smart",
        "thats",
        "theres",
        "actually",
        "contract",
        "accounts",
        "people",
        "mean",
        "classic",
        "single"
      ],
      "speakers": []
    },
    "2022-05-26.mdx": {
      "summary": "okay so i think we're gonna get started and uh hopefully david will soon join so hey everyone welcome to another protocol meeting i'm filling in for uh justin today uh i am seeing this so in these meetings we discuss potential protocol changes these changes are outlined in these documents called caps or advancement proposals and the big change we're working on right now is project jump cannon which are which is a feature to introduce native smart contracts on stellar so we've divided this massive change into a set of composable caps um and the agenda specifically for today is we're going to talk about cap 53 smart contract data this was recently published by graden uh we're going to talk about cap 52 smart contract interactions minimal which was recently introduced by john and we're going to talk about the smart contract life cycle cat 47 which was recently updated by siddharth um and uh requires some um for the discussion so uh let's do this uh graded can you kick this off with a review of cap53 yeah just give me one second all right got it yeah uh sorry i just i had the pull request open and then i actually wanted to switch over to the merged version of it so this is a fairly straightforward cap it's not um it's not really introducing anything that probably will be a surprise to anyone here uh it's just formalizing something that was left out or left sort of for future caps in the modularization that we've been doing splitting off conversation into different pieces so that we can work on them separately and land them separately but it's fairly tightly related to the data model that was presented in cap 46 so a lot of the motives in cap 46 uh around the data model implicitly talked about how uh how that data would be stored permanently so there's there's there's concerns that that bear on the data model that are uh sort of interacting with it while it's in memory and then there are concerns uh more related to its long-lived uh accessibility over over uh multiple invocations of a smart contract uh well it's stored on the blockchain so um some of the requirements uh that are sort of rephrased and and brought into the foreground here uh have to do with interoperability where we we want there to be something a little bit a little bit more general um or i say uh sort of a less general more interoperable more generally understood more widely understood structure to the data than just a byte buffer a lot of smart contract platforms essentially only provide a byte buffer storage service to smart contracts which means that nobody really accepts that exact version of the smart contract code can necessarily read any of the data that's stored there and that that produces interoperability problems uh if other third parties want to access it offline you know browsers that want to take a look at the data it also creates versioning problems because it means that you're originally locked to the schema language or serialization format that the contract used uh it means the contract wants to pass data it has to from one contract to another it has to transform it so there's a whole interoperability angle here uh which we wanted to address in in the cat 46 data model and we're carrying that forward here and i think a lot of the the concerns only make sense uh when considered in terms of persistent data but this is the persistent data uh cap so so uh here we're just talking about basically what the ledger entries is gonna store things looks like and a handful of host functions for for accessing it they're very basic functions they're just key values to our access functions they're point access functions they're not range range functions they don't include uh iterators or range queries or anything like that they're just get put does do we have a key and delete the key very simple uh host functions the interesting thing really is the choice of granularity which is left to the user so this is a little bit different in in that um many blockchains provide a this is this is different than many many smart contract systems you'll see many smart contract systems provide a key value store which is keyed by a byte string or some some kind of a prefix that goes into a merkle tree or something like that um we do not have uh we essentially don't expose any interior nodes of the mercalli storage that we use uh to use this anyway we just provide a single bucket list hash the fact that our data structure has internal localization doesn't really apply here anyway um and structurally it wouldn't make sense but um  what we're what we're doing here is also allowing uh structured values as keys rather than um rather than byte string so of course you know you can serialize any value and you will in the case of using it as a string here but the api is encouraging users to have fairly structured values so they can have fairly rich keys um  and implicit to all of this is that there's there's a parallel access and consistency model uh that's discussed in this cap um which is that we're we're trying to encourage the possibility of executing smart contracts in parallel and if you have parallel access to uh a data store you have to talk about what the consistency model is what is it what does it mean when two different users access that that model in parallel um so we're specifying here that it's a serializability consistency model uh which is the strongest possible it says you know equivalent to the exact order that the transaction sets uh specified the transactions executing in that has to be the observable side effect model and parallel models uh parallel consistency models uh imply the existence of some kind of a concurrency control mechanism how how you actually enforce that uh and in in this cap we're talking a little bit about um a very strong uh mechanism for concurrency control it's what's it's what's typically called deterministic uh scheduling or non-conflicting concurrency control the idea is that every uh transaction that enters the system will pre-declare a footprint so there's this thing called the footprint which is the the set of keys that a transaction is going to touch whether it's going to read them or write them it actually marks whether it reads or writes each key in its footprint and the footprint is is static information that accompanies a transaction so this cap doesn't describe exactly how a footprint is encoded or accompanies a transaction location because we don't even have a cap open right now that has transaction invocation or at least we haven't settled on one we have several caps open right now but when transaction invocation uh occurs it it's going to need to provide a footprint uh in in this cap this cap is asking that that uh footprints are available and the footprint defines um the keys that are uh that the transaction is allowed to perform these data access operations on so if you try to perform a get again something that's not in your footprint uh the get will fail even even if the the value is there if it's not in the transaction's implicit footprint um it's defined as failing uh similarly for a put or even has a point query anything like that um you have to have it in the footprint so so for simple transactions this is fairly straightforward you can tell what they're going to read or write and so you just put things in the footprint that they're going to read or write that's fine for complicated transactions that have a highly dynamic behavior maybe maybe it's not even clear what they're going to read or write because it's it's you know subsequent to a transaction uh it's it's determined by an earlier read in the transaction these are what are called uh transactions with dynamic footprints um the recommendation uh in this in this gap uh and what we what we're prototyping is a fairly standard technique from the literature um which is often called reconnaissance queries uh i think i'm using them here i'm using the term uh recording footprint recording here which is that you just run the transaction offline uh before you submit it on on a read snapshot and that gives you a a fairly good guess and an approximate footprint that you can then staple to the real transaction when you submit it and uh it will succeed if that footprint still matches so uh it essentially pushes concurrency control uh out of the the transaction processing loop and uh into the user's lap and so the the user is now racing on divergence between read snapshots that they use to construct their footprint and the footprint that they actually submit a transaction with and so theoretically if there's a very very highly contended key and it's a very different query they may have to retry multiple times because if they get if there's any significant divergence between the the recorded footprint and the footprint they submit uh their transaction could fail but the database itself doesn't have to actually perform the concurrency control so in some ways this is shedding load from a concurrency control mechanism inside of a database out to the users um and that has turned out to work very well for for maintaining a very even high throughput um on existing databases that adopt this technique so we're trying to adopt that technique as well so those are the the two sort of main topics in here that the fact that the user has control over granularity i should go back and talk a little bit more about granularity just for a second which is that the the granularity control that exists here um it has a natural tension in it so it's so doing a point read on a key value store necessarily has some overhead it has it has data framing overhead it has serialization overhead it involves going to the i o system at all it involves touching the disk doing a seek doing a read all of that overhead is um  potentially quite high and and so it's it can be worth trying to amortize that overhead and read more than one item if you are going to access more than one item you don't necessarily uh want to to pay that on on a bit by bit or bite by bite basis you want to bring in a bunch of bytes at a time when you do an i o and so that amortization tension pushes you towards larger ios in a larger granularity of storage but then the flip side of that of course is that if you read or write data that you don't actually need if it's if it's wasted and you actually only wanted to change one byte in the middle of a large data structure that's waste and you're paying for that waste uh in terms of you know fees or cpu time or io or whatever so that that pushes you in the opposite direction of having fine grained data and  that problem actually just magnifies itself when you start talking about parallelism because again your footprint is a unit of contention and so if two transactions contend on the same data value um they can't execute in parallel basically that's that's that's what the footprint is is doing is that it's giving a static scheduler the opportunity to partition execution into separate lanes and then those lanes will run with no coordination but those lanes necessarily are serial themselves you only get parallels between them and so if you have a whole lot of transactions for example that all touch some common data value in their footprint they will all be scheduled to run in serial and so to exploit parallelism it is it is in the favor of the user to have a finer grained uh footprints so so you have this sort of two different directions of pressure it's a natural trade-off between fine-grained and coarse-grained uh data access and so we don't specify what what the granularity is here we try to be very open about that and and so um that's why the key type is is literally just an arbitrary value um i think that's all i really had to say about that there's not a lot in this in this gap it's actually quite small and it it kind of just does exactly what you're expected as a key value type awesome can you um just quickly talk about the rationale for why there is uh point access only uh yeah so um range queries essentially aren't compatible with static footprints um because you know we don't we don't know how far they go um that's that's the simple version um we we could theoretically but we would lose parallelism so yeah awesome so we are kind of like actively trying to deter um you know contract developers from creating these like um um you know creating like a need for rangers with some you know like for example like a classic or the book is probably like not a great fit for this uh which is okay with us yeah and i mean there it's a good point which is that in in in in a broader sense um a static footprint actually bounds the i o you're going to do it allows us i mentioned this in in the contract it it it allows us to essentially have no surprises the contract is not going to be interrupted in the middle of the contract in order to actually go touch the disk dynamically everything that it's going to read it says upfront and therefore we can just do a bulk read at the beginning of the contract um just in fact we'll integrate into a single pass through the the storage system uh all all of the reads from all of the contracts in a given parallel execution lane will just read all their data at once at the beginning of a transaction set execution and then write it back at the end so that  that kind of thing is is naturally incompatible with something like dynamic range queries but that said uh because you can store you know arbitrary values if you want to store a map um that's that's completely reasonable one of the values that you store it doesn't have to be just a small string or a number or something you can store a map that has a bunch of stuff in it uh and then do a range query on that map it's just that when you do an i o you're going to get the entire map is going to come off the disk so you have to sort of navigate that trade off yourself maybe shard your map into a bunch of different sub maps or something like that if you're interested in not loading and storing the whole thing every time when i tried to uh to use a very early version of this design like a month ago or something one of the kind of like um annoyances that i quickly encountered was like when i wanted to you know partition my namespace i basically was like okay well i need some kind of key that is a tuple and so i just used like the sc valve option uh and i just like pumped a vec full of stuff and then use it as my key that's i got like a petition namespace the thing was like doing that seemed like kind of inefficient because it's like okay like i need a three like you know a three tuple as my key so i like go i create a vector host function i push into it post function i push into it again host function i push into again host function uh and then i call the like you know get function host function again and it just seems like a ton of work to get a single piece of data so do you have any thoughts about that um off hand i guess i'm i'm i'm not sure that it is a ton of work like it would would be my first reaction in the sense that um  i don't know so so so for example you know we could we could make a contract put one contract put two contract put three that takes three values as inputs three three keys four keys five keys you know we could we could reflect those usage patterns in function signatures as conveniences but i'm not sure they would do any less work and i don't think the calls in and out of the vm are actually all that expensive i think you're only talking about one extra op code and a couple of like like a push and a call so from a user perspective i think you have a good point and um i think if the sdk can't make that pattern fairly convenient uh in terms of putting you know uh sort of a superficial uh porcelain on top of it that makes it makes it look nice then perhaps we should expand uh the functional repertoire to provide additional support for that i think one thing you might be able to do just responding to your comment about the sdk is you know make it easy to use things like tuples um like trying to make it easier to use things like vex already um and maps uh you know tuples might just that just might be one thing we could we could have yeah that's that's kind of what i'm expecting is that you can you can do the the kind of thing that that um you know i hate to use this as precedent but but the the raw standard library does something similar here where it just says you know the people use tuffles up to about five or seven or twelve or whatever so like it just you know macrogenerate enough support for all the basic temple types that anyone's like likely to use and and just have them as conveniences and then you only wonder how to use this arbitrary vector sort of approach if you're if you're doing something weird yeah i mean as as long as the cost of doing all the push functions isn't particularly high then it it doesn't really matter to me because you could always put sdk support to do this indeed i just built my own thing that like i could pass the functions to and inside the parameters too and it would uh through the vect back out at me so it would look a lot less disgusting um we could generalize that of course as long as the cost isn't high at the protocol level so i think so i think the cost of a function call is is fairly small uh function call and uh i again absolutely it's the case that if if we measure this and it's miserable i mean the other thing is that i don't i don't honestly think there's masses of i o operations in the normal contract path right i think you're only talking about a couple of point accesses per contract call anyway so i'm i'm not super concerned about that path but if if if we measure it it turns out to be expensive we can absolutely revisit this and try to you know add fast pass or optimize versions for this braden d do you think they could be contracts that will be vulnerable to moving footprints so you mentioned about the situation where dynamic footprints is an inconvenience or you know you have to do reconnaissance queries and they potentially could be out of date but i'm wondering if there's an angle here where that actually makes the contract vulnerable in the sense that you know one participant of that contra contract could prevent another participant from interacting with it yes absolutely um this is as far as i can tell this is basically always the case with concurrency control if you have any kind of concurrency control mechanism somewhere um you can create a starvation you can even you can survive one party by by just hammering on a contended resource in this particular case the user has the contract developer has a fair amount of control over it because they can change the granularity so if a contract developer feels that this is a risk or sees this happening or something like that they can re-architect the contract to essentially sacrifice concurrency um  to get rid of the ability to have that kind of concern so so you know at the extreme end your footprint is the contract data there's only one contract data everyone who talks to this contract always accesses the exact same contract data and that means that everyone knows exactly what their footprint should be it's always just the contract data there's only one element everyone specifies the same thing and they all get serialized and so there's no you can never you can never have to to have your footprint invalidate because your footprint is always correct um so you can do that if you find that's happening it's just the worst case right so you you move away from that if you want more more concurrency but if if you're seeing that people are able to um able to and and actively exploiting you know some kind of of starvation uh concurrency starvation situation then then you may have to move back towards that and i don't i don't personally know a way to avoid that i think if we did any kind of dynamic locking we would be in exactly the same situation where someone could just um flood the system with with uh transactions that take a lock and and deny anyone else the ability to make progress and we would be in a worse situation because dynamic and currency the the thing that's really good about static and currency control as an approach is that you um you have a guaranteed sort of uh throughput that the the things that you have scheduled um will complete one way or the other within their allotted time slice right they will they will either finish or they will abort um and so your abort rates go up but the system continues to run in uh in this particular strategy the other strategy would be more like um we would give people the ability to drag the entire system down so a transaction set uh would would potentially uh slow down dramatically because people are contending on a hot resource so it's there's there's there aren't a lot of free lunches in concurrency control and and i i kind of feel like that's a natural trait of you that answer the question i know it's not like a fun answer no yeah i think i think that makes a lot of sense the fact that the proposal really gives the contract developer a lot of control um and doesn't define the level of granularity that they have to use um i like yeah it's good um well great it looks like you've created one of the least contentious caps that has ever um came to life thanks for that great um cool so um let's let's dial up on the contentious or the contention levels uh john i think this is probably the third iteration of uh smart contract interactions um so for those of you who are here at last week's meeting you might recall that we had a pretty big debate about this and um i was in the interest of actually agreeing on something i decided to just remove all the functionality from the proposal which sounds a little backwards but um in the context of smart contracts you can kind of put all of these authorization questions down to contracts and let them do them do everything themselves and we had been kind of moving in that direction on cap 50 anyway with the introduction of like the invoker signature none option and stuff like that so basically at a high level of what's in this proposal there is a just like in the old proposal there is a new operation sorry a new transaction type and a corresponding envelope type called uh invoke contract transaction or invo contract transaction envelope and this and this contains the normal stuff like before uh source account sequence number fee it contains the contract that you're invoking you know the ID the parameter the symbol the parameters it contains the read write set that you would need for cap 53 as grading was just talking about um and then uh that's pretty much it so how does one actually use this there are some examples in the cap which were pretty instructive about what what the universe would look like if we actually did this um there's a whole example section where i hacked up like two versions of an erc20 type contract but they look quite different from your normal erc20 because there's not really like a reliable message.sender that you can use in this context um but uh basically the only other thing that's here is just a few um a few host functions that are useful for actually doing some of the things that we discussed last week um so there's some access to thresholds um from accounts there's access to getting the signer weight by account key by signer key the signer weight for an account by signer key kind of hard to say um i added a verified 25 519 function which i think is also in cap 51 which is being written at the same time and um that's uh that's pretty much it so um any questions about this um so i'm i'm just uh uh just trying to get into this can you talk a bit about like the implications around like accounts and you know we were talking about about this a bit last week um like what does this mean for like you know classic multi-sig accounts on the on the smart side uh the beauty of it is that the proposal means basically nothing for those things um because the contracts get to make their own decisions so for some context like if you scroll down almost all the way to the bottom the last example is like a sim a simple token based on account signatures and this builds on the classic stellar multisig mechanism um basically works exactly the same with two exceptions no pre-signed transactions here oh sorry no pre-auth transactions and no hashtag signers but it works exactly the same and it works at medium threshold and everything kind of is exactly what you would expect um but right above that there's another example that uses the like the single key version that i was proposing as the invoker signature last week um and so this this framework basically lets contracts build whatever they want um if you want some kind of uh you know support for seller multisig that'll really be up to contract developers and ecosystem standards and stuff like that my intuition is that those things won't really materialize because they're not efficient structures on the blockchain but they might they might materialize from case to case something that immediately jumps out at me with these examples is that it may be difficult to write these functions um some of these sorry i'm looking at the simple token based on account signatures example you were just referencing and the second code block has a check function it says internal function is that something that the network is providing or that's an internal function that the contract provides that's a contract function that's not exported so i can imagine um so i've had to write code like this for um for our sdks when we were implementing sept10 and i was yeah i think it was septum and one thing that um is quite difficult to get riders iterating over a set of signatures for a message and determining a set of weights because there's different things you have to do like you have to make sure that you don't if somebody includes the same signature twice you don't use it twice to get you know double the weight different things like that um so do you think by going this approach expecting people to implement their own authorization we're increasing the chance of foot guns where people are going to implement what they think is stellar maori sig signature authentic authorization verification but it doesn't actually exactly line up with it that that's definitely possible uh i mean my like kind of ideal universe here in the sense of like what i hope people would do is probably somebody would deploy one contract that has like a unified key structure a unified signer scheme basically you pass it some kind of opaque blob the beginning of the opaque blob is a discriminant saying like hey what kind of signature is this is it a single key ed-25519 is it a single key ecdsa is it a um is it like a stellar multi-sig is it some other scheme that i'm not thinking of like some kind of like quantum reset resistance scheme who cares um and basically like the entire ecosystem relies on this contract or sorry another example would be like i know lee you had requested like aliases um we could have like a single ed 25 519 alias version all of that implemented in one contract that everybody kind of relies on as an ecosystem standard you don't have to rely on it but if you do you kind of get compatibility across the entire universe for free that's what i would hope would happen instead of everybody rolling their own but like yes at the very worst case everybody rolls their own and if you don't know how to roll your own for example like i didn't account for the um for the repeated keys in this example uh working too fast you can get yourself in trouble and just just to follow up on that part of why i'm a big proponent of single key signatures and doing everything else is like you know secure multiple-party communication uh computation is because there's a lot less ways to blow yourself up on chain a single signature is easy to verify in fact my argument would generally be that if you want to write a good contract that is really safe and easy to audit you should use the simplest authorization scheme possible which is that all right can i ask a follow-up question is that i'm i'm a little bit well i'll be honest i'm a little bit behind on on this entire aspect of the interactions um  if you're dealing with a case where people do use the simplest and safest approach but you know suppose you're a smart contract author who's trying to be conservative and you don't want to do anything too elaborate and you're using this interface am i correct in reading this that you are probably you're probably not going to have to include an awful lot of code in your contract to make this work right is that correct that the the sort of the number of calls that you have to make to host functions is not particularly huge you're talking about in the case of like a single 80 25 590 right that's right yeah in that case like it's very very simple um that example is in the first one and like the code is basically like check the nonce hash your hasher you know message do a do a 80 25 5 19 post function call that's pretty much it and everything just traps if the wrong thing happens and you could probably write this in like five lines three host function calls or four host function calls um pretty pretty lightweight all told and it's pretty hard to escape all of like some of these parts no matter what you do like at some point if you're going to do the authorization on-chain you probably need to do at least one 80 25 5 19 signature verification or ecdsa signature verification so i it probably could be like a little lighter than this but probably not significantly lighter than this well i guess this i'm i'm just being my typical um trying to shave things down approach uh this feels to me like even the minimal version is a blob of code that will have to get stapled onto every single smart contract and they will all run you know even even if they all wind up being conservative and they'll take your advice and be conservative um this is all in vm rather than extra vm there's no there's no way for them to say fastpath may just do this conservative thing so yes and no because like even though i think that everybody will be conservative i still think the ideal universe of everybody being conservative is them all using a single you know contract that implements this all so that you don't end up with the same code cloned everywhere you just have a cross-contract call you probably think that's worse than it is from a performance perspective but it doesn't end up with like 10 000 or a million copies of the same code everywhere on the blockchain so it's the plus the um the second part of it though is that if there is a lot of ecosystem adapt adoption around some kind of standardized uh signature verifier we could always deploy a native version of that that's super fast i see i see so so so you are i'm not i want to make sure i'm not promising you that that's ever going to happen no no no no i'm not i'm not hearing your promise i'm just trying to understand what level of code reuse you're assuming is going to work and also so you know calling calling a third party to do your authentication for you definitely gets us into the question that is the other thing we're going to be discussing today which is mutability of contracts and like you know uh versioning your dependencies like i think if there's anything someone is going to not want to trust to a third party it's it's the authentication path um unless they're 100 sure that that third party is you know immutable and like the code that they audited the last time they read it i think another option uh is you know you can it could be a cross-contract call to this one contract that's living in one place so we're talking about reduced wasm size um it could also just be the library code that everybody's sharing so people understand there is no mechanism for library sharing besides stapling this like including the code into the contract yeah yeah it's all right so obviously there's no space saving like all these contracts are going to have the same code within them but addressing the the concern of people implementing these things correctly if everyone's using this common piece of library code um that has either been audited or people generally have more trust in um then then then they don't really you don't really have to worry so much about the mutability concern because they're choosing to build that into their contract at build time there are some trade-offs there like i i i think it would generally be a thing that would would would occur that people would probably provide some of these like very standardized off functions like single key or you know based off of seller accounts or stuff in a library that you can use but if you want like a stateful system like lee you were talking about aliases and that's why i keep coming back to this like the stateful system is only really useful if your state lives in a centralized place that uh that people can rely on you know like it would be really annoying for me to have to go and set my alias in every single contract that i use like i could but it just that just seems really irritating uh i think people would much prefer a system where if that's an option there is some global contract for that state limits basically i guess well i guess people could you could have a really simple contract it's just like an aliasing contract and you could have library code that uses that i don't know there's a lot of options here when yeah like it is uh to me super interesting like is that so like what how do we think about that like when you say like when you make so this is like the smart wallet type of uh like situation where the smart wallet is is kind of shielding or separating the uh whatever key you're using at that time from your persistent ID on the network uh i wouldn't necessarily call it like a smart wallet it's kind of tangentially related i guess it would be what i'm really saying is like i sign using key x but my public key always stays as y and i can change x to x prime or x double prime or x triple prime but my public key always stays y yeah so for context i think the aliasing came about because we were talking about how do we replicate what exists on stellar today in the smart world and what we have today with mo like we often talk about stellar multisig but actually the other component of stella's multisig that we get is aliasing because you can have an account identifier and then you can attach other keys to it and so stellar accounts provide these two concepts aliasing and then multisig and i think um you know there's been the concern address uh presented that you know we shouldn't just implement the multi-sig that exists on classic over on smart um because there's a lot of trade-offs with doing that um but the aliasing alone is is like a feature that i think that's worth worth us exploring like what will that look like because it allows people to do things like rotate their keys um or have multiple devices or using the same key or using the same address and if i understand correctly john you're saying that that aliasing capability could actually just be a contract yeah that's exactly what i'm saying any other questions on cap 52 i think because it's so fresh we probably need a bit more time to get into the weeds john could you elaborate a little bit on how you see replay prevention happening so i see in the cap that there's this announce that that concept exists um yeah could you elaborate a little bit with how you see contracts would typically do that yeah i'm happy to do that uh so this whole replay prevention thing gets kind of annoying in this proposal um that's one of like the big downsides of this approach that i pointed out in cat 50 when i said like why we shouldn't do this um which is basically like every contract ends up implementing their own replay prevention when wherever it's needed uh and this means that like things get pretty annoying fast for example like on stellar you like consider stuff center today you might like submit a transaction and you know you have replay prevention on it because the sequence number and you also have like you know a uh a deadline effectively you know the uh max time and you know that if you get to that point everything is done it can't execute or it has already executed uh but like if you want that functionality here you also have to implement the deadlines in your contract and all these other things um and everything just gets kind of annoying fast basically uh now again same kind of thing that i was just talking about you could actually because like in this approach because everything is done by signed messages you can actually delegate all of this to uh to like some other contract that deals with it so you can imagine implementing stellar's times uh you know time downs and uh ledger bounds and all that other stuff in a contract and reusing it if you still want it or you can rebuild in your own contract as well but basically there's no generic nonce here and the cap goes into a little bit of detail about like why you can't use the sequence number uh and they're they're like my original proposal here actually had an example where the sequence number was like the transaction sequence number was used as an us but it had a couple like kind of annoying details about it specifically like such a contract is like really vulnerable or such a design is really vulnerable to uh what's it called uh confused deputy problems and if you try to fix the confused deputy problems then it becomes impossible to use the sequence number as a replay prevention tool so there's a lot of trade-offs here basically like i can imagine an argument where we just say like hey like people should be cognizant of their confused deputy problems etc and we make that an option again i don't know if i would personally feel good about that because confused deputy problems are like a very difficult foot gun to deal with i think like they're an easy thing to overlook so i don't know but basically yes every every contract is building their own replay prevention or relying on it from somewhere else on chain got it i think one nice side effect of um not exposing the transaction source account on sequence number two the contract is that contracts are getting really set up for that common relay pattern that we do see in other ecosystems where people design their contracts so that the message that's getting signed to be used uh like the contract call that's getting signed to be used on chain is independent of the participant who's actually submitting it and paying the fee and that that that participant could be like a third party um that has you know is playing that role of relaying making sure that the transaction is on network so in some ways it's nice it sort of sets up contracts to to really work well with that because if a contract is written to use the source count you don't get like you would have to then modify the contract to make it work with a relay yeah definitely you mentioned this to me like i don't know a week ago or something and that idea really kind of stuck in my head when i was writing this so i totally agree with you that that's a huge advantage of this design i think something that i've i've heard i think maybe grading like raises a concern is um if we encourage people to write their own replaying mechanisms which i don't think we can actually really get away from so maybe it's not worth having this conversation but um if we encourage people to write their own replay mechanisms people may write replay mechanisms that are really inefficient say is storing data on chain forever type of inefficient um do you think there's anything that we can provide that'll like maybe some utilities that we can provide in the sdk or even in the hose functions that might help people write replay prevention mechanisms that are more efficient that you know use the ledger in a less aggressive way i haven't given that too much thought honestly but like i i mean my general kind of perspective on this is you know it costs money to use the blockchain and people will be incentivized to do things that cost less money so basically if there's a reason to do a really inefficient replay prevention mechanism because it makes the rest of your contract much simpler or maybe it's the only way to even do it then i think people will do that but in the absence of that need i think people will favor the super simple mechanism that's cheap uh whether i can guarantee that i don't know and whether we can provide some utilities i'm not really sure i mean like a really simple replay mechanism like a sequence number is basically like you have a map you look it up you check you increment that's it it it could be hard to make it much simpler i mean like we could provide some like library functionality that literally does that exact thing but the thing is if you have an account that already has per user data you would probably want to of like wrap the non-sin with the other per user data and then the helper is not actually helpful in that case so that's kind of the main perspective there but i i have been thinking in general this is like a bit of an aside that it would be really helpful if the sdk provided some types like for example like there's the sc val map type which is like a map in the sense of like a conventional map but i've also been thinking like sometimes it's like you want to look at the data as in like i have a bunch of data stored in different ledger entries and be cool if there was a like a map type that did that very easily instead of having to use like the contract put contract gap etc in cap 53. so maybe there's some interplay between that and a replay prevention mechanism that we could learn from yeah i mean i think that yeah all those things are going to like as we develop like even basic applications will factor you know like this type of basic functionality in some traits right that that people would just use i'm not actually too concerned about yeah people having to write it because we are going to write it um i think for more like maybe like different type of uh like uh replay prevention like i think that's kind of the nice thing about this proposal is that uh i know in the past we discussed like uh you know potentially doing very different things like where you have like those uh um like ephemeral type of uh you know like things that only work in a specific time period right so that you um you could in theory like replay in a specific uh window but in some design it's actually acceptable and then you end up with like much simpler client-side code so yeah and can i ask um it don't question but um you have a function in here called knots of how does that work what does that do uh it's just a contract internal function i don't know if the com comments emphasize that they don't um it's not a host function basically it just it just reads the data i just read the larger entry and find the nonce in that would probably just be a single you know integer sort in a lever entry non-sub in those cases is user maintained data associated with an address yeah exactly contract maintain did i want to say but yeah okay in in general i mean i i i'm a broken record i don't want to waste too much time with this but i'm i am i am extremely nervous about suggesting that users roll their own authentication mechanisms i think this is just this is just asking for disaster but i understand that we've been around this like a lot so um you don't need to convince me i mean providing the really really simple authorization that mechanism is the only one i would strongly favor that approach um this just this just feels like it's going to be a disaster you're going to have people who completely fail to because this this data this code path if you get it wrong is came over for everything and it's so easy to get it almost right and your tests pass and you deploy it and you think everything's fine and then it's not so i'm i would love to not have users writing this code but okay so um you know obviously i think we need to dispense the value in this proposal um in the meantime we have 10 minutes remaining and i'd love to hand it over to siddharth to talk a bit about the changes to the smart contract life cycle and potentially any uh remit open questions that we need to answer yeah uh so the most recent change was a a small one about how the contract ID which is which is now a hash is calculated um and you can we can look at that change it's pretty simple where the uh it's created from a transaction you hash source account a user provided salt and if it's a contract created within another contract you hash the parent contract ID and assault provided by the contract um i mean if there are any questions there we can talk about it but i think the more interesting thing are these two other points i want to bring up one is mutability uh which is do we plan on adding like initially the cap right now does not have mutable contracts but the question is should we leave that question open for the future or should we just say contracts will always be immutable and the second thing is uh we allow contracts to be removed so the cap has a host function to remove the contract code entry um so i think we can start with the immutability question right if so if we do allow mutable contracts in the future a big question was how do we deal with versioning and i was taking the approach that let the contracts deal with it so for contract a calls contract b and contract b is mutable contract may just trust that just trust contracts bees uh creator or right so i think grading had some issues with this uh graham you want you want to talk about this well i think they're just i i i keep coming back to the general sense i have that um cross-contract calls are something like dynamic linking um or or package dependencies in software in general right that smart contractor software and this is this is a general software versioning problem and in general software has like natural tensions around versioning that people frequently want to lock to particular versions but they also frequently want to get the newest latest and there's a concept of newest latest that is compatible and a concept of newest latest that is not compatible that is often expressed in major version numbers or or separate apis or separate names for things and i'm concerned that we are not uh reproducing any of the infrastructure that would be normal to support points on that natural tension so i think i think it is worth trying to provide some of the building blocks that people are going to provide themselves anyway because it's it's bad enough to have like versioning uh it's worse if there are multiple versions of the versioning system and you have to like opt into different versioning regimes depending on which ecosystem you're adhering your contract to like i i understand there's just there's this natural tendency in our conversations here to try to push everything to the ecosystem and let the ecosystem figure stuff out let them let them develop patterns in the smart contract space that just solved the problem however contract users would like them to but that that is not actually as much of a solution as i think it sounds uh that that really strongly introduces the possibility of totally incompatible regimes developing in parallel or inadequate regimes that miss some important aspect of the design because they were cobbled together in a hurry so i i wouldn't mind us spending enough time to be able to provide the basics which is like i want to pin to a version uh i want to pin to um a major version and only get security updates or i want to follow you know any new features and additions that people had including modifications upgrades whatever i feel like there's there's got to be a future where those are those are things that someone's going to provide and it's it's our position to potentially furnish them um maybe it's not but that's what it feels like to me but like at our layer like is it is it just uh having a way for to have like committable versus uh mutable contracts and like the the versioning is metadata basically and it's up to when you write a contract you know to decide how you want to use this metadata okay like when you make a cross-contract call at the moment a cross-contract call only identifies a contract ID right right and it does not it does not say call this but give me version five or give me version seven or whatever like there's there's no version information in cross-country calling right now which means we're essentially always dynamically linking to either immutable exactly the same thing or immutable whatever the person up to updated that contract with the thing is that i mean you have a bunch of uh of things that feel like if we if we do that at the kind of protocol layer we're kind of printing those like for example like if you're you're talking about different versions right of a specific contract um like you have what is uh like there are a bunch of questions around like you know you have a 1.0 but maybe the 1.1 is actually deployed by some somebody else right like it's not even the same author like how do you deal with those type of situations like who do you trust to be 1.1 i don't think we have the notion of oh like a of actual like or like you know the organization or whatever that is the the publisher right over have a contract yeah i agree we don't we don't have any notion about that i'm i'm i'm advocating for us to come up with a notion rather than uh saying but that notion like i think it becomes i think in that space i don't think you can necessarily come up with a one size fits all because it's not like in you know in in like normal i mean they say like normal software like you have a company and they ship their their their thing and and that's kind of it like here and also like if you depend on on a specific version right as a as a my installer basically is going to just grab cause the os right to grab that version that i depend on uh only in a blockchain type of situation if that other version like the cost of of of um keeping that other version around is actually on the uh on whoever deployed that contract so if you say like oh i want to pin all version like everything is always pinned i think that that the implication there would be well okay the publisher is now has to keep around all versions of of their contract which is kind of you know weird okay so is is is could you make a a concrete proposal here are you talking about uh you would like all contracts to be mutable immutable not immutable but mutable so you can mutate them and uh if i ever want to uh have a pinned version i vendor it is that what you're saying not necessarily so i think it's uh like yeah you could have always vendor of course um uh i mean that's a solution and i'm i'm okay with that i just i think we have to think through the scenario is what i'm saying and i think if if what we're saying is we're not going to give any thought to the scenarios whatsoever and then we're going to tell everyone to proxy every single call they make because that's the only that's the only place they're going to have any ability to enforce policy i think we're kind of losing a good chance to to shape the system i think it's more like what are like the things that are like support like a that you get with tooling that you know we can provide versus things that are actually baked at the protocol layer um like i think that if you have a way to say uh because you know you'll also also have the other problem right of contract discovery on the network like you know which net which contract do i trust you know versus the ones that i partially trust versus the one i don't trust right uh there are some that were basically you trust you try that contract that even if it was mutable you trust that they are not going to or you're actually fine with um with them modifying it in other situations you do want to pin because you have like a you know an actual uh i mean maybe it's a stability thing or whatever right there you have like other problems there um so so some of these data yeah like the mutability aspect i think that's actually yeah that's a property of the of the contract so that you know basically can i even directly depend on this from my contract or is it potentially going to change under me but then you have a different problem i think that is um kind of like when you do uh you know like with you know when you have your manifest files when you're when you decide that you're going to pin your dependencies right in your own program um that decision is something where i think we have to just develop the the right tooling but it's not something that actually the the you know the network doesn't shouldn't have i think an opinion on on you know like the this even the schema of of uh how you pin things like i said i guess i'm saying that the network has to provide whatever is necessary to support it so we we come up with what we want we come up with what the network needs to support it and i'm i'm not seeing that developing in our conversations we we we talk about like bad things can happen and then we throw up our hands and say obviously we can't solve it like no no we have i think we don't fight this one i agree we just try to figure out what the pattern is and then figure out what the network needs to actually support it right uh i think it's we need to have to kind of to solve those problems what i'm saying is that we don't need to  because like the things that i've heard so far they are in the context of a cap and in the context of the cap we are saying this is going to be like we kind of uh forced a specific model at the uh protocol layer oh and i see a raised hand who is that i think i think it um needs to be in a cup like it needs to be in the design rationale for this cup like if we're saying that we're going to provide this limited set of functionality and you can go and do whatever you want we still need to provide in the design rationale this is how we expect it will be used this is how we expect it will solve this problem of versioning i mean i think like at least i can already see like there are some gaps here you know if we say that um you're going to do all contracts are immutable so with an eye and you're going to do versioning yourself data migration how's data migration going to work because like right now we have cap 53 and contracts can't access other contracts data so how is contract you know v1 going its data going to be migrated over to v2 and then if we say that you know v1 and v2 are gonna coexist at the same time um you know how do contracts do that that seems rather complex yeah and especially yeah and actually like yeah in the context of cap 53 i agree that it's also you would change your like if your ID on the network is your contract like your you know the contract is your ID type of thing you don't want to be changing your ID like if you upgrade that contract we got a request to speak from the audience i know you don't know how to take them i'm not i don't think after right it's android question hello can you yep we can hear you great thanks um appreciate the conversation and glad i was able to hop in um i'm going to keep it short because it's going to be slightly off silo of what you're discussing um i am a week away from dropping um a tokenized community with a coin that i'm bringing over from raleigh into solana um and i want to develop on stellar and i've looked up online there's some people that you know help you punch i you know i'm just trying to understand based on what i know with moving forward i mean who can i connect with so that i can understand the liquidity and how the stellar network works and how i can make sure that that same liquidity i'm probably going to lose it but how i can transfer over to the stellar network and really make sure that i look at all aspects of where i'm launching so they don't have to wrap and do it differently in a month do you know what i'm saying yeah cassandra i appreciate the question this specific conversation is about a very like specific uh topic technical topic um and you can go to the uh to one of the other channels support for example uh ask that question and i'll be happy to help you there okay thank you i'm just looking for a personal contact i'm not bringing in the conversation i just i can't find anyone and i've left a couple messages in the chat but i'm not sure who to talk to so who is just speaking and then i'll tag you okay so um we're we're over time and uh i think there's some really interesting discussions here that we probably need to continue uh either on the jump cannon dev channel here on discord or on the mailing list so i think we should go with that thank you all for joining and tuning in and have a great rest of your day you",
      "keywords": [
        "contract",
        "thats",
        "theres",
        "dont",
        "data",
        "actually",
        "which",
        "youre",
        "people",
        "thing",
        "contracts",
        "things"
      ],
      "speakers": []
    },
    "2022-06-02.mdx": {
      "summary": "the changes that we're discussing today and what we're focused on now is relate to project jump cannon so it's a future protocol upgrade um these changes would be included in it and project canon uh is aims to bring smart contracts to stellar we've actually modularized a lot of these changes and so there's a whole slew of caps that are related to jump cannon caps 46 through 53. since this is a pretty technical discussion if you want to follow along i urge you to take a look at those caps if you're interested in joining the discussion i urge you to join the stellar dev mailing list and if you want to also follow along with jump cannon development more generally you can do so here in the jump cannon channel and also in the jump canon dev channel um and so today again we're focused on on jump cannon related caps there's a pretty uh there's there's a lot on the agenda a lot of small stuff but there may also be some bigger issues that we're talking about um if as you're listening if you have questions the best thing to do is to put them in live chat uh in text i'll do my best to monitor it i mean the goal here is to actually have substantive discussion that moves forward some of these changes and that answers questions and allows continued development so um we may or may not have time to address the the issues in live chat but if we don't do it now during this meeting we'll definitely take a look at that channel afterwards too so feel free to put your questions or thoughts there and that's the end of the intro um everybody here it looks like looks like we got a full house um okay cool so i guess to start off with we we have an agenda that has um like and i guess we can just like sort of start with what's at the top of the agenda i also know that there's some questions about uh interoperability that we may want to address i think maybe we start with 46 removal of box agenda item i i put a bunch of i i put a bunch of agenda items on here you can hear me everyone hear me yeah we can hear you at least i can hear you yes okay um yeah i put a bunch of agenda items on here um but they're all really straightforward so i can just grease them really quickly um boxes in cat46 it's a it's an object that contains a value i think this is actually just an artifact of the notion that we might have had mutable objects because uh i think as far as i can tell it's it's basically indistinguishable as long as we have immutable objects and we haven't ratified pointers there's no way to differentiate an object that contains a value from just the value so lee suggested that we get rid of this and i'm happy to get rid of it until we discover or some reason to bring it back in the future go on once go on twice i guess i have a maybe a question yep so is that does does that mean if if later we decide to have mutable host objects they would just have to be boxed like that that's right that's right that's it we'll just bring back so it's actually completely back i mean forward compatible but yeah we're just bringing we're just bringing the object like back in the future it's just that since we don't have any reason for it right now then we might not delete it yeah makes sense okay so yeah i just as a part of deleting this i want to get rid of the cycle this gets rid of our only cycle click reference in the structure when i get i want to get rid of the option on the box so we definitely can bring this back later on but if we do bring this later on we should put a little bit of effort into making sure that the xdrpp the c plus xdlib can do non-option cycling references which um there is already a plan for but yeah just calling that out yeah it's implemented in c plus plus 20 so either we can move stellar coordinates equals plus 20 or we can back port it to c plus 17. yeah that's a so somewhat bigger kettle of fish but um i mean we have a workaround anyway if we really really need it we really need to bring it back we can move to an optional box like this but this there this is motivated by getting rid of so that'll actually make a lot of the on the wire stuff four bytes smaller okay second issue which is very very minor um we went with positive i-64 as the we renamed u-63 like two weeks ago into positive i-64 to be a little bit clearer because 63 is a weird number and everyone who sees it is like what is what is that why should there be a 63-bit number and it's actually just like a 64-bit number that happens to be positive and john pointed out that you know zero is in there and depending on which mathematical tradition you come from zero is either both positive and negative or neither positive and negative uh and some people believe non-negative is the correct word to use when you're including zero and a set of numbers that include zero and all the positive numbers i don't personally care i'm perfectly happy to have the word pause in there i think it's reasonably easy for people to understand i could also put in non-neg or n n or something like that but i figure terminology wise i've got you all here we're gonna we're basically gonna merge this right now so please commit to a terminology does anyone have a preference i think non-nag is confined if that's more accurate but i don't really care i personally i think u63 was fine but yeah not like is fine too i did too i don't care i like u63 personally it's short and it says what it means um literally everyone who sees it has like this weird sour note in their mind and is like why is that 63 what is wrong with you 63 is not a computer number 64 is a computer but that is that is actually the correct and that is actually the correct reaction because it is a weird type so like except except it projects it projects to and from i-64 so so the the the type that you can convert to and from is i-64 actually why i-64 is not u64 that's the symptom of the language we're using too like you know if we were writing contracts in zig u63 would actually make sense it'd actually be a thing i mean the thing is like i don't think the weird reaction is to the name i think the weird reaction is to the concept but then in context it makes sense so why not just pick the more accurate name but this seems like a mega bike shed thing it is a megabyte shed um i'll go back to u63 if everyone wants you 63 but i will not entertain another comment on this after this meeting so this is it yes thank you uh i mean it's like boolean right like boolean is not one bit in most like if you have a variable like that right it's already the same thing so i'm fine with i'm actually i prefer u63 as well because it actually tells you what it is everyone wants you 63 okay we're going back to u63 um next issue was cap 47 and cat 53 we noticed part way through last week that um assuming that we want some kind of mutability of contracts which apparently we kind of do or even if we don't want mutability of contract we still want a way to load contract uh from the middle of execution because we want to be able to call them um and so at a representation level uh the xdr that represents ledger entries with separate ledger entries for code and data seemed possibly to be overkill and so we talked about it and came to the conclusion that it would probably be tidier we actually had like like in the implementation we had um pages and pages of sql code for both of these types and they're pretty much identical uh cedric and i worked through this stuff and then they really only differ on a you know one field which is whether there's an additional sub key so we thought that it might be nice to just merge those two and there's a single type of contract related entry that still has a contract ID they all have a contract ID and has a sub key and the sub key has one magic value carved out we have lots of places to carve magic values and we can just carve them out of the sc static value set and we just have a designated key and all it means is the current contracts or the the owning contracts own wasm code and then we just do our binary and sc binary type and so we implemented that it seems to work fine um i have not updated the cap yet i want to run that by everyone make sure everyone's okay with it it it leans us a little bit towards mutable contracts but i believe a lot of our design discussion has been drifting in that direction anyway it does not wet us to that we do not have to we could also special case it and just prohibit rights to that key but it sort of has that tendency of treating code and data as the same thing which at some level they are so i i spoke to siddharth about this yesterday quite a bit in the afternoon but one of the one of my main concerns around mutable code and this is much more about the mutable code aspect of it than about the merging them the merging it i care less about other than the fact that it like makes them like default mutable and we now need to opt back out of that which i'm about to explain like you can't just say the code is mutable without having some rules around what that means and we have not successfully agreed on what those rules are what happens if you mutate a code mutated contract that's currently running what happens if you delete a contract that's currently running what happens if you delete a contract that is running then call another contract that called back into the first contract which contract runs the second time like these things need to be well defined so we should like start from the fact that we can store code as data but you can't mutate it and then figure out how to mutate it um but like we don't have answers to those questions yet or at least i haven't heard answers to those kinds of questions yet no i agree we don't we we did however uh have in cat 47 a function for writing uh a contract code entry so whatever that host function semantics are they're the same semantics here well the the thing is that uh yeah it's like what john is saying like currently right like when you write a letter entry the this is observable by anything after like immediately after whereas here i think we we have to decide and we probably cannot make this actually uh this cannot be true i think um because this is going to be probably scoped with the uh tied up to the lifetime of the um of the wasm runtime that's actually executing the code so if you have like if you call yourself type of thing uh we're certainly not going to we're not going to hot patch the the running one exactly yeah so this is but this is like a place where this is actually deviating from what we do for data so we have to really you know specify this and think about it very hard that's exactly what i was saying nico you just said yeah no i know like it's it's kind of scary in a way that i don't know what the right answer is on i know you see i don't i don't actually think this is this is particularly scary i think there are really only two possible options and they're both fine um and you know one of them is you do what unix does which is that you um the executing process is essentially a disjoint as soon as it starts executing and so if you rewrite the file that's fine the next exec to that to that we'll get the new code but like so did we did we actually decide on reentrancy for example like what you can or cannot do well actually you get you busy in unix no you can write a file while it's running uh you get you get busy on windows the file's locked on windows while it's executing on unix you can rewrite the file as far as i know because i do upgrades of running programs all the time and it works like if i if i upgrade chrome while it's running if i if i do apt-get install bash it works in my backup i'm telling you i literally just tested this um and i get e busy um i mean this is kind of a side note but i think what you're doing when you upgrade is you're unlinking the file and creating a new file but you can't you can't like write to an inode that's currently executing okay sure unlike you can re-link that's fine well unlike and create a different i know my point is it's it's totally doable in some contexts and in other contexts you block it and those are the only two options here so and i think they're both fine there are other options okay there's the only two reasonable options the other one is what hot patch your existing running program which you're not going to do no there's at least one other option which is like you can't update something while it's running you have to delegate that's blocked that's what i just said that's the other option block or allow what what exactly do you mean by block i guess it fails you try to make the right and the right fails it's just the special case we just don't know that's what right right right to the running the right to the running code fail because we decided but then how do you actually do the update i guess like you're just saying you can't mutate it you can't take your own you can you can mutate someone else's okay but like that needs a lot of specification in and of itself and i was providing an example of how you can do that you can't just like i can't just modify your contract right like there's obvious that's obviously not acceptable um so but we have a we have a we have like manage contract transactions right that that's that's the out-of-band technique but like that doesn't work like it works in a very like very tight sense but like what if you're a dow that's managing a smart contract you'd like to be able to manage it from small right okay then we there's like a whole bunch of space here that i'm like it's like sure maybe you have two high-level options allow or block but like block has many sub-options okay i i i don't i don't see this is i don't see this is relating to the question which is do we store this as a ledger entry or not i agree that individual host functions need to have semantics defined for them but okay i guess what i'm getting at is i would accept this change if we make it so that you can't mutate the code while it's running right now um and we can figure it out later okay um but if you're going to allow it right now then we need to do a lot more work and it's not a good idea sorry if we're if we allow rights to the currently running contract right we need to do more work okay um so what i'm going to specify that agent files are currently immutable even if it's stored as data no the currently running contract is immutable but we as i just said we have no mechanism to write to a not running contract or not a good mechanism we should just make it immutable if it's okay sure like what i'm saying is let's separate the mutability problem from the representation problem okay then we can make progress because like i i don't want to approve this if we don't have like i don't want to prove it in the mutable case if we don't have a good story about me to build and we don't right now gotcha okay so only only reading only the read path works for this key right now and the right path just fails um i have a question about not about the mutability but the representation um if we're making it a ledger key that you have to write and in the future we do decide to support mutability will it mean that the only way to update the contract is to write the entire binary every time or so like i'm just wondering about if somebody if we support mutability and somebody wants to write a contract where they swap back and forth between multiple implementations like rolling back or something like that and just the cost of writing an entire contract which might be a couple of kilobytes um versus store if this is just data storing this data um under you know just like regular data and then having a point into that data does that make any sense yeah it gets into what we talked about a little bit uh in yet another one of the threads this week which is like is there any kind of delegation mechanism um i i think it's a little bit awkward because um  well first of all we actually come up with a delegation mechanism that we can all agree on which is going to be weeks of conversation um but also you you wind up needing to pre-flight every single transaction in that case because you need to resolve the current delegate well maybe you don't need to pre-flight them if you can guess where the delegate is currently pointing but anyway i i feel like it sounds like it increases the complexity of this and that's like i'm not interested in increasing the complexity i'm just curious if we're just any sort of future limiting something we can do in the future i don't think so because again i think i think um 47 already has a function called write contract and it takes a binary like that's that's the point here is to just absorb the two representation questions not not necessarily to solve do we have proxy or delegation or whatever which we might have but uh you know when we had that conversation this week um john was really uh adamant about like let's let's ship without and see what happens and you know i can i can live with that because we it's true like we could we could make the wrong delegation mechanism and then we'd be stuck supporting it forever so make sense zoomed in focused on the representation question nobody has any real objections okay i think it's really not contentious okay so the final thing i had on the agenda which is uh uh the footprint type which is like even less contentious uh i'll just be extending cat53 with a new data type which is called footprint and it just contains two lists of ledger keys uh the only really possibly contentious aspect of this i think is whether ledger keys full keys should be there or whether they should be restricted to only contract data values or or value contract ID pairs or something like that something that is a little bit tighter than a ledger key but if we do that it means that we are essentially fixing the impossibility of interacting with other ledger entries into the protocol uh going forward and i think the interoperability question still leaves that open so i was assuming that they would be a full electric key at least that in conversation with john he again fairly clearly suggested that he would prefer to keep that door open and i'm happy to go with that so does anyone feel strongly what do you mean by footprint here you just mean the uh like sorry like the footprint is a term that was introduced in cap uh oh the other one the data yeah it's what we have been calling up up until recently the read write set um i found that actually the paper that introduces this concept of deterministic execution uses the word footprint and i think footprint is actually a great word to use here so i've decided to start using this one because otherwise you wind up with the read-only part of the read-write set and the read-write part of the read-write set and honestly linguistically it's a little bit clumsy nobody cares about the footprint okay cool i'll just make it a lighter keystone that is the end of my agenda items i yield the floor to discussion of interoperability or whatever else you want to talk about thank you john is this a discussion that that you want to kick off have questions um are we switching now on onto like acid and drop stuff is that that where we are yeah yeah yeah so i think that all we've sort of gone through all of the existing stuff on the agenda and the only thing that was a big question mark was the asset interoperability stuff and i think that that's where we are at this point yeah i mean i think the only real thing to talk about here which like we have not been able to come to agreement on is just like what are even the requirements what are we trying to achieve me nico tomer lee talk about this prop like this problem i don't know like three times a week right now and i don't even think we're all talking about the same thing so i think we just need to talk about our feelings so anybody can take before from that yeah i love talking about my feelings so i'll start um yeah so i think you know the basic requirement from asset interop in my opinion is so let's um maybe it's worth thinking about like the full spectrum of of interop or about the edges um and where we are in the middle so you know i think like on one extreme interop uh thing we just do nothing right uh and this is uh you can look for example at like aurora on on near which is you know a whole blockchain running inside of the blockchain that has like no interrupt whatsoever and if you want to interrupt with the parent chain you need to go through uh you know various bridging solutions so i think that's a very extreme version which is no interop at all um and it basically means that we're not taking advantage of the existing stellar ecosystem at all but it's extremely simple we just don't need to think about legacy um interop at all i think on the other extreme side of interop you have full interop with every primitive on the current stellar network so you can do things like interrupt between smart contracts and amms and the order book and uh sponsorships and and like the wide everything that stellar proposes and that you know is great for like supporting legacy but it's also terrible because it means that we're bringing a lot of the um you know technical debt uh and the idiosyncrasies and in the classic protocol to the new world so i think we need to find somewhere in between um and i would say that even though there are a lot of disagreements in this in this room i think the basic thing that we agree on is that assets are the main point of interoperability like we're not trying to bring the order books we're not trying to bring amms we just want to make sure that classic assets will operate in um in smartland and um  you know basically like asset issuers still have their uh infrastructure intact and and they don't need to make changes and so we have you know service providers like you know fire blocks and bitcoin all these folks you know their services are still you know viable in working even in this world without without a change does that make sense to people oh maybe uh i'll i'll pick it up because yeah like with the without a change it's kind of uh like uh that's the part that's right that is kind of uh reloaded i would say um like the uh like as soon as you as we say there's basically like um there are two parts to it right there is the um do i expect on day one as soon as we have like uh smart cr smart contract capabilities can i use any classic asset on the network kind of automatically right or not like using uh smart and that to me is like one version of that extreme inside this box that you described where you know no change is needed um and um i'm i'm i'm we've been kind of trying to and john probably can expand on that but like it it seems to me that if we try to make it that extreme um we we are kind of uh really over constraining what type of things you can do in smart uh in terms of uh those assets right because um you expect those assets to be represented by uh trust lines and and you have like all those things right that comes with that and you have like the semantics that are really um specific right to classic um so that there is like that version i think there is a maybe a more nuanced you know version of this that is uh yeah like what um like what what do you mean when you say like no change does it mean um that uh yeah you want to have people that issue tokens on Stellar they want to make sure that uh they contin we don't break their compliance story or whatever they they have right in terms of like uh what they are what they sign up for basically with the network right like we're expanding the the set of capabilities um and uh and this one is it sounds more to me like uh like there's like some room there where you can say well maybe um maybe people need to like issue us in this context of classic assets need to uh have like a kind of opt into uh smart capabilities and maybe they have like a way to specify which subset of the capabilities they are interested in and when you do that then you have like maybe a a different um way to represent those assets uh kind of like when we introduce claimable balances like claimable balances are actually a a good example of where we kind of introduced this this way to kind of go uh in a way like uh that was actually breaking a little bit in terms of compliance but at the same time we try to be for tokens that don't have a lot of restrictions claimable balances are kind of uh can flow uh freely right and to me like trying to do a similar thing with smart is probably um like a would be probably a good middle ground but for that it's an opt-in so that means you don't get automatically like everybody you know every classic asset kind of shows up on day one yeah so i think cable balances are a really good example um you know they're a fairly novel concept and for the most part aside from um you know a small set of like super specific stellar wallets uh it we we haven't even seen um support for them and with major service providers um so it's worth you know when i'm when i'm talking about minimal change i think it's worth dividing this into the different stakeholders that we're talking about so um i think on one end you have the more kind of like institutional cross-chain services things like exchanges things like um you know things like fire blocks and bitco things like um you know even like circle as an issuer like these folks um you know take the path of least resistance it's been even difficult to get muxed accounts implemented with these folks so i would say that from their perspective we uh like zero change is preferable now for the actual touch points uh for these smart contracts obviously uh it's okay to introduce change right like if a wallet wants to interact with uh with uh some crypto primitive uh some smart contract and then obviously they need to introduce changes and it's okay you know so uh you know on the wallet side itself and from a user perspective that's trying to use the smart side it's definitely okay to introduce uh some uh some changes uh and can i have actually have a question on exchanges like when you say like exchanges don't need to make sure well like exchanges today don't most many exchanges don't support any stellar assets other than lumen so like why is that relevant in that conversation uh it's relevant because of USDC it's relevant because there is a group of exchanges that support USDC and don't right it's growing you know and it's growing but like over time do you i mean wouldn't you expect people like if they are like any good assets being issued on the smart side that they would be supported by those uh exchanges so it's not like they are going to like a phone exchange it's a bit of a different story right they have existing things they're not issuing tokens right they are it's more like they have a wallet in classic and you want their water to continue to work right and i mean i think at some point if they decide that smart assets are interesting and they want to opt in to make the changes great but they they're probably not going to be the first people to do it's probably going to take them a while and it sounds like we just don't want to break them yeah that's fine but like i don't think we we ne none of the proposals so far are saying we would break classic wallets um no but we are saying for example you know if we're going to recommend issuing on smart going forward then the issuer has like this tough decision where they need to make a decision whether the issue on the old path which maybe is not recommended anymore but is what the exchanges actually know how to support or issuing on the classic side and you know based on our previous experience it's going to take you know a whole lot of time for service providers to start enabling something new i get that i'm just kind of uh a bit skeptical about like the uh for exchanges in particular that they won't do like basically i think there are two types of exchanges the exchanges that are going to be supporting whatever the latest set of functions i mean they are going to kind of keep up maybe like you know with some delay but they are kind of keeping up and then you have others that are very conservative and going to be slow um and i think that's why for example i think we don't have still uh USDC on coinbase i think right stellar USDC coinbase according to foreign sources doesn't have any multi-chain assets right now because of um extensive technical and product debt uh that coinbase is a bit of a special case uh because they don't even support they don't support any like usd any non erc20 USDC um but we do have uh and like it's a it's a pickle it's difficult uh because exchanges uh you know there's a bit of a chicken and egg that you know they want to see demand um and then it's hard to create that demand without um you know these assets supporting supported domain exchanges um but i think like the main thing i'm trying to together here is that like it's hard to get exchanges to to do changes uh and the service providers as well like folks like bitcoin fire blocks right and right now is uh you know the way that you issue assets on stellar um you know the actual distribution is just regular payments right so you know you can do it on all these platforms if you introduce a new way to do it then you basically tell issuers you can't use these service providers i mean that's not really what you're telling them what you're telling them is you can't use those service providers if you want to do it the new way right right so what you're suggesting is having like this uh like a split thing in the ecosystem where you say hey you can issue an asset in one of both ways um this way will give you like you know like a shorter path to exchanges and you can work with uh um you know various service providers um and the other path will give you will give you what john i don't know what it'll give you it'll give you the power to do whatever you want the question is what do you want right if they don't want those things you probably shouldn't do it right yeah like like if you think of uh what we have right now for the network right we are kind of optimizing for payments if the token that you're issuing is not meant to be used for directly supporting payments then there's no reason to issue it as a classic asset like think of like you know nfts or all sorts of random things like that yeah so as i said like if you if you if you issue on classic then you have the entire breadth of like classic tooling available at your disposal right now like every wallet every exchange everything that supports on classic um you have at your disposal it's so yes it's about payments but it's just about like the ecosystem support i think like payments are also just transfers so i'm it's also not clear to me why why we would even say that nfts don't care about payments because people do care about transferring nfts yeah but we're not going to have that is actually kind of broken if you're modeling like that's kind of what we see today on the network right like the way your model nft is on the network is extremely poor the experience that you get i guess one question is like do do we think that kind of the the value of the smart contracts is going to come from people implementing new assets or do we think the value value's going to come from like taking high quality assets that are issued by people who are you know not uh you know that are that are not particularly uh you know experimental and then innovators are going to come and like make new use of those assets so my suspicion is that maybe this the latter is is is better and so that that kind of it's more important to interoperate well with existing assets that might be issued by somebody else and to be able to like program those assets than to be able to create some new ecosystem that's not that's more divorced from the existing one so i think there are uh it's probably both david because you're gonna have yes you're gonna have you know the the stable coins USDC and such that are going to be used heavily in these smart contracts but you also are going to have things like governance tokens uni style tokens and dao style tokens and these are going to be issued on the smart side you know we might say hey you know what we don't actually care about about these assets being transferable um as regular payment on the classic side uh and maybe that helps with um uh with implementation uh but we will see these assets but but i mean i guess i mean put another way like when i talk to people who are using stellar right it's it's it's often kind of two things that draw them stellar like sort of the the perception of like high quality assets and low transaction fees and so if like those are the strengths then we want to kind of make sure that those strengths are uh we don't want to kind of like sacrifice those strengths and create a completely new ecosystem right we want to be able to kind of maybe for higher transaction fees add more flexibility but where like you can still do things with like low transaction fees and do things with like existing legacy assets right like that that seems to me like the the the thing that we want to optimize for of course it's going to be like whatever turn complete in general but but the thing we want to optimize for that's going to make this special is the ability to also leverage these high quality assets and low transaction fees for people who are just doing simple payments and that's not going to work for everything but um but there are probably a lot of cases where like you know people are going to want to use USDC for example right and and maybe we don't want to get circled to like write some whole new smart contract to implement this we just want somehow like unilaterally people can write contracts that do things with USDC yeah i think we're getting into a lot of speculation and somewhat like religious discussions here john can you help us like fine tune um like where where do things get hairy in terms of interop and what kind of like uh you know decisions we can make to simplify that i mean there's a couple axes of decisions uh one axis is like wrapping verse not wrapping wrapping generally makes everything easier implementation-wise like significantly so um but like the ux might or might not be better that's up to your interpretation uh if you don't have a wrapping interface so that's one axis a second axis of is like should a classic asset when used from the smart perspective look exactly like a smart asset used from the smart perspective should they look identical should they behave identically and the third main access is like should you be able to take a smart asset and easily send it back to the classic side uh that access is more speculative i think but those are kind of like the three angles that one might look at this problem one thing that uh is noticeable in other ecosystems is that there's definitely the canonical way of doing assets right on on the ethereum ecosystem even though you can write your own contract everyone just uh you know copy paste the the or imports the the OpenZeppelin one um you know solana has like the spl um other ecosystems have like their baked in contracts uh for uh for assets like people don't actually innovate all that much with assets um and like i guess my question to you is like can we make those like canonical assets on stellar be the existing assets maybe i mean i think you'd be making a lot of sacrifices to do so are they sacrifices worth making making not to me what are the sacrifices i mean i think the biggest sacrifice is just like do we really want to have a 64-bit balance for everything um the next sacrifice is like do you want it to literally be exactly what exists today or do you want to build on top of that more because like you would need like to do the stuff that's common in you know d5 you would need an allowances system on top of that anyway so it's not what we have right now um we have all this compliance stuff baked in it's pretty unwieldy for a variety of reasons do we want to be married to that for the rest of eternity i don't so i guess what i'm getting at is you can shoehorn anything into anything send you i have a really strong opinion about the should you question but i do have uh i participated briefly the last time around and i just want to do ads since you're already doing requirements gathering here a somewhat narrow version of of what feel like the requirements i would want to add to this question i don't actually have very strong opinions about the assets i do have fairly strong opinions about two minor points um and i think they i think there's a wide variety of ways to achieve these but if we're writing things down um if possible i would like to request that users not be in charge of non-management unless they really really want to i think if we're in a situation where the user has to figure out how to operate a cryptography api safely and correctly themselves we're putting them in a very dangerous position and whether we accomplish that by by completely baking in a standardized path or just having a very easy to delegate standardized path or even just there's a host function that has very simple signature that's fairly impossible to misuse i'm kind of okay with most of those approaches but um cryptography apis become error-prone really really quickly and i don't want to surface a lot of that to users unless they ask for it unless they're going out of their way to say i personally want to do some some fancy cryptography for the average person who's just creating an asset i really want them to not be forced to copy paste and possibly get wrong the use of a cryptography api um that's requirement slash desire number one and requirement desire number two is um ideally if that code is gonna be in every single contract and it's the only thing that differs from one contract to another uh or or if it's if it's a if it's standardized preamble in every single contract on every single path uh it would be nice just from a code size and execution performance perspective to factor it out as well so i'm just i know the authorization point is not the only part of interrupt but to me it's the only part that i actually care about i do not care about the other aspects right so i think that what you just described i think is that's kind of what is uh touched on in all this uh yeah in cap 52 the authorization model though for for uh for payments is uh and going back to that right is it is is different it's different and that's why they are like things done in a certain way in cap 52 but i do agree that i know as we try to figure out like the actual interrupt story with classic it would be we can uh avoid having i mean having like a yeah like good solid um base implementation that people can just you know import in their in their thing and then just works mostly without having to implement those things and but like the the key part of that the absolute most important part of that from my perspective is the authorization aspect of it you want to if you want to allow or require people to fiddle other parts it doesn't matter quite so much but and user writing your own authorization group is just a disaster we have too many crickets can somebody make it i don't like uh well i do have a question so returning to to what tomorrow sort of started this threat this head where he started it which was just other networks have a canonical way like economical representation of assets that people just use his question was can you know the the current or classic asset just be that canonical representation on says you know he's not a fan of that approach the question is is it worth trying to think about other models that we could use for the canonical representation of an asset that we could discuss or is it premature to just to get into that right now  i mean in a way you know you know like in cap 49 for example the the wrapped asset is a canonical implementation you know of the classic asset but it's actually something that is modeled as a smart asset uh so so it's not like people would have to reinvent a bunch of things there you can actually standardize on exactly that thing and that's actually what is interesting about this this approach is that you the way you do it is you actually write a standard you know like erc20 type of equivalent you design it as a as uh thinking about the semantics as smart semantics first and then you you make it uh yeah interrupt with with classic assets and there's only one way to do it but yeah you do have standardization happening in that world i'm not so so getting back to that like i feel like i'm the only one talking like it seems to me that the standardization is not necessarily the sticky point because in all those uh proposals so far there is actually a standard that includes classic assets so what else is is missing right got it well are there other questions that people want to bring up now in the last nine minutes that would help sort of move the conversation forward or should we just call it i mean we got through a lot today i'll let people think for a minute okay i think that's a wrap then um so thanks again everybody for joining the discussion uh anyone who's watching obviously we're going to post this you know to archive it on youtube later so if you want to re re-watch this which i mean who doesn't right i watch these things six or seven times um you can watch them there on youtube and also if you want to participate in the discussion or you want to follow along please make sure to read the caps please join the um jump cannon channels here in the stellar discord and also sign up for the stellar dev mailing list where a lot of these discussions will continue asynchronously and we will see you back here next week for another open protocol meeting thanks everybody",
      "keywords": [
        "dont",
        "thats",
        "actually",
        "contract",
        "assets",
        "make",
        "mean",
        "which",
        "smart",
        "those",
        "thing",
        "things"
      ],
      "speakers": []
    },
    "2022-06-23.mdx": {
      "summary": "so welcome to the stellar open protocol discussion in these discussions we discuss and plan for changes to upcoming versions of the stellar protocol um right now we're focused on project jump cannon which will bring smart contracts to stellar in addition to changes to the stellar protocol it will also lead to the creation of a new smart contracts platform and all of the discussion that we're having about this is being tracked and and you can participate in it much of it is happening here on discord in the jump cannon channel and the drum cannon dev channel there are also a series of core advancement proposals or caps that relate to changes that would enable jump cannon or the new smart contracts platform caps 46 through 55 i believe at this point they're pretty modular so each one sort of takes on an aspect of the changes that need to be made in order to bring smart contracts to stellar and we are working through those modules bit by bit and discussing sort of the segments necessary and the changes necessary to allow those segments to actually come to life at some point all of the work that we do will go through the normal process in other words caps are sort of uh put up in this github repository that's linked to in the show notes they're discussed here they're discussed on a mailing list and they're discussed in discord and uh after after they sort of reach a point where they are stable they move from being a draft into a formal acceptance period finally they're accepted and implemented in a version of the stellar protocol and before that version of the stellar protocol goes live validators actually vote to accept it um now we are still fairly well we've actually made a lot of progress in the in sort of the jump cannon trajectory but as of yet the caps that we have in front of us have not been accepted there's still a lot of questions and today we will dig into some of those questions um if you who are listening actually have questions you can leave them as text in the live chat channel i'll try to keep an eye on that um we're certainly trying to move this discussion forward and have the substantive issues um come to light so you know we may not be able to answer all the live chat questions but we definitely will later if we can't answer them in the course of this meeting so i think everyone is here and i think we are ready to kick off um today i know that um recently there was a new cap cap 55 fee model in smart contracts um i don't know if it just hit the mailing list yesterday there were a few comments that came in i guess i'm going to start by asking you uh nicola if we're ready to discuss that if that's where we should start maybe yeah like we can maybe um  like just go over like a quick overview of like what's going on in that cap and then um you know like we we don't have to go in details basically so i'm not sure like we need to need to have like a lot of uh of a pre-reading basically as part of this is that good use of time of people yeah i think that sounds good also nico if you can you know obviously a lot of these things are kind of like normal quote unquote in the world of crypto but uh some of these are a bit more contentious so i would like emphasize specifically like the contentious bits so that we can have a good old-fashioned argument all right let's see uh and uh yeah i mean so do we want to start with this uh cap or i think there were there was also like the events one that cida uh opened that is maybe a little more scope i don't know yeah i argue let's start with the siddharth one because it's less uh contentious and we'll probably be arguing this okay great so we'll start there we'll end up at cat 55 uh sit down do you want to yeah i don't know if everyone had time to read the cap document i actually made a fix of this morning but i can give a quick uh overview of it and you can uh we can discuss after that so i made uh i added this this change on to cap 51 which is the host functions cap i just added uh the ability for contracts to log data so i added a contract logs back to the transaction meta um and as a part of this change i we also moved the transaction result into the meta as well both contracts so both contract logs and transact transaction results are hashed and a hash of these hashes are stored in the transaction result pair which is uh this is how you would cryptographically verify them and one change i haven't made to the document yet but we talked about yesterday was that uh we're gonna add another contract log type uh where the logs are only emitted if there's an error um so that's a very high high level overview are there any questions i guess like those logs they are like uh logs that are like the equivalent to events in ethereum uh yeah yeah so they well so the way it would work is uh you know that the contracts allow whatever they want since it gets sent to core or write some transaction meta and Horizon can serve them up in any way you want so i i was i would imagine that you know if you want to listen to a specific event uh Horizon would provide that ability allowing you to you know write applications that would hook on to specific events so one thing that i want to point out here is that it basically means that in order to sift through um data coming in from uh Horizon as as an ingestor you need to basically read everything which may become a lot as as the network grows in capacity um ethereum has this concept of this uh uh bloom filter uh that's included in every ledger header so that you can actually uh get a like a strong indicator whether or not the smart contract that you're interested in or the the account that you're interested in is actually included uh or has emitted events in that specific block um should we consider doing something similar uh yeah i i don't think uh i can't think off top of my head why we wouldn't do um optimize like that that's that area i'm sorry i can look into that i got i don't think i i don't see i don't think i see anything uh wrong with that well actually i think it's kind of uh maybe like premature optimization type of situation like there are probably better ways to do it than doing this kind of arbitrary broom filter thing uh uh like you know i can imagine for example like we have just made a stream uh you could have Horizon telco which which filters it wants to apply instead of kind of doing it after the fact and then the mirror would be a subset of the meta like maybe like you're not interested in ledger changes let's say maybe you're not interested in classic transactions you know like all those things well you're you're assuming a Horizon here and i think that's like part well there's always a consumer right of but if you want something that's like an application specific consumer um which you do see in other ecosystems quite a bit um you know if i'm developing a dap and i want to have a you know like a stream coming in of my of my specific information why should i run a full-blown Horizon rather than some sort of a light client that could just uh you know share logs that are specifically relevant to me and that's again like a subscriber i don't see why this is like part of this gap well i'm not saying i'm not saying it's part of this cap but i am saying like is is there a place in the in the protocol uh to to optimize for these use cases because we actually want more people to run nodes and uh what we're doing here right now is that we're like really tying them down to like the the Horizon model which is consume everything in just everything no like Horizon doesn't force you into uh consuming everything you're you're getting the entire meta and then you filter it yes uh like is the is the amount of meta being produced going to be a bottleneck in the you know even in the middle you know medium term i don't think so like you know xdr is fairly efficient like i would like to see the actual performance problems before picking arbitrary type of filtering technology because i don't know what the use cases are like you're saying they are events yeah sure then you just keep advance it's a very small subset actually of the of the media stream is anything that we're adding here in this cap prevent us from adding a bloom filter or other sort of strategies in the future i don't i don't think so but yeah you can do any kind of filtering i mean i think the the the place where i can see having an actual bottleneck in the future is the actual size of the meta may get too large for like uh if you want to run a light uh lighter node but then we are getting into custom logic in core to kind of you know filter that somehow and i think the the best way to do it is actually like when you're producing it instead of trying to do it after the fact like with like uh like with the bloom filters something that i don't see here when it comes to filtering is any way to filter beyond the contract so like presumably the contract being out of filter up by the contract um is there because that would probably be in the transaction matter but um if a contract wants to emit a whole lot of different logs how would an application filter on those specifically or or is that just too granular to micro well at the moment uh you know the body is an sc val so if you wanted to do that you would add the filtering in there um but you know i think we would discuss this okay like maybe that's not reasonable uh we should add a higher level filters above the sc bell something we can consider yeah like that right now this structure would make sense here yeah like originally i i i thought we would do something like right now you have this uh block type right uh system or contract info and basically if it's a i mean actually for both of them you probably want to have like an actual event name right like which is like a a short symbol of source right yeah i i think that makes sense i would i would i would honestly look at sort of what the subscription patterns that you see in other smart contracting platforms are because they they have explored this this space fairly extensively and i think it's what a lot of the sdks really lean on like if you're writing a dapp it's fairly common for for it to to latch onto a bunch of subscriptions so like however however they're normally doing it we kind of want to support those patterns is there more anyone else have thoughts questions suggestions is it sort of clear what the next move is for you here siddharth you move on to catholic actually like there is uh something yeah that i just thought about that i think you know from what uh i think graydon was asking in terms of use cases like like are there expectations for example that uh and that's related to this filtering question um that you want to have proofs of events that do not happen so like positive proofs are easy like uh like like with with the proposal you have like uh you know basically like uh you can prove that a given ledger had a specific event inside a space you know from a generated by a specific contract what if you want to prove the negative that is that a specific event yeah was not emitted in a ledger is that like the type of things that people try to do in other systems so yeah that's a question for yeah to look into the what happened the use cases yeah 55. let's move on to it all right yeah yeah so 55 is uh basically like uh like trying to layer fees on top of the various uh like resource uh uh metering uh that uh started to get introduced in the system so it's kind of a problem is it's a little bit ahead of that because we didn't actually finish all this uh like i think we have a the beginning of like gas metering for example um in cap 46 but there are like other things that are not covered yet um so yeah this is uh so the test disclaimer this gap has a bunch of uh open-ended things um let's see and um yeah so so like they are where the cap uh is uh covered there are like several aspects kind of uh maybe like more important to discuss uh i think um there's the the first one around the uh classification of resources and having market dynamics uh based on those resource types so this is an area where um if you look at uh other blockchains it's actually a mix of things like some systems um like historically started with just like ethereum um just like gas as being the uh yes i i i'm also a gas in the context in this context meaning um the kind of this uh metric right that allows to to to kind of uh count the cost of a um to to execute a transaction and cost here is kind of a pretty loose in terms of definition um uh like mostly computation but when you do like when you load like a like a ledger entry uh like when you access ledger you also pay for for gas um and then yeah like yeah and then so you have like gas cost which is uh this aggregate metric basically of multiple resource types and then uh more recently in ethereum there have been discussions around uh other types of resources that are kind of interesting um such as uh bandwidth uh and uh and any other like basically you have a kind of a funny crossroad there that is do i want to have uh a market for uh for each of those resources or do i want to kind of generate like a composite market for those so like the you have like uh i think in polkadot what they do is uh they put a the aggregation with utilities with a polynomial uh function so basically take all those resource types and then you assign them um a weight actually it's not even i think they are linear it's a linear thing and then yeah you combine all those things and you get with your synthetic i don't remember how they call it weight i think in in over there but like um yeah like that's that's a way to kind of compute this aggregate gas so the challenge um so to talking about challenges that comes with those aggregate uh models is that it's actually very hard to discover price of things like uh an example is uh um if you take a transaction that does a lot of i o and very little compute that is competing with a transaction that does very little i o but a lot of compute like uh with those aggregate functions uh if try to pay like 10 times more for example bid more right for one transaction um you don't know if you're signaling that you're that your i o is is what you want to prioritize or if it's your compute that you want to prioritize um so yeah so it basically causes the overall prices to have like this uncertainty in terms of like what should i bid so that's kind of one of the the problems with those kind of aggregate metrics um so with that said uh with john cannon like one of the things that we are doing is uh we have a very uh clean uh separation between the different resource types so io for example when we read or write the ledger those are done basically outside of the main execution like you can think of before applying a transaction before executing a contract we load all the ledger entries that this contract needs and then it does its thing and then at the end uh it produces potentially uh side effects uh that will be applied as like a post step that's kind of a logically the way to we can you can think about this and um the opportunity here for us is that because we have those uh kind of completely separate um we can actually dis um and and we also do it because of performance reasons uh for parallelism but like because of that we can um um we can actually express those markets uh like uh separately and we can therefore i i think um have like cheaper fees overall because you can price things uh properly so you don't have to do like to kind of articulate inflate for example inflate the price of of reading data from the ledger because compute happens to be expensive uh which kind of would happen with the aggregate model so in the proposal what i'm doing is actually i have like three categories three really brackets for fees so one is for gas which is the compute time exactly you can think of it as execution time in in our model really because like i said earlier we we have a full separation between i o and and uh and execution uh so this one you can bid  second market that i have in the proposal is for reading and writing to the ledger so here there is actually a competition for uh there's like there are so many uh there's like a you have like constraints right in terms of a number like the bandwidth to the disk uh subsystem both in reason rights um so um because of that you have to have like a market for that and it is separate right now um and it is separate also because there is a interesting fee model for rights that i'm going to talk about uh later um let's see and the third category um is actually something that is not a market it's not really a market there are dynamic fees for what i would consider like commodity on the network so things like um like uh producing meta or data that ends up being stored in archives those do not there's no reason to have like really competition between uh transactions uh instead we have like limits per transaction like basically we say you can only produce i don't know like a 500k or something of meta right for a transaction and then that's your limit and then two transactions are actually not competing uh you know against each other so there is no need to uh you cannot have a market dynamics there so uh there are actually a few of those um of those resource types and because there are there is no market you can actually aggregate them so they end up in one big bucket of like like deterministic fees basically based on the current state of the ledger plus plus yeah like the actual transaction um so those are like the three three categories that we have in this proposal any question at this point on this i've been going back and forth actually on this uh like a should we or not separate piece we could go with one like i said one market but i think uh it pushes price quite a bit too much for like cheap cheaper whichever resource will be cheaper which is hard to predict do we anticipate that this will be difficult for users to reason about to like understand these different types of fees and to think about how to set them so yes and no i think that's actually one of the things that's kind of interesting is that when um we have uh already in the system a strong dependency on a pre-flight mechanism so like before submitting most transactions to the network uh like they will have to go through a pre-flight endpoint the pre-flight is the the thing that basically will um allow people to compute gas for example to estimate gas for for transaction uh in addition to that um let's see uh in addition to that yeah we have um uh like i was saying like uh certain fees that are like that more like dynamic because they are based on the uh current ledger uh like for example like a bunch of those things that i was saying are like the price of storage in archive this is uh voted uh by the or determined by the validators so at before submitting a transaction  you have to know basically what those parameters are um and uh yeah so as part of the pre-flight endpoint you basically get a an estimate for your the minimum fee for for those categories well in the case of the non-market-based resources the the minimum fee is basically equal to your or very likely to be equal to to what you need in the case of um well you do have markets uh it's more like today where you have to decide how much do you want to over bid based on that because the minimum fee doesn't necessarily translate to uh to what the market is is willing to pay so you have to look more at historical data but this is like something we can uh yeah that uh that like endpoint scan like a Horizon can uh can uh can expose right um and having yeah having them tracked as separate resources in terms of historical price uh allows you have actually something a little more stable i would imagine than if it was like an aggregate i think the yeah the complexity from multiple markets uh comes from um i mean one of the implications is actually when we construct one and say we validators construct a transaction set it's going to be a kind of a multi-dimensional nexa problem which is not great but that's the but that algorithm would not be part of the protocol it's more like it's uh if you have like five seconds to produce a block here that's uh there's so much compute you can span in assembling the perfect transaction set yeah to answer original question justin at the end of the day uh the you know the wallets should have an easy way to present an uh like an estimated cost in uh an xlm currency that they can understand and they can tell the user hey like um you know this is how much more you can uh you can propose for that like they don't need to actually understand the mechanics of how this works yeah it's true that when you over beat right like you're doing for example you say i want to to spend like 10 more than whatever happened in last few lectures that 10 percent you can put it i mean i imagine pretty safely across like those different those different resource types like the ones with markets uh because the assumption there is like the they are priced accurately but i imagine that more yeah if you want to really save like a it's hard to predict but like uh like if if there are like some of those like a gas for example becomes very expensive um yeah you don't like maybe you don't want to be as aggressive on on the other resource types um can i jump in with a couple comments yeah um so i guess so um one it's um uh i guess high level it's not clearly what this adds over uh for having like a multi-dimensional optimization problem over the the one-dimensional one um and the reason is that uh sorry i haven't thought about this all that much um but the reason is that like when when at least um in the current execution model sort of everything like everything executes um everything in one lane is going to execute sequentially right and so the main like resource that's that's truly limited in like a block is is time right and um it's it like unless there's some sort of weird um interleaving going on between like transaction executions um that's sort of the one-dimensional resource that we have to optimize anyway and so it's it's not clear to me why um like your example of like a transaction that does lots of i o versus one that does lots of compute well um both of them are going to take a lot of time if they're using a lot of one resource and so it's not clear to me that um uh at least in the current execution setup we have um that it's uh we gain by sort of allocating some um i don't know resource to like i o versus some to to compute as opposed to just like looking at the whole picture of like the total end-to-end time of the transaction um that said it it does seem like uh we it'd be good to like have some kind of like price discovery mechanism um for different resources and um certainly like you want like an overall limit perhaps on like the total number of ledger entries um and so um i know i don't think um sort of thinking off the top my head i don't think it's incompatible to have like a one-dimensional um like gas market and then like sort of price markets on each resource in the sense of um transactions could bid like you know for the the amount of resources they want to use and like the fee per resource um and then you do some like filtering step um but that's sort of thinking um very much off the top my head um i don't think we necessarily i guess high level i don't think we necessarily have to go to the full multi-dimensional operation problem that's but yeah that's possible like uh it it just looked like uh from historical kind of uh experience right like a like i o is a huge problem and um trying to model that as time is actually making it's actually a disservice in a way to the to the network because you have like very expensive uh from uh like this point of view right like something that's going to suck your your disk resources uh that now stole all your calls right on in a multi you know parallel uh execution model um like store as in you know because like i said we do all i o early on and if you're actually maxing out uh your drive then you're just stuck uh right i mean it makes sense to have um perhaps a limit on uh overall io i guess and then there's yeah the other aspect uh actually maybe if we can you know like uh i don't think we're going to necessarily like close on this multi-dimensional thing you know now but like there's the other aspect of yeah ledger size and rights uh that is actually another kind of key thing in there that i guess makes uh io a little more special also nico just to go back to to jeff's point like i understand that why i o needs to be you know priced significantly higher than uh you know the compute operations but i don't necessarily understand why it needs to have like its own market so the the pricing right that you have is the minimum price it's not the market price like when you uh market prices is uh like in the in the ideal like what is describing the cap is is trying to be closer to like the ideal situation where um you can actually construct a transaction set that's going to basically be like right at the edge in terms of the capacity that you have on your actual you know underlying hardware so like cpu and io for disk if we lose that visibility then you may actually allocate too many transactions to compute when then uh like uh you know you you don't have like basically like the the kind of natural way of of uh of having a um a transaction compete against other transactions that are paying for expensive stuff that's kind of what i'm getting to like uh like if you have like um what was it like a good example would be like uh um yeah i don't know which one of those resources would be more expensive but they are not going to be in the same order of magnitude let's say like a compute is the one more expensive at a given time so you have to pay like 10 times more right or 100 times more than the minimum fee for for compute to get to get into the ledger but your your your storage price is also kind of expensive and by bidding a hundred times you also bid a hundred times on storage and you're basically overshooting quite a bit compared to the ideal um model yeah i think i think the general point here is just that you cannot that in reality uh it's not the case that there's there's just time when uh a transaction is executing um there there are two different resources and there are different contention patterns on them and you can't trade one for the other the the the system does not actually trade one for the other like if i if i for example submit uh you know a hundred transactions every one of which is doing incredibly cpu and expensive stuff um that that doesn't saturate the i o system and there's there's still no contention on the i o system uh whereas if i submit a 100 transactions that are just doing i o and they're doing no cpu that doesn't saturate the cpu so they are really two separate resources and the point where one of them gets a limit uh and can no longer do transaction processing it doesn't represent a limit on the other and vice versa and so you you you can't trade between the two of them uh from from a market perspective sorry i'm not quite following something didn't didn't we say earlier that we were going to do like all of the sort of disk reads first and then do the executions right so that if we have a lot of disk reads then we have less time for execution and so the vice versa i i sort of understand that there's not they're not like directly tradable but they seem correlated or anti-correlated well they're they're they're different devices so like right i'm using the disk and then i'm doing the cpu right i'm not using it at the same time i mean like sure there's different offers and things but um yeah sure but the the execution characteristics of each of them are are different so you you use everyone uses the same desk and then everyone sort of farms out to multiple threats right i feel like we're talking past each other i mean yes one goes in in order of the other the two of them do get added together in order to represent the the total time but you can't trade time on one of them for time on the other that's what i'm saying i think i'm not quite following but that's okay nico are there any other networks and fee systems that uh introduce a split or that work similarly those are like the two like the yeah execution time and and uh like compute right and uh and disc are like the two big things that i isolated like the right side i figured it would probably is probably not needed so i kind of put a flat fee for the other ones like basically like uh um in a proposal i'm basically saying like we're okay with you know if you want to have like something that uh like if you have a transaction that is very important that happens to emit a lot of miller for example um but you have to get just over a bit like crazy on your compute even though you're not really that's not what it's about you have to find a way to get it prioritized um let's see are we talking about this okay like i think i kind of wanted to talk about it here is in your proposal you're talking a fair amount about state expiry yeah before we go into estate expiration which i i know is a big topic i'm still trying to to reason about like the kind of the wallet experience and user experience of having having these like multiple dimensions for for uh for gas like what is the expected behavior here for um for wallets to be clear right like tomorrow like single dimension or multi-dimension from a white point of view if you want to estimate it's the same problem right like it's like in the single uh like a cost model like like you aggregate everything into one you have to actually uh you have like a function right that just aggregates but you do have to estimate uh your your bid for each uh things so it's not uh it's actually like a funny thing that that you have except maybe the tools you have for discovering price are not as great because it's all implicit okay so so a wallet can can do a pre-flight can tell me like the expected cost i can um you know bid bit over um but how do i know how to divide that between like the the compute and the i o well like it's it's the same in you know like like i said like it it doesn't that question is not a question around multi-dimension versus single dimension because that that like if you want to multi like if you want to say like i want to pay 10 percent more for on top of the market rate right for storage let's say because that's where there is contention you have to know that that's exactly what you you have to have like you have to have the uh yeah market price for for storage if you just layer like 10 flat on everything uh you're just going to above overbid which is maybe okay right like for some people if the fees are relatively low you know what's the difference between you know uh you know half a lumen and two-thirds of aluminum or something i don't know like historically we've seen that uh like in some situations people are getting uh are bidding very high on on certain uh for certain patterns um it would be great to maybe um and forgive me if it's already in the cap but just like understanding what is the like the uh what's the expected wallet strategy or client strategy here uh when uh like in terms of user experience like what do they present to the user and what uh you know what kind of inputs do they expect from the users yeah sure okay let's talk about state exploration nico where is it well so state exploration yeah goes kind of hand to hand with the uh model that i have there for storing data on the ledger so like the in the proposal it's basically like there are two parts to it there's the how do you model a write and uh as in and so writers can be a create a ledger entry or an update um and how does it work um like how do we have like the the right price basically for the cost of storage um so in the proposal what i what i did is uh i basically used as an approximation for um for the cluster storage the bucket list size so like the uh some basically like the the ledger is organized into those uh like uh 19 buckets i think it's 19 uh and then uh um it you if you if you do a um an update or a create you basically append that to the to the very first bucket in the bucket list so that's how um basically like based on the size of the the the total size the or total size of the ledger um um i allocate like a a price function uh that kind of looks like an exponential from fall uh like basically it starts with a slow slope up to uh some number let's say you say oh like validators here kind of determining those parameters but like you can think of it as the leaders say oh yeah right now we are running on drives with uh i don't know like uh 25 gigs or 50 gigs of space right um and they're going to basically set parameters such that um they don't have to um kind of uh buy new drives uh you know like if there's too much traffic so so the price function is basically looks in this case like you have like your normal slope that goes to in like i don't know let's say you have 100 gig and it would be like i want to use maybe like the first 80 gig at a rate um that's going to be uh like a good rate but not not like overly aggressive and then the last 20 gigs i want to really slow down uh like the the growth so that's right like from 5 looks like this hockey stick type of shape right like an exponential and that's kind of the model for pricing growing the bucket list so you have that uh for that's four rights then the problem is that this is only like uh this is like um saying okay you can add to the bucket list but then uh like and and by the way like if you delete entries um eventually those get collapsed into the buckets and so the bucket is uh shrinks uh in that model a delete you still pay for or delete actually um because delete is actually adding a little bit of of data to the bucket list uh so that's like first thing to note here uh um and then uh yeah what i wanted to get here is uh as a kind of more like a desired property is that i want the price of storage for people to to kind of be the same for everybody regardless if they signed up for you know uh created an account uh like two years ago or you know in five years uh it should be uh over time same cost and um there should be no way to do like uh to have like a free ride on the on on the on the ledger right like so you shouldn't be able to have like store i don't know like nfts like jpegs whatever on chain uh you pay for for this when uh storage is cheap and then uh now you have like uh something that is cheaper than uh than even storing in aws right like that that doesn't make any sense um so this in with that said there's then a need for having some way of kind of uh resetting in a way uh the the the price of uh of storage over time and uh the mechanism that i use there is state expiration so state expiration here means that you have to basically  pay for market market price of storage uh to maintain a ledger entry on on the like a live in the in the ledger if you do not pay for this uh for those uh for this for your brands basically you get uh perched that's kind of the the choice that i made in this cap there are a bunch of other ways uh that can be done uh that are actually mentioned in the recap in the other approaches um but like the the reason this kind of works with the other mechanism is that basically like if you if you set a policy for example by default you have to pay rent like a refresh every year let's say uh and then you don't pay your your your renewal after a year uh yeah your the data gets uh deleted um and yeah so there's this kind of constant churn i guess on the ledger which is kind of a new pattern and that construction is basically a way to to guarantee that everybody in the last year has has been paying basically something that is market rate how long do you expect the like the how far in the f like when i trade a letter entry how far is the maximum expiration date that i can choose or that will get chosen for me in the future this stuff isn't as far as i can tell it's not specified in the cap how that works so right so so right now the cap what it says is that it do not so you can renew indefinitely right uh like the the renewal window is determined by validators so that's why i said it's like a um like you say every year you have to pay run right and then every time you write you do an append that happen is valid uh for a year right that's good that's demo then isn't there a natural trade-off between like renewal time and um like fluctuations in this price of storage or are we expecting like this storage cost to not um increase too quickly well it depends uh like what we've seen on the on the current network is uh ledger size has been increasing actually rapidly over the last uh few months because of like some strange token activity which is not entirely uh i mean it's it's not i mean there are a combination of factors like uh one is uh yeah like just price of in crypto assets go you know uh going down uh but also like when they were still pretty high you had like an incentive to to create more crypto assets so it basically those things kind of cancel each other and the growth has been uh pretty significant so i would say like uh seeing a growth rate um that takes you to uh yeah something that will be you want the market basically to kind of get to an eco equilibrium right like where uh where like uh you do not have like uh like those weird use cases uh appearing on the network if they if they are like cheaper than right now i think on on the on the network the the the problem we have is uh yeah we are cheaper than aws fault in some situations isn't there a trade-off here between not necessarily a trade-off but isn't there a consequence here that people will have to go and touch their data from time to time and people are procrastinators and like let's say that like the expiration date is you know when you're in the future or something uh everybody at the end of that year then has to go and touch all their data and there's gonna be a huge log jam to get it done well that's there would be a large jump if everybody creates their stuff at the same time but you would that's not the case it's going to be you know like basically like the thing that expires in a year is the whatever happened today right like at the given date right but i mean like imagine that today you have a day with like a lot of activity like you can look back historically of stellar's history and there are periods when there were like lots of token creations and stuff you know there are days when there's hundreds of thousands of blood draw entries created um and then abundant well many of them are abandoned but like you could imagine a world where they're not all abandoned right and then what happens a year in the future well nothing well people are incentivized to come back some time between here and then i i don't i don't see this as any worse than the fact that we have to handle load spikes in general yeah i mean we have to handle load spikes and let's bikes may get replicated but yeah like what um so what i sketched uh or what we sketched actually in the cup which is uh you know just a more of a strowman type of thing because i'm sure we can do better than that is uh is we actually are um kind of uh ensuring that uh you do not have like giant spikes so like uh it like i think the spike would be not be because of situations don't like what you're what you mentioned because actually activity from today uh if you have like a comp a a a um a linear like a translation right like an actual just shapes right like all this activity gets translated exactly a year from now i you don't have a problem i think the it's just like additional uh cost of running a validator right like it's uh let's you say okay i need to when i set my limits right the number of rights i actually have to think about well actually my capacity in rights is half of of what i can add to the ledger because i also need to delete right but what can happen is uh more of a like um if we have different expiration times which i actually kind of briefly talked about there is that if you have different expiration times you can have actually different dates that end up expiring at the same date and uh and that's for that for those type of situations you have to have an algorithm that kind of uh smooths things out and that doesn't actually cause the system to kind of create a gigantic spike you know at a specific dates so just we don't have a lot of time but i just want to ask uh what like the biggest question i think that there is like what is the what's the expected behavior here like you know these ledger entries are representing financial instruments um let's say assets just for simplicity even though we have like a standard asset contract and i'm uh you know paddling on shares of something um is what is the expectations or what is what's expectations there's like am i supposed to like once a year like come and touch this is like the operator of this financial instrument supposed to do that for me um if you know if you look at uh you know various common immutable contracts like uni swap you know and so and and i'm holding on like these uni tokens what's the expectation here like who's going to touch these for me right so in the in the in the cap i i actually let this kind of flexible like uh there's a when you there's actually a special host function to that you can call that is basically a rewrite equivalent to like a rewrite uh ledger entry um so that you refresh the that that expiration time anybody can do that all right like there's no it's not i understand that anyone can do that but who is who do you expect to do that well it depends on the type of users right like uh like power users probably don't want to do it themselves uh like other situations you know if you're if you're like you said like this very passive type of person uh maybe you should pay somebody to maintain your stuff if that's what you really want uh in other situations i suspect uh if people are not active they probably should just be using centralized uh infrastructure like you know contracts or whatever that are a little more centralized i think trump's point is that there's a free rider problem here like imagine that all the people in this room are using a single contract right like which one of us can touch me all of us have an incentive to wait until the last second and play chicken and hope that somebody else oh like yeah for a short contract i think that uh yeah well it's if it's a shared goodness uh like uh just i that's not what actually what i asked john i assumed that uh like each of us will have like our own ledger entry within that contract so maybe did i not understand correctly i think i think i'm concerned about people's money vanishing into thin air which is completely reasonable these are balances and we're just going to delete them that's not that's not super great i recall there being a proposal to like uh have um but what happened to this um like when you have a ledger engine deleted it like gets um dumped into like some kind of merkle try and you store the hat root of that try and then like when i want to bring it back i can like bring in a proof that this is what the state was right so this is actually in the appendix yeah the alternative section so this there is actually a very detailed uh proposal in ethereum foreign v2 uh about this um so the complications from this archive approach is uh is when you uh want to so like uh restoring is actually yeah like a trivial like i said like you know you have like a maybe a way to do like a to just to basically store that that entry in in inside a merkle tri of source right um and then you just need to provide the proof for that uh the complexity comes from uh when you want to create an entry because you have to prove that that entry doesn't exist in historical data like that was actually archived and that gets really nasty very fast right right sure but like that that like not wanting to do that doesn't address creating this question like what do you do if your money gets deleted it's it's uh it's an event like uh like you know if it's a uh like with an issue it's like today if you're on the seller network if you're sending back to the issuer you know you basically burn it you can ask the issuer like hey sorry i didn't mean to do that but but i didn't burn it but like what if you're like what if it's not like you know an off-chain issuer that you can appeal to like what if your unit swap lp tokens get get deleted what do you do it's tough yeah uh like uh you know these those are the rules of the network wait but that's not that's not a great solution long term right like we're gonna have a lot of people consider the alternative right which is infinite growth of a ledger with infinite price which one do you prefer i mean like objectively like if somebody had a million dollars of like uniform lp shares get liquidated it would have been better to pay for a million dollars of storage so that one person yes but like uh what about everybody else and that person with a million dollars like if they have that it's kind of like key management like you you have procedures to make sure that you don't lose your million dollars it is it is currently the case that people with million dollar balances can in fact uh lose them because they can lose their keys so there's there is there is something to appeal to here like it is it is actually possible for you to lose money just by misusing the system but what about the other end of the spectrum though somebody who doesn't have a million dollars they have a small amount of their balance and they're just constantly eating that up by paying these fees to keep their balance alive i mean it sort of reminds me of like bank accounts where you're like bank accounts just disappearing because you're paying all these fees yeah they do eventually disappear if you if you put five dollars in a bank account and then wait for 20 years it'll go away i mean this just points to yeah you're not stirring your your balance in the right place like this is shared infrastructure like if you don't if you don't use it you lose it but nikki you can't just like ignore the entire industry that we're in and you know i'm not pretending that this is not a problem like people are overlooking this problem but um you know it's i think it will be really difficult to bring people into stellar telling them oh this is the way it works in selena right so it's a fader no it's not selena doesn't actually do any of this right now they have rant no they don't they literally don't charge it right now it's a to be done in the future feature that no one wants so they're never actually going to get around to doing it they have infinite ledger in memory they they allow they charge you money to make to allocate space but they never actually reclaim it there's no there's no active garbage collection process so we're over time at this point and i think that means that we have to stop i mean i know that this is an interesting conversation and there's seems like there's a lot to say about the concept of expiration um but i think we'll push it to next week's meeting and hopefully have some of this discussion on the stellar dev mailing list and here also in discord in the various john cannon channels so if anyone is watching and has thoughts about that feel free to join the stellar dev mailing list or to chime in on the discord here um we'll continue to share work and ideas and conversations debates as they happen and we will see you here again soon thanks everybody",
      "keywords": [
        "actually",
        "thats",
        "dont",
        "basically",
        "those",
        "theres",
        "ledger",
        "youre",
        "other",
        "time",
        "which",
        "transaction"
      ],
      "speakers": []
    },
    "2022-07-01.mdx": {
      "summary": "okay so let's kick this off um today we're trying to make a very important decision with regards to how Stellar assets are represented in soroban and this is um a decision that we've been exploring various paths to achieve and uh in in the past few months and we've gotten to a point where we really need to make a decision and uh and anchor this so that we can move forward so in order to facilitate this discussion we put together this doc uh which Justin just shared in the live chat uh if uh if you haven't read it please um open it up and take a look at it while we're talking because it's very important um so the kind of like the Crux of the decision that we need to make is between this idea of um how Stellar assets are represented in in soroban the current implementation that we have is has like this maximum uh separation where sorobond tokens are completely uh detached from Stellar assets so you can have a balance both in a stellar trust line and in a soroban uh token by balance um and we're trying to figure out whether we want to keep it that way or uh change um to a single balance approach before we touch on what a single balance approach means I do want to mention that we talk a lot about wrap tokens here rap tokens is is probably a really bad semantics it's a bit vestigial to how we uh how we refer to these tokens when we when we started off so we'll probably um uh change up semantics but I just want everyone to be on the same page that we're talking about you know what is the sorobond interface into Stellar Stellar assets so um I talked a bit about dual balance approach the single balance approach is that basically accounts have just a single balance in their trust line and that is also exposed as a Soroban balance through this built-in contract we put together in the stock a set of requirements and non-requirements we haven't gotten a lot of feedback on these so I think it looks like people are on the same page um and maybe because single balance approach is a bit new uh lee uh would you mind uh I don't want to poke you too hard but can you give a very high level overview of the single balance approach as the original proposer yeah so um uh yeah so the the goal with the single balance approach is really to um to make it so that any participant in the ecosystem uh when they're interacting with an asset that exists on Stellar today in a truck being held in a trust line they only have one place to look for they for that account so that account um you know an application doesn't need to know a wallet developer doesn't need to know they need to go and look at balances in two places they only need to look at that one place users don't need to decide where um you know which balance they're going to send from or send to all of those things but on the same note with the single balance is really mostly focused on Stellar assets so you know if somebody goes and makes a token on sarban um their own custom token um you know that that's like a completely separate thing so um so the idea with single balances is um the if you're interacting with that Stellar asset um within sarban um you know it looks to you just like it's any other token so it's a stellar assets still have uh are still exposed in Soren with the exact same token interface they look like any other um token uh like an erc20 style token on sorbin but we're just storing that balance in the trust line so there's just a single location right and and there's some um fork in the second section of this dock around single balances whether uh you know the trust line semantics are only preserved for accounts or do we uh include trust lines for new types of entities like contracts and this um uh in this approach and and we can talk a bit about that um later I think my my first big question probably would be to uh Siddharth if you're if you're live on this I know you you've been the main implementer you and John for uh uh dual balances and maybe you can share with us from like uh you know from a Hands-On technical perspective if we are going to move to a single balance approach what would be the implications yeah so you know our like I've John and I took the perspective that we would like to minimize the relationship between classic and Soroban uh what and I say minimize because we can't like importing and exporting actually touches uh I require Soroban to interact with trust lines and you know there's actually some pretty uh complex code in there where we actually replicate uh electrostline semantics in Soroban uh like I I think I I I think we should like I I I'm still I'm still like support uh on that side in that you know that question the thing you mentioned about how uh trust lines on for contracts not just seller accounts that I think is like moving in the wrong direction if we do single balances we are introducing more of classic into sorbonne and we're introducing more of the classic protocol into Soroban and when it's much simpler to maintain the separation as much as we can uh so that specific point is something and I think and Nico has a strong opinion there as well we can we can ask uh we can ask that later I think that the before we go to that the question is you know you mentioned that right now we're replicating trust line semantics in um sorovan because we need to interact with trust lines through the Import and Export functionality so that is true for dual balances um and obviously it will also be true um if we go for like a single balance approach is there significantly uh more kind of like classic semantics that we need to um uh that we need to adopt in order to move to single balances uh the answer I would the answer is no I don't think there would be significant uh any significant changes for example I think we've talked about so you can actually use those functions the functions that Import and Export use to implement a transfer uh using the single balance world right um so in that case there would not be you know it's not like the tone contract would change much I mean we already have to pre-flight with the trust lines right um you're just you know it's pretty much like a you're just running an import right uh as a transfer uh it's just like there's there's some slight differences so yeah if the answer to that is no there are I don't think there would be significant differences okay so I just want to make sure we're all on the same page with regards to what you're saying here you're saying that in terms of interaction with classic what do we have right now as import export on Dual balances um you can think of a single balance transfer as basically like as these two things can combine like an import and expert at the same time uh so there's no added overhead of like interaction with the class approach no there isn't okay so before we go into the details of uh more uh kind of like thinking about uh the specific implementation of single balances is there anyone here that wants to like Advocate some more for dual balances I mean okay maybe the only thing I can add to to this thing to the Dual balance uh like what is good about the dura durable so I think it's actually on the performance side um because if you con if you think about the type of legendaries that you need uh in the dual balance world when you're doing uh sorbent payments uh you only have to deal with basically one place whereas in the single uh balanced world when you do things like uh allowances now you're dealing with well actually you're dealing with two um Legend trees plus you need to read uh issue our information uh you know from classic so there's like some other added overheads but you know we can maybe set that for the performance or implementation discussion okay but I just want to make sure like when we're dealing with allowances today um even if it's pure sorobon you still need to touch both the balance Ledger entry and the allowance Ledger entry right yeah I think the only difference would be anything you would read from the issuer right because you still have two balances you're gonna transfer on the StoryBots side and you know on the classic side you have two trust lines yeah so you have like you have the one time transfer right like like as far as like the balance where we store it versus the allowances there is actually no um requirement that they are separate in the current implementation you could actually store them in the same place too that's true you're saying that you would have one Ledger entry with right all the information yeah that's not how it works at the moment but that is true I think that's a bit weird because balance is operate on a key of a single account and allowances operate on two accounts like who owns the balance and who gets the allowance right it doesn't matter it's basically on one when you do a payment as part of an allowance right you you have like one of the endpoints is basically holding the allowance so you pick which side but it doesn't need to be a third one right but but also just to zoom in on that sit in terms of if we want to adhere to um current authorization semantics even if the do with the Dual balances approach isn't there a read to the issuer account anyway yeah if you want to do uh like if you want to check off required for example is that what you were talking about yeah yeah there is the issuer although you can minimize that right at least like that prototype we I wrote up if it's an you can only need to check if it's a New Balance after that auth required doesn't matter right um but that I mean that's like a minor implementation detail does that make sense yep that makes sense uh I see that Eric is raising his hand maybe you can invite him to speak Eric you're invited hey can you hear me yeah um I just wanted to ask are there any security implications in terms of surface area uh in the in the single balance approach because in the Dual balance approach it feels like classical assets are pretty separated from Smart contracts and they can't be interacted with directly and so on uh so in terms of things we may not have thought of bugs that could be introduced and so on are there any security implications uh by getting a single process by the way this is a question that Fred from Lightman was asking in the live chat too yeah and I think that's a really good point I think it's in the docs somewhere but um just to give some more context on this uh you know smart contract balances are susceptible to um various approval issues so let's say for example that either maliciously or uh because of an error a contract asks me for like uh to approve more uh funds than they actually need and they somehow managed to get me to sign that approval now they can access funds that logically I don't want them to have access to um and that's definitely a problem and that's definitely an issue that if with the clear separation of classic and sorobon um it it doesn't exist um it's and by the way this is a problem in in blockchains and in general and and defy I do think that there are user um actions that can uh that can alleviate some of this I can basically have like you know different accounts uh for uh as a user I can have different accounts for you know the risky stuff quote-unquote that I'm doing in soroban versus the the less risky stuff I'm doing in in Stellar but the the protocol doesn't mandate that separation but yeah I think that's a that's a super important uh perspective here if and and maybe like I'll add to this that in terms of risk uh if you look at either implementation has actually a way to manipulate the um the the trust line right the balance on the classic side uh so like either it's like through this bridge you know like import export type of function or uh it's actual you know when you do a transfer in either case if you have a bug you're kind of you know in trouble so I think it doesn't like from that point of view implementation wide I I don't think it has uh you know much consequences actually yeah I agree with you I think from an implementation perspective it's the same surface area uh but at uh like Eric and and Fred's point the approval uh surface area is a bit more robe for people to hang themselves with but that's something that yeah I mean I guess maybe something here but that's not part of this conversation because you know like at the same time I do want the serban tokens to be secure right so I think I think this is part of like uh improvements we can make to the uh contract interface um I think they are like obvious flaws in if you were taking their verba team something like erc20 yeah I know we already started to incorporate some of the changes that were done later but it you know we don't need to stop there right like it's something that I think we have to double down on actually before we launch that thing right and and here's a this is a a great Shameless plug for some of the work that we've been doing on our token contract with supporting things like um um like permit style approvals in which you only approve the specific amount that um uh that you'd like your you know D5 protocol to use at the time so I do want to go a bit further down the document and um Talk a bit about this uh trust line yes trust line no trust line discussion that we've had um I know that the original proposal that Lee made was to preserve for a single balance was to preserve trust lines only for accounts but uh contracts and other non-account entities uh do not require a trust line um which means that they can do things like you know they don't have a minimal Reserve um and they don't need to opt in to hold an asset um there's another folk in the road that we can take and which is to um to mandate trust lines across the board even for non-account entities like contracts like other identifiers um Lee can you tell us a bit about why the original proposal um did not have trust lines for non-account identifiers but yeah um I guess it just didn't seem particularly necessary like uh accounts have trust lines today and so they have a balance that's there and everybody knows where to go to find that balance um when contracts exist tomorrow uh or now in future net um uh you know we already I think that's that's an entirely new thing like there's not really any need for them to depend on trust lines well we don't expect them to um inherit everything uh you know all the semantics around trust lines so um yeah I guess this didn't really seem like an obvious advantage to do so um but maybe there's some implementation reason to do so got it and I will mention that there is a non-requirement section in this Doc and uh a later addition to the non-requirements is that opting in to hold a stellar asset is not a hard requirement so today you need to explicitly create a trust line in order to hold an asset and we are loosening this requirement for the sake of interop um right now we haven't gotten any um to be honest we haven't had gotten any qualitative feedback on uh either direction whether this this is really good or really bad but we do know that trust lines have been uh an extreme pain in the ass to a lot of us throughout the years and we are looking uh for uh for ways around them uh which some of these proposals include including 2.1 um and yeah this is uh still an open question but um we're probably going to loosen that request um Nico can you uh talk a bit from a technical perspective what are the implications for for not having uh trust lines on contracts and why do you think we should have them so yeah like the trust lines when I say trust lines here by the way like I didn't mean necessarily A classic dress line it's more of a standardized format right like a ledger entry or whatever for holding balances that I'm thinking about and this would be so that um when we think about wallets uh you don't have to necessarily um like right now the way you can get a balance for cereban token is is by calling the get balance endpoint on the on the token um and there is basically no way to do something um efficient like what you like uh like a block Explorer Style uh you know give me the balance for any Ledger entry uh or any account right a servant account um so so that what I was thinking is that maybe there's room there for for that um and in particular I was thinking in the context of classic uh so classic assets so existing assets that are being held by let's say a smart contract wallet uh so basically Where You Are uh balance is not held behind a stellar account but held by a by contract that enforces you know policies basically um like in that world uh it's you you don't have the Horizon experience basically that you get with a classic account like a a standard account and that felt a bit um like a limiting right from a like a efficiency point of view and all that I mean I can see that for the if you get into the generic uh you know type of contracts um you can do a lot better than calling the you know the actual get balance because you know maybe it is actually some actual code happening there uh but for those uh type of accounts the classic uh classic assets right like uh I thought we could actually do something a little bit closer to what you get with standard icons if that makes sense so I think this touches on how Downstream systems um handle tokens I think it's still an open question for uh Horizon for example how they deal with with tokens um Eric do you see um Horizon actually reporting token balances for contracts um like you say I think that is still an open question that we're thinking about there's pros and cons here obviously if we go down this road where assets and tokens become the same thing then you sort of get a default uh answer to that question but um in theory you can imagine a world where there's some kind of standardized token uh that obeys the interface of of you know the standard contract and we make that available the question that I want to understand if we're going to go down that road is what other use cases there and can we solve those problems in other ways say through uh streaming endpoints and then fast catch up for history so I think we're still trying to understand the use cases and with respect to Horizon in general there's this question of uh what does Horizon solve and for who Horizon is like a Swiss Army chainsaw you can do everything it turns out that when you actually analyze what people use Horizon for uh the vast majority of users are using a very small number of endpoints and also in a relatively recent time period so we have the possibility to differentiate with different products that can actually map much more cleanly to the actual requirements right so that's like part of where we're thinking and trying to understand better what uh will be the best form factor so I don't have an immediate answer but it's definitely something we're actively trying to understand more I I love Swiss Army chainsaw I think that should be the description on the GitHub repo um so it does seem like if we're thinking about Downstream systems uh you know going back to the big discussion of single balances versus dual balances it does seem like single balances is the least amount of friction to actually get Horizon to keep accurately report um um you know like the classic account balances yes I would say yes and no yes in the sense that it uh on the face of it feels like there will be almost no work required it will just automatically happen um the complication is to think about whether having it automatically happen is in the end uh a net positive right so to give you one example of a trade-off that we have here when Horizon provides token balances natively um that actually encourages some centralization in the ecosystem because in practice today most Horizon users actually use the SDF Horizon instance um another example is well if we actually identified the need for tokens uh we could produce a form factor that's extremely minimal uh that lots of people could run very cheaply that might actually Aid our decentralization goal so there are some questions around that kind of stuff that you know I would like to put some ideas on the table around but it is true that I think from our perspective if balance is combined they would just pop up and appear in Horizon and I do see a benefit from a usability standpoint it is pretty confusing to consider them tokens and assets as separate things uh yeah I imagine you'd still have to account for trust for transfers that go in and out of things that you're not tracking like contracts um so yeah that's true but that's much more bounded problem yeah I hear you um Sid you were talking a bit about um your um concerns with adding um kind of like opt-in semantics to uh contracts and other sorobon entities can you um tell us a bit about your concerns yeah I mean for example if you know you have a liquidity pool uh that's going to accept that that's going to allow trading uh with like a classic asset um so the contract would have to opt in right that's friction uh I mean if this it sounds like this it won't be an actual trust line which is where some of my concerns were um but yeah I had questions like who would own the trust the trust line um and just it adds friction that and that I don't think is necessary and it's something I talked to Nico briefly about but uh you know if you really wanted the balance of a contract uh or the token balances for any for a tone contract you could actually look at The Ledger entries right and maybe this is something we can encourage that that is an option right uh like like the structure is pretty well defined at least for the the built-in token contract uh so I don't like this sounds like something that we don't need to do it was pretty much what Lee said right like accounts already have trust lines and that's where the balances live uh but a special case the balances for contracts uh it it doesn't sound like like unless we have a really good reason to do it I don't see why we would got it um another thing that is an open question for uh for single balances is whether or not we make them compatible with uh classic Stellar operations like for example can I just like make a regular payment to a contract um this is uh actually in the non-requirements section but it's still an open implementation detail um and um I was wondering if people here have any um um opinions in the space I mean to me that seems like a pretty good thing to have um just because like you can imagine a situation where maybe there's like I don't know like some contract or something that's so successful that we want to like Implement that functionality in in classic and make it you know super efficient or something so the more uh sort of compatibility you have like like the easier that is to do without sort of upending things the better so I have I have concerns about that David um I think one of the concerns is that uh like what is the use case like usually when you send funds to a Smart contract you actually want to do something on a smart contract side for example you know I don't just like send funds to UNI swap to get a swap I actually send funds and I uh facilitate a swap so just you know just letting the classic operations um send to a contract or a payment sent to a contract doesn't necessarily um save me the need to communicate with that contract on the soroban side so if it doesn't necessarily save me that much and if classic operators on the network think exchanges for example have to uh adapt their currently supported operations and you know this is something that we've had uh a lot of uh pain with dealing with exchanges I'd support for muxed accounts most of them still don't um I think I think that's a like a strong argument to um you know to keep the you know the smart stuff on the smart side I don't I I don't think that's necessarily what uh David was saying it's like he like I think the idea is more like if you have scenarios that are very high value you don't want to necessarily uh have this kind of uh like concretely uh uh like like Frozen um you know like a wall between what is classic today and and soroban like I think over time we want to kind of have some ways to integrate those uh a bit better and and this doesn't necessarily mean like you have to uh for example uh use the same data you know like format in you know in behind uh you know the the scene but like um you need to kind of think ahead in terms of what type of interactions I want to enable in the future like for me like the deposit into a contract uh like in the the shot uh you know like uh like in the near future I would say yeah it's for something like an mm no use case right or like those optimizations right away you can think of like maybe it's like an actual deposit and do stuff right that we under implementing natively but like I do think that in the short term those type of uh depositing into a smart contract is actually useful uh if that smart contract is a wallet so I guess I've heard this brought up a couple times and I like this idea of a smart contract wallet and and this is kind of the the like concept that concerns me because the whole if the whole thing that we're debating is you know single balance versus dual balance and our solution to single balance is to keep Stellar Assets in Stellar trust lines but we could also still have this smart contract wallet that bypasses trust lines and it sounds like we could end up in a world where there are still two balances um like we could we could end up in a world where even if we go with the single balance approach we end up in a world where there are dual balances and applications still have to look in two different places I'm following like I think what you're saying is because you have to when you think of like this this the uh contractors or what it I think this is actually something we're discussing actually uh in a different context in in uh in the existing protocol that was we wanted to decouple your identity on the network in in today on the network is kind of your master or public key right and often and so in something else you you have like you actually have like different Keys attached to that thing and you actually disable your master key um and then your identity is kind of weird because it's this uh you know public key that actually doesn't mean anything um so at some point we were talking about hey maybe we should have accounts like your actual identity is like uh you know a hash or something something more deterministic and and then you the way you authorize uh using this account is actually a separate topic right um and I think in soroban you have actually a similar analogy there where your identity your account is actually the contract or some maybe like some other like Alias on top of that but basically your you have that as an identity as in and then how you use it right how you um withdraw funds or you know platform transactions with that uh with that account is actually the uh managed by the account so you can have like very flexible type of uh policies right around how the account works that's that's like uh I don't know if you looked at the um I mean this is a topic for a different day because we are actually been thinking a lot about authorization right like in an authentication um and I don't think we're ready to kind of discuss this in this meeting but like there are things that are highly inspired by the type of research in Italian that has been done with the account abstractions and things like that great so I think if I try to summarize what Nico is saying there are ways uh if users choose to do that there are ways in which they can have um you know on under the same um you know signer they can have multiple balances whether you have like multiple accounts with the same signer or whether you have multiple smart wallets with the same signer uh on the on the smart side the question is what is like the what is the default Behavior like do we default to two balances uh like in the Dual balances proposals or do we default to a single balance foreign okay um I I am going to say that we have been getting a lot of overwhelming um like the the responses tend to be towards the single balance uh approach um and so I just want to open it up for um you know anyone else who's who's in the crowd right now I think this is a lot of people uh if anyone wants to talk in favor of dual balances foreign okay hang on go I just said hi Kyle here I just have a general question around dual balances versus single balances is there any so if we think about use cases down the line for sorobon you know either at an Enterprise level or a consumer level is there any reason why the double balance would make more sense um to enable other use cases I just want to ensure like as we were discussing this is there any limitations to use cases dependent upon this decision so I I do want to mention that uh if you look at the dock uh at the top section there's semantics you can create pure soroban tokens that either adhere to our standard interface or even adhere to whatever weird interface you want like none of this actually prevents you from doing pure soroban whatever crazy asset you can imagine the the context of this discussion is for these standard assets that are issued on the Stellar status Stellar assets that are already supported in various exchanges and custody Solutions and wallets uh like for these assets what capabilities we have on the soroban side now there are the Dual balances if you look at the pro section for dual bounces there are several things there for example you have um you know you can have a a much bigger your balance because the standard token contracts have an i and and into a 128 integer type instead of the the kind of like the sine 64-bit integer that we have in in Stellar assets so there are there are some like small things there but generally speaking from a capability perspective I don't think we're uh we're losing anything significant by moving a single balance thanks for the answer and maybe like something I will add to to this is that one of the like things that that is actually a big TBD right like we don't know it's in the I think it's in this last section like open issues is um by uh when you move to this single balance right like you you you have to support some of the clicks that you know from the uh uh like um from the the classic tokens like in particular you have like the the balance question like what is the balance of the account because there is a difference between the what you want to show in the in a UI depending on the scenario right like is it the usable balance or is it the your actual net balance you know accounting for liabilities um so this will actually have consequences on the um token interface and as a and because of that right like you end up actually taking on this type of this type of additional requirements for any token that you want to issue on the network even if it doesn't it's not a classic token right so like those other tokens basically need to implement the uh like if we if we need a concept of liabilities for example like uh they need to implement that and maybe they are there are no apps but you still need to think about that stuff yeah so to your point Nico I think you know I think we I commented on the google.com this but the idea of having like a like a get available balance on the standardized like token contract doesn't seem like a huge Legend and like standardized or sorry native tokens on Soroban the value returned from get balance and get available balance would effectively always be the same you know if as long as it's the standard token contract but um but I I do agree I think personally though this is a pretty easy uh adjustment that we can make so like you you know just having a get available balance that you know takes away liabilities um from the return value I mean this is one of the ones we know right like we as we go through the you know designing this I think we may find more of this type of stuff like the if you want to to write like a safe code you know like you need to ensure that you're not overflowing in different ways uh like which is something you don't necessarily need to care about as much in the uh in the uint uh 120 you know because the interface is even oh in one uh 28 right um whereas here the balance is hidden as a 64-bit number so you have to deal with like a special you know uh checks and in order to perform those checks if you don't want the the payment later to fail and you want to kind of pre you know like as part of pre-flight I don't know some other check right that you want to to ensure that the payment would work you need to know what the behavior what are the safety you know like what are the constraints right on your own on your balance for example maybe I don't know like I think this is the type of stuff we'll have to go through yeah seriously and I think this is an important con that we uh it's in the dark but we haven't discussed today which is uh you actually uh there's this idiosyncrasy where the uh the single balances are in practice you know when they're in a trust line they're constrained to a 64-bit integer but the actual interface the current interface that we're discussing is uh 128 bit integer so you have these uh failures that are unexpected just by um kind of like observing the types uh they're unexpected but it's I think it's important that we recognize that those failures can happen anyway so you know if you have a near max 128-bit value in your in your contract data and you try to add a value that's kind of overflow you're going to get narrower so this it's not like this is a new error case it's an existing error case um it's just that um if you take if you have a less than if you have a less than 64-bit value in there and you add another 64-bit value you might assume that that would succeed one of my fail um so I think like that's the exactly like the code the contract code is written you know you write checked code basically using 128-bit arithmetic but then when you actually if you are actually interacting with those other contracts you uh those classic contracts you actually get some other Trader mode so your check code is no irrelevant basically Lee were you trying to say something yeah I think it's a really good point I I think the more like over time once there are custom tokens or like new forms of tokens um they're going to have new failure modes too so I'm not sure like how like I'm not really sure how much contracts should try um can make assumptions about that sort of thing anyway but like if we're talking about Stellar assets and everything is just a stellar asset then I could definitely see people making those assumptions so yeah that could be bad got it and uh lee after uh Nico talked a bit about uh why he's interested in adding the opt-in semantics uh even for dual balances even for single balances um it are you uh persuaded in any way leader muted yeah I I feel like I want to think about it a bit more but I like um this second model is I think the arguments for it are that are compelling um it's just the the 120 and 128 bit issue is is what gets me got it um okay um Justin do we have any uh questions from the audience well first of all I think if anyone is in the audience and wants to speak you can raise your hand and we can bring you onto the stage there is actually a fair amount going on in in the live chat Channel although a lot of it's sort of been answered in one way or another um either via text in the live Channel because people are sort of talking amongst themselves um trying to look through to see any that haven't already come up or that haven't already been answered got it so there is one question that I want to uh ask the group about this is not actually part of of this specific decision but as we're talking about uh the capabilities of this um you know this single balances token contract should we consider you know there are two built-in token contracts that we're talking about right now one of them is a pure soroban uh token contact implementation the other is this rap token contract or single or or just an interface to Classic assets uh which by the way right now is implemented as an extension of that first contract should we just ditch um all together the concept of a native soroban only built-in token contract in favor of the Stellar asset one or should we maintain both of these so the argument this is something Nico's brought up before they argument to keeping it is that the the Nate the uh pyrosauribon contract would be more performant right you don't have to spin up a custom laws in VM well yeah a separate wise and Via just for the invocation into that contract but it's not necessary right because the the point of the we only need to make it native we only need to make the classical in Native because you uh so you can run the Import and Export um so we could remove it now um it's just that anyone has concerns over the performance of the cost of running like the pure sorbine contracts than or this matters right but but if you try to think about like the spectrum of contracts that might be interested in in the soroban only built-in implementation um it's contracts that are not interested in being a stellar asset for some weird reason even though Stellar assets uh have like you know more you know ecosystem-wide support so they want something that is not in the cloud in the Stellar asset which might be um you know like i128 instead of i-64s and it might be because they're interested in a custom decimal uh value that's not seven but but at the end of the day besides that like what are they getting like why should they do this yeah they may just not be interested in uh like classic Stellar support right and I I can't I don't know how many people would fall on that category but uh that's one reason right right and and we're not saying that you can't do it but if we are removing that contract then basically it'll be deploying your own contract and it's less performant the but the question is like is this important enough to first class uh lee uh you unmuted yourself yeah I feel like um in the I mean I feel like we always Place some value or importance on interoperability and so I think if you're making a token that will will interrupt with Stellar classic assets um I think the network can be opinionated and say well you know if it can if it were if it functions like that it should just show it should just work it should just be interoperable um yeah I really don't see the advantage in saying like in even making that an option right like we can make it we could make it flexible we can keep it this way so it's flexible and anybody um can choose to say no I don't want it to also be available on Stellar but that just harms interoperability yeah have completely different functionality where they're incompatible then yeah that makes sense you know they're only going to operate on Soren and they're going to have a great time there but join the uh the team here um boots from uh adapt developer perspective you probably have the most experience with uh soroban and uh and the various token contracts uh any any thoughts yeah and my thoughts might not be super cleared out yet but from like a pretty high level I guess my expectations would be that um if I'm going to be attempting to interact with anything on Stellar um I would at least expect that the way that kind of works to be consistent um and I I think from you know not having thought about this too long yet like option 2.2 kind of speaks the most to me like at the current moment and I think the main reason is that keeps the most separation actually which said I know you disagree with um between stellar and Soroban mainly because if I'm ever going to touch anything it's Stellar it's never actually going to leave Stellar Classics control such that it's going to be a trust line or some other um trustline-esque data source that'll live on stellar and if I ever want to interact with something that's sorb unfocused um that can just exist and saurabhan by itself and that kind of keeps a clear line between the sand uh there was one comments I made on the dock I mean I think things for users especially will get really confusing um if you're in 2.1 or um or option one with which is either dual balances or I have some ability to have a balance on soroban of a stellar classic asset um if we have state expiration that can get really really weird for users to keep track of um and trying to solve that Earth think through some way that you can present that and make it clear to users is is quite confusing um and then just says like a little second part during during the conversation after I I um popped up here I don't really see a reason why we can't have two separate token contracts uh you know ones that are actually going to run and rest and be performant uh one specifically to interact with assets that are on cellular Classics so they'll be able to manage trust lines in one that's just a reference implementation of uh a basic quite usable token so we don't have 8 000 different reference implementations of an erc20 it seems like both of those could be executed and rested quite easily can I just said something regarding like the native or built-in contract and non-wrapped non-classic tokens so basically what we need to Define anyway is the interface and uh like there is really no value in not implementing the non-wrap tokens uh in Russia just because um like someone would need to do this anyway and there is literally no benefit of not doing so because the interface 2 has to be called right it's not like we can have two contract two contracts these two different interfaces that uh you know one would be called classic only tokens in another one is now they both have to pull the same interface so they will effectively be the same contract no matter how exactly how where exactly has been implemented so ideally what we should try for is to have some standardized token interface so that contract Traders could reuse it and you know whether or not there will be like another implementation series I don't see any value of not implementing the vanilla version that behaves in great vote points way uh just means a protocol I don't really see anybody like it doesn't give us any more freedom than not implemented in the current interface uh does it uh fill this requirement the current standard interface that we have uh sort of modular import expert which only it makes sense for the classic tokens yeah but yeah of course okay so we are uh pretty close to uh being at time are there any other uh big questions topics that people want to discuss yeah so um uh George was uh mentioning something to me um uh around how payments and transfers work um so like payments on Stellar and something that we haven't really discussed is okay so if this if there is a single balance or this is even relevant okay sorry if this is single balance and someone's doing a transfer um someone might assume that that would show up as a payment operation on the Stellar side so you know you might look on Horizon and you might be expecting to see a payment operation my assumption has always been that these things wouldn't show up like the the um it would be much the same as how important export works does anyone have any thoughts about how that would work I think and this uh this came up in uh what what Eric was saying like at the end of the day uh if you have balances changing in Horizon you need to provide um an explanation for why that happens whether it shows up as like a payment operation or it shows up as an effect uh I think we we can discuss but it needs to show up somehow or else um you know like value balances are changing with no explanation correct and I think I think in the past we discussed that you know the Import and Export operations would show up as credit and debit effects um and so there would be visibility in that sense um I guess uh yeah I'm just curious like is the fact that there wouldn't be a payment operation um going to be like a really big deal or not it sounds like you're saying no but it shouldn't be a problem because this is no different than when you do it when you have like trading right like you have a somebody does a path payment or whatever and then you know you get you have like those little no micro payments happening in between right uh well your balance changes so it's just a standout effect not a payment but uh just an effect yeah yeah I agree thank you but yeah to clarify though this would be only for uh yeah classic tokens we would not do like this type of stuff for like arbitrary tokens on the network by default because that's the Horizon question that I think uh every cut earlier that you don't want to pull like arbitrary tokens uh you know into Horizon uh because then the data model is becomes extremely complicated okay I see that we're really almost out of time I just want to say uh I know that there's someone with their hand raised and I know that there's a couple questions in live chat and we will try to get to those um after this call but since we're almost out of time I'll give it back to Tomer thanks Justin so um I think um you know all the responses have been positive towards single balances I think this is something that we need to try and uh prototype and or put a cap around there are still open questions uh the the question around opt-in semantics is uh is a big one and it also depends on some feedback from more ecosystem members and and partners and um uh and you know just giving us some time to wrap our heads around uh but I think there is overwhelming support for single balances and we are going to try and pursue these uh thank you all and have a great rest of your day",
      "keywords": [
        "balance",
        "actually",
        "single",
        "contract",
        "balances",
        "dont",
        "trust",
        "thats",
        "stellar",
        "classic",
        "token",
        "something"
      ],
      "speakers": [
        "Swiss Army",
        "Stellar Stellar",
        "New Balance",
        "Explorer Style",
        "Where You Are"
      ]
    },
    "2022-07-12.mdx": {
      "summary": "hey everybody welcome to the q a session for jump cannon um and i think uh yeah jeff neal already asked three questions if we want to jump into those uh his first question was has the name been chosen yet the second question uh was what is the approximate test net month of launch and then uh the same question for mainnet i can uh try some of these things so uh the name has not been selected yet hopefully within a week or two we can uh uh answer that question um the generally speaking the main at launch is scheduled for enevir and it might slip into next year because in the past we've learned that making like a major release at the end of the year is probably not the best thing to do uh so we expect uh end of december beginning of january for may net and then end of november a month before that for testnet um and um you know the couple of months before that were already uh slated to have a like experimental future net so just like a dedicated test net to uh to work with smart contracts on and uh just for the full loop we also expect that by the end of this month you'll already be able to deploy contracts locally in a sandbox using the sdk it's a future very cool let's get people to ask questions in voice it's uh more interactive yeah go ahead and uh submit a request to speak if you'd like to ask a question we will pull you on up put you in front of the class uh while we wait for people to oh never mind we've got a request all right life learner yes thank you um what do you see or do you have any initial projects uh in the pipeline for the end of year when you when you do the release so can you repeat the beginning of the question i missed that so let me let me try again um do you have any projects in the pipeline uh for the initial release uh we're talking with several companies that are interested in building on stellar i can't uh disclose names right now because nothing is is finalized uh but you know like the um the usual suspects of um you know like amms and various um you know lending protocols right uh yeah the keep those requests coming um tomer do you think we're gonna see uh dowels being established through those smart contracts uh i'm sure we'll see dows yes what is the first dow you would like to see um i would like to see a dao for a dow building platform so cool yeah great answer yeah yeah i think i'm still i'm stealing this from jason our ceo oh he has he's also expressed an interest in the past and having like a dow dow i mean it's got a ring to it uh john jove what uh what's going on with the token contract uh it's in progress um it exists although i i actually don't think i've posted anything publicly really about it i mean lee and i were just talking about it a second ago but uh maybe i should actually post a link to the repo it lives in um but tell us a bit about the token contract i mean there's uh there's not a ton to say it's a it's a token uh it looks a lot like um like an erc20 token with the exception that like everything is done in the style of eip 2612 permits so there's lots of signatures being passed around uh that makes it really flexible um what i what is built so now what is built so far isn't actually like compliant with the spec that we published for it um but i'm going to work on getting it closer to spec in the next couple of days so probably by like i don't know i don't want to say the end of this week but the end of next week it'll probably be pretty close and pretty reasonable it won't have all the functionality but it'll be pretty close um i'm going to post a link to that in jump cannon right now so give me a second that's awesome uh it works i've tested it locally it does seem to work and can you um share with the audience what is the story with eip 2612 what what does it improve on the erc20 contract uh yeah that's uh that's a good question so basically this um eip2612 uh which i always refer to as eip2612 permit because permit is like the target function that this whole thing was done for um basically was an improvement on the classic erc20 approved flow so you know basically at the beginning of the whole erc experience or the erc20 experience what you would do is you're like okay i have this contract i want to interact with it i'm going to approve it to transfer balance from my account and so you submit a transaction uh on ethereum you wait for some you know uh there's some confirmations and eventually you're like okay this is final and we're happy and you submit another transaction that actually does the um that actually like you know lets the con interact with the contract form by itself um and so basically you first paid cash gas through the first thing and then you pay gas to the second thing um with eip eip2612 permit you do this all as a single transaction by just passing a signature to this permit uh like a signature to this um to the contract in the first place and then it uses the signature on the permit function and the permit verifies the signature and then does the same stuff that approve would have done so it's basically this like ergonomics improvement um and so kind of everything here works like that so you get that kind of ergonomics improvement everywhere so would it be um correct to say that the ip2612 basically uh uh like separates the the kind of like who's submitting that transaction from like who's authorizing the the moving of the funds that's exactly right okay um around sorry um you want to go do you want me to go you go a lot of the conversation around eip 2612 was around this like uh this gasless concept basically like i shouldn't need to have an account that has money in it basically to do stuff or has ethernet and so this really like these kinds of like you know me passing around a signature and letting somebody else act on it makes these uh kind of gases concepts much much easier very cool that's exactly what i was about to say we have another question from the audience um sorry if i mispronounced your name but jason godev asked given that stellar has some built-in operations that serve off-chain scripts and apps already what use cases will smart contracts serve that is not possible with the current sdks um so the current sdks are just like extremely or you know the current protocol is consist consists of around 20 uh high-level operations uh which doesn't really allow you to um to like you know express a lot of things so say for example that i wanna uh introduce an amm that is uh that's built on a curve that's not supported by the native amms on stellar like table swap um or let's say that i want to have like a you know like a trust minimized lending protocol um or kind of like a non-trivial size dow that does um uh that has like you know stake weighted voting uh trust minimized so all these things are like not really doable today great if anyone from the audience has any questions feel free to drop them into live chat uh the tech's channel or you can uh go ahead and uh request to be on the stage and ask your question through voice maybe in the meantime lee can give us a quick update on what's the status of the sdk what should we be expecting uh for this like july iteration and what are you lee most excited about yeah i mean we're still we're still working on the sdk uh john has proven that you can build something with it which is fantastic um at this point um the api is still relatively unstable um so i mean as as we talked just before um just before uh this event uh i'm adding things like iterators slicing to vectors and um you know there's certain things about the api events that are probably going to change in the next few days to to make them more ergonomic to make them safe to use um and so we we are really still the sdks uh really young and we're still yeah making a lot of changes to it and uh you know the end of by the time we come to the end of july hopefully we have a lot of the building blocks um the primitives there in a somewhat stable state even though the sdk is in flash blocks i do want to uh emphasize that it is quite sleek like the stuff that works when it it's pretty cool it's very kind of easy to use so uh i had a good experience working with that is the sdk something people can look at right now today or is it as has it yet to be put out into the wild i mean the code is is public it's on github um it's uh just go to github.com stellar and i'm sure you'll find it uh the docs aren't up yet um the anywhere in particular for it just yet uh so um you know if you're looking for docs then you know that's not out yet but uh we should have docks out with you know the july release at the end of july yeah and john's token contract is actually a really good uh starting point right now because it's uh it uses the sdk it's uh fairly readable and ergonomic and well organized for someone who who's maybe not familiar with the way that rust works tomer like if they do go look at john's token contract what should they look at first uh so at any rust uh i don't remember the lingo but you should look at the lib rs file because that's like the entry point for any uh code that is not uh executable general good guideline for looking at like um a jump can and contract with the sdk would be to go and find a function with the with the text contract fn directly above it um if you see that you know that's an entry point to the contract and then you can go and see what it does by following that through um in my particular case right now like tomer's advice was good all of those functions are in lib.rs but i actually have a like a refactor that changes that and puts them all off into a separate file so that would still allow you to find the right stuff and i think the other thing to look out for too is uh you'll also see types that are um that have an attribute like contract type at the top of them and they're all types that will end up either in the api or will end up being stored um so if you're familiar with like the ethereum api or like what types that get generated in other ecosystems looking for that contrapti tag uh you know types that are going to be interesting for you to look at lee can you talk a bit about uh testing in our contracts i know that testing is like a big issue in the world of um you know solidity smart contracts i know there are a lot of frameworks to facilitate that uh what's what's my strategy as a person who's like developing for jump cannon yeah it's a great question uh we really want testing to be um like really smooth uh mostly because uh you know we want people to ride tests whenever whenever there's a barrier to entry to writing tests you know let's admit it as engineers it's it's tempting not to so um write tests in terms of a jump cannon contract that's written in rust will be tests that you can run locally on your computer in your ID so if you're using an ide like vs code um you'll be able to just run those tests like you would any other rust test your writing and in that uh in that test you'll have access to a host that acts very much like the runtime environment that your contract will actually run on chain and the reason acts very much like it is because it's actually backed by the same code because the the runtime environment is written in rust in stellar core and so we basically import that into the tests and we're running the contract within it and much of the mechanics of that we're still working through that and um john and others are really help identifying like where the gaps are that we need to fill in to make it work as smoothly as possible um for everybody but um yeah you'll be ideally be able to construct a couple of contracts um and then you know run them in your test and then inspect you know here's the here's the state of the ledger um after running them and be able to you know write assertions about okay you know you expect the balance of this account to change by this much or the balance of this token for that account i mean um and uh it it'll be all running locally on your system um and you'll be out which means you'll be out of you know step three debug inspect the values of variables and different things like that step three debug a smart contract that's pretty pretty wild okay i see we have a bunch of people uh joined we are talking about jump cannon uh type of stuff that we're gonna see uh coming in the next few weeks um and we're happy to take questions and we have a question in the text chat from matthias uh he says with smart contract support i wonder if you see a possibility to build an infrastructure like layer two of apps tap chain side chains using stellar as their layer one uh yeah definitely we're um uh we also had some folks um looking at potential like what type of crypto primitives do we need to do zk roll ups in an efficient matter so i don't think this these are things that we're going to see immediately like at launch this year the beginning of next year but uh with time we definitely expect more sophisticated l2 constructions uh to show up um these will probably take the form of zika rollups uh and the cool thing is that you can actually um uh you know like the zika roll-up uh can can be something else from jump cannon it can obviously be like another the same execution engine but it can also be something like an evm so you can have like an evm roll up running on like a stellar base chain which is pretty cool what about you same question that you asked lee what are you most excited about for for the launch of smart contracts on stellar like what would you most like to see uh i really love the fact that uh the sdk uh like builds on rust so you can use like the entire ecosystem of rust um tooling they're at your disposal so you can do things like use rust tooling for fuzzying uh or you know the type of testing frameworks that lee pointed out um and you know most uh most of all i'm just like really excited to see what others build uh and what are the things that we're not thinking about right now in terms of getting other people to build you know we're just starting to think about this but like someone wants to get involved what's the best way for them to to start getting involved so right now i would say that uh things are kind of like all over the place in terms of uh you know you can start reading caps um i would like i said before i think the the best entry point right now is through john's contract because it's the most like comprehensive and up-to-date jump cannon contract and just like learn from that we are working on a set of docs that should be live by the end of this month and these will relate to just like learning about how this whole thing works uh some examples and tutorials around how to uh like write a basic contract and use the sdk it will really be focused on like the local uh sandbox developer experience so you don't need to know you funny enough you don't really need to know anything about stellar in order to start developing for this you don't even need to have to be talking to a stellar network all you need is like this local uh sandbox that's in the sdk i also have another question from matthias um in terms of infrastructure what would be your top number one priority for smart contracts projects says he's thinking on stellar mainstream stream adoption time frame q3 slash q4 2022 so infrastructure number one priority allow people to build smart contracts yeah i would say that the the composable like defy uh lego blocks so things like um amm specifically the type of amms that we don't have natively uh in stellar things like uh you know stable swap uh things like uni swap v3 um uh definitely um interesting interested in seeing things like compound um and i would love to see uh some uh infrastructure for to start building downs no one on this call has this question but definitely when i start to talk to people about about this process the first question that people have is like oh is this evm compatible um can you just give a brief like highlight about the choices the tech stack choices and why why we made them yeah sure so we actually put out a blog post a couple months ago around why we decided to uh to go with wasm and we outlined a few options that we that we considered but ended up not going with you know the evm is like the big uh elephant in the room obviously it's on a bunch of uh different um different chains from ethereum to avalanche and others but at you know the bottom line was that we were looking for something that we can really uh scale the network with and the evm is you know has a lot of good things about it but there are some kind of glaring issues that we didn't really want to ignore uh one of them is that uh it just doesn't lend itself well to parallelism which is something that is uh very important for us moving forward with the type of real world scale that we're looking for the other thing is that they were just a lot of uh foot guns uh in the evm and a lot of ways to unintentionally um do the wrong thing so we wanted to make sure that we build something that is um you know it's batteries included you don't need to you know like the token contract that john is building right now is going to be uh kind of like the native default way to build tokens on uh on job canada so you wouldn't have to do stuff like deploy your own erc20 contract which you know in the ethereum ecosystem everyone just goes and like copy copy paste uh uh you know the OpenZeppelin erc20 contract and a lot of other contracts as well so there's a lot of small things where uh ethereum is not uh like uh evm is not the friendliest for developers uh and we wanna make sure that we're we're building uh something that's friendly for developers and builds for the future we have another question from uh mathias um evm compatibility uh you just need to build on evm compatible using jump cannon smart contracts uh like aurora.dev or near something to think about uh to bring to some uh ethereum projects i guess not really a question so much as a statement did end with a question mark though yeah in my defense and i posted the um the wazon blog and the live chat channel awesome um yeah i think aurora is a really uh is a really interesting um is a really interesting uh example of uh you know i think both near and and avalanche um you know recognize that evm is not really what they want to build on but at that time from their perspective like the way to get to market was to have something evm compatible right so you know avalanche came up with the c chain which is which is um evm compatible uh near came up with with aurora um and like these are fine projects and they really show how like the you know the developers of the chain themselves don't necessarily think that the evm is the way to go but they you know they they put in something um you know aurora is a a complete evm that runs as a smart contract which is a very interesting approach uh it's it's pretty wasteful both in terms of uh kind of like time and space but it also kind of like um it kind of like ruins the benefits that you get from near right because now you can't actually you know all the sharding and the parallelism that you get from near you you don't get in aurora right and if you look at the actual tps numbers then they are like extremely low so i think there's like you know there are pros and cons to every approach all right and uh moots has joined the chat um you have a question yeah i was just hoping to um ask about an update towards uh 55 i believe was the number um i think the last stellar dev chat we had was on some of the fee mechanics specifically the underlying state exploration and i know that was a few weeks ago and with july 4th and all i wasn't paying a ton a ton of close attention so i was wondering if there was any updates you could provide and i know it might not be fair since niko's not here um but just kind of regarding that no that's great niko's not here so we can talk about cap55 um i would say that uh we haven't uh there are some internal efforts uh to uh to come up with uh like opposing caps uh so i i think that cap 55 in its current form um you know we all acknowledge that it's a it's a huge um it's it's different from anything other than you have out there and we want to make sure that we consider all the alternatives uh before taking such a step so the cap moods is talking about is cap 55 it's around fees most of it is around uh like gas and metering and uh or metering computation and uh and and kind of like state allocations that is the the the less offensive bit about cap 55 cap 55 also presents this idea of like state expiration which is that stake state can expire after a specific time if it's not uh used or not touched uh which is great in terms of uh making sure that the that the the ledger state size is manageable uh but introduces an additional level of complexity for contract developers to have to actually uh both contract developers and for users to make sure that um you know important state just doesn't like disappear into the abyss on that topic i highly recommend the talk given by uh the geth lead developer uh last month in prague around this uh uh kind of like time bomb that's in basically like any uvm chain out there which is uh you know like the state is growing in a rate where commodity hardware won't be able to handle it um soon enough and a lot of the evm chains out there that are just kind of like cranking up the tps numbers they're just uh gonna hit that wall uh a lot sooner uh so you know we wanna make sure that uh you know we're cognizant about this issue and and have some uh strategy to mitigate it cool thanks for the update and we have a question from jason c uh how is develop development of linking stellar classic tokens and their potential smart contract equivalents looking uh will classic tokens and their smart wrapped versions be interoperable in the background or will developers need to create their own wrapped versions that users will need to trade between this one's for me i can tell um so this is a good question and the wrong one the interoperability really comes from the contracts that smart uh rather the the contracts that other developers built the native token contract that we're going to provide is going to have good interoperability between classic assets and smart assets so you know basically if you use that and you know the contract that you build is compatible with that uh contract the native contract then you're good to go but like let's say that you like some other kind of you know token you know on ethereum there are more types of tokens than just erc20 tokens um maybe that's not a good compatibility fit for you and then you don't get the interoperability guaranteed but in like the most basic case where you have a stellar asset classic asset it's fun it's like a fundable asset like it's a argentinian peso for example um then like you should expect to have excellent interoperability with with a smart contract assuming that the native contract we're providing is widely adopted i'm saying same question regarding nfts um sorry i think i just cut you off john but i think you were just going to read that question out right yeah i was going to do that i was also going to ask if jason was the ceo um and then i asked that question with regard to the uh to the nfts uh tomer has asked me the same question about like what we should be doing for like nft interoperability against like classic nfts uh and i basically told tomer like i haven't thought about and i'll think about it in august so i don't know the answers to that question yet um tomer might have some insights on that regard in terms of what he thinks should happen so i'll turn it over to tomorrow here um yeah i think that's a that's a very good question that we need to to figure out uh i don't think uh fred is in the audience right now but i would love to get fred's take on it uh whether we need to have this like opinionated uh like default nft contract um you know the type of nfts that you can issue in uh and by enlightenment today uh are still interoperable with jump cannon uh in the sense that any uh token from classic is interoperable through these like rap tokens uh the question is do we want to introduce uh like a native representation uh on on the on the smart side and what form should it take should it just be like this regular token with uh you know with like zero decimal places um those are open questions and i think we need to kind of like survey nft contracts in the ecosystem to better understand that um and that's like john said that work is slated for next month all right uh matthias has another question i'm glad he labeled it as a question for me are there any current education uh stellar partners such as stellar quest or the like uh working on trading and or education in preparation for jump cannons launch smooth onboarding for devs uh no not yet but that's definitely planned um you know like i said right now the um you know the docs and the materials are just like not in a place where uh where it's easy to onboard uh but it's a it's a very top priority for us to get there i think maybe seashells wanted to be in the recording um so seashells has uh wished us all a happy thursday we have pantheon wants to speak here you go i just i don't know if you can answer this quickly or not it's more of a security question as to uh do you see any security flaws with this platform or any potential uh issues uh particularly right now if current security flaws if if someone gets a hold of your secret key your wallet's exposed uh would this smart contract be kind of in the same situation where if someone has a secret key access that's that the whole smart contract is now exposed or um i would say that smart contracts introduce um a lot of you know they allow contract developers to write arbitrary code that is deployed on chain it's uh it definitely is more powerful than the current protocol but it definitely gives developers some more rope to hang themselves with uh from the actual platform security perspective we're planning on multiple audits uh to ensure that uh the platform itself is uh is safe with that said uh you know it's it's impossible to enforce safeness in the protocol level and it will be up to developers uh to ensure that the contracts that they write are safe we are going to publish a lot of information on how to maintain security and we are also planning on a grants program that will include grants for auditing but at the end of the day um there how should i put it uh you know like shitty code will exist and it will be unsafe you can never stop it but uh yeah uh i just want to know the likelihood and like sort of the the system that's being created uh the the possibility of of that happening but overall thank you for the answering that we have one more question from the text channel um can you talk a little bit about anchors and jump canon yeah so from the anchors perspective they don't actually need to uh to change anything about their offerings because you know the type of assets that they're dealing with are classic assets and they can uh so nothing really changes about about the on and off ramp um if if they're um you know they could if they choose to um on-ramp directly to smart to the smart side um or allow off-ramping through that uh but we expect wallets to be able to to officially move assets between these two sides so that is not necessarily a required thing for you know for issuers even issuers of classic assets could with their existing issue or authorization they can move to mint over on the on the smart side for the same asset the exact same asset one advantage of that you know we hear a lot from uh from issuers that uh stellar's model of like uh implicit uh minting through payments uh is sometimes a bit idiosyncratic idiosyncratic for how they do things on other networks and the nice thing about the the standard token contract on the smart side is that there's an explicit mint operation uh which makes things a bit more palatable so uh maybe we'll see issuers move to minting on the smart side but i'm not sure um so i think we're we passed the 35 minute mark and uh if there are no other questions uh maybe we can uh call it a day if you do have other questions for us come find us in the jump cannon channel we're uh you can probably tell that we're in the dev channel all the time but talk to us in the normal one and we'll uh we'll definitely respond to you guys",
      "keywords": [
        "contract",
        "question",
        "smart",
        "thats",
        "things",
        "contracts",
        "stellar",
        "dont",
        "jump",
        "actually",
        "which",
        "token"
      ],
      "speakers": []
    },
    "2022-11-17.mdx": {
      "summary": "um so these protocol discussions are where we have uh go over caps which are core advancement proposals these are basically specifications for how to update Stellar core and the Stellar protocol in order to implement new features and make major changes um any cap actually goes through a process where it's drafted it's discussed in open on the Stellar Dev mailing list which you can join and then eventually it's brought to this meeting when it's time for a synchronous discussion all caps go through a review process get vetted and eventually before they're approved there there's a pretty lengthy engagement with the the greater Stellar ecosystem uh finally when they are approved they actually get bundled up into a new major protocol release and before that protocol release actually hits the network goes live on the network validators have to agree to accept that change so there is also a validator governance um step that's required before the actual turning on of a new feature on Stellar um So lately we have not had that many protocol meetings and that's because we've been I'm just gonna see if I can invite some people up to speak um uh and that is because uh the the Caps that we've been working on relate to sorobon which is the uh smart contracts platform that we're building that will bring smart contracts to stellar and a lot of work has been done on the implementation side right so earlier this year we were talking through about eight caps and for now we've sort of worked on implementation of those we have launched them on the futurenet so if you're listening to this and you want to experiment with saurabhan you can on a Dev Network a Dev test Network that exists right now um but today we do have a discussion that we want to have around a cap which hit the mailing list there were some changes that hit the mailing list earlier uh actually I think yesterday and so that cap is capped 46-06 smart contract standardized asset there's a link to the actual cap in the show notes or in the event description so if you want to follow this discussion which will be technical I definitely advise reading the cap we're going to get into the details today and so I is there anyone else who needs to be brought up to the stage I guess we can go ahead and start and we can bring people on stage as necessary I think to start with cap 4606 um so Darth do you want to just start out by talking a little bit about the cap by walking through the changes and uh just sort of set up the discussion for the rest of the meeting yeah I can do that so uh this cap is about a standardized token contract uh on Soroban or what we call now the uh the built-in token contract um and you know we already have an initial implementation of this that people are using on feature net and this cap has been out for a while but I'll go over the recent changes at a high level uh so the most significant one is that the token balances have been updated from uh bigint to uh u128 uh and again these are just updates of the cap not the actual implementation yet um approve the approved function was replaced with increased allowance and decreased allowance methods uh there are some naming changes to make sore Bond terminology match up with Stellar classic like burn was uh change the cloud back for use of the authorize unfreeze to authorize um we allow the admin to disable clawback along with rules on how it's set for wrapped assets and then there's this wasn't explicitly out of the cap it was in the mailing list uh discussions around how auth required should be handled and I had two ideas there that we can discuss um and it sounds like author bride is something that we will need to handle um yeah so does anyone have any questions Russians comments yeah it started something simple uh the naming conventions I understand they align with uh with Stellar classic do they also align with um the you know the greater kind of like cryptocurrency ecosystem and equivalent contracts on say um ethereum so the burn to clavac the uh that that actually matches up with uh erc20 for example just burn on the OpenZeppelin erc20 standard actually refers to a user burning their own balance which is not what burn does it does in the total contract today in the sermon tone contract that matches clawback uh for freeze unfreeze um uh it this is a question we had it was like I I switched it to authorized the author just because we want to be we want clawback to be able to be used on Frozen balances and we didn't want someone to make the assumption that a you know a frozen balance can change because it can through callback um I believe uh on on the ethereum side it's actually called I think it's blue it's not possible and you unpause it uh so it's a little different from that uh do you have concerns over those differences um yeah I think the the the blacklistable contracts that for example uscc adheres to actually use as a completely different language which is uh blacklisting um which yeah its own uh issues yeah that's unique to USDC right that's not even you know like like a common erc20 implementation uh that's a good question I haven't looked at others I'll uh I'll take a look at that okay yeah I definitely think that it makes sense to just like choose something and then go with it uh but maybe just like survey the ecosystem and and make sure that there are no standards that were um overlooking it doesn't look like we have okay um you mentioned some um the the issue with auth required and potential Solutions can you uh talk a bit about um a what the issue is uh to reiterate that and uh what are some potential Solutions yeah so currently uh on solar classic if the issuer has uh has the auth required flag set any new trust line will be deauthorized by default uh and the reason for this is that you know the issuer may want to verify the the owner of the trust line to make sure that you know they can go they go through kyc and you know you go through you pass whatever regulations that they need to and then you enable the the trust line and they can do what they want uh that concept does not exist at the moment in the built-in token contract so if you've sent to a New Balance uh if you send an asset that is author card on the classic side that's wrapped and so our body you send it to a new balance that this new entity can receive it and this breaks the you know the author required semantics so the one idea I had was that in uh in the Tome contract there are no balances by default in the beginning and they only exist once they are you know once it's actually written uh into a ledger entry and uh so you can kind of you can treat that right as the initialization of the balance my idea was to tie like when you do that new like the when you create this New Balance you check the issuer and if it does exist then you block it and you require the issue explicitly proves that trust all right it's not that trust line approves that balance or that identifier before it's created um there are some issues around this related to um how you would actually indicate that it's authorized but this is like that's that's the best idea I have so far the other one is to just not allow it's just disable add-on controls or not admin controls on sarban contract uh for wrapped assets that that have uh auth required set but this makes it much more difficult for uh author guard assets to be used on seller I'm sorry but I'm sorry there's also an uh maybe an ax-like approach in which we just don't enable sorobond uh like importing exporting at all to off acquired assets that's true but I Jake has mentioned that uh there are some partners that are off the choir that want to participate in Soroban so that wouldn't be possible in that case uh it depend you know it depends on what we what we want to do with those assets are there drawbacks to the first approach that you outlined uh it it adds it just adds some complexity uh like for example how do you store this I made this change in the cap but it actually isn't ideal where before we had this a flag for when things are frozen which is not the normal case uh so if you never freeze the balance in the current tone contract you never write this extra Ledger entry but that writes a specific flag but I changed the cap to write the authorized flag so every balance will have a new entry that says authorized so which is not necessary uh by default for non-auth required assets I have an idea to fix this you know you can tie the balance and this flag in a single Ledger entry um but it just it just adds some complexity but I I but I think we do need to either not allow author required Assets in Soroban or you know uh allow them using using a mechanism like this um so I I feel like if you want to allow author required that's a story about like this is probably the best or something similar is the best thing we can do it I said just to be on the same page this means we effectively increase the complexity of the these rap token contracts but the standard token contract that you can still um you know like issue uh that's pure sorobond does it also inherit these complexities um I think we can we can do it in a way where it doesn't right like it if because you can if you can tell that it's a wrap token contract and in that case then you can uh check the issuer and check them out the required but if if it's not a wrapped token then you can ignore all of this right and from a contract developer's perspective that wants to interact uh from their perspective it's just the standard like are we changing the standard token interface um or from their perspective it's just another erc20 like standard token um implementer uh the interface shouldn't have to change maybe the semantics around authorization the authorization would I think we can do it in a way where it wouldn't it would be transparent to uh soroban tokens that make sense yes one thing I'll just say quickly is that um you know in today's uh today on the network the assets that use author required they um there are a lot of account holders but we are seeing organizations that are looking to have health required assets be used on soar bomb balls so used by a fairly large audience so I would I don't know if you know going forward with an approach where arth required assets just simply aren't usable on Soroban is is I mean we could do it um but it's going to cut off some some use cases or for organizations that um you know from a Regulatory Compliance perspective like need to have uh that this requirement kyc like holders before holding their asset so Jake just to be on the same page like you're saying that there is a group of issuers that is growing and is um author required or planning to issue author card assets um and out of this group there is a non-trivial uh subgroup that is interested in having their assets um available and and uh for like Defiance Orban exactly yeah we have a partner today that's looking to um you know participate in uh like amms and um and other like deep iconstructs on Soroban but the asset they would like to to use um they are planning on using author required okay one one aspect of this which I think is a good thing but it's good to know is if you go to the first approach I mentioned the issuer will need to approve any address and any any identifier on soroban that wants to accept the balance so even if it's like a liquidity pool the issuer must uh you know approve that that liquidity pool's address in the token contract yeah understood I think that's actually exactly what they're looking for yeah there are a couple questions in the live chat too I don't know if you want to take a look at them sit or you want me to just read them out let's see so where's uh the uh yeah I well one is oh yeah yeah and then if you look below that there's some there's three there's a yeah two questions so for Quebec sorry tomorrow do you wanna go yep okay uh clawback is uh I think it's it's something we wanted to support because it's supported on the uh the classic side and right if you have a an asset that is clawbackable uh on classic and you move it over to Soroban then you know it's a control you want to give the issue and it can be it can be disabled um I I do agree that quadak versus Burns is a little confusing we don't actually like the cap doesn't specify a burn in the ERC 20 cents um and maybe it should uh right now I think that like what you could do is send to a zero u25519 address but maybe that's not sufficient um but I agree maybe we can uh I can think about like naming differences there a little more um so for the so vermouth's question for the decimals uh I agree so yeah the cap is actually missed I believe it's missing decimals for the the non-wrapped case um and the idea there uh was that you know you the user could specify whatever whatever they want but we should specify uh a standard and I don't we haven't discussed that yet this still depends on the discussion that you know we moved from big into U1 128 but I think there's still some uh discussions have to go on there with what we think a default decimal should be um so maybe we can start by is there anyone that objects to u128 as the as a standard token contract um uh number type okay going gone okay and so that's moot's next question for the auth required Solutions when we run into weird situations where only Stellar accounts can participate or other non-auth required built-in tokens support Stellar accounts contracts and basic 825519 keys I I can't think of a reason why this would happen off the top of my head uh there's no difference you know this author required mechanism that I mentioned and a identifier that is is the authorized so I'm not I can't think of uh an example like this if you have one let me know and I can think about that uh what about looking at wrapped smart contract as an on off ramp I'm not sure uh what that what that means okay yeah Lee yeah I'm just thinking about the term callback and and you know if that is a problematic term I mean it's I feel like the term is understood in other Financial uh ecosystems um but maybe yeah if it if it's not a good term to be using sort of going forward in a in a blockchain world um here would it be termed because do you think if if we said that the admin could do a transfer from one from any account to any account like it's sort of the same thing as clawback um and it's sort of maybe bad to do that because we're overloading an operation that can suddenly do something that might be surprising um yeah I'm one way to like try to eliminate that term without needing to replace it yeah I mean that sounds um like a little more complex right um it's not even the same thing because in club in the cloud back the balance gets burned right which is how it works on classic and currently in the token contract um in your example it wouldn't get burned right it would get sent to another address I guess you could send it to the zero eighty two five five one nine key um I I think this is something we should discuss because to me you know clawback already exists on Stellar right so and it works almost the same on Soroban so it made sense to me to to change the name but uh if enough people it like I think it's something we should discuss yeah I'm yeah I'm not I personally think clawback's probably fine because we already have that definition and I think it sounds like the folks who are planning to use um this today already understand what it means um uh sorry I have a bit of a question on a tangent to why you just mentioned you said that uh so callback what so on Stellar if you transfer to the issuer you're essentially burning because the answer disappears because the issue can't hold the balance of the asset the issue um what happens if you transfer to the admin I get the or transferred to the issuer um on the sorbin ation it doesn't get burnt it just it updates the issue with balance like the issue or the admin account doesn't have any exception when it comes to like transfers or anything like that big other things so authorized trust and inheritance classic in case you need a slower account detain authorized flag so that that is how it works on classic like uh you need the trust line to to get authorized by the issuer um and on Soroban we would imitate the same at the the admin or the the admin on sorbond would need to explicitly authorize on sorobon we'll have we have this method called authorize and we'll authorize that balance um does that answer your question oops okay and I the the naming there like maybe you need to think about that some more about the fact that there's you know you have you can authorize it on classic I mean also authorize on sorbond but server authorization doesn't work the same like it's much simpler than design could you elaborate what's the differences just so we're all clear on that uh yeah so you know in classic you can uh there's a lot of different levels of authorization uh that's what I mean you can have uh you know fully authorized through the authorized you can be uh you can authorize to maintain liabilities right maintain offers and liquidity pool uh deposits but you can't do anything with your balance and I believe there's also a flag that says you can actually cloud back from the trust line uh and that flag is maintained currently in the proposal in soroban like the clawback flag but it's at the contract level and not at a balanced level uh because my the thought process was I don't think it needs to be at the balance level and it would add a lot more complexity um but yeah those are the differences all right any uh any other questions any concerns do you have the answers that you need to move forward I believe I do uh so before the author choir uh solution I think I I need to rework what I have a little bits to make sure that the um the non-wrap scenario doesn't doesn't change or get any worse um um other than that it doesn't sound like oh that and I need I should like naming right looking at burnt versus clawback in the ecosystem uh yeah about other than those two things I don't think there's anything else I need to look at well I think there is maybe like a symmetry uh question there right like uh that I I was just thinking about that is when I think of the building token contract versus the uh more generic uh interface right that we are exposing that people can use when they uh implement the the contract isn't there like um if we have like this auth required thing right like it basically limits the the the way you can um do payments right uh from the outside so like is is that pointing to like a I don't know like having um it's basically an implicit um uh like uh like yeah like hook you know I know the original cap had like this uh like section on cooks are evil you know we should never do that but uh at the same time this looks like actually like a hook to me uh that happens to be a classic hook uh and I'm just wondering like when we say also that uh people that are that are today um looking at implementing Earth required assets want to move uh some of the functionality into soroban are they really going to be satisfied with those limited semantics as opposed to I know like a lot of the the things that people were asking in the past around programmatic you know being able to basically control the flow of assets was hey I want to put limits you know on uh on transaction uh on transactions like you know you can only move ten thousand dollars a day or whatever right like things like that so yeah wondering about that uh where does that fit in this picture the you know the first requirement uh at least I was that I was following is that you you'd like to be able to support anything that can happen on classic uh in soroban right in the bold and tone contract which is the you know the goal of adding support throughout the Acquired and clawback um what you're saying is an interesting idea uh adding hooks to soak admin's uh can customize what happens uh but one you know one concern there is you would you would end up executing like the the uh one of the nice things with the built-in tone contract is built in right it doesn't execute wasn't but if you have these hooks they would be in wasm right so you would you take the performance set um and in that case I I don't know you could argue that they should you should be using a different tone contract altogether like one that just adheres to the interface uh do you agree on that you mean like yeah yeah I guess like as soon as you have hooks you can't do like a classic payment for example because you're bypassing the hook is that what you're talking about I'm I'm not sure what you mean by that I'm saying that if you add a hook the hook would be in wasn't right like you've called into another contract yeah so for the built-in yeah I guess for like the uh default Behavior you would yeah he would just call the built-in token contract that would have a default implementation right to implement those uh what required type of semantics but I could see like the need for maybe like final control uh in general and uh oh the Fire Control that we would provide later on or that like anything issuers would want to uh yeah to have yeah I guess maybe those end up just being like separate you know they are not using the built-in token contract at that point so that's kind of what I'm trying to wonder I'm wondering about is like those use cases without required Assets in suraban they are not people are not going to be able to actually implement I think the type of things that I'm looking after that is like uh like I said like uh people asked before the the feature requests are on the the hooks were things like uh maximum our conditions on the transaction right like uh uh not just it was not just a flag it was basically like you know open-ended type of conditions and then use the built-in token contract which may be okay but you know I then I'm kind of questioning the are you talking about uh from the perspective on net new issuers or from the perspective of existing issuers that want to introduce um new constraints or like new yeah that's kind of I'm just wondering like like the people that have like those uh like uh as um out required assets if they think that they can basically over time add more conditions this is actually not going to work right you got it so to some extent I hear like a question to Jake if it's still here which is uh you know these new issuers that are coming on board and are interesting and auth required uh assets maybe the solution for them is to actually issue a custom contract on soroban rather than an off-acquired acid on classic and kind of like trying to constrain it to be what they want it to be yeah we we've talked about you know something similar with like uh regulated assets assets that need much more defined Grant control um and in those cases I think it makes sense to to use a new token contract all right the middle to the built-in tone contract can't do everything right and I don't think adding these I don't think adding these hooks is a good idea into the built-in token contract um yeah just uh my opinion yeah I think their position should be that if you want these type of uh conditions and restraints you should definitely deploy your own um contract that adheres to the standard token interface you know assembly that we're seeing in ethereum and other ecosystems okay so let me um you know said I think we're we're at a relatively good place with this with this cap um I do think there's a there's like this parallel discussion that probably hasn't matured to bringing it up right now on uh you know this versus like a more discussions uh you know we we abandoned a few months ago to make progress but we need to go back to in terms of um you know single balance versus two balance approach um but I think we need to have a better understanding of what the possibilities are there uh before we can actually make like a um you know like the go-ahead decision with regards to this specific uh cap yeah I agree anything else anyone wants to discuss or are we done for the day okay cool I think we might be done um I'm just checking the live chat to see if there are any unanswered questions there's one more from moods which is in the event issuers are pushed to write a custom token contract would there be any core support to migrate between a classic slash custom token I would I would say no uh that's an interesting question but my intuition would be that you know you're trying to do something that uh you know it isn't even supported in classic so it makes sense to be a separate token uh but that's something that we need to think about more yeah I haven't thought much about how uh you know how these custom uh token contracts would work and so this isn't and uh responds to mooch's question on how these uh if there would be core support between class and custom tokens yeah I think this is an interesting question because uh with the built-in contract that we have now uh you there is a swap essentially a swap capability you have the import export functions which you know allow you to essentially swap a token in classic with one in Soroban and if we are if the story that we're developing um is that if you want to you know be able to build um a custom token that provides all these custom auth auth required type capabilities um I think we do need to have some sort of story for how do you replicate that import export how do you swap something that's on classic with something that is over on Sovereign so that um because I can imagine that issuers even if they want that more custom capability on sarban they probably still want to get access to things like the things on classic like they probably don't want to be siled into only the sorrow and ecosystem yeah that's a good point and without something without some sort of swap capability and without the ability to because we're not we're not going to allow classic operations and solvent operations to run in the same transaction I think we're talking about some sort of off-chain swap capability which sort of it's not great yeah this is something to think about like we you know you and I'm not sure how this would work but you could offer uh import export big host functions but that that doesn't sound like a good idea to me but uh or do it off chain as like you mentioned um yeah it's something to think about any other thoughts okay it looks like there's on one new one in the live chat from Demetrio Stellar um why not just have the same sort of one-to-one swap between the rap classic asset token and the new token not the best ux but it's doable right now uh I I think you'd have I I gotta think about this you might have issues with like how would you do a lot like that would have to exist as a wait no I'm not I'm not sure how if that would work like you would have to call import export uh and like and like if I write a contract right now Custom Contract I wouldn't be able to call that right well I think the the issuer there would be the contract right um kind of uh yeah yeah right so you don't actually need special anything it just uh happens that yeah like the that that's true you would have complete control over it well it's yeah complete control now because you can get the authorized but yeah that's true okay yeah let me let me think about this okay it feels like we're sort of winding down here um so I I think we're done for the day um thanks Sid for for putting this out there thanks for answering the questions thanks for thinking about it and to everyone else um I realized that today's protocol discussion was sort of ad hoc and popped out of nowhere uh next year or after Thanksgiving as as we start to have these meetings I'll try to be better about just setting them up more in advance um and just being a little bit more making people a little bit more aware of what we're doing what we're talking about so that um everyone can sort of get a bit of context for the discussion starts but for today um again if you want to sort of keep up with these discussions join the Stellar Dev mailing list if you want to read this particular cap it's in the cap repository which you can find on GitHub this is Cap 4606 the smart contract standardized asset and with that I will say goodbye to all of you thanks",
      "keywords": [
        "contract",
        "token",
        "required",
        "thats",
        "classic",
        "actually",
        "which",
        "assets",
        "balance",
        "theres",
        "something",
        "these"
      ],
      "speakers": [
        "New Balance",
        "Stellar Dev",
        "Dev Network",
        "Regulatory Compliance",
        "Defiance Orban"
      ]
    },
    "2022-12-07.mdx": {
      "summary": "hello hello everyone welcome to Soroban talks I'm anujia I'm from the Stellar development foundation and I'm super excited to bring on our amazing Soroban developer Lee and our Deborah lead Tyler onto stream hi everyone hi friends all right so uh this is Lee's first time on stream with me and also it's like my second stream and we're considering making this into a stream a series of some sort so if y'all want to do that let me know in the comments um because I I would love to if y'all want to see me more on stream and Tyler on stream we can all alternate Tyler but um yeah hey everyone so we're gonna start off by playing a game of chrome Dino I don't know Tyler have you ever played Chrome Dino all the times that my internet goes down out here in the country my score is still not very good but I do like a little Chrome Dino exactly so we're gonna start off by competing with Lee Tyler and myself and see who gets the high score um on Chrome Dyno and then we will jump right it's like ultimate beta switch we're gonna play Chrome dino games you're actually sorry we're just gonna start playing Chrome Dino and uh figure out who's the best from Dino Champion it's Stellar all right so Tyler I'm gonna let you start first um and we're gonna see how you do oh my gosh we're not gonna do these concurrently all right here we go yeah we're gonna see who does we're all watching okay in the meantime it's gonna soak up all five minutes here I'm gonna start getting my practice in I don't think it's gonna take all five minutes Tyler you can't be that good I don't know my skills oh but hey Kanye Nest conniness uh wrath is in here there you go I'm using here and hello hello feeling stressed watching this right that's I died there we go right when Raph said feeling stressed watching this Tyler you know all right Lee are you ready for this I'm ready so uh 3 55 3 55. okay all right I'm frustrated there's two more zeros after that like people actually are getting that high foreign to it the double jump uh speaker busted Okay Tyler takes the eye I'm like we'll have good RAF are you gonna make us an nft for whoever uh his high score on this all right here we go wait why is it oh okay here's cactuses it's not even fair you have to run like 100 feet before you even hit it all right all right all right we're getting there that additional like twinkle sound whenever you jump over or I guess whenever you get like a hundred or something it's very stressful okay better than Lee I'm proud of that all right sweet so we could play another round or we could keep going I think we should just kick it off how do you feel about that yeah let's get rolling all right so a couple different announcements uh while we get settled in is basically today's stream will be about um one two things actually so we have an instant Dev environment set up for Soroban so if you're someone like me who is basically never touched Russ till soroban started um and is just now getting started and has come from like a web to like react python background and you're like how do I freaking get started on Russ well we have an answer for you rightly the get pod answer so we're gonna share that today um with all of you and do a couple different demos with it and this is your chance to ask Soroban Dev Lee uh I keep saying that Lee I hope you're okay with me calling you the the Thor of on death League um but a q a with him uh I posted in our um Discord a link and I will share that here as well but it's basically a link for you to um put in your questions as you get them you're also more than welcome to share them on the stream uh we'll see this chat on stream as well um so whatever works for you uh use it as you like and if you actually want to come on stream uh let me know in the chat on the Discord which is the hashtag live chat um which is the live chat Channel and I will uh DM you the link to join us on stream actually and bring you on but that will be a bit later on straight so I'll let Tyler kick it off um go on go on in super yeah so um as we mentioned last week I kind of uh dove into sort of on myself for the first time a couple weeks ago um I I was very intimidated by it I was also very busy um and the the idea of trying to learn uh rust was kind of like no thanks think I'll save that for later um but uh necessity kind of pushed itself you know okay where everybody's learning sorobon now and this is kind of the thing that I've wanted ever since I found Stellar way way back and wanted to do something that Stellar didn't have an operation for uh the ability to have a smart contract running uh behind a single Stellar operation so we'll get into the nitty-gritty of exactly what's going on but I found it to be far far easier to kind of get up and running than I thought it would be most of these rust smart contracts are actually really um small compact a lot of your programming interfaces uh will actually be on the front end which is typical of smart contract development um so it's not that hard and now that we've introduced the get pod thing so I was like I was coming two weeks ago and then I found get pod and oh my goodness uh like you just you just click a link and you have a full rust sarobon environment right inside your browser it's it's the um vs code editor which is the one I use every day anyway um which is amazing which is kind of this call out to we're going to be doing Stellar Quest anybody is familiar with Stellar Quest our next Stellar Quest is going to be a sarobon quest and it's going to be all done right inside of a git POG so we're not a Kanye we're not going to have to answer all of these um hey I'm using Windows and can't figure out how to install rust we're just going to focus on the sorobond pieces not on the environment rust future net configurations it's uh kind of compiling all this into the quick wins of just figuring out getting our feet wet um building out smart contracts so I am going to bring my screen up and by me I mean a new here bring my screen up to um introduce something that I think Lee you added maybe last night inside of our Docs if you go to any of these examples they now have an open in get pod link which will open up all of these different examples right inside the the VM the get pod VM where you can run these examples right inside of our uh example soroban examples repo it opens up that repo inside of a gitpod which is amazing uh we're not going to do that right off the bat though I'm going to I'm going to open it up with we've got a sort of on Pioneer Quest we're actually still building this out but I thought I'd go ahead and share this this is kind of the idea is this is going to be a pretty big deviation from what we've normally done with Stellar Quest where you're playing it with laboratory you're doing it in quest.stellar.org now you're going to be doing the class right inside of a get pod which will be a little bit disorienting right especially for people like nisho who get um very angsty and start clicking buttons when they don't quite know what they do yet so this is going to be allow you to kind of familiarize yourself with the environment and that's we're going to walk through today is this kind of get pod environment I'm going to walk you through uh this is not going to I'm not going to try very hard not to leak any of our quests in this repo so the actual repos the secret repo good luck finding it um but this particular one you can go ahead and find and open up I'll be adding uh Elliot's writing some really good um readme material I think he's even going to do a video you'll get to see Elliot on screen that'll be fun uh walking through the get pod so you'll have no excuses to know exactly how to uh compete in the in the Stellar Quest whenever we get these these live hopefully in November okay so if you click this open and get pod that's gonna launch your new get pod instance I've it takes a couple minutes to uh spin one of these up not minutes it takes a few seconds to spin one of these up but depending on whether there's another pre-build running or um what have you so I've already got one stood up here uh in my my browser here this is probably quite tiny so let me increase the size of that slightly um so what you're seeing here basically you've got a couple of different areas of navigation if you're familiar with code editors IDs at all particularly vs code this is going to at least not feel completely uh foreign to you but let me let me just go ahead and walk through a couple of these items and then we'll begin interacting with them make sure to be keeping in Your Mind questions write those down in notes or something or that type form that a newfia sent out so we can answer those later on particularly ones that I won't be able to answer because I am still a newbie like everybody except for Lee um all right so probably one of the most uh critical pieces other than the actual code that we'll be looking through is your um bash terminal tab over here so I've actually got a futurenet that spins up with this get pod and so if you were to go to like the ports over here this little ports tab you can open up this is actually delivering right from inside this get pod you've got your futurenet we can see the latest ingested Ledger uh one zero zero three one so uh we're syncing successfully with the future net that's amazing that all gets configured for you um if you ever want to explore like okay that's fancy but it's a lot of magic inside of this git pod is the commands that actually spin up these different um terminals so you can see exactly what commands are being run so this is how we actually run up that um that Docker quick start saurabhand Dev Docker image so that's pretty that's pretty cool the other two things we've got going on are this futurenet bash and a sandbox bash so these other two terminal Windows uh this first one is one will be we'll interact with both but this one the sandbox is kind of this safe local playground doesn't interact at all with that future net that we have and then this this futurenet one this one's connected with environment variables uh attached right into the um into the bash window with all the environment variables we'll need to actually interact with this future net that we have running so you can see these environment variables running on this futurenet CLI so those get passed into the environment on that bash so um it's to try and help you if you accidentally like want to run a future net inside sandbox you'll just have to pass these environment variables yourself and if you want to run sandbox in the future net you'd have to toss those environment variables so if you end up running into errors or issues pass in them manually or um you can just look over here and try and toggle back and forth every now and then you will definitely get boogered and maybe just restart your git pod uh or figure out the magic from inside of this gitpod yaml file for the commands that were actually run to spin those up you can use zoom in a little bit um into the screen not everyone is as old as you are new here darn uh yes good good point um there we go much better or even Kanye can see it yep um all right so those are our terminal Windows we've only got three running up in here um let's go through uh we've talked about the environments the the future net here so this is the this is a quick start image that basically spins up your own like Watcher node um but it's connected directly to the same future net that's running that you can like access in uh laboratory right now for example so things that we do inside the future net here will will show up uh in like if we were to explore operations for a particular account so that's all quite nice the main obvious thing that we're all here to do though is to actually um build and test and run um contracts and this is where we start to touch a actual rust code I've only got one Quest up in here right now uh really to kind of emphasize just the environment and learning that bit first I just pulled the hello world example um from the example the soroban examples repository so that's the one that's building up up here so if we run you could run cargo I guess uh make build but um for people that are maybe unfamiliar with the make file it's basically if you're coming from the JavaScript world it's just like the scripts inside the package so it's basically just going to run this command I'm going to allow pastes because I'm not my own hacker um sweet so that was nice and quick less than um a half of a second and that'll put that built wasm file so you write rust and then it compiles down to a wasm executable that's the thing that you'll actually deploy or run on the contract so a lot of times when you've got the sorobon CLI and you're calling something you'll be referencing this particular wasm file which Speaking of saurabhan you can we've got uh those installed the the sorobon command if you're like okay well that's also magic how'd you install that guy um Lee has built us a nice little Docker image that pulls in the default uh get pod Docker image loads up all the stuff we need for that and then it installs things like sorobon and cargo hack and some other things that we might need I'm actually working on a stellar Quest CLI um so the you can run all of your Stellar quests right from the command line I'll also install that as an executable inside of this Docker file as well so between the get pod and the gitpod docker file most of the magic is contained within there which is helpful to know for the pro users out there so anyway we've got our sort of on command line got loads of um nice sub commands to run here like invoke inspect uh all those wonderful things let's go ahead and really quick so we went ahead and uh we um bundled built the the contract so it exists you can see right here 13 lines of rust code to say things like hello something which okay fair enough that's not that crazy um but usually there isn't that much rust code to actually pull off some pretty complex logic like if you look at some of the I think we've even got an amm example in there we've got lots of examples and I don't think any of them ever really start to cross Beyond like 200 300 lines of code most rust contracts are just very Compact and small and once you understand two things first rust is actually um really like when you run things they'll break but they often will tell you exactly what you did wrong um but also a lot of the rust stuff um is contained within the standard library and so a lot of the things you might need to learn or do would be inside the standard library but we've got this flag here that says no standard Library many times that will bite you if you're if you're very experienced in react uh you're like where's all my strings and map hash maps and stuff um but where there is no standard Library there's the sorobon SDK um it's nice because if you're coming from JavaScript and you're just trying to learn this thing there's actually less rust stuff you can do which keeps that scope of things to learn quite minimal and keeps all of the documentation right inside of that sarabon.stellar.org forward slash docs all the things you need to know are kind of within that domain which is super nice um all right sweet so I'm going to see if I can remember how to actually run this contract so we've got it built so we should be able to actually call it I'm going to make sure I'm in my sandbox CLI and if I remember my homework we should be able to do sorobon invoke and whenever you get lost you can add that H flag and it will tell you the different options that you have available so we are going to need a an ID and this uh wasm location and then if it's got although we need to call the specific function and then any arguments that it might contain if we were running it on the RPC we would either need to pass these flags or they will be pre-filled you'll notice if I run this exact same command soroban in Vogue help um these sarobon are these RPC secrets are already filled in for us so that we'll use those by default if we're using this particular um bash tab which is nice okay so we got that let's go into we need an ID which we'll just pass it one doesn't really matter because we're going to be calling it locally right off of the target I'm at root in my directory so I should just be able to go Target so this is going to be our actual wasm file that we're targeting Target wasn't releases and I think the name of this was soroban contract Blossom the argument I guess before we call our argument we need a function what function are we going to call the functions we have available to us are a big fat stack of one of them uh and it's hello and as per tradition we will call the argument with world and when we run that we get the response just like it told us it would print out the symbol hello and then the two that we passed it which is also this symbol which is the argument that we included so we start with this default environment argument and the second one is that argument that we passed and you could include other arguments if you wanted but we just had this one world and then it's going to print back this vector hello world fantastic that's amazing you might say but that's not actually a network fair enough let's see if we can copy the same thing over to our future net brilliant okay so we before we can invoke though the function contract actually needs to exist on chain so let's go ahead and deploy I think that's a command it is indeed um we need to deploy it with the wasm file and I think that's basically all we have to do because our secret key RPC nodes Network passphrases are already filled in for us so deploy Horizon from the target 1132 release Urban that's going to deploy that straight on to our future net uh amazing so this is our uh contract hash so if we wanted to go and invoke I'm going to do the crazy thing of just copying this moving it over to our future net and the only thing we need to change here assume that rebuilt a good futurenet he honestly didn't build the future now there's lots of people involved you also want to remove the uh the wasn't I need to remove the wasn't this is what this is yep passing an actual ID we don't need that we should send that straight over to the Future net and we get Hello World back now I know like many of you you're thinking well that's fancy show it to me in laboratory well I can't actually run this in laboratory yet but what I can do uh is show you the operation that we just committed and I'm going to do that by committing the cardinal sin of looking up that secret key that I use so let's actually let's do something a little bit different let's generate a Brand New Key pair on futurenet which all of them are the same so let's just paint that I'm going to write this down in the notes that I have over here so I don't forget it right sweet so now we're going to go and we're going to deploy this again this time we're going to use a new secret key that one that we just included so that I don't have to commit the Cardinals in deriving a public key from the secret key on stream which I did just generate a key on screen but that's fine it's a test net whatever okay so we committed that submitted that so if we right now if we went and looked up our explore endpoints operations for account and we just order this by descending we're going to notice that brand new operation invoke host function that's really the only operation that classic Stellar has kind of added and it's um very cryptic and hard to understand which is why we have Lee here let's go ahead and call another one so we did the deploy now we can do the invoke got a new contract ID so let's put that in unless we pass our new put that right here new secret key there's nothing fancy with the secret key it's just a stellar thing you're just signing the transaction that you're going to submit to the Future net uh but rather than having to like submit an xdr or something you can just pass in the secret key as an argument and it will do all of the signing and submitting um for you so there we go we got our hello world back and if we run this again we should see two host invoke host functions so that was the one that actually built the or uh submitted the contract create contract with Source account is the function and this one is host function host function invoke contract uh but again uh Wicked um obfuscated behind the Allure of what in the world does this xdr actually have behind it so that's kind of where my demo ends this is like to me this is again kind of mind-blowing where you can build these things relatively quickly and easily whether it's on futurenet and actually able to explore it inside of Horizon or in your sandbox right we could just go in here and do a public function that reads something or maybe it saves some data all those other examples that we were showing but like it's actually pretty simple to write a contract and then deploy it run it and see it in laboratory just like you would do with anything else you might do with Stellar the only difference is what we had before was here's an operation that is make a payment okay but I want to do something fancy too bad you can make a payment with this operation now we have an operation that is invoke smart contract which does whatever the heck you want to inside of whatever the functions are behind the contract that was uploaded so it's like this um do whatever you want operation uh in stellar and my goodness I've wanted that for a long time and to actually see it working and it's kind of simple and you've got this nice git pod environment to do all this stuff I don't know about you but I think I'm going to quit working for SDF and start writing smart contracts because this this I haven't been this excited about actually building on Stellar since I found Stellar way back in 2014. this is amazing and and again like you're discovering Stellar for the first time in 2014 like okay sweet I think at the time there's like 12 things you could do with stellar and then now there's like 22 or something now there's an infinite number of things you can do with stellar and that is incredible like I was super excited before just finding stellar now I mean this is this is this is something else and um I don't know I'm I can't wait to start writing like nft weird nft smart contracts all that stuff that I was trying to do with Stellar turrets that was very difficult and lots of Hoops to jump through um now now this is this I can't wait to just start writing weird contracts my mind is it's been hard to shut down um for all the crazy things I want to do um I might have to create a pseudonym for Sora bonathon so I can uh try and swoop in on some of those prizes uh okay enough with me talking you should show um before you before you take it away you should show you how easy it is to write tests yeah I have no idea how to write a test I've never written a rest test in my life so maybe uh is there what's in the test file is that this one right here yes this is a real real simple test that's just calling that hello function exactly the same way that you invoked on the command line and there's a little tiny text at the top of the function run test if you click that click the run test it's going to run it here in your browser so you can individually run like when you're running the entire test like is this now individually taking that component and running a test on it please okay yeah exactly is that what this mod test thing is how does it link between the list in the test file uh the mod test is just telling the project that oh no what's going on here um he's just telling the compiler that that other test rust file should be included because that all the rust files are not included by default they'll have to be referenced from that that lib um and it looks like we got some sort of bug in our GitHub setup if you if you run a cargo clean Tyler and then just try clicking that run test again no debug it live is this like the most satisfying thing of giffpod I feel I mean it's satisfying anytime to watch anything compiled but this is really satisfying This thing always gives me anxiety because it's like yes I've waited for 30 seconds to get to 142 and then I'll be an error and like oh shoot now I gotta fix that and then wait another five yeah there's a lot of dependencies because this what this test is doing is there's only what like five six lines of code here um but that M default that's at the beginning of the test is actually the sorbent environment and it's not uh a mock environment it's the actual cyberon environment that gets embedded in the Stellar core nodes and we're using it here in the test so when you're writing rust tests here uh in your contract you are actually testing your contract um in much the same way that it will be running on chain uh so you have all the same things available to you uh you can even do things like integration tests across other contracts so you can import another contract that you're calling or maybe several contracts you're calling and you can write tests using your contract and all of those contracts together and you know see for real how it's actually going to behave well that's so cool that's is that that's one of the advantages of having like the entire thing be being written in Rust where you get this rust environment that can be like pulled out of actually running it in core but it's the actual environment that is running in core exactly yay our test passed all of that for one test okay it needs to be like capital okay I found this yeah it's like okay with an exclamation um but that could also mean it's not okay but haha no anyone um anyways uh lee there's a fun question which is is this a smart contract to find out what these Halloween costume will be this year yeah I'm gonna I'm gonna dress up as hello Dev it's not a bad idea yeah we're gonna have to have a little bit smarter contract very very smart smart guess well at least Halloween costumes right but Tyler so you wanted to ask Lee some questions I believe yeah so one of like my main question is I'm even as I'm writing Stiller Quest quests one of the things I'm gonna have to do is okay um people are doing their quests they they do their hello world like one of the first quests the spoiler alert might be to call um hello world um I know I can find that they did that but I don't know how to prove that in this that they actually submitted hello world and I'm guessing it's something to do with one of these parameters um maybe something with the footprint can you just like walk us through a am I going to be able to do like build a stellar Quest off of the data that I'm getting inside of the operations to check if what someone submitted was what I expected because this xdr is not immediately helpful to me and then secondarily to that the heck is a footprint yeah these are good questions can you can you zoom in a little bit I'm sorry it's pretty pretty small uh for me um the yeah we've got three Fields here and uh you're right they don't really tell us a whole lot on the surface there's two tools we can use to understand like what this mumble jumble um words are we can either use the laboratory uh whenever you've got in future net mode so if you want to open that up in another tab we can try putting that into into the laboratory you can also use the Sovereign CLI it also has a sub command where you can just paste this and it would print out this is what the value is um but maybe we can use the laboratory a lot of people so yeah this is this is laboratory right here do you want me to copy one of these xdr values over to the view xdr yes okay so I just copied this one with type object object yeah so what you want to do is grab the XTL type it should be SC Val if you look for SC Val it'll be down there deep in the and okay it's not actually rendering something that's super useful here that's well I mean I mean maybe that's that's b64 yeah base64 decode that XYZ is a does this convert to okay wait you're singing strange URLs okay waiter oh no what is the what is this Valley we should have started with the second dude I don't remember okay we can start with the second time do the second one first I'm gonna try to see if I can remember what the first one is and why we can't decode it oh the first one's the contract ID oh so it's a hack or the contract function or something like that so let me let me uh run my super powerful other VM called run kit and do buffer um a64 and then two string it's probably a hexia that's our contract ID Maybe ish  wish that was that was not uh that was the actual xdr value this was the a64d so that's our contract hash right there all right so that's uh one problem solved now we need um this one Sim yes let's have a look at what that is View xdr versus also an sc value this is also an essay file so if you copy that Sim value and stick it into the base64 decoder it should that should come out as a string all right without the hex hello sick all right what's uh wait that was our that was our first argument right by default oh that was the output no no no that's the input that's the function name the parameter was the contract ID the second parameter was the function we're calling and then all the parameters after that are should be the arguments fingers crossed everybody wait I gotta gotta turn it out of the xdr into a64.",
      "keywords": [
        "thats",
        "contract",
        "actually",
        "youre",
        "things",
        "dont",
        "these",
        "which",
        "test",
        "stellar",
        "environment",
        "contracts"
      ],
      "speakers": [
        "Stellar Quest",
        "Chrome Dino",
        "The Ledger",
        "Lee Tyler",
        "Chrome Dyno"
      ]
    },
    "2022-12-22.mdx": {
      "summary": "hello everyone and welcome to today's sore Bond design discussion um once again we're here and we're talking about sorobon and uh sort of the key design decisions that we need in order to that we need to make in order to sort of get it across the Finish Line um for those of you who are just joining us um today we will be talking I'm just going to grab a link as soon as I can find it if you look at the event invite you will see that there is a link to a document called sorobon auth Next and I am also just going to paste it right now in the live chat so today we're going to be talking about this proposal which I'm posting in the live chat right now oh Tom already did it so um this is a proposal for a new sorobon auth approach that provides protocol level support for the account abstraction and an authorized subcontract calls um and again there's a link to the design decision document um that is uh that I posted that Tomer posted in the live chat and so what we're going to do today is talk through this question um sort of talk through the document and the proposal that it makes and see where the discussion leads us the goal of these discussions is definitely to make substantive have substantive um back and forth to actually ask and answer important questions and to start to move forward with design decisions and we do it here so that you can ask questions either on the live chat if we have a chance we may also be bringing uh people who raise their hand onto the stage but to begin with we will talk through the actual design doc we'll talk about the decision that we're trying to make and we will talk about the uh um sort of like the the background the problems that we're facing the requirements and a suggestion for a high level design um and so now that it's a little bit after the official start time I think we can go ahead and start um and I believe that today the discussion this doc was created by Dima and so I'm going to demon to start walking us through it yeah uh hi everyone uh so uh but maybe I'll start with a little bit of background motivation this so described in the dog but how quickly uh go through those so just to remind like the current state of office in Sargon is that we basically have to kind of officially supported ways right uh to do us in the contracts um the first one being the invoker which basically just gives you a handle of the classic store account who involves the transaction and that's pretty limited it's like basically quite extra account can authorize only a top level contract invocation and only it and there is something more generic which is implemented in turban OS SDK and this is basically uh authentication and SDK that supports a couple type of signatures which are classic store accounts Ed 25519 and invoker as well to make things a little bit more generic and recently we ended up in this somewhat weird state of to approaches that the initial philosophy was that we want things to be like um basically implemented uh as much as possible on the contract side and the environment doesn't make pretty much any assumptions about the toes but then um we kind of figured out that these things are not quite straightforward especially if you want to do something simple which is why this working concept I've been talking about has been brought up so and of course there is always synthesis smart contracts there is always a way to build uh whatever you want um so what are the problems uh with the state here now um the invoker while being a convenient to use it's very limited as I've mentioned it's like very narrow uh only operation can have only a single invoker right and it's also shell um in a sense that only a single contract call may be authorized and it's also restricted to basically classic accounts of course it also works with the contract navigations but um because they got today's discussion I'd say um nothing would change much for the Contracting workers so basically if contract wants to outrage some synonyms at the help of contract uh itself like no additional signatures are needed so um it is kind of not uh in the scope of the discussion at all so we are talking about only uh humans or wallets uh calling into a servant here right um so for soroban us uh well as we mentioned it's a pretty complicated because the contract needs to manage nonsense it needs to go into authentication methods provides the right arguments those upload correctly um while being pretty complex it's still limiting flexibility because we support only a few kind of Cherry Picked signature schemes right um and if you start doing things with Advanced for Banos like forwarding the signatures for subcontract holes Things become pretty tricky in terms of like actually signing the payloads that need to be signed because you need several signatures and they need to have some very particular arguments and I I believe I have seen some examples in servanton that or dealing with that but I I feel like still like this hasn't been expert to mentioned probably because it's pretty tricky to do and uh yeah I also don't think we have great science support anyway as of now so it's something you will be working on separately and of course if you are doing something completely custom the risky risk running into it's a compatibility like um some contracts use one authentication or authorization methods Azure contractors something else they uh like not being profitable or the sdks need to account for multiple different Azure sdks they need to interoperate with so basically Things become pretty uh complex if you want to kind of benefit from something else existing on the network um so yeah this is basically a review of the current approach problems and uh I've been thinking like if it can come up with uh something better uh in multiple ways and this phase are described in the doc too and uh if you really want to try for is uh the approach should be a general rights that uh most or all contracts should be able to use their spring work and basically interoperate is a chatter without much friction um but on the other hand it should be extensible so that we are not limited to a few for example signature schemes or a few wallets and whatnot so there shouldn't be a way to extend uh the system outside of the protocol right um it should also provide support for various use cases including the complex use cases but at the same time it should be a straightforward as straightforward to use as possible given the complexity of the contract and from the lowest endpoint it should be usable too because as I mentioned like currently uh coming up with signatures for more complex contract invocations it's uh pretty tricky so um what would kind of should be able to uh write the signing code to basically sign the payloads without much prediction as well and something that hasn't even been discussed before but it's something uh pretty interesting that um there like we want to provide the both controls and so outside and yeah this kind of already goes into account abstraction topic but basically the idea is that if you stop for a moment and think about uh Us in general like in erc20 world for example right you have this for example token contract so liquidity pool contract that does something to the funds but it holds also does some other things that I could verifies signatures and the signatures use very specific algorithms and you start thinking about it it kind of doesn't make too much sense right your liquidity pool function is about exchanging to tokens for example a token function is to keep balances uh right and uh doesn't necessarily like come natural that they should handle the business logic of authenticating users at all visuals versus account abstraction that comes from and it really opens up a lot of various interesting use cases and basically enables the whole type of the contracts the smartphone contracts that can do really interesting things like uh providing arbitrarily complex multi signatures schemes or align users to control Hauser plans are spent based on who signs the transactions or given temporary permissions to some contracts and the possibilities are basically endless  um so yeah this was it on the requirements topic and this kind of uh only started to come into the actual proposal and basically on the hair level it consists just of the two parts uh one part I've already started talking about it's account abstraction so instead of um letting every user contract to care about how they authenticate their signatures or how they manage nonsense and so on um instead you would every contract would use something abstracted away just some generic account that knows and so on how to authenticate actions on its behalf and uh this addresses the triology and extensibility requirements as well as forward usability and control and the second part is basically standardized invocation authorization that would allow to sign things that are on one hand more complex than just going into a single contract but on the other hand it will be structured enough so that the bullets I don't need to do anything too special but like like the uh non-smartboard just regular walls uh we'll be able to do uh the signatures relatively easily okay uh and let's go in turn a little bit more details on both approaches and um I'll probably stop serve for some maybe questions and discussion on the general approach so um core current abstraction what's important to understand from the contractors standpoint is that um instead of like passing signatures into a medical calling into this and invoker we do now which is like an educator in a cage um all the contract interfaces would operate on two types one Echo account and that's very cool address so the relationship is that every account has an address address is something that you can key your data by so you can key your balance by the address or you can make a payment to an address and whatnot so that's basically the unified address for any sort of operations that are beneficial to the address right and the account itself is the owner of the address and it it is the entities that can authorize basically spending on behalf of this address right so account needs to sign its operations and actions that require like some mutations to the uh address that are not positive for example making a payment right need to be authorized by the account so this is basically what the contracts would do this and accounts may be implemented uh both uh in a built-in fashion for example classic store accounts would get an automatic implementation of this account contract so from the classic server constant Point uh nothing will change significantly and the invoker would still be there for the sake of optimization right so if you have a simple contract you you can forward the classic transaction um Source account uh to be uh the signer of this uh Contracting location to and again this is completely transparent from the contraction point and like it is now where you explicitly need to refer to to the invoker um but also the part I've been talking about before the account can also be implemented by uh Mark contract custom Smart contract and uh here like things like uh new signature schemes like any cryptographic methods uh and basically anything can come um so it's the responsibility of the account to authenticate and authorize um the Contracting locations that's the key part about it and on the second part um for standardizing the invocation authorization so instead of like uh having some signature payloads that are not necessarily standardized we would have a structured signature payload that contains one or multiple Contracting vacations and the casing here is that this payload needs to be assigned just once and it would contain all the contract calls the user wants to outrage so for example the frequent use case when you know you need to transfer some funds to the contract address and then contract does something good for you right for example create a claimable balance for like just draw some amount from me and put it on contract balance to the Future withdrawal or swap some token with liquidity for basically it's like huge category of use cases for this exact same pattern right and when in ERC 20 world like some things like approval permit would need to happen with this approach it is possible for the user to send a payload that says hey call into function for example Swap and then allow the function swap to this draw this amount of token from my account and since things are structured it's possible for example for the user board program to say Hey you are about to sign something that will withdraw this and that token in this in that amount so basically it is set things to the structure it is kind of both transparent to the user and it is possible for the host to actually verify that the user is only calling into methods that have been explicitly signed date and I'll try it um and yeah important note that came up during this document review is that uh the signature pillow doesn't like have to contain all the contract calls and it doesn't even need to be like um covers and full passing the code three of the contract it's just uh part of the parts that has to be authorized on behalf of the user so for example the slope example if the user swaps some token with the contract um this contract may be a code as a part of arbitrary as a contract for example you know you are signing that you want just to swap some amount of token uh for some amount of other token and then this can be invoked for example as a part of some more complex text construct and the laser doesn't even need to know about this contract so what was the authorizing is a that something has to be solved and then um some Upstream systems can decide how exactly this happens um so I think this is pretty much it on the high level um before we go to the details I'd like to stop here and uh ask if there are any questions or maybe some things need to be clarified yeah uh this is awesome thank you Dima I'm just uh for everyone who um who joined uh just now I just want to mention that this is uh this meeting today is not about necessarily making decisions it's just about having Dima present this uh like off to or off next approach and uh um you know ask questions and uh to figure out uh the details here uh this is a really interesting uh proposal Dima uh I think that one question I have around account abstraction is one thing that we're seeing in other ecosystems is that account abstraction is also mentioned in the context of being um allowing for like different accounts to be the origin of the transaction and I wonder if this proposal um also pays the paves the way for uh kind of like a non-regular stellar account to be the origin of uh a transaction uh to have in like a native balance in xlm which is something that isn't mentioned here um or uh is this not a consideration at all um so I didn't think about this much in terms of because this is more about us but you know I think it kind of comes back to the discussion we had about uh price twins for example like visor uh contracts should have tried to end so whether contracts should have excellent balances I don't think that it necessarily well I think it kind of makes things uh easier in a sense that you know since every single operates on accounts now it is kind of more natural for for the account to also have excellent balance uh they mean it will have like some balance in effect so but but I guess this question is more uh up to the design of the you know interactions with xlma I'm not sure we have some different decisions that it basically once referred like uh it might make things simpler but maybe not because uh the main problem is uh withdraw in any xlm from a contractors that we wouldn't want to run a VM for that so I think that the question that needs to be resolved before we can go into this topic um yeah I guess my question is should the xlm balance be part of the account obstruct should the native balance be part of the account abstraction or potentially facilitate this in the future right so so basically I mean nothing prevents an account contract to have an excellent balance right the tricky part is how exactly do we withdraw this Excel and from the balance without invoking a VM and figuring out that this account has actually not traced this so that's the tricky Parton I'm not sure about it so I mean interior like there is a very easy way with account abstraction to do that the only issue is that that would require to actually call into account contract which is a problem because we need to do this before applying anything that's a little concern so yeah maybe I can add a little bit to this like the the kind of the type of of uh challenges in the uh account abstraction in other blockchains they come from from the like when you try to use the the contract to pay for its own fees right I can basically like um you you um you have like sequence numbers like nonsense basically and fees being um paid back the contract and as you as soon as you start to get into that game uh you need to basically execute the contract uh when you're flooding the transaction so before it gets processed by the network and then you get into those like uh yeah like big challenges around okay how much like what's the maximum gas or whatever right that I want to allow a contract to to use um outside of applying uh applying transactions and of course this gets quite complicated maybe like to go back to like to what Thomas was asking like would that be the type of thing we can add in the future I mean I don't I think the current proposal doesn't doesn't stop us from doing that if we find ways to make this efficient um like uh maybe like some of the things we could and this is related to the other conversation we are having um on the uh token contract uh like should the Lumen balance for example uh attached to a contract uh be something that is kind of first class um so that we can efficiently like uh even decide if uh like if if a contract has even enough balance to pay I mean this is one of the problems it's not the only problem but you know it's one of those things that maybe we could do early on anyways um but yeah that's kind of where we are I'm curious so there are two parts there are too many major parts or main parts to this proposal the first one is the account abstraction the otherwise the other is a standardized invocation authorization uh if we focus on account abstraction for a second uh putting aside some of the details that we just mentioned is is anyone uh does anyone object account uh abstraction it sounds like it's pretty um I think it's a win-win situation like we're looking at other ecosystems and you can see that you know the ethereum ecosystem is working very hard to retrofit account abstraction and um uh you know regretting not adding this in the beginning and and we're seeing a lot of um like challenges that come from not starting off with account abstraction so uh it almost sounds like a no-brainer to me is there anyone that opposes a account abstraction uh Dima from your perspective are there any downsides to adding account abstraction yeah so um it's a account obstruction in building fashion is definitely like a win-win in a sense that uh you know like if you're joking about things that are supported by Fosters almost no performance cost and the contract interfaces become really convenient in terms of the custom abstract accounts um I mean it's definitely a win from the functionality standpoint the downside is that uh you know using them would require more gas obviously because you need to run mobile and you need some additional um they are invocations but I mean I feel like this is a fair price because it allows to achieve some functionality that is not the chewable otherwise um but um yeah basically the main cause to it is the performance cost and we need to be at work with and you know it's some party wants to you know pay for the contract notifications and they may have the same trouble with absolutely it's a custom account project but yeah not sure is it's a big enough deal basically um I think in gree Lake account abstraction could be implemented in some way even if they didn't do anything on the cost site and so it would be even slower and worse so you know I don't think this downside is being cool enough to kind of state it it shouldn't go for account extraction awesome okay um so I think uh we can move to the standardized invocation authorization yes people don't want to keep talking about account obstruction can I ask you just a quick question timer go for it yeah um so does this does this mean that we are um if it sees white adoption for just regular accounts or maybe this is the most basic question which is does this impact regular accounts can I take my stellar classic account and um put signing Authority on into a contract and if so does that um sort of blur the line I mean we have this sort of clean separation between classic and sore Bond um and so are we you know sort of uh opening up the the sort of bleed over between those two systems um wider and and consuming you know forcing more sort uh seller transactions to use store Bond resources um in a constrained resource environment is that a downside I guess oh what Miss herpes actually this is not right like I don't think anything changes functionally much for the classic account uh compared to the current world because currently we already as I said provide this invoker method that uh calls them to Classic Source account right and we also allow um like we have SDK for the promoted in the transaction for the inbox uh Paul tries in the contract invocation on behalf of the classic accounts that have been pre-signed so you can pre-sign something using your classic store account with threshold and uh server they did so nothing changes in that sense and uh from the contrasting point what actually changes that contracts themselves don't need to know about that classic account existence which I think is uh pretty good thing because uh like the as I said like there is really no good reason because I can't to worry about like how exactly something has been out right so um I don't feel like there's any functional difference but seriously the positive effect of contracts being more generic without like uh specifically according to the classic accounts um yeah I I would add to that that like my mental model of this is similar to what we're doing with a stellar asset contract um on suraman basically all the interrupt with Stellar classic and all the you know idiosyncrasies that come along with that they are in this built-in contract which uh applies both to the Token contract for the asset contract it also applies for Stellar accounts now that we have proper abstraction all the finagling with Stellar accounts happens within this built-in contract to some extent it's actually a lot cleaner because it doesn't um it doesn't pollute like the you know post functions like they don't need to know too much about about Stellar accounts because all of that uh is kind of like abstracted away and is mostly present within this built-in contract would that be accurate them up yeah exactly Nick does that answer your question yeah that's that's helpful thanks cool so um if there are no other questions on the account obstruction we can move on to the standardized uh invocation authorization this is definitely um you know the more I think a fairly novel approach and I'm curious Dima what the potential downsides that you see here are like one thing that I will say is that like one thing that immediately gives me pauses is are we putting too much uh on like the pre-flight process um you know I think when we were talking about pre-flight just for in the context of of getting the The Ledger entries that you're gonna touch uh that's something that's uh relatively uh easy to uh you know to predict so for example if you're going to do a token transfer maybe you don't actually have to to call PreFlight you can skip that because you know what's what's going to happen there uh in terms of the the the signature payload suddenly a signature payload appears to become like non-trivial at all so are we building too much dependency on pre-flight here well I would say uh I would put this like okay let's talk about separate part because I don't think about it before so what tomorrow refers to is basically the way uh I propose to enable this approach for the user can sign like complex payload with multiple contract invocation uh the main enabler for that is uh PreFlight uh that would basically run the Contracting vacation in like authorization trades and mode and uh return the signature payloads that need to be signed by the votes and I would argue that this is basically the satellite kind of an enabler of the approach because without that the only thing that we have left if we want to do something more complex than one invocation one signature project invocation would require custom payload building that is also contract dependently so basically the proposal itself is about standardizing the payload format which in the first place say wait probably shouldn't be like really controversial because uh like the benefit of having custom rewards is kind of questionable right but you know if you wanted your pillow to be complex like what is a good way of building it and pretty quiet it's one of the answers to that but for the simple cases you know as you have mentioned like well what if we transfer token the same can be said about the signature preload like if you are in the same world where you just you know want to have a single account that uh signs for a single um contract code that doesn't go into any sub subcontracts on behalf of that account then the signature pilot is uh very simple and it's not trivial and again the benefit of having its standardized and structured is that you know you can write a libraries that would build simple payloads for you um and that would work again for every contract it is you can say framework creates a kind of search and stuff which we hope to be almost any contract so I'd say like there is definitely some downside like in that in case of a really complex invocations on behalf of the user the pre-pride needs to be used twice and it may be a little bit annoying but you know the issue is that alternative to that would be World War um everything needs to be built manually like like prefighters basically is the best thing we can probably provide out with that uh or you know uh just go with  the approach of erc28 approach right therapy just always saying the single call and then did do a lot of uh State manipulation to actually make things work but I'm not sure that's necessarily a good thing because it comes with its own set of problems that again arguably should not be stopped on this level like we put some things into token interface but what if I want to write then a POI can include my grade all this um set of different methods that actually work around the limitations of like the signatures um and so on and so forth so basically um the prepaid here is something that actually helps us a lot I think and yes like made this Rich downside and maybe increasing a lot and it or it is rare cases where it cannot be used but you know you can always build manually especially when you like control will control exactly also contracts in your Coast Tech and you know exactly what needs to be signed so um I don't feel like it's big enough downside and also I wanted to mention that um like the approach here is a bit rough around the edges so it's around some other things that may be different in terms of implementation um for example like maybe they could some logic a bit more but basically um yeah I don't want to go into details maybe just yet but the point is like maybe we can make things a little bit immature and they are described now but uh yeah I I'd say creep white is like I I wouldn't look at prepare the downside it's actually quite an upside because also Alternatives um we've looked at well discussing like what we how can we simplify building the payroll say would be kind of um for example an alternative uh we have discussed with John a while ago also aquatic contract could provide the methods that says how exactly to build a payload for every call of the contract matter but you know this is uh a lot of work to be done by the contract developers and again it needs to happen for every contract well here we kind of come up with a generic mechanism and you know the contract writers don't need to worry about about the better homes they can just write pretty complex contracts without worrying about users not being able to ever build signature for one and you know it doesn't need to be part of the interface or anything it's like very um naturally healed so that's my sense on it I you know someone has more concerns about that yeah maybe the thing that uh yeah when you mentioned like the the whole like having to do this work uh for like contract developers having to do this kind of work for every single new interface type is kind of a is super important like uh I think yeah what we're talking about here is if you look at like uh erc20 like uh you have for example the um what's the Ikea 2612 that's the permit um extension um that's for your C20 so like if you have uh like if you think of like nfts right they they don't use this it's a new method and then you have to basically support this both at the contract level like as a caller to that contract you have to support this new uh this kind of uh uh way of wrapping and signing things right and you also have to of course do that in the wallet in the sdks and so on so the complexity is is increases very quickly when you when you don't have any standouts so I think the the um uh being able to use uh PreFlight that we that we have there available to us uh in this context is actually going to reduce friction around the adoption of like those kind of a encryption schemes at the right place uh in the in the different uh contracts in a way that I think is maybe like a unprecedented in the ecosystem oh yeah that's a good point and obviously if if the ecosystem wants to adopt like in the ap2612 style uh you know permit based authorization they can do that but you know we hope that uh you know we want to make something that's batteries included um one other question that I have just like looking at the doc right now is you know it looks like we're signing all the function calls including the arguments it are there situations in which the the arguments change slightly between invocations in a way that invalidates the the our signatures FEMA yeah so yeah the the testing discussed on the doctor and um uh so basically the idea is that you probably shouldn't write your contracts in a way where the signature arguments change for the subcontract codes again it doesn't really matter what kind of your approach you're going with like even if you go we are seeing 28 permit for example um like you cannot say that hey what are the arguments of current change a little bit like whatever has been signed has been permitted so it is kind of similar and in cases when you know some arbitrary amount of token need to be spent for example um the proposed approach is use approved style method like we wouldn't remove it from the token interface it's too useful for cases like that um the difference would be like if you do things like temporary storage for example um this approve may be alive only during the top level Contracting location so you know there are no problems with hey I've approved this token like a thousand units of the token but the contract spend just 500 and then there is outstanding 500 approval for me and this contract that someone may misuse or whatever so instead what would happen you would atomically call a proof inside the contract invocation and it will only be active during this contract invocation uh the top follow one um and then basically after a proof has been executed the contract can spend up to approved amount of so because of the user and obviously not the whole amount needs to be spend so um this amount will just stay in the user account and zero won't be even an outstanding approval that can be done with you some help uh so basically the idea would be that the user still needs to sign some upper bound on what is going to be spent and that's basically the hope that this is you know for the most contracts and again it's not like we can do much more besides maybe I don't know user signing that they approve spending as much as contract wants but again we don't remove this possibility either so basically yeah I I think like the contract should be reading just in a certain way to kind of allow for uh specifying an upper bound not an exact amount that needs to be transferred from them um this problem shouldn't appear much and it's kind of unrelated to this proposal it's like in general if you want to do anything with outright subcontract both we will run into this issue and and I think that I was thinking also about that like the there might be ways actually to you know once we have kind of the this kind of authorization model kind of figured out like we may actually do some tweaks to the um to the uh the standout token contract like I'm thinking like we could actually um uh have like the for example the transfer method right uh if it had like a max amount actually explicitly there and then the authorization that is done inside would be on the max amount on the on not on the actual amount this food that I actually I think allow us to get rid of even the uh pre-approved and um and and later pay you know with like some other amount that's smaller I think that we could do things like that yeah yeah maybe basically like to be clear like uh contract can require user outrights arbitrary arguments based on its input arguments so it's not like you know we have said in each and every argument so it's definitely possible to have methods where you assign one argument and the research that just well passed around this so you know again this similar to account abstraction like this opens up a lot of new approaches uh and tours and eventually like the token interface can be modified to account for this basically again I think the the difference here from many other things is that you know we want to make it easy to call things on behalf of the user and the source of interface you can come up with having this feature uh I think like more resources needed to actually come up with writing Pages for that right because we we can make things much simpler and safer than they are when only a single invocation can be uh fine pretty much properly so I think that's more of a question to with to the interfaces and not necessarily because yeah I definitely think uh I'm not sure I'm looking at the document right now if we can have like a detailed the like description for how this would work with uh like non-deterministic arguments like I'm looking at your uh like your main example of like swapped in transfer and I feel like you know if the swap is a strict send rather than a strict receive then you know you're not going to know what the amount that is actually being transferred uh in advance or or even during pre-flight so I think maybe just like unpacking that example uh would help so I have an example of the atomic slope right and what it does is basically what you sign is that you want to swap an amount of token a for at least an amount of token B right this is what you're saying Yeah so basically you send that you want to spend it most amount of token a and at least at least the amount of token B which I'm not sure which and receive this message um but basically then the users who have signs that can be they can have their tokens robbed atomically and the example I settle for the you know price for example so not all the token is being withdrawn and as anyone ever use this Contracting week multi-stopper when you have multiple parties like on both sides that can solve it to each other so basically my point is that again the main thing that you you sign the thresholds uh not the actual amounts and then definitely possible to just spend or receive business threshold without any additional input from the user because again these are just saying the thresholders that kind of works got it uh demo one uh question from moots or statements in the live channel is uh that moose would love to see address identifier and like byzen 32s all of these kind of like converge and I know that people have been pretty frustrated with uh with the existence of all these different ways to describe um accounts uh does your account abstraction solve this yes definitely right like this is about what I do in my prototype already and that's definitely something I've been looking into so basically they said like when you want something authorized uh you just needs account and you want an address you just use address uh that's pretty much it um so if you want to do something for example on behalf of the current running contract you just call get current contract account which is account type 2 right so from the contract Traders standpoint where you you don't have any additional it um you may still need the contract ID for some use cases but it will still leave this but you know this is Project context when you are interested specifically in the contract ID right then it will goodbye but in all the operations that involved with any manipulations I would say right you would just use a Content address types there is no identifier type anymore the bytes are just used for things that are actually bites like a passual contrast City but there's a not since involved into our spring work for the most part I said that smart forward themselves okay I hope that makes moons happy uh it does make me happy uh great are there any other questions either internally or from the audience uh Dima if people want to learn more about auth uh off next what should they do uh besides reading the document what's the document has uh links to the examples I think examples uh definitely a photo kind of have a grasp of how things may look like again you know this is the two broad Stitch and it may change but uh you can see some general ideas where you can see that accounting addresses I used everywhere not in the first stuff like that um how the calls have been authorized and so on so yeah look at the examples too just kind of especially like luxuries like time work examples that where you can see exact tips from the current implementation and the swap examples are something completely new that is really painful to do right now which is why we don't even have an example for example um so yeah I think that's that and uh yes and just ask me either as a document or Discord do you have um things that you think are not covered anywhere um then you can answer it awesome so uh after the holidays we're gonna meet up again and uh talk more about off and I think that for today Justin do you have any other thing or is it a wrap no I think it's a wrap happy holidays everybody definitely check out the doc definitely watch out for more saurabhan design discussions coming up after the holidays and everybody have just a great holiday season",
      "keywords": [
        "contract",
        "account",
        "basically",
        "things",
        "example",
        "something",
        "token",
        "thats",
        "actually",
        "abstraction",
        "dont",
        "maybe"
      ],
      "speakers": [
        "Finish Line",
        "Cherry Picked",
        "Classic Source",
        "The Ledger",
        "World War"
      ]
    }
  }
}