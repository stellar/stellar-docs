---
title: "Open Protocol Discussion"
authors: [justin-rice]
tags: [legacy]
---

import YouTube from "@site/src/components/YouTube";

<YouTube ID="g41iei45yA4" />

- hi everyone welcome to the stellar open protocol discussion um in these meetings as always we discuss core advancement proposals caps which are technical specs that suggest changes to the stellar protocol and they're necessary to allow that protocol to continue to evolve to meet ecosystem needs we live stream the meetings so that you can follow along i do want to note it's a technical discussion so if you're watching please take a look at the cap link to in the show description cap21 we do keep an eye on the discussion box and your comments there inform future decisions but our goal today is to talk through some final questions about cap 21 so we'll only really address questions here if they're directly related to that goal um once again this meeting is part of a caps life cycle they are started on the stellar dev mailing list and there's a link to that mailing list for anyone who wants to participate in future discussions they're drafted and iterated on before they're drafted or before they end up in this in this discussion uh in this meeting and based on what happens in this meeting they may get put up for a vote before the cap committee who decides whether or not to accept or reject a cap after a vote uh the cap enters a week final comment period so everyone has a last chance to raise questions on that same mailing list if a cat makes it through final comment period it's implemented in a major release of stellar core which is then put forward for network validators to vote on ultimately at the end of the process it is the network that decides on whether to accept major protocol changes on that note there is currently a validator vote to upgrade the network to protocol 18 scheduled for november 3rd that's next week and so that upgrade would introduce automated market maker functionality to stellar so it's very exciting it also introduces some breaking changes so if you build on stellar please make sure to install up-to-date versions of any stellar sdks you use any stellar sdks along with stellar core and horizon if you run a node but today we're discussing a different cap destined potentially for a different protocol cap 21.
- cap 21 lays the groundwork for building payment channels on stellar um payment channels allow multiple parties to transact off chain and periodically settle on chain and among other things what they do is they make it a lot easier to build high volume use cases on stellar so cap 21 it makes technical changes geared towards enabling payment channels payment channels are great for scaling network throughput that's kind of my overview um where we are with cop21 we've discussed it a few times uh revisions were david made revisions recently based on the last discussion that we have and so i think where we're at now is like are there any questions lingering issues anything that we can go over with cap 21 um especially anything that's preventing it from being put forward to the cap committee for uh approval so anyone got anything i'm happy to summarize the changes awesome perfect pretty minor um so you know there was this thing where like we said that time points should be signed because like databases were like have is more convenient some databases have signed 64-bit numbers but like then we decided actually that was a bad idea so it's mostly like kind of orthogonal to this proposal it's just like since i we're making use of time points and durations and stuff so that's reverted to unsigned um well go go over the small changes then people wanted a note about like the bump sequence uh how like that can like invalidate a transaction in the same block the main uh the main change uh is that um basically when you have when you see two transactions that are incompatible they can't both be in the same block because like let's say one has sequence number 12 and a min seek ledger gap of two and the other has like sequence number uh 11.

This was the final checkpoint for CAP-0021 (generalized transaction preconditions) before the CAP committee vote. After reminding everyone about the Protocol 18 upgrade window, the call covered remaining implementation questions, the interaction with CAP-0040, and how quickly the ecosystem should expect payment-channel tooling to arrive once the cap lands in Core.

Key discussion threads:

- Implementation effort: Stellar Core still needs overlay, testing, and Horizon queue updates, but the functionality itself is scoped and on par with other “medium” protocol changes.
- Ecosystem appetite: payment channels unlock higher-throughput use cases and new recovery flows, so landing CAP-0021 together with CAP-0040 acts as an insurance policy if a high-volume app suddenly needs them.
- Next steps: push both caps to the committee, continue performance experiments (e.g., single-message channels) in parallel, and use Meridian sessions to socialize concrete payment-channel designs with builders.
