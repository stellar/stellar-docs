---
title: "Extended TTL Host Environment Proposal"
description: "Discussion of a proposed host environment change to support separate TTL extensions for contract instances and code, improving cost efficiency while aligning with existing protocol mechanics."
authors:
  - alex-mootz
  - dmytro-kozhevin
  - leigh-mcculloch
  - naman-kumar
  - tommaso-de-ponti
tags: [developer]
---

import DriveVideo from "@site/src/components/DriveVideo";

<DriveVideo ID="1zKvUx74UqvfmpNvU8BJt5RAqj-XHyBke" />

## [Public Discussion](https://discord.com/channels/897514728459468821/1212118102565855243)

This session focused on a proposed update to the Soroban host environment that allows contract instances and contract code to have their TTL (time-to-live) extended independently. The motivation is to enable more cost-efficient patterns, particularly for contracts where code is long-lived but instances may need more frequent or shorter-lived extensions.

The proposal was reviewed from both a design and implementation perspective, with discussion around scope, metering impact, and alignment with existing TTL mechanisms. Feedback from core developers and the ecosystem indicated strong support and low implementation risk.

### Key Topics

- Proposal overview
  - Extend host environment support to allow separate TTL values for:
    - contract instances
    - contract code (WASM)
  - Enables developers to avoid overpaying for TTL when instance and code lifetimes differ
- Motivation and benefits
  - More granular and cost-efficient TTL management
  - Better alignment with real-world contract usage patterns
  - Reduces unnecessary rent costs for long-lived code or short-lived instances
- Implementation considerations
  - Change scoped to the host environment
  - Does not require changes to metering
  - Viewed by core developers as a relatively quick and low-risk update
- Ecosystem feedback and consensus
  - Proposal discussed publicly via GitHub Discussions
  - Ecosystem participants expressed support through upvotes
  - 13 votes recorded in favor of moving forward
- Next steps
  - Formalize the proposal in a CAP
  - Submit for review and approval by the CAP Core Team

### Outcomes

1. [Tommaso](https://discord.com/users/905908451446779965) proposed a core change to allow for extending instance and code TTL with separate values on the host environment to allow for more cost-efficient designs Proposal.
2. Tommaso received feedback on the proposal as well as implementation. Since it didn't require a metering change, core devs thought it to be a quick change.
3. The ecosystem voted in favor of the proposal by upvoting the post on GitHub Discussions 13 times.
4. As next steps, a CAP will be authored to capture the proposal and put forth for approval from CAP Core Team.

### Resources

- [GitHub Discussion: Extended TTL host environment proposal](https://github.com/stellar/stellar-protocol/discussions/1447)
