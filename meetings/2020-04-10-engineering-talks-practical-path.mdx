---
title: "Engineering Talks - Practical Path Payments"
authors: [kalepail]
tags: [developer]
---

import YouTube from "@site/src/components/YouTube";

<YouTube ID="KzlSgSPStz8" />

- good morning still our community or afternoon wherever you may happen to be evening I don't know bill the night it's worth it to show up for this this is the first of our stellar engineering talks my name is Tyler van der Hooven and we're gonna be talking about practical path payments today if you have questions along the way or already have questions we have two places where you can put in your questions either on the stellar events page stellar org forward slash events click on the practical path payments and then the bottom right-hand corner is a little box where you can ask some questions or if you are tuning in via YouTube you can just ask your questions there in the chat and we will get to those closer to the end the goal here with our engineering talks is to have relatively short and very pointed discussions around specific aspects of the stellar blockchain so today we'll be talking about path payments so a path payment is a means of it's a payment right so if you've ever used payments on stellar or you're essentially just passing a set a from holiday to why would be that they receive the same asset so this is very common this is the way we think about payments today I have a dollar and I give you that dollar and we've just made a payment a path payment is quite different and I think I believe path name is to be one of the most interesting and important aspects of this teller blockchain and there's nothing necessarily new or incredibly different about path payments but what they allow you to do with with their very tight packaging the the feature that is a path payment kind of pulls together a lot of different aspects of payments and order books and allows you to do things that you really couldn't otherwise do without a lot of headache so as we start to think about path payments it really should get your wheels turning on oh I wonder if I could do X Y Z or oh this really allows something that we hadn't really hadn't really had the ability or capability to do so it's this idea of transferring value not just assets understanding and making use of one of sellers most powerful Sevilla weapons a path payment is a payment made through the Dex the distributed stellar distributed exchange or decentralized exchange that probably doesn't make any sense but let's let's kind of walk through a little bit so vanilla pod payments we've already our vanilla payments we've already talked about that a little bit traditional standard payments simply move an asset from address a to be nothing fancy you have any asset and you make a payment to your friend who will receive any of those houses that you sent them nothing fancy they're very essential but they are simple basic boring and I think if we only think of payments in that way we're missing a huge part of what stellar allows us to do so incomes path payments path payments move your asset you're given asset through the decentralized exchange before arriving at the final destination so we'll walk through some examples of what that means but essentially if vanilla payments move assets path payments move value and that's that's fun that's a fundamentally important thing to understand when I'm trying to think through what a path payment is that you have an asset you're not just trying to move an asset from someone to somebody else you're moving the value of that asset so whatever is behind whatever that asset allows you to do whether that's buying groceries are paying rent or buying a house or maybe it is the house whatever that value is you're how do I move that value to to the the third party via the other person that I want to pay as opposed to just moving the asset so if you have USD as an example here USD exilim or a gold token you make it past a manure and who can receive any of those any one of any asset on the order book the value of that thing so I may pay you with US Dollars and it goes through these different paths of maybe a pizza token which then goes to a gold token and finally arriving in in your wallet as a euro token this obviously is gonna require some order book stuff to make that happen and we'll take a look again in a moment about what those things are but essentially you never hold euros and your friend never holds USD in this example that I just showed never latigo stiva the value of my USD has arrived safely through the asset paths a pizza and gold in that case to this in this final payment to you so you foresee the value of my USD you've just received it in a euro token so let's take some let's take a look at the practical aspect again you might be thinking that sounds interesting but I don't know exactly how that helps me either as a user or a developer of an application so let's take a look at a market order on TV so this is something that is very common in other exchanges where you can just make market orders right so inside of our [Music] kiba's wallet here we are going to make a payment this I recently discovered this this is quite fantastic use of path payment so I'm just going to pay myself so most the time when we think of payments we're paying somebody else but I'm actually going to pay myself I'm going to send other assets so this would just be the standard payment flow if we click on send some other asset i would like to receive u.s.
- dollars let's say I want to get five and I want to send excellent so this is essentially I'm going to send 107 xlm to receive five US dollars and so this will be a market order that essentially I pay a hundred and seven lumens and I'm going to get in exchange for that five dollars so this is a market order that I can use to pay myself five dollars without ever touching an exchange all I did was spend time in a basic wallet interface in am able to receive other assets any of these assets that I've created a trust line for so hopefully that will go through and we will receive some of those tokens sweet we've gotten our five US Dollars and we spent we spent those one hundred and seven lumens to receive to receive those five US dollar tokens so fantastic we've achieved market orders through path names we never had to touch in exchange and that's the beauty ever right so an exchange did happen and an order book was touched I just didn't have to do it manually it happened in the background through the path famous write an order on the order book of us of the anchor USD tokens was consumed a hundred and seven lumens were spent on somebody somebody had an order out there that said I'm willing to take 107 lumens in exchange for five US dollars I didn't know who they were I don't care who they are I just want to get five US Dollars and I willing to spend hundreds of lives to to get that the other obvious example is to make a payment to somebody else and we can use the same key base flow to achieve that now we've got some some US dollar tokens we can pay let's pay our our good friend Colton send some other assets let's see what he accepts he accepts Bitcoin sorry buddy I'm not going to give you one Bitcoin but let's see it okay we don't wanna make it wealthy off of this and let's use our five US dollar tokens let's see we have to send three point forward US dollar tokens to get to pick one it actually looks like it's consuming a couple of different paths so it's going to go to actually arrive in Colton's wallet as the 0.005 Bitcoin it's going to go through a couple of different order books couple different order paths to get there I don't care about any of that but can you imagine trying to go into all of these order books to actually make this exchange happen I mean for one time would be involved and so the rate is probably going to be different between all that but then it's also just very difficult to make that happen you could do it and it could be manual and it could work but wouldn't it be really nice if all of this could just happen in a single payment never having to touch an order book and I can do all of this from the comfort of my key base wallet we are sending him too few offers looks like it looks like our payment failed probably we took too long to to get it there we'll try it one more time sometimes these payments could fail if if one of the order books isn't all that liquid so I don't know how liquid the Bitcoin market is I also don't know how key base is doing there pathfinding we'll try this one more time if it doesn't work I'll just use my lumens again hope a that time succeeded nice so an interesting thing here if we go to Colton's address and we pop this into stellar expert here this is on the public network we should see OOP we should see that he's got himself some some Bitcoin tokens that we just paid him from our address and we can even see the past that that went through if we look up this operation yeah so you can see all the trades that were consumed to to make that possible pretty pretty interesting but just a very again a very basic example of doing something it would be incredibly complex to do manually and something that maybe we do sometimes right where we want to make exchanges through different assets to arrive at a final payment the way we can do that very simply through just the in this case the key base exchange or the key base wallet so last but not least a quote-unquote Enterprise example if we were to go to I've got a path payment example demo set up that I use to help explain sort of the enterprise idea of path payments and when I say enterprise I really just mean all of the pieces so we're just gonna go and create so we have this market right so they're assets where things have to move if I want to be able to send US dollars the value of US dollars to my friend and have it arrived as euro tokens that requires that there be order books set up for both of those things both USD and euros so we'll need to make markets if we have a market maker here he's going to need we're going to need somebody out there that has USD tokens and euro tokens and is putting those out an order book which can then be consumed where is this path between US dollar to euros can somehow happen because it doesn't happen magically it happens off of orders that are already on exchanges already on the decentralized exchange books so now we have US dollar and euro markets made so let's create our wallet in our friends wallet here with the example again of we're going to have US dollars here and we want our friend to receive euros so we're going to purchase with our xlm we're going to purchase a few US dollar tokens will notice the books over here will start to change we just spent some xlm to get some euros so we'll see the books over here looks like we just bought some US dollars with our xlm so we have just under 25 there and if we click send it's going to create the trust line on our friends account and then take the US dollars over to the order book here turn them back into xlm so that it can go from xlm to euros and then send those euros to our friend but we never accept euros and our friend never gets US dollar it goes through the books to get there and our market maker is the one who receives euro into US dollar and X align so we'll click that that'll create the trust land on her friends account I didn't create the books if we look at our books over here I think we'll see this one change and this one yeah so we've gone through the order books and our friend has received 10 euros we've spent some US dollars to make that happen and we can see over here that the excellent value for a market maker has been up he's starting to make a little bit of lumen profit hopefully if the spread here is is good market makers can make money off of the spread as users send path payments or use the books to send those path payments so that's pretty pretty interesting and so those are three kind of basic examples but also very powerful examples of how you can use PAP payments right now if you're interested in seeing the code behind this it's open source there'll be links in the description of this video where you can go and play it play around with this enterprise example our good friend Colton also has a very good document explainer on path payments that he wrote up so make sure and go and check that out if you have further questions there enterprise example I mean I'm not gonna walk through all this if you want to take a screenshot or spend some time reading about this this is kind of our bullet point list of where the interesting parts are in path payments as well as just kind of an explainer on why I think path payments are so valuable and I'm a very interesting use case kind of here at the end right I would like to see market makers actually being made from within applications so the yet when you when you switch off from assets being the thing that you want to the value being the thing that you want when you can actually transact in value versus assets like why don't in my bank account light up why don't I have you know Canadian dollars and Australian dollars and euros and was because those things are valuable to me because I can't use them because I can't make trend I can't do transactions in them I can't go to the grocery store and buy groceries with Canadian dollars I need US dollars but once you have path payments I absolutely can make payments with Canadian dollars because I can make a path payment and wherever I'm spending my money I just say hey I've got Canadian dollars but at the end of the day I would like the payment to be made to be received in u.s.

Tyler van der Hoeven kicked off the Engineering Talks series by breaking down path payments and why they let you move value instead of raw assets. He contrasted “vanilla” payments with multi-hop conversions across the DEX, showing how orderbooks, trustlines, and strict send/receive settings work together to route value without manual juggling.

He demoed the concept inside Keybase—using path payments as market orders to pay himself in new assets, converting USD tokens into a friend’s BTC balance, and then scaling the idea into an enterprise scenario where market makers seed USD/EUR books for wallets to tap. The closing Q&A dug into atomic execution, liquidity risks, market-making incentives, and how apps can treat users as on-chain liquidity providers.

Key discussion threads:

- Examples of practical flows: self-paying to simulate market orders, sending someone Bitcoin while spending USD, and embedding the same functionality in consumer wallets.
- How an “enterprise” implementation seeds orderbooks, manages trustlines, and keeps value flowing when users never touch the intermediate assets.
- What atomic path payments mean for price certainty, how strict send/receive protect users, and the need for better liquidity, tooling, and market makers on the Stellar DEX.

good morning still our community or afternoon wherever you may happen to be evening I don't know bill the night it's worth it to show up for this this is the first of our stellar engineering talks my name is Tyler van der Hooven and we're gonna be talking about practical path payments today if you have questions along the way or already have questions we have two places where you can put in your questions either on the stellar
