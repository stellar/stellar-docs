---
title: "Soroban Design Discussion"
authors: [kalepail]
tags: [soroban]
---

import YouTube from "@site/src/components/YouTube";

<YouTube ID="-RE0gGD0oUw" />

Dima’s “Soroban Auth Next” proposal kicked off 2023. The team reviewed why the existing mix of `invoker`, `soroban-auth`, and bespoke signature schemes makes wallets brittle, fragments the contract ecosystem, and leaves developers re-implementing nonce logic everywhere. The new design reframes authentication as a protocol feature so contracts can stay narrowly focused on business logic.

The heart of the proposal combines account abstraction with standardized invocation payloads. Contracts interact with opaque “account” objects that can represent classic accounts or programmable wallets; those accounts verify signatures, enforce user-level policies, and expose a single `check_auth` entry point. Wallets sign one structured payload per transaction tree, and the host records that structure via preflight so contracts can safely authorize nested calls without confusing-deputy risks.

Key discussion threads:

- Pain points with today’s auth options—single-signer `invoker`, heavyweight `soroban-auth`, and ad-hoc custom schemes—and why that fragmentation blocks composability.
- How account abstraction plus host-managed nonces let contracts treat all signers uniformly while still allowing programmable policies like spend limits or delegated allowances.
- Using preflight “recording” runs to capture the complete call stack and authorization context so wallets can generate payloads and the host can enforce them deterministically.
