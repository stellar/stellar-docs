---
title: "Stellar Developer Meeting"
authors: [carsten-jacobsen]
tags: [developer]
---

import YouTube from "@site/src/components/YouTube";

<YouTube ID="w_senlMbHVM" />

In this meeting, SDF Developer Advocate Chris Anatalio talks about the future stack, including smart contract wallets and Passkeys. In the second half, SDF Core Software Engineer Siddharth Suresh talks about increasing Soroban limits.

<details>
  <summary>Video Transcript</summary>

[00:00] Okay yeah. But welcome finally we I think we got sorted out the the issues and yeah welcome to this week's Stellar Developer Meeting and today I we have two presentations we have Chris, that's going to to talk about P keys and we have S out who going to talk about increasing sorond limits. So I will just I'll just let you take it from here Chris do you need to share your screen yeah yeah let me do, that okay cool is, that coming through yeah I think. So right okay okay yes I guess I can't let me see let me check the comments yes okay cool thanks Elliot cool yeah. So thanks everyone thanks for bearing with us through you know some technical difficulties here. But yeah let's get go ahead and get started. So this

[01:00] presentation here is a subset of a presentation I gave at Devcon in Bangkok at several events including multichain day and funding the commons, which is a a public goods organization, which is really cool. But basically we're talking about past Keys could kind of like I would say a revolution and user experience for web three onboarding. So yeah let's go ahead and jump in. So thank you than you all for joining future stack smart contract wallets and pass keys on Stellar yeah. So so basically yeah my name is Chris anatalia I'm a developer advocate for for Stellar Development Foundation and let's go ahead and just dive in. So yeah we're just GNA give you a quick intro to like the what and why of p pasis. And then we dive into this really cool project, that Tyler built, which is basically a

[02:00] typescript library, that helps abstract away the complexity of integrating pass Keys into your D app. And then we're going to actually go through a reference application where we actually implement this pass Keys kit and just kind kind of demo the functionality it exposes to you. So first off why pass Keys well everyone knows passwords are terrible right. But they've reached such a level of terribleness, that it's it's hard to ignore right. So I mean other than you know packs and leaks of of password databases you know between, that and just the requirements, that users find very hard they basically users aren't most users are not following best practice of operational security just. Because it's difficult right. So pass keys to the rescue right. So pass keys are

[03:00] basically faster easier and safer right and they kind of get rid of you know having to bage all these different passwords and having like it secure onetime passwords sent to you via SMS right. So pass Keys basically are enabled by well what's called a secure Enclave on I believe iPhone devices. But basically you have a special chip, that can do secure cryptographic operations right. So so basically your device kind of Acts almost like a UB ke not exactly. But basically your device acts as your source of authentication right. So you're able to leverage something like fingerprint or face ID to be able to register and sign in for accounts as you see here happening basically yeah you can either use your device or you can use something

[04:00] like a password manager to manage your pass Keys. But basically yeah no more 13 character passwords and all all of, that jumping through all those hoops and ultimately it is safer you know. Because it's not stored somewhere in a database, that a hacker could break into right the pass Keys kit is this really great typescript library, that you can pull into your project using we recommend you use PP npm for dependency management. But yeah basically it's a great Library you can find it at GitHub kale Pass Key kit and basically gives you all the functionality you need to create and manage Stellar smart wallets. So like I said before you can find it you just add it as a dependency to your project. If you scan, that QR code it'll bring you to the repo. If you want to check it out

[05:00] but it's all GitHub you know you can just Google it as well. So yeah definitely check it out it's it's it's really cool. But yeah we we'll go through it here. So basically the pass key kit allows you to implement signers you know various interactions with your mall with your wallet and also really cool things like like policy signers, which allow you to Grant explicit permissions to a signer a functions as both a client and server Side Library with launch Tu on the server side, that kind of helps abstract away the complexity of submitting submitting transactions to the network right. So so the client lib is Pass Key kit and the server lib is Pass Key Key server and you can check at Super Peach as another reference implementation

[06:00] so. If we want to check out Pass Key kit a little bit right so. If you jump into the actual Pass Key kit repo and you go to sour kit. TS you can see like kind of the nelt and bolts of how it works right you pass in your your RPC URL you know the static network keyphrase. And then you know it kind of set up all the stuff for you right. And then it'll expose these functions like create wallet, that basically you know allows you to perform all this functionality with with basically just a function call yeah. So this is like the pass key kit client side code and with your in your actual application so. When you initialize your passy kit right you import it. And then U you create an instance of it right pass in your RPC URL of the public node you're using. And then you know as a seller

[07:00] developer you know each You Know M net test net feature net they have this static network passphrase you know, that you pass in, for instance "test SDF Network ; September 2015." And then the deployed Factory contract address, which is the the factory, that generates your spart contract wallet right yeah then, that will be have to, that will have to be deployed beforehand on your selected net taking a quick look at the P key server. If you dig it to server server. TS you can see basically it's kind of the same thing you know you're taking it launch tube URL depending on, which. If you're on M dat or test, that. Then you also need a jot

[08:00] token, which is u a Json web token, which kind of authenticates use launch tube we have self-served for, that on testet I believe. But for main, that I think you need to reach out to the team. But yeah so. When setting out the pass key server in your application right you pass in your RPC URL you pass in your lodg tube URL and you pass in your Lodge tube jot token right. So in this case we're importing it from a EnV file. So so, that stuff will just be sitting in your local.v config file so. If you want to follow along and you want to check out the demo app I built you can scan this QR code or you could find it at analo CS pass Keys kit Stellar reference implementation and yeah we we'll we'll said, that out later too. If you

[09:00] don't catch it here. So basically the use cases we're going to cover is creating a wallet signing into existing wallet a smart contract invocation adding a ed25519 signer. And then adding a policy signer and also talking about some of those nuances so. If you follow along with with the application. If you want to pull it down and just run it locally basically here is the first example right. So what we're doing here is we're creating a new wallet right and then, that wallet actually gets created as a deployed contract to testet as you can see here right. And then within the date of, that contract you see the cider. So basically you you click create pass create new Pass key right. And then in a browser you I you can either use your fingerprint on your MacBook or

[10:00] password manager right. And then the the factory contract creates, that smart contract, that you can see in Stell expert everything, that's getting created right. So yeah just going through a couple times. So you see it all you know you create the transaction you, that gets submitted by launch tube right the factory contract creates your spart contract wallet right. And then then and, that it's here for you to use in the future, that's linked to your pass key on your device right. So digging into, that code a little bit. So so the front end calls this create wallet function right. So we name the wallet we. And then we call passy Wallet create wallet right we configured this object earlier at the top of the screen right with the RPC URL and all those parameters right. So we invoke, that

[11:00] create wallet function. And then we get the assemble transaction right. And then we use the pass key kit server to send, that transaction right. So just going through it again right. So we we get the the what the wallet should be named we pass in the key ID the contract ID oh no we we get back all these fields what we call the create wallet function right. So we print out the transaction, that we just created. And then we use a pass key kit server to actually send, that transaction. And then we log the response of, that transaction right. And then you know all all seller Cy to be funded. So we fund, that wallet as a final step. So also so. If you want to so. When we print out the transaction info you guys actually grab the the envelope

[12:00] XDR. And then you can go to laboratory. Sell.com and. If you want to dig into a lot of the details of what's happening in, that transaction you can use `lab.stellar.org` and kind of dig into some of the the nitty-gritty of the oper the actual operations being executed yeah, that that's available at `lab.stellar.org` XDR and in this reference application, that envelope X gets printed out in the console for you to grab right so. When signing into an existing pass Keys wallet right You can either use a key ID or you the browser could promp you right. And then so. When you sign into, that existing wallet, that's existing smart wallet pass Keys wallet, that you created you're able to do, that just using your fingerprint

[13:00] for instance right. And then yeah. So it's like a really simple user experience you log in here's the smart contract, that we created previously, that represents your pasy smart wallet and yeah it's it's way simpler than managing a a 12 12w passphrase you know much much lighter much less friction onboarding new users right right. So yeah you know a lot of this functionality is similar right. So to sign in very similar to creating a wallet right you either type it the key ID or it'll prop you for either your fingerprint or your U password manager managed Pass key right. And then all you do is you connect to, that pass key, that you already created. And then yeah you're

[14:00] pretty good to you're pretty much good to go you know, that's, that's basically the whole authentication flow for invoking a contract. So so. Now we're we actually we've created this smart contract pass Keys wallet, that could actually invoke a deployed contract right. So we have we deployed this smart contract called math basically and all it does is it adds two integers right. So there's a do math function on the spark contract, that we're actually invoking using our Pas key wallet right so. When we call this invoke function right we are signing using our Pass Key our fingerprint creating, that transaction. And then having launch tube helps shoot off, that transaction to the network died Byer pasy wallet you know. So I mean the

[15:00] actual operation is kind of trivial. But the the idea behind it is pretty cool right it's kind of like the whole abstra account abstraction flow where you have a smart wallet, that could actually invoke a smart contract. So digging into the code, that's called there. So this do math function gets invoked right. And so we have this contract instant where we're calling the do math function right. And then we're going to sign it with our Pass key right. And then after it's signed we're going to use a pass key server and launch tube to actually shoot off, that transaction to the network. And then we're going to dig into the XDR of the response and see the sum of the two numbers we added right, that's a trivial operation. But as you imagine you can do basically

[16:00] anything in spart contract function and basically this is a nuts and bolts of using a pass Keys wallet to sign a transaction and invoke another smart contract contract operation, which is really amazing right it's such a cool library, that Tyler built here it's. So like user friendly and easy to use it's it's pretty awesome. So let's say you wanted to add add another CER to your pass key wallet right yeah I mean like, that that's, that's definitely possible right you can just add you know any any any classic Stell account as a cider what's dangerous there is you're basically granting them access to do do anything right on your account, which is dangerous right for I hope obvious reasons. But yeah yeah

[17:00] obviously like. If you want to Grant someone access to your account you want to Grant fine grain access where you explicitly control what you're kind of giving them. So so basically since we're passing an empty signers limit limits map we're not really con constraining the permissions we're giving them right so. When we sign this transaction and we set it at the CER we're actually allow the CER to do anything on our behalf for for, that pasy wallet right so, that's obviously not ideal what's cool here is we're adding what's called a policy CER like I'm not sure this is currently on mainnet. But it it basically the way I explain it is like it it pro there's like like a a proxy contract

[18:00] right. So basically you have to go through this proxy contract, which kind of constrains what abilities you're able to take on, that invocation. So so basically you're you're granting a very fine grained set of permissions to The Cider allowing them to perform a specific activity without giving them full access to your account right. So obviously, that's, that's I, that's way more ideal than granting you know u a blank check to a Aigner. So so for attaching a policy CER U you'll notice a difference here is we're actually adding in an entry to the signer limits right U and as you can see we're passing in the the do math deployed contract hash. But then also another contract called do math policy and, that policy is kind of the proxy contract, that kind of dictates what

[19:00] you're able to do are, that defined doe math contract right. So like the call has to go through, that policy first, which kind of constrains what what you're able to do with, that cider. So this is kind of like I would say revolutionary I think yeah I think it's a really cool concept you know you're able to U kind kind of delegate to another signer very fine grain permissions you know, which I think is very powerful and yeah it's just a really cool thing, that Tyler built here right. So like yeah. If you want to check out some more Pass Key demos right Elliot he created this really cool dice roller game. And then is super peach the classic implementation there's a little demo built into Pas key kit repo itself right and. If you need a lot Tobe J token I think we do self

[20:00] serve for test, that. But also just reach out to us on Discord cool yeah okay great thank you, that it was very interesting we we we actually did a similar presentation at Meridian at the hackathon and a lot of the teams chose to implement U pass, which was great to see. Because they had limited time to to get their application built and they decided a lot of them decided to use pass keys and they got pretty pretty smooth. So so yeah definitely go go check it out I think it's it's it's a huge Improvement in in user experience. When we talk about web three apps okay great I will. Now invite Z up and he'll talk talk about the

[21:00] increasing soran limits. So please go ahead yeah can you hear me yeah perfect okay yeah I don't have a presentation today. So I'll just speaking to you. But Carson should be dropping a couple links to some documents, that'll be helpful yeah I'm my name is sart s I'm a software engineer on the core team and today I'll be going over a proposal from the ecosystem to increase some sorond limits and for cont from some context suron transactions are subject to various settings and Lins, that can be updated with the validator vote similar to our protocol upgrade. So there were three separate proposals to increase limits from the ecosystem and slp1, which there's a link in the comments below is a combination of all three and you can see the proposers in the author section of the SLP. So first I'll go over the Ledger entry limits. So the read entry and right entry limits are being increased for

[22:00] both the transaction level and Ledger level limits the max Ledger entries, that can be read in a transaction is increasing from 40 to 100 and the max Ledger entries, that can be written in a transaction is written is increasing from 25 to 50. So these increases will allow DeFi protocols like like Hoops Finance Sor Swap and blend to scale up and perform more complex transactions, that they aren't able to do today with current limits. So to make sure, that the the network can actually handle the increased runtime from these increased limits we developed a command line benchmarking tool in Stellar core, that lets us measure Ledger apply times using different Soroban settings. So the tool will generate a a worst case transaction set, that uses as much of the resources available as possible apply those transactions. And then just records the apply time and the the SLP has some more information and results from this

[23:00] testing. So based on the benchmarking Stellar core can handle the increase the transaction level minuts limits I mentioned as well as increasing The Ledger level limits to maintain the current 5x ratio between the transaction and Ledger level limits. Now the last limit being increased is the max transaction events size limit, which is the combined size of the events, that can be emitted within the single transaction and the current limit is 8 kilobytes and this limit is low enough, that some protocols like a squid router will run into the limit. When publishing payloads, that they don't want to manage offchain. So the proposal bumps it to 16 kilobytes a benchmarking this increase in Stellar core. However isn't very valuable Stellar core just adds the events to the transaction meta and writes it to a pipe. When I did my benchmarking and I increased the the events limit I saw no hit to Performance cuz in seller core

[24:00] specifically. So it's more relevant to hear from Downstream consumers to get their opinion on. If they can handle the increased theoretical load and I say theoretical. Because in practice we don't see large amounts of data emitted through events at the moment. So I guess our ask here is for feedback on. If any of you expect issues from this increase to the events limit. So all of the increased limits from slp1 have been apply to test met. So feel free to try them out and I also wanted to mention, that the SLP process is new and still being improved. But the end goal is to allow anyone in the ecosystem to propose new settings and evaluate them using the tooling I mentioned currently the tooling is is still being worked on and we have we don't have a lot of documentation for it yet. But we're hoping soon, that all this all all this will be good enough for someone in the ecosystem to go through the entire proposal and evaluation process without our help

[25:00] so and the current SLP proposal format can be found at the read me in, that Stellar protocol link, that was dropped in the comments. So yeah, that's all I had for today. If there are any questions let me know great thank you yeah. If if there's any questions please drop them in the comments this is something, that we are going to try to experiment with going forward. When we do some upgrades and. change limits and things like, that just to have a quick talk about it here in the weekly developer meetings next week we actually going to talk about the Protocol 22 and and some of the new features, that was launched there, that was it but, that's what we had for for the meeting today thank you to to both our presenters for for taking the time to to to speak here and yeah I'll see everyone else next Thursday

[26:00] thank you

</details>
