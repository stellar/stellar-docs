---
title: "Soroban Developer Workshop"
authors: [julian-martinez]
tags: [developer]
---

import YouTube from "@site/src/components/YouTube";

<YouTube ID="EANFHlgJr0g" />

- [Music] foreign hello everyone [Music] Paul can hear me I can hear you yeah can you hear jittery is it okay let's see what about my volume is it good enough yeah you're all good thank you [Music] actually get out of the camera hi hi hi everyone we are getting started how is everyone doing today all right give us a minute here as we get set up for our sorbonne developer Workshop we are writing our first smart contract on sorbonne and we have Morgan and Paul joining us on stream here today to do this Workshop hey Morgan hey Paul how are you all doing hey everyone doing good yeah going good here how are you new here I'm doing well I am in the SDF office um it's been so exciting the devrel team has been expanding and we're onboarding so many new um developers and it's it's been exciting sorbond's really changing and we're innovating and I can't wait to see what more is going to come out of this but all right oh you were at Paris blockchain week right Morgan so what is this that's true I yes here I feel like this is this is what the SDF office looks like everyone anyone yes I think we should do like a live stream tour of um sdf's uh California SF headquarters I think that would make a fun stream everybody's work and uh see what they're doing just like pop around and interact with people I'd love to hear that what's with them with the Media Kit in the background uh yeah we'll find out with yeah I know but so many comments here cool cool single monitors only yeah y'all we have only single monitors around in office I will let them know we need curved monitors we need all that cool Tech but yeah all right without further Ado Paul Morgan I will let you all kick off um about this workshop and talk about what you presented at Paris blockchain week and I'll let you start off Paul cool yeah um I think I'm presenting here how do I make that happen on the screen there we go yeah cool that looked like it a second ago yeah that's the one cool um yeah welcome everybody uh good morning good evening good night uh wherever you happen to be welcome to uh live stream I'm writing your first smart contract on sorbom uh here's what we're gonna be going through today um so first off we'll do a bit of an intro uh we'll talk a bit about what is sore bond for those that don't know uh we'll have a cool uh hello world demo from Morgan uh and we'll talk a little bit about why store Bond's important why it matters why it's good why you should build everything on it um and then we'll have a bit more uh for Morgan on his kind of uh journey and how he got to sorbonne and how I got involved with all this uh and then uh Tyler will share a bit on how you can get involved and then I will wrap up from there and we'll do some questions and stuff at the end so uh first off who are we right uh my name is Paul I will start there I'm a Staff engineer at the Stellar development foundation which means I get to work on sorobon every day building and making it happen uh for all of you uh so I'm really excited to be here today to share some of the stuff that I've been working on uh what is the Stellar development foundation uh if you don't know and you've somehow stumbled into this stream anyway uh the SDF works with the Stellar Community which is all of you to build the Stellar Network uh the Stellar network is a fast and reliable L1 blockchain with finality in just five seconds uh the Network's been live since about 2015.
- uh it and has seen sustained real world usage of 150 transactions a second with literally no problem just cruising along uh which is pretty crazy to think about uh it has a Global Network of anchors uh it's what we call which are on and off on and off ramps issuing on-chain versions of assets from the real world including cash access which we'll talk about later and for the last year we've been building something new sarban so what is sorbon so sorbonne is a new add-on to the Stellar Network traditionally the vanilla stoneware Network didn't have Smart contracts there were there was a few L2 attempts right like turrets that some of you might know but they had some issues around that like atomicity um yeah and other things like that so we wanted to open up more decentralized Innovation to the network and to open up new opportunities to the underserved and unbanked populations that Stellar's built to serve and I mean my big thing is payments is such a small part of the financial world it's like an important thing to get right but it's just kind of the base layer of what we can build here so we announced the project that would come to be known as sorbon back in January of last year since then we've shared uh eight I think iterative releases yeah I want to preview eight now uh onto our experimental test net known as futurenet so devs can experiment learn and contribute to the design discussions we've been regularly running a program called sore bonathon uh we'll hear a bit more about that later from Tyler and we regularly discuss design choices and onboard new devs to the community on our Discord the community interactions with all of you lovely folks who are now in the Stellar Community sorry I don't make the rules but I will enforce them so you are going to be part of the community now the community interactions and the public input has been really exciting to see that's been my favorite part of this journey it's been absolutely mind-boggling um it's impacted almost everything about sorbonne right from naming to authentication how does that work to how sorbon should integrate with the existing vanilla Stellar Network and while sarban isn't tightly covered coupled to Stellar specifically it is designed to work well with the network um so a bunch of stuff on that point it's written end to end in Rust for Speed efficiency and access to the ecosystem that exists there it comes with a bunch of plug and play sdks for simple to complicated authorization models and it's built to scale right because it has to keep up with the rest of the existing Network it can't slow down the network but the thing I'm probably most excited about in store Bond and looking forward to seeing is how it's empowering all of you in the community now that you can build on Stellar completely Unchained hey I'm sorry I'm sorry if I didn't make that joke Tyler said he'd fire me so it had to happen right uh at this point I'd like to introduce Morgan uh he's a founder of useorbonda app he's a Community member who's been building some incredible stuff to help onboard other devs to sorbon and he's going to show us a bit about what he's been working on [Music] hello everyone I'm gonna start buying sharing my screen should have done this earlier all right so here's um here's a thing that every developer starts their programming Journeys with we all like to say hello and we all like to say hello to the world as the very first thing that we do in our programs and um you know almost everyone starts their Journey that way um and in fact the time it takes for someone to say hello world in a specific programming environment maybe the determining Factor if they're going to continue their Journey um in that platform or not so I definitely want you guys to stick around for the rest of the presentation the rest of the talk um so I'll just get started with the hello world part [Music] all right so what do we have here um as Paul mentioned I am the founder of usurubond.app which is this tool that you see right here um it is a developer playground for saurabhan smart contracts now what do we see on screen exactly uh well I'm logged in um so um I have access to the Gated Alpha here and I have the ability to create a new project so let's go ahead and do that new project pops up and let's go ahead and delete everything because we're going to start from scratch what's this environment all about well first we have a code Editor to the left here this is where we'll just put our rust slash sorobong this playground uh runs on Rust and the rest soar about SDK you'll as you continue your journey um you'll find out that there's other sdks for sword Bond available for now we're going to deal with rust because that's the sort of reference implementation all right so we have the code editor we'll we'll put our rest in and sort by um and then we have some widgets so right now console is open code is open and let's get started with the hello world part so how do we do that in rest well I guess we write a hello function and we call the print line macro and say hello okay compile it and that worked this is a rest program as it should be compiled and I abstract all the details for creating cargo projects and um the defining targets and so forth so you just sort of write some code and click compile in you know you're Off to the Races Morgan I'm going to interrupt you for just one second can you zoom in a little bit more because we can't see it a little bit more how about now a lot more a lot more yeah a little bit more I would say yeah it will be unusable if I zoom in any further so I do apart for anyone or we can we can hide my face there's a lot of stuff on screen that's uh not the code so we can just sort of focus on the code here we go um there we go sweeter like I'm almost blind and there you go okay sweet we got one confirmation I can see it fine carry on and everyone can hide the faces because like the vertical space might be useful um nothing but the screen share all right perfect thank you um all right carrying on so print line uh hello didn't work well at least it compiled and didn't produce what we wanted um why is the question and well we're working in a soybean environment right sorbon expects a certain kind of um format for these things to work and everything that um we want to be able to call has to live in a contract so uh contracts are struck in rest we're going to declare a contract uh struct this name can be anything you want um call contract because it couldn't come up with a better name all right so we go ahead and Define an implementation for contract let's go ahead and copy this from here [Music] okay all right compile this again and that worked again no compiler errors but the problem is we still don't see any hellos popping up um so that's not great um ideally you want to work with the SDK here because you know a structure like this is not really sort of buying um we got to tell it to do a little bit more so for that we're going to use the soroban SDK and we're going to import the contract implementation macro and that's going to do a bunch of things but essentially this will convert this implementation right here into a soroban contract and uh okay we have a a few errors over here um by the way Russ is super famous for really good compiler errors and in this environment which is enabled by soroban the way it's designed to leverage webassembly and um and rust so we'll get those beautiful Russ compiler errors and we can see that there's some problems with the Panic implementation although it's not entirely clear what's going on uh so I'll just sort of uh skip the mystery here and um solve this problem by finding this macro right here so contracts on the blockchain have to be super super efficient in how to use the available Ledger space and rest programs even though they're pretty light they still carry a bunch of stuff that we don't really need uh as part of our contracts so to eliminate everything that we don't need um and just get the rest that you know the basic rest of that is required for contract logic will we declare um the no STD macro this um unfortunately um removes the ability for us to use the print line macro to print this stuff and uh okay so let's get rid of that now we've uh back to a solid compiling contract here and let's go ahead and declare this function as a public function now we have something on on on screen up here uh that's uh looking like a button so in this actions widget which is sort of the a third of this interface in the middle is where you will be able to click and interact with every function that your contract declares so our contract right here declares a single hello function we can call it and we'll see in the console a return value so it's implied that a function without an explicit return value returns none in rest so same applies here and we're going to return value now um I guess we can leverage this return Dynamic to finally say hello to everyone tuning in and for that we will need a special type so again since we can't use the rest strain it's unavailable we have to figure a different way to carry our information and for that we're going to use a symbol which is an efficient data type in in sorobind for storing alphanumeric characters essentially all the letters of the alphabet plus the digits and the underscore so what we're going to do with symbol is we're going to initialize a short symbol that says hello and short just means that this sequence of characters will be able to fit in a single 64-bit value which is pretty important when it comes to this this context let's recompile this again and uh oh thank you rust compiler we are returning a value so let's make sure that we declare what we're returning and let's call this all right so we have a return value hello um from this function right here and um this is sort of your basic most basic implementation of a sorobind contract that says hello to anyone uh tuning in now let's make it a little bit more spicy and let's use a little bit more of the environment here so let's say we're going to log a value everybody loves blogging as a you know someone coming in from a web developer background I use console log all the time and console log is uh the best so we have an equivalent in sorobind it's called log the log macro and we're going to declare a new function called hello2 and what are we going to do here we're going to uh gonna say hello to a specific name it's going to be a symbol and we're not going to return anything okay so how do we interact with this log macro um well it's a macro so we use a bang and then the first argument is the environment within which we're logging this value and uh you'll get used to this concept of every single function that your contract has that interacts with anything else anything in the outside world will have to have an environment as the very first argument it's kind of like your access to everything so log accepts the first argument um being the environment so we're just going to pass in in reference to the environment next up we have a string and we're going to use hello bang and then we're going to provide the name let's compile this uh oh we're missing environment in in this import and a handy feature is if you're having problems with a specific type or you're missing something you can go ahead and click um links right inside of your compiler widget that will take you to the documentation so it's an easy feedback loop so now that we've imported an environment we can recompile this again and try saying hello to twitch I guess is where most of you are um and in this console widget we can see that in between hello too which is the function that we're calling and the return value we have a log that says hello twitch all right so I'm almost done with the first demo anyone and everyone that's tuning in you can actually test this on your phone um so this is going to be a multi-modal demo and um for that I'm gonna take my phone here so I just popped up this share modal I'm going to take my phone this is an actual phone I have here bring up the camera hey everyone and I'll go ahead and look at the QR code here tap on usurabond.app and we can see we're taken to a version of usurubundan app which is mobile optimized and you know we gotta work on mobile experiences just as much as a desktop experience and someone that's designing these apps we've got to be mindful that that's where our audience is so this kind of interface will allow users to test this contract anywhere they are especially on the mobile phone so we have access to the same sort of widgets we have the console open and actions is a sheet down at the bottom we can go ahead and call hello like we did before quick access down at the bottom to the previously called functions and we can call hello to and let's do twitch confirm and then we can call this function with the same arguments if we want to or we can change the arguments um and do YouTube okay all right so that does conclude the demo everyone that scan the QR code and we're able to interact with the uh with the app here congratulations uh if right now this is still in a gated Alpha if you want access to the current build please tweet me on at sorobine Dev on Twitter and I'll make that happen um all right so I'm handing it off Back To You Paul [Music] we go okay I'm back uh thanks Morgan can we get the slides up again cool thank you um yeah so that's Morgan has shown us the basics of sorbon but I want to go into what actually makes it so special and what makes it so exciting here so uh first off it is batteries included for devs that's our goal here right when we're when we're designing it everything we're thinking about designing it that's our goal and that means we're including everything from Storage to authentication and authorization Frameworks to token minting and transfers all that's baked in right it's ready to go uh so you can focus on your application and not spend ages trying to figure out how to like verify an ed 25519 signature right like you shouldn't have to worry about that um and secondly uh unlike pretty much any other smart Contracting platform out there um because we're launching on the Stellar Network you get access to all the existing assets on the vanilla Stellar Network and I want to address a comment in chat I think from Matthias said I should call it classic and not vanilla and I'm calling it vanilla for a very specific reason right because the existing Stellar network is not going anywhere right that's still all staying there it's not being deprecated it's not a classic thing right it's just a different flavor of the same thing um it'll still be the fastest cheapest way uh to use the network but if you need a bit more power that's what soroban's for okay but building on the existing Stellar Network means that from day one of launch your smart contracts can hold and use usdc right and many other assets that are already on the network they also have access to Stellar's cash on and off ramp via our partnership with MoneyGram which gives which works in over 200 countries worldwide right so putting this together we could think of someone let's say Julia right she doesn't have a bank account she can go to her local MoneyGram location deposit cash into the kiosk she receives usdc on the Stellar Network in her wallet and now with sorbon she can take that usdc and deposit it into I mean a lot of things right whatever you're building but let's say an income generating D5 protocol where she receives a portion of transaction fees for providing liquidity right the partnership between Stellar's anchor Network and MoneyGram allows users like Julia to move cash straight from their physical real wallet to a DFI protocol and vice versa which is something that I don't think's ever been seen on any other blockchain network so far um yeah and the third Point here I want to talk about what makes soroban super special is the scaling optimizations that we're doing so when designing sorbon we've been able to learn from the state of the art and hand pick the best solutions from each one so we've designed the transaction execution model the scale across multiple cores we've calibrated the fee model to maximize throughput and minimize cost while protecting the existing Stellar Network traffic so we've designed a lot of optimizations around the contracts themselves as well that you don't see on every other chain so for example if you look at uh near not to pick on them I love near but they do this in the near contracts you need to do your own serialization the deserialization of arguments when you get stuff in and out that means you need to compile that into your contract and deploy it as well right so you need to include that library in sorbon we've pushed as much as we can out to the host environment where we can say batteries included right which lets us massively reduce the contract size and you don't need to pay to deploy that code or your users don't need to pay to run it right we can take that a little bit further with uh built-in contracts so we have an idea in sorbon of built-in contracts similar to like pre-compiles you might know of us on other network um So currently this is just for the standard asset contract um and it means that it runs Ultra fast and cheap right um and it lets contract standardize on the interface within the ecosystem and that's the standard asset contract that we have in sorbon is how uh Stellar assets are exposed in sorbon they look just like any other contract to your contract so it's really easy to integrate with existing Stellar assets um the last thing here that's really cool uh we're actually working on solving State bloat with our state expiration model so on other chains you store some data on chain and it's there forever right well forever right in air quotes we have a rent-based system with evictions and Restorations to ensure the Chain's working data set stays as lean as possible so once your rent expires your data gets evicted and you can pay to have it restored back on chain if you need it we can do a deep dive on that another day it's a bit involved and actually we're still uh still designing some of those elements right now literally right now on the uh the call on Discord so um at this point I think Morgan can introduce this a bit how stateful contracts work on sarban and get some of the basics of those in foreign I'm Paul's back too hey Paul [Music] I am muscle back yeah we're waiting for um my screen share you are waiting for a screen share of Morgan there you go okay all right um thank you anyway yeah thank you Paul so like Paul mentioned um there's quite a bit of innovation going on um sword I'm and the deeper you go into it uh the more you can sort of understand like you mentioned there's a design discussion going on right now we're about to wrap up um every week I think they go on uh but anyhow let's discuss the sore month State of Mind specifically when it comes to uh storage and preserving things in The Ledger [Music] so as I open this up I want to hide my face and then focus on the code again if [Music] all right perfect so uh we we're back to a brand new project uh I think we should rename this to [Music] speak so we're working on the state uh on on the sword State okay so sooner or later every developer finds themselves in a situation where their application is not working as expected I would say raise your hand if that happened to you but I can't see you so I assume everyone's had this problem um and we all know the techniques of how to solve these things like unit testing or logging intermittent values using break points is is a cool uh way um to inspect stack frames and so forth but unfortunately smart contract developers often don't have a rapid workflow for finding bugs or faults in the contracts and you know this leaves them with the only option of hey I want to test something out well what do I do I take the current code for the contract that I have and I either one of two options I deploy this to the test net um of your blockchain that you're working on and I test it against the wallet um and that's going to be if you're a very efficient under a minute uh or it could take a little longer or your your second option if if the blockchain is is well equipped for developers let's say you can probably deploy to a local Docker running instance so that's all fine and dandy um but air is the limit and folks I guess tend to not test as much as they're used to because of all the hurdles and so sorbon takes the challenge hit on by providing a guest environment right in the SDK so you'll be able to see in the documentation if you follow along this path where uh you read a contract and immediately you read a unit test for a function and this is using your regular rust cargo unit tests um with usurubon.app I leverage that functionality of the of an environment um provide features to rapidly test um your contracts so right here um we're gonna we're gonna explore State because let's let's you know face it if if we're writing hello world probably bugs won't affect anything too much if we're dealing with State then bugs all of a sudden become an issue all right so let's uh let's begin how do we store something on The Ledger we're gonna head and start with the same no STD so we're not going to import the standard Library we're going to use the critical elements like contract implementation and environment Within you know and let's grab a simple as well from the SDK and we're going to declare another contract [Music] on track okay and then we're going to implement this contract with a couple of functions [Music] um let's clear this upper way contract implementation all right so what what do we want to test to sort of showcase this well first let's compile compile often right um never too often to compile we're going to have some uh some data in the storage and on The Ledger and we're going to save and retrieve that data so we're going to have a couple of functions so let's declare save as the one that will put data Into The Ledger and uh we're gonna explore a number uh it's gonna be u32 now save is going to return the same number just for the sake of it I guess and um we're gonna load a number environment and it's going to return that number so it's essentially save and load two functions for this contract let's compile this again make sure nothing breaks um oh okay well I guess I compiled it a little too early uh let's return some value here um oops okay so we have uh we have something of an issue I remove this let's make sure this compiles again um let me back out of this [Music] oh we don't need to back out of this we're just not returning a value before should have trusted the rest compiler errors all right so we call save it takes in a number and by the way this is one of those nice abstractions that you get with um an environment like usurubund.app let's say a function takes in some arguments right in this case it takes in a number argument that's a u32 well we have a nice modal that we can input our number um to confirm and that's going to call our function as far as integrating into soribine um there's another nice feature that's um part of the I guess soroban contract specification so when you compile the contract there's um some amount of that byte code that's compiled allocated for specifications so let's say save something rather save a number to The Ledger okay let's compile this again we can see that the modal now incorporates our comment for that function to describe what exactly this number does or what exactly this function does so we're going to click confirm and uh let's add a another specification here or the docs for this function load a number from the layer pile this again and uh oh it doesn't take any arguments it's not going to display that that modal that's fine all right let's return the number as our first exercise it's gonna be u32 and uh [Music] 42 we got 42 in the console here and right so now the magic part how do we take the number that we provided in our modal here and put it into uh storage wow we need a certain key something to store it under and for that we're gonna declare a constant and it's going to be a symbol value that's why I'm imported symbol and it's going to be I'm not original with names under these circumstances I'm just going to use storage and over here we're going to pick the same environment that we've used before for logging and we're going to reference storage okay [Music] compile this oh about the year I was expecting so storage is a method not a field as we can see inside of this error message we can go ahead and inspect what exactly storage is in the documentation and um let's see exactly how to use it so we can see that there is a set function under storage it takes a key and a value okay so with this new knowledge here um since this is a method not a field we're going to call This And since we observe that it has a public function set we're going to call that set function to store what we're storing so we're going to provide storage as the key right and we're going to provide number Something That We're storing or the value of this so save 42.

On April 14, 2023, the Stellar Development Foundation hosted "Soroban Developer Workshop", a workshop for the global community. Builders traded notes on Soroban, Developer, and Workshop.

foreign hello everyone Paul can hear me I can hear you yeah can you hear jittery is it okay let's see what about my volume is it good enough yeah you're all good thank you actually get out of the camera hi hi hi everyone we are getting started how is everyone doing today all right give us a minute here as we get set up for our sorbonne developer Workshop we are writing our first smart contract on sorbonne

Key discussion threads:

- Soroban anchored the workshop as speakers compared real-world examples.
- Practical demos highlighted how Developer applies to Stellar builders.
- Attendees outlined next steps around Workshop for upcoming releases.
