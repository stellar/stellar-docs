---
title: "2021-09-09"
authors: naman
tags: [protocol, legacy]
---

import YouTube from "@site/src/components/YouTube";

<YouTube ID="yz63i52W2Ek" />

This session stayed glued to CAP-0021, the set of changes that enable high-volume payment channels on Stellar. The engineers walked through how the proposal tracks account `lastModified` data, whether that behavior should be opt-in, and how to keep historical tests sane once the new account-entry extension ships. They also revisited the CAP-0040 dependency and made sure the upgraded time bounds (unsigned timepoints plus richer preconditions) will not confuse Horizon, SDKs, or existing transactions.

Key discussion threads:

- How nodes should order and forward transactions that use `minSeqAge` or `minSeqLedgerGap`, so payment-channel submissions cannot DoS validators while still letting multiple valid sequences coexist.
- Whether to rely on protocol version bumps or per-account flags for new metadata fields, and the amount of work required to rewrite legacy invariants/tests in Stellar Core.
- Ensuring the new preconditions fully interoperate with existing fee-bidding behavior and that accounts cannot accidentally brick their queues when a higher-sequence payment-channel transaction hits the network early.
