---
title: Puntos de integraci贸n de la Anchor Platform
sidebar_position: 60
---

Como se menciona en la gu铆a de [Dise帽o y Arquitectura](./design-and-architecture), la Stellar Disbursement Platform consiste en varios servicios implementados juntos, donde la Anchor Platform es uno de ellos.

Por esa raz贸n, hay algunos puntos de conexi贸n entre las dos instancias que deben configurarse adecuadamente para que la Stellar Disbursement Platform funcione correctamente. Cubriremos estos puntos de integraci贸n en esta gu铆a.

Ten en cuenta que para la implementaci贸n predeterminada de la Stellar Disbursement Platform, que se basa en valores predeterminados de Helm y en billeteras y activos predeterminados, no se necesita configuraci贸n adicional. Esta gu铆a es para aquellos que desean personalizar la implementaci贸n cambiando las billeteras y activos disponibles en su instancia de SDP.

## Rol de la Anchor Platform en SDP

El flujo de Registro de Billetera se inicia dentro de la aplicaci贸n de billetera del destinatario. Esta aplicaci贸n interact煤a con la [Anchor Platform](https://github.com/stellar/java-stellar-anchor-sdk) para iniciar el proceso de dep贸sito [SEP-24](https://github.com/stellar/stellar-protocol/blob/master/ecosystem/sep-0024.md) a trav茅s de la SDP (Stellar Disbursement Platform). La SDP recopila la informaci贸n necesaria del destinatario para ejecutar finalmente el pago a 茅l.

La Anchor Platform (AP) se utiliza para manejar la implementaci贸n de protocolos de interoperabilidad como [SEP-1](https://github.com/stellar/stellar-protocol/blob/master/ecosystem/sep-0001.md), [SEP-10](https://github.com/stellar/stellar-protocol/blob/master/ecosystem/sep-0010.md) y [SEP-24](https://github.com/stellar/stellar-protocol/blob/master/ecosystem/sep-0024.md), haciendo que sus endpoints est茅n disponibles para las aplicaciones de billetera. La [Anchor Platform](https://github.com/stellar/java-stellar-anchor-sdk) est谩 preconfigurada tanto en el gr谩fico Helm de [el repo](https://github.com/stellar/stellar-disbursement-platform-backend) como en el archivo Docker Compose disponible en el directorio `dev`.

## Pasos para Configurar la Integraci贸n SDP-AnchorPlatform

Para asegurar una integraci贸n fluida entre la SDP y la [Anchor Platform](https://github.com/stellar/java-stellar-anchor-sdk), aseg煤rate de seguir estos pasos:

1.  **Paso Cr铆tico**: Configura la Anchor Platform con `PLATFORM_SERVER_AUTH_TYPE: JWT`. Esta configuraci贸n es crucial para asegurar la API de backoffice de tu Anchor Platform a trav茅s de la autenticaci贸n de token JWT.
2. **Secretos Compartidos para la Autenticaci贸n de API**: El `SECRET_PLATFORM_API_AUTH_SECRET` en la Anchor Platform debe coincidir con `ANCHOR_PLATFORM_OUTGOING_JWT_SECRET` en la SDP.
3. **Secretos Compartidos para SEP-24**: Los secretos `SECRET_SEP24_INTERACTIVE_URL_JWT_SECRET` y `SECRET_SEP24_MORE_INFO_URL_JWT_SECRET` en la Anchor Platform deben alinearse con `SEP24_JWT_SECRET` en la SDP.
4. **Configuraci贸n de SEP-10**: El `SECRET_SEP10_SIGNING_SEED` en la Anchor Platform debe ser consistente con el `SEP10_SIGNING_PRIVATE_KEY` y el `SEP10_SIGNING_PUBLIC_KEY` en la SDP.

Al seguir estos pasos, garantizar谩s una integraci贸n segura y eficiente entre tus sistemas SDP y Anchor Platform.

## Sincronizaci贸n Manual de Activos y Billeteras Personalizados

Actualmente, algunas configuraciones dentro de la Anchor Platform son est谩ticas y se cargan a trav茅s de variables de entorno. Por otro lado, la SDP lee estas mismas configuraciones de su base de datos y permite que un usuario propietario las modifique. Esta din谩mica se refiere particularmente a las listas de activos y billeteras admitidos.

Mientras exploramos activamente formas de automatizar este proceso de sincronizaci贸n, los ajustes manuales a la configuraci贸n de la Anchor Platform son necesarios cada vez que un activo o billetera se agrega o elimina en la SDP.

1. **(Requerido) Actualizar Activos Admitidos**: Cada vez que cambies la lista de activos admitidos en la SDP, es esencial actualizar la configuraci贸n `ASSETS_VALUE` de la Anchor Platform para reflejar estos cambios. Consulta los valores de Helm de [el repo](https://github.com/stellar/stellar-disbursement-platform-backend) o los archivos Docker Compose para ejemplos.
2. **(Opcional, pero Recomendado) Billeteras y Dominios SEP-10**: Si utilizas la configuraci贸n `SEP10_CLIENT_ATTRIBUTION_REQUIRED: true` en la Anchor Platform - una pr谩ctica recomendada - tambi茅n debes actualizar la `SEP10_CLIENT_ATTRIBUTION_ALLOW_LIST` para incluir dominios de billetera de confianza. Esto asegura que la Anchor Platform procesar谩 solicitudes SEP-10 solo de billeteras de confianza.

Al adherirte a estas pautas, puedes asegurar una configuraci贸n consistente y segura entre tus instancias de SDP y Anchor Platform.
