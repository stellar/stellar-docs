---
title: Desplegar el SDP
sidebar_position: 40
---

En esta guía, aprenderás a desplegar el SDP en un clúster de Kubernetes utilizando gráficos de Helm disponibles públicamente.

Esta opción se recomienda para despliegues persistentes de instancias de producción o de pruebas del SDP. Si quieres desplegar el SDP en una máquina local con fines de desarrollo, consulta [Ejecutar el SDP localmente](getting-started#run-the-sdp-locally).

Ten en cuenta que la configuración de detalles de despliegue como ingress, TLS, límites de recursos, etc., está fuera del alcance de esta guía. Esta guía asume que tienes un clúster de Kubernetes con una base de datos Postgres desplegada en el mismo clúster y que tienes los permisos necesarios para desplegar el SDP. También asume que tienes el conocimiento operativo para gestionar el clúster y la base de datos.

## Requisitos previos

- Kubernetes 1.19+
- Helm 3.2.0+
- Postgres 14.0+

## Instalando el gráfico

### Añadir el repositorio de Helm

Antes de poder instalar el gráfico, necesitas añadir el repositorio de Helm de Stellar.

```bash
helm repo add stellar https://helm.stellar.org/charts
helm repo update
```

### Personalizar los valores

El gráfico de Helm del SDP tiene varios valores configurables. Puedes personalizar estos valores creando un archivo de valores y pasándolo al comando `helm install`.

Proporcionamos un archivo de valores de muestra que puedes utilizar como punto de partida. Este archivo tiene el conjunto mínimo de configuraciones requeridas para desplegar una instancia del SDP. Puedes descargar el archivo desde el [repositorio de GitHub del SDP](https://github.com/stellar/stellar-disbursement-platform-backend/blob/develop/helmchart/sdp/minimal-values.yaml) o ejecutando el siguiente comando:

```bash
curl -O https://raw.githubusercontent.com/stellar/stellar-disbursement-platform-backend/develop/helmchart/sdp/minimal-values.yaml
```

Puedes encontrar la lista completa de valores configurables en el [repositorio de GitHub del SDP](https://github.com/stellar/stellar-disbursement-platform-backend/blob/develop/helmchart/sdp/README.md#stellar-disbursement-platform-sdp-parameters).

Hay una explicación más detallada sobre cómo configurar el SDP en la [Guía de configuración del SDP](configuring-sdp).

### Consideraciones de multi-tenencia

Al ejecutar el SDP en una configuración de multi-tenencia, necesitarás adquirir certificados TLS comodín para facilitar la provisión de inquilinos, ya que el SDP se basa en subdominios para diferenciar entre inquilinos. Esto te permitirá provisionar inquilinos sin tener que configurar manualmente certificados TLS para cada inquilino. Puedes usar un servicio como [Let's Encrypt](https://letsencrypt.org/) o [Namecheap](https://www.namecheap.com/security/ssl-certificates/) para adquirir estos certificados.

Para más información sobre la multi-tenencia en el SDP, consulta la [Guía de Diseño y Arquitectura](design-and-architecture#multi-tenancy).

### Instalar el gráfico

Para instalar el gráfico con el nombre de despliegue `sdp` y el archivo de valores `myvalues.yaml`:

```bash
helm install sdp -f myvalues.yaml stellar/stellar-disbursement-platform
```

Ahora deberías tener una instancia del SDP en funcionamiento. Para aprender a usar el SDP, consulta [Crea tu primer desembolso](getting-started#create-your-first-disbursement).
