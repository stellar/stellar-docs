Usar el Observador de Pagos te permite delegar este paso a la Anchor Platform. Para habilitar el Observador de Pagos, usa la `--stellar-observer` flag en la sección de comandos del [archivo de composición](../../getting-started.mdx#configuration).

El Observador de Pagos hará un seguimiento de todas las transacciones enviadas a la cuenta de distribución. Cuando la transacción con el memo esperado sea detectada en la red, el estado cambiará automáticamente a `pending_anchor` y el evento será emitido (si se utiliza Kafka).

Para actualizar los estados de las transacciones, el observador realiza las solicitudes JSON-RPC correspondientes a la plataforma. Debería usar la siguiente URL.

<CodeExample>

```bash
# dev.env
PLATFORM_API_BASE_URL=http://platform-server:8085
```

</CodeExample>

:::caution

El Observador de Pagos no validará los montos. Es tu responsabilidad verificar que el monto enviado por el usuario sea correcto.

:::

:::info

Si ya tienes un sistema que monitorea los pagos, asegúrate de que la lógica del sistema iguale la descripción a continuación:

Primero, espera a que la transacción sea incluida en el ledger (usando un SDK). Esta transacción debe tener el memo esperado y la dirección de destino (cuenta de distribución). Una vez que esta transacción haya sido detectada y verificada, notifica al usuario que los fondos han sido recibidos usando la solicitud JSON-RPC [notify_onchain_funds_received](#funds-received-1).

:::

:::tip

El servicio de custodia de Fireblocks hará un seguimiento automáticamente de las transacciones y notificará al usuario que los fondos han sido recibidos. Consulta la [documentación del servicio de custodia de Fireblocks][fireblocks] para más detalles.

:::

[fireblocks]: ../../custody-services/fireblocks/README.mdx
