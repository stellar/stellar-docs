---
title: Comenzar
sidebar_position: 30
---

# Comenzar

Esta guía te ayudará a poner en marcha rápidamente la Anchor Platform (solo TESTNET) con una referencia comercial ejecutándose localmente usando Docker Compose.

Ten en cuenta que esto no está pensado para ejecutarse en producción.

## Requisitos previos

- [Docker](https://www.docker.com/get-started) y Docker Compose instalados
- [Stellar CLI](https://github.com/stellar/stellar-cli) instalado

## Inicio rápido

### 1. Clona el repositorio de Anchor Platform

```bash
git clone https://github.com/stellar/anchor-platform
```

### 2. Navega al directorio quick-run

```bash
cd anchor-platform/quick-run
```

### 3. Inicia todos los servicios

```bash
./ap_start.sh
```

### 4. Verifica que la plataforma esté en funcionamiento

Espera unos momentos para que los servicios se inicialicen, luego verifica que la plataforma responda:

```bash
curl http://localhost:8080/.well-known/stellar.toml
```

Deberías ver devuelto el archivo de configuración Stellar TOML.

### 5. Verifica el estado del servicio

```bash
docker-compose ps
```

Todos los servicios deberían mostrar "Up" en la columna de estado.

## Qué incluye

La configuración `quick-run` incluye:

- **docker-compose.yaml** - Definiciones completas de servicios con todas las dependencias
- **dev.env** - Variables de entorno preconfiguradas
- **config/** - Archivos de configuración necesarios:
  - `assets.yaml` - Definiciones de activos
  - `clients.yaml` - Configuraciones de clientes
  - `reference-config.yaml` - Configuraciones del servidor de referencia
  - `stellar.localhost.toml` - Archivo SEP-1 TOML

:::tip

Para más información sobre la configuración de activos y billeteras de clientes, consulta la guía [Assets and Client Wallets](./assets-and-client-wallets.mdx).

:::

## Pruebas con Stellar Demo Wallet

Puedes probar la Anchor Platform usando la [Stellar Demo Wallet](https://demo-wallet.stellar.org):

1. Abre la [Stellar Demo Wallet](https://demo-wallet.stellar.org) en tu navegador.
2. Haz clic en el botón **"Generate keypair for new account (testnet only)"**.
3. Haz clic en el botón **"Create Account"** junto a la clave PÚBLICA.
4. Ahora deberías ver `XLM` disponible en la sección **Balances**, indicando que tu cuenta está cargada.
5. Haz clic en **"Add home domain"** y escribe la siguiente URL:
   
   ```
   http://localhost:8080
   ```
   Esto conecta la demo wallet con tu instancia local de Anchor Platform ejecutándose en el puerto 8080.
6. Ahora deberías poder realizar transacciones SEP (depósitos, retiros, etc.) con tu instancia local de Anchor Platform.

## Personalizar configuración

Para modificar los ajustes:

1. Edita `dev.env` para variables de entorno
2. Edita archivos en `config/` para configuraciones específicas de servicios
3. Reinicia los servicios: `docker-compose restart`

## Detener servicios

Para detener todos los servicios:

```bash
docker-compose down
```

## Cómo implementar tu servidor de callback de negocio

Una vez que tengas la Anchor Platform en funcionamiento, puedes reemplazar el servidor de referencia con tu propia implementación de servidor de callback de negocio. Esto te permite implementar tu propia lógica de negocio para manejar depósitos, retiros y otras operaciones del anchor.

### 1. Apaga el servidor de negocio de referencia

Después de que la Anchor Platform esté iniciada y en funcionamiento, detén el servicio del servidor de referencia:

```bash
docker-compose stop reference-server
```

Esto detiene el servidor de referencia mientras mantiene en funcionamiento la Anchor Platform y otros servicios. La plataforma continuará operando, pero ya no recibirá callbacks del servidor de referencia.

### 2. Implementa y ejecuta tu propio servidor de referencia

Implementa tu propio servidor de callback que implemente la API de callbacks de Anchor Platform.

Puedes usar el [kotlin-reference-server](https://github.com/stellar/anchor-platform/tree/develop/kotlin-reference-server) como implementación de referencia para entender los endpoints y estructuras de datos requeridos.

Asegúrate de que tu servidor de callback sea accesible en `http://localhost:8091` (o el endpoint configurado) y que Anchor Platform pueda alcanzarlo.

Tu servidor debe:

- Escuchar en el puerto **8091** (o configurar la plataforma para usar otro puerto)
- Implementar los endpoints de callback requeridos según lo especificado en la documentación de la API de Anchor Platform
- Manejar la lógica del negocio para:
  - Cálculo de tarifas
  - Determinación de la tasa de cambio
  - Actualizaciones del estado de transacciones
  - Gestión de información del cliente (KYC)
  - Procesamiento de depósitos y retiros

### 3. Prueba tu integración usando la demo wallet

Sigue los pasos descritos en la sección [Testing with Stellar Demo Wallet](#testing-with-stellar-demo-wallet) arriba, y verifica que tu servidor maneja correctamente depósitos, retiros y otras operaciones SEP iniciadas desde la wallet.
