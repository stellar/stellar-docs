---
title: Archivo de información Stellar (SEP-1)
sidebar_position: 50
---

import { CodeExample } from "@site/src/components/CodeExample";

## Resumen

SEP-1 (Archivo de información de Stellar) permite que las carteras y otras aplicaciones de Stellar descubran información sobre tu servicio ancla. Al alojar un archivo `stellar.toml` en `/.well-known/stellar.toml`, permites que las aplicaciones encuentren automáticamente:

- La información de tu organización
- Los activos y monedas compatibles
- Puntos finales de autenticación (SEP-10)
- Puntos finales SEP para SEP-6, SEP-24, SEP-31, SEP-38, SEP-45

Para más detalles, por favor consulta la [especificación SEP-1](https://github.com/stellar/stellar-protocol/blob/master/ecosystem/sep-0001.md).

## Crear tu archivo stellar.toml

Crea un archivo `stellar.toml` con la información de tu servicio. Aquí tienes un ejemplo mínimo para comenzar:

<CodeExample>

```toml
# dev.stellar.toml
ACCOUNTS = ["GD...G"]  # Your distribution account public keys
SIGNING_KEY = "GD...G"  # Your signing key (public key) for SEP-10 authentication
NETWORK_PASSPHRASE = "Test SDF Network ; September 2015"  # Use "Public Global Stellar Network ; September 2015" for mainnet

[DOCUMENTATION]
ORG_NAME = "Your organization"
ORG_URL = "https://your-website.com"
ORG_DESCRIPTION = "A description of your organization"
```

</CodeExample>

:::tip

Para una lista completa de todos los atributos disponibles de `stellar.toml`, consulta la [especificación SEP-1](https://github.com/stellar/stellar-protocol/blob/master/ecosystem/sep-0001.md). Necesitarás añadir secciones adicionales como `[[CURRENCIES]]`, `TRANSFER_SERVER`, `TRANSFER_SERVER_SEP0024`, `WEB_AUTH_ENDPOINT`, `WEB_AUTH_FOR_CONTRACTS_ENDPOINT`, `DIRECT_PAYMENT_SERVER`, etc., a medida que configures los activos compatibles y otros SEPs.

:::

:::important

**Producción vs. Desarrollo**: Necesitarás archivos `stellar.toml` separados para testnet y mainnet:

- **Testnet**: Usa `NETWORK_PASSPHRASE = "Test SDF Network ; September 2015"`
- **Mainnet**: Usa `NETWORK_PASSPHRASE = "Public Global Stellar Network ; September 2015"`

Asegúrate de que tu archivo de producción incluya tus cuentas reales de distribución en Mainnet, llaves de firma y URLs del servicio en producción.

:::

## Configuración

Para habilitar SEP-1, necesitas configurar cómo la Plataforma Anchor debe acceder a tu archivo `stellar.toml`. La plataforma soporta tres métodos:

| Tipo     | Caso de uso                                  | Descripción                                                     |
| -------- | -------------------------------------------- | --------------------------------------------------------------- |
| `file`   | **Recomendado para la mayoría de los casos** | Leer desde un archivo local en el servidor                      |
| `string` | Pruebas rápidas o configuraciones simples    | Proporcionar el contenido TOML directamente en la configuración |
| `url`    | Alojamiento externo                          | Obtener desde una URL remota (útil para contenido dinámico)     |

### Variables de entrono

Configura SEP-1 usando las siguientes variables de entorno:

- `SEP1_ENABLED`: Ponlo en `true` para habilitar SEP-1
- `SEP1_TOML_TYPE`: Uno de `file`, `string` o `url`
- `SEP1_TOML_VALUE`: El valor depende del tipo (ver ejemplos abajo)

### Método 1: Archivo (Recomendado)

Ideal para: Implementaciones en producción donde gestionas el archivo en disco.

<CodeExample>

```bash
# dev.env
SEP1_ENABLED=true
SEP1_TOML_TYPE=file
SEP1_TOML_VALUE=/path/to/your/stellar.toml
```

</CodeExample>

:::tip

Al usar Docker, monta tu archivo `stellar.toml` como un volumen y referencia la ruta dentro del contenedor. Por ejemplo:

```yaml
# docker-compose.yaml
volumes:
  - ./config/stellar.toml:/config/stellar.toml:ro
```

Luego, establece `SEP1_TOML_VALUE=/config/stellar.toml` en tu entorno.

:::

### Método 2: Cadena (String)

Ideal para: Pruebas rápidas, desarrollo o cuando gestionas la configuración vía variables de entorno.

<CodeExample>

```bash
# dev.env
SEP1_ENABLED=true
SEP1_TOML_TYPE=string
SEP1_TOML_VALUE="ACCOUNTS = [\"GD...G\"]
SIGNING_KEY = \"GD...G\"
NETWORK_PASSPHRASE = \"Test SDF Network ; September 2015\"
[DOCUMENTATION]
ORG_NAME = \"Your organization\"
ORG_URL = \"https://your-website.com\""
```

</CodeExample>

:::caution

Al usar el tipo `string`, asegúrate de que el contenido TOML está correctamente escapado para el formato de tu archivo de entorno. Para configuraciones complejas, es más fácil manejar el tipo `file`.

:::

### Método 3: URL

Ideal para: Contenido dinámico o cuando se aloja el archivo externamente.

<CodeExample>

```bash
# dev.env
SEP1_ENABLED=true
SEP1_TOML_TYPE=url
SEP1_TOML_VALUE=https://example.com/stellar.toml
```

</CodeExample>

:::note

Al usar el tipo `url`, la Plataforma Anchor obtendrá el archivo en cada solicitud. Asegúrate de que la URL sea accesible desde tu servidor de Plataforma Anchor y que retorne contenido TOML válido.

:::

## Accediendo a tu archivo stellar.toml

Una vez configurado y habilitado, la Plataforma Anchor sirve automáticamente tu archivo `stellar.toml` en el punto final estándar SEP-1:

- **`/.well-known/stellar.toml`** - Punto final principal (servido con `Content-Type: text/plain`)
- **`/`** - Redirige a `/.well-known/stellar.toml` cuando SEP-1 está habilitado

### Probando tu configuración

Después de iniciar la Plataforma Anchor, verifica tu configuración:

```bash
# Test the endpoint
curl http://localhost:8080/.well-known/stellar.toml

# Or test the redirect
curl -L http://localhost:8080/
```

Deberías ver el contenido de tu `stellar.toml` devuelto como texto plano.

### Alternativa: Alojamiento externo

También puedes alojar tu archivo `stellar.toml` usando un servidor de archivos estático como [nginx](https://www.nginx.com) o un CDN. Si eliges este enfoque:

1. Aloja el archivo en `https://tu-dominio.com/.well-known/stellar.toml`
2. Asegúrate de que sea accesible públicamente
3. Verifica que tu archivo `stellar.toml` incluya las URLs correctas que apunten a los puntos finales de tu Plataforma Anchor

El servicio SEP-1 de la Plataforma Anchor es opcional si alojas el archivo externamente, pero proporciona una manera conveniente de gestionar todo en un solo lugar.
