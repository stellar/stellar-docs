---
title: Garantías de Entrega
sidebar_position: 30
---

## Garantías de Entrega

Dependiendo del sistema de mensajería que utilice, habrá diferentes garantías de entrega. el servicio de eventos utiliza Kafka como sistema de mensajería, por lo que las garantías de entrega dependerán de la configuración del productor y de la configuración del corredor que utilice. Dependiendo del número de particiones configuradas para el tema `TRANSACTION`, los eventos pueden ser entregados fuera de orden.

:::caution

Cualquier lógica de transacción que dependa del orden debe usar el `status` de la transacción y los campos `updated_at` para determinar el orden de los eventos.

:::

Las siguientes subsecciones describirán las garantías de entrega desde la perspectiva del cliente y del servidor de negocios.

### Garantías de entrega del cliente

Para cada cliente, el servicio de eventos intentará entregar cada evento hasta tres veces con una cancelación exponencial. Si el evento no se entrega después de tres intentos debido a errores HTTP 4xx o 5xx, el evento se omitirá. Si el cliente no es accesible después de tres intentos, el servicio de eventos ya no intentará entregar ningún evento a ese cliente.

### Entregas de servidores de negocios garantizados

El servicio de eventos intentará entregar cada evento al servidor de negocios hasta tres veces con una cancelación exponencial. Si el evento no se entrega después de tres intentos debido a errores HTTP 4xx o 5xx, el evento se omitirá. Si el servidor de negocios no es accesible después de tres intentos, el servicio de eventos ya no intentará entregar ningún evento al servidor de negocios.

:::note

Las garantías de entrega del servidor comercial son las mismas que las garantías de entrega del cliente. En el futuro, el servicio de eventos se saltará los eventos que no sean entregados a clientes que no sean accesibles.

:::
