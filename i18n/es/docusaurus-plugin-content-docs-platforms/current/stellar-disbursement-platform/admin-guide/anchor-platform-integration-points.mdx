---
title: Puntos de integración de la plataforma de ancla
sidebar_position: 60
---

Como se menciona en [Diseño y Archivo](./design-and-architecture. dx) guía, la Plataforma de Desembolso Estelar consiste en unos pocos servicios desplegados juntos, donde la Plataforma de Ancla es uno de ellos.

Por esa razón, hay algunos puntos de conexión entre las dos instancias que necesitan ser configuradas correctamente para que la Plataforma de Desembolso Estelar funcione correctamente. En esta guía cubriremos estos puntos de integración.

Tenga en cuenta que para el despliegue predeterminado de la plataforma de desembolso estelar, que depende de los valores por defecto de Helm y Carteras y Activos por defecto, no se necesita ninguna configuración extra. Esta guía es para aquellos que quieren personalizar el despliegue cambiando las carteras y activos disponibles en su instancia SDP.

## Rol de la Plataforma de Ancestro en SDP

El flujo de registro del monedero se inicia dentro de la aplicación del monedero del destinatario. Esta aplicación interactúa con la [Plataforma de ancla] para iniciar el proceso de depósito [SEP-24] a través del SDP (Plataforma de desembolso estelar). El SDP recopila la información necesaria del destinatario para ejecutar finalmente el pago a ellos.

La Plataforma de Ancla (AP) se utiliza para manejar la implementación de protocolos de interoperabilidad como [SEP-1], [SEP-10], y [SEP-24], haciendo que sus extremos estén disponibles para aplicaciones de monedero. La [Plataforma de Anchor] está preconfigurada en el gráfico de Helm de [el repo] y en el archivo Compose de Docker disponible en el directorio `dev`.

## Pasos para configurar la integración SDP-AnchorPlatform

Para asegurar una integración perfecta entre el SDP y el [Anchor Platform], asegúrese de seguir estos pasos:

1. 🚨 **Paso crítico**: Configure la Plataforma de ancla con `PLATFORM_SERVER_AUTH_TYPE: JWT`. Esta configuración es crucial para asegurar la API de backoffice de su Anchor Platform a través de la autenticación de token JWT.
2. **Compartido secretos para la autenticación API**: El `SECRET_PLATFORM_API_AUTH_SECRET` en la plataforma Anchor debe coincidir con `ANCHOR_PLATFORM_OUTGOING_JWT_SECRET` en el SDP.
3. **Compartido secretos para SEP-24**: Los secretos `SECRET_SEP24_INTERACTIVE_URL_JWT_SECRET` y `SECRET_SEP24_MORE_INFO_URL_JWT_SECRET` en la Plataforma de ancla necesitan alinearse con `SEP24_JWT_SECRET` en la SDP.
4. **Configuración SEP-10**: El `SECRET_SEP10_SIGNING_SEED` en la plataforma de anclaje debe ser consistente con el `SEP10_SIGNING_PRIVATE_KEY` y el `SEP10_SIGNING_PUBLIC_KEY` en el SDP.

Siguiendo estos pasos, usted asegurará una integración segura y eficiente entre sus sistemas SDP y Anchor Platform.

## Sincronización manual de activos y billeteras personalizados

Actualmente, algunas configuraciones dentro de la Plataforma Anchor están estáticas y cargadas a través de variables de entorno. Por otro lado, el SDP lee estas mismas configuraciones desde su base de datos y permite a un usuario propietario modificarlas. Esta dinámica se refiere particularmente a las listas de activos y billeteras soportados.

Mientras estamos explorando activamente formas de automatizar este proceso de sincronización, los ajustes manuales a la configuración de la Plataforma de Anchor son necesarios cada vez que un activo o cartera es añadido o eliminado en el SDP.

1. **(Requerido) Actualización de Activos Soportados**: Cada vez que cambia la lista de activos soportados en el SDP, es esencial actualizar la configuración `ASSETS_VALUE` de la plataforma Anchor para reflejar estos cambios. Consulte los valores de [el yelmo del repo] o los archivos compuestos de Docker por ejemplos.
2. **(Opcional, pero recomendado) Wallets y dominios SEP-10**: Si utiliza el `SEP10_CLIENT_ATTRIBUTION_REQUIRED: true` en la Plataforma de ancla - una mejor práctica recomendada - también debe actualizar el `SEP10_CLIENT_ATTRIBUTION_ALLOW_LIST` para incluir dominios de cartera de confianza. Esto asegura que la Plataforma de Anchor procesará solicitudes SEP-10 sólo de billeteras de confianza.

Adhiriendo a estas pautas, usted puede asegurar una configuración consistente y segura entre sus instancias SDP y Anchor Platform.

[sep-1]: https://stellar.org/protocol/sep-1
[sep-10]: https://stellar.org/protocol/sep-10
[sep-24]: https://stellar.org/protocol/sep-24
[plataforma de ancla]: https://github.com/stellar/java-stellar-anchor-sdk
[el repositorio]: https://github.com/stellar/stellar-disbursement-platform-backend
