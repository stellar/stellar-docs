---
title: Prerrequisitos
sidebar_position: 20
---

Puedes instalar Stellar Core [un número de diferentes maneras](./installation.mdx), y una vez que lo hagas, puedes [configure](./configurando. dx) para participar en la red en varios [diferentes niveles](../README.mdx#types-of-nodes): puede ser un Validador Básico o un Validador completo. No importa cómo instale Stellar Core o qué tipo de nodo ejecute, sin embargo, necesita configurar y conectarse a la red peer-to-peer y almacenar el estado del ledger en un SQL [database](. configuring.mdx#base de datos).

## Requisitos de hardware

:::info

CPU, RAM, Disco y red depende de la actividad de red. Si decide collocar ciertas cargas de trabajo, tendrá que tenerlo en cuenta.

:::

En el momento de escribir (abril de 2024), Stellar Core con PostgreSQL corriendo en la misma máquina funcionó bien en un [c5d.2xlarge](https://aws. instancia mazon.com/ec2/instance-types/c5/) en AWS (8x VCPUs Intel Xeon a 3.4 GHz; 16 GB RAM; 100 GB NVMe SSD (10.000 iops)).

Stellar Core está diseñado para funcionar con hardware relativamente modesto de modo que toda una serie de individuos y organizaciones puedan participar en la red, y los nodos básicos deben ser capaces de funcionar bastante bien sin un tremendo overhead. Dicho esto, cuanto más le pidan a su nodo, mayores serán los requisitos.

| Tipo de nodo              | CPU                     | RAM   | Disco              | AWS SKU       | SKU de Google Cloud |
| ------------------------- | ----------------------- | ----- | ------------------ | ------------- | ------------------- |
| Nodo Validador del Núcleo | 8x Intel Xeon @ 3.4 GHz | 16 GB | SSD de 100 GB NVMe | [c5d.2xlarge] | [n4-highcpu-8]      |

_\* Asumiendo una ventana de retención de 30 días para el almacenamiento de datos._

## Acceso a la red

Stellar Core interactúa con la red peer-to-peer para mantener un servidor ledger distribuido en sincronización, lo que significa que tu nodo necesita hacer ciertos [puertos TCP](https://en. ikipedia.org/wiki/Transmission_Control_Protocol#TCP_ports) disponibles para la comunicación entrante y saliente.

### Entrante

Un nodo Stellar Core necesita permitir que todos los IP se conecten a su `PEER_PORT` sobre TCP. Puede especificar un puerto cuando usted [configure] núcleo estelar, pero la mayoría de la gente usa el valor predeterminado, que es **11625**.

### Salida

Un nodo Stellar Core necesita conectarse a otros nodos en Internet a través de su `PEER_PORT` sobre TCP. Puede encontrar información sobre otros nodos' `PEER_PORT`s en un explorador de red como [Stellarbeat](https://stellarbeat. o/), pero la mayoría usan el puerto por defecto para esto también, que es (otra vez) **11625**.

## Acceso al sistema interno

Stellar Core también necesita conectarse a ciertos sistemas internos, aunque exactamente cómo se logra esto puede variar dependiendo de su configuración.

### Entrante

- Stellar Core expone un endpoint HTTP _unauthenticated_ en su `HTTP_PORT`. Puede especificar un puerto cuando usted [configure] núcleo estelar, pero la mayoría de la gente usa el valor predeterminado, que es **11626**.
- El `HTTP_PORT` es usado por otros sistemas (como Horizon) para enviar transacciones, para que este puerto tenga que estar expuesto al resto de sus direcciones IP internas.
- También se utiliza para consultar Stellar Core [info](./commands.mdx) y proporcionar [metrics](./monitoring.mdx).
- Y para realizar comandos administrativos como [programar actualizaciones](./network-upgrades.mdx) y cambiar los niveles de registro
- Para más información, vea [commands](./commands.mdx)

:::note Nota sobre la exposición del extremo HTTP

Si necesita exponer este endpoint a otros hosts en su red local, te recomendamos encarecidamente que uses un servidor proxy intermedio para implementar la autenticación. No exponer el extremo HTTP a la cruel y cruel Internet abierto.

:::

### Salida

- Stellar Core requiere acceso a una base de datos (PostgreSQL, por ejemplo). Si esa base de datos reside en una máquina diferente de su red, necesitará permitir esa conexión. You'll specify the database when you [configure] Stellar Core.
- Puede bloquear de forma segura todas las demás conexiones.

## Almacenamiento

Stellar Core almacena dos copias del ledger: una en un SQL [database](#database) y otra en archivos XDR en el disco local llamado [buckets](#buckets). En su mayor parte, los contenidos de los directorios de base de datos y cubos pueden ser ignorados, ya que son completamente gestionados por Stellar Core. En términos de espacio de almacenamiento, 100 GB es suficiente a partir de abril de 2024).

### Base de datos

La base de datos es consultada durante el consentimiento, y modificada atómicamente cuando se aplica un conjunto de transacciones al contador. Es un acceso aleatorio, fino y rápido.

Mientras que una base de datos SQLite funciona con Stellar Core, generalmente recomendamos usar un servidor PostgreSQL separado. Una base de datos de Postgres es el pan y mantequilla de Stellar Core.

Si está usando PostgreSQL, le recomendamos configurar su base de datos local para que sea accedida a través de un socket de dominio Unix, así como actualizar los parámetros de configuración de PostgreSQL:

```text
# !!! La conexión de DB debe estar sobre un socket de dominio Unix !!!
# shared_buffers = 25% del sistema disponible ram
# effective_cache_size = 50% del sistema disponible ram
# max_wal_size = 5GB
# max_connections = 150
```

### Cubos

Además de la base de datos SQL, Stellar Core almacena una copia duplicada del libro de valores en forma de archivos XDR planos llamados "buckets." Los archivos de los cubos se utilizan para el hashing y la transmisión de las diferencias de ledger a los archivos de historia.

Los cubos deben almacenarse en un disco local rápido, con suficiente espacio para almacenar varias veces el tamaño del contador actual. El tamaño actual del libro de contabilidad es de aproximadamente 10 GB (a partir de abril de 2024), así que por favor planifique en consecuencia.

[configurar]: ./configuración.mdx
[c5d.2xlarge]: https://aws.amazon.com/ec2/instance-types/c5/
[n4-highcpu-8]: https://cloud.google.com/compute/docs/general-purpose-machines#n4-highcpu
