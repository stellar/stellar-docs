---
title: Instalando
sidebar_position: 30
---

import { Alert } from "@site/src/components/Alert";

Existen tres formas comunes de instalar y ejecutar Stellar Core:

1. **Usando [paquetes](#package-based-installation) publicados.** Para uso en producción, recomendamos instalar Stellar Core usando paquetes publicados.

2. **Creando desde [código fuente](#installing-from-source).** En algunas situaciones poco comunes, o si deseas sacrificar la conveniencia por el máximo control, puede ser necesario crear desde el código fuente.

3. **Usa una [imagen de Docker](#docker-based-installation).** Usar una imagen de Docker es el método más rápido y fácil, así que es una buena opción para muchos desarrolladores.

## Versión de Lanzamiento

Cualquiera que sea el método que uses, debes asegurarte de instalar la última [versión](https://github.com/stellar/stellar-core/releases) ya que estas compilaciones son compatibles con versiones anteriores y son acumulativas.

El esquema del número de versión que seguimos es `protocol_version.release_number.patch_number`, donde:

- `protocol_version` es la versión máxima del protocolo admitida por ese lanzamiento (todas las versiones son 100% compatibles con versiones anteriores),
- `release_number` se incrementa cuando se incluye un conjunto de nuevas características o correcciones de errores que no afectan al protocolo en el lanzamiento, y
- `patch_number` se usa cuando se debe implementar una corrección crítica.

## Instalación Basada en Paquetes

Si estás utilizando una versión LTS reciente de Ubuntu, proporcionamos [`stellar-core`](https://github.com/stellar/stellar-core) y [`stellar-horizon`](https://github.com/stellar/go/tree/master/services/horizon) en formato de paquete binario de Debian. Los paquetes están firmados criptográficamente por la Stellar Development Foundation y los archivos se pueden validar en el sistema para confirmar que no han sido manipulados. Los paquetes de Debian utilizan la verificación criptográfica incorporada del sistema operativo durante las actualizaciones, lo que mitiga muchos ataques a la cadena de suministro.

La huella digital de la clave de firma del paquete SDF es **AEAF 01EE A6CA FCEF DDAE 8AA7 0463 8272 A136 B5A6** (A136B5A6)

Actualmente no publicamos paquetes para distribuciones de Linux basadas en RPM. Si utilizas dicha distribución, recomendamos usar [imágenes de docker](#docker-based-installation)

### Configurar el repositorio Apt de SDF en el sistema

```bash
sudo install -d /etc/apt/keyrings
sudo curl -fsSL https://apt.stellar.org/SDF.asc -o /etc/apt/keyrings/SDF.asc
sudo chmod a+r /etc/apt/keyrings/SDF.asc
echo "deb [signed-by=/etc/apt/keyrings/SDF.asc] https://apt.stellar.org $(lsb_release -cs) stable" | sudo tee -a /etc/apt/sources.list.d/SDF.list
```

Opcionalmente, puedes añadir un repositorio de pruebas. Esto no se recomienda para sistemas de producción, pero puede ser útil para sistemas no productivos que utilizan testnet:

```bash
echo "deb [signed-by=/etc/apt/keyrings/SDF.asc] https://apt.stellar.org $(lsb_release -cs) stable" | sudo tee -a /etc/apt/sources.list.d/SDF.list
```

### Instalar paquetes

Publicamos varios paquetes por conveniencia.

| Paquete                          | Dependencias             | Comentarios                                                                                                                                                                                            |
| -------------------------------- | ------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| stellar-core                     | ninguna                  | instala el binario stellar-core, servicio systemd, script logrotate, documentación                                                                                                                     |
| stellar-core-utils               | ninguna                  | instala herramientas útiles de línea de comandos (stellar-core-cmd, stellar-core-gap-detect)                                                                                                           |
| stellar-core-prometheus-exporter | ninguna                  | instala un exportador de Prometheus para facilitar la ingesta de métricas de stellar-core                                                                                                              |
| stellar-core-postgres            | stellar-core, PostgreSQL | configura un servidor PostgreSQL, crea una base de datos stellar, un rol y un usuario del sistema, la configuración predeterminada de stellar-core contenida en este paquete se conectará a la Testnet |
| stellar-archivist                | ninguna                  | instala la herramienta cli stellar-archivist para gestionar los archivos de historial de stellar-core                                                                                                  |

Para instalar un paquete elegido, ejecuta:

```bash
# To install stellar-core
sudo apt-get update && apt-get install <package_name>
```

## Instalando desde el Código Fuente

El repositorio del código fuente de Stellar Core contiene instrucciones extensas y completas para crear el software desde el código fuente. Por favor, [consulta `INSTALL.md`](https://github.com/stellar/stellar-core/blob/master/INSTALL.md) para más información.

## Instalación Basada en Docker

### Entornos de Desarrollo

SDF mantiene una [imagen de inicio rápido](https://github.com/stellar/quickstart) que agrupa el "Core Cautivo" de Stellar con Horizon y las bases de datos PostgreSQL necesarias. Es una forma rápida de configurar una configuración predeterminada, no validante, efímera que debería funcionar para la mayoría de los desarrolladores. Además, la imagen de inicio rápido puede ser iniciada preconfigurada para su uso como nodo de Mainnet, Testnet, Futurenet o red Local.

<Alert>

La imagen de inicio rápido no está destinada a servir como un nodo de instancia de nivel producción. Please plan your production instance(s) carefully.

</Alert>

### Entornos de Producción

SDF también mantiene una imagen independiente solo de Stellar-Core, [`stellar/stellar-core`](https://hub.docker.com/r/stellar/stellar-core).

Uso de Ejemplo:

```bash
docker run stellar/stellar-core:latest help
docker run stellar/stellar-core:latest gen-seed
```

Para ejecutar el demonio de Stellar Core, necesitas proporcionar un archivo de configuración:

```bash
# Initialize postgres DB (see DATABASE config option)
docker run -v "/path/to/config/dir:/etc/stellar/" stellar/stellar-core:latest new-db
# Run stellar-core daemon in the background
docker run -d -v "/path/to/config/dir:/etc/stellar/" stellar/stellar-core:latest run
```

La imagen utiliza paquetes deb, por lo que es posible confirmar que el checksum del binario `stellar-core` en la imagen de docker coincide con lo que hay en el paquete deb firmado criptográficamente. Consulta la [sección de instalación basada en paquetes](#package-based-installation) para más información. Para calcular este checksum en la imagen de docker, puedes ejecutar:

```bash
docker run --entrypoint=/bin/sha256sum stellar/stellar-core:latest /usr/bin/stellar-core
```
