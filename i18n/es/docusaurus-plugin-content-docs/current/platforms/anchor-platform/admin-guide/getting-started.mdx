---
title: Comenzar
sidebar_position: 30
---

# Comenzar

Esta guía te ayudará a poner en marcha rápidamente la Anchor Platform (solo TESTNET) con una referencia comercial funcionando localmente usando Docker Compose.

Ten en cuenta que esto no está pensado para usarse en producción.

## Requisitos previos

- Tener instalado [Docker](https://www.docker.com/get-started) y Docker Compose
- Tener instalado el [Stellar CLI](https://github.com/stellar/stellar-cli)

## Inicio rápido

### 1. Clonar el repositorio de Anchor Platform

```bash
git clone https://github.com/stellar/anchor-platform
```

### 2. Navegar al directorio quick-run

```bash
cd anchor-platform/quick-run
```

### 3. Iniciar todos los servicios

```bash
./ap_start.sh
```

### 4. Verificar que la plataforma esté funcionando

Espera unos momentos para que los servicios se inicialicen y luego verifica que la plataforma responda:

```bash
curl http://localhost:8080/.well-known/stellar.toml
```

Deberías ver el archivo de configuración Stellar TOML retornado.

### 5. Comprobar el estado del servicio

```bash
docker-compose ps
```

Todos los servicios deberían mostrarse como "Up" en la columna de estado.

## Qué incluye

La configuración `quick-run` incluye:

- **docker-compose.yaml** - Definiciones completas de servicios con todas las dependencias
- **dev.env** - Variables de entorno preconfiguradas
- **config/** - Archivos de configuración requeridos:
  - `assets.yaml` - Definiciones de activos
  - `clients.yaml` - Configuraciones de clientes
  - `reference-config.yaml` - Ajustes del servidor de referencia
  - `stellar.localhost.toml` - Archivo TOML SEP-1

:::tip

Para más información sobre cómo configurar activos y carteras de clientes, consulta la guía [Assets and Client Wallets](./assets-and-client-wallets.mdx).

:::

## Pruebas con Stellar Demo Wallet

Puedes probar la Anchor Platform usando el [Stellar Demo Wallet](https://demo-wallet.stellar.org):

1. Abre el [Stellar Demo Wallet](https://demo-wallet.stellar.org) en tu navegador.
2. Haz clic en el botón **"Generate keypair for new account (testnet only)"**.
3. Haz clic en el botón **"Create Account"** junto a la clave PUBLIC.
4. Ahora deberías ver `XLM` disponible en la sección **Balances**, indicando que tu cuenta está cargada.
5. Haz clic en **"Add home domain"** e ingresa la siguiente URL:
   
   ```
   http://localhost:8080
   ```
   Esto conecta la demo wallet con tu instancia local de Anchor Platform corriendo en el puerto 8080.
6. Ahora deberías poder realizar transacciones SEP (depósitos, retiros, etc.) con tu instancia local de Anchor Platform.

## Personalizando la configuración

Para modificar ajustes:

1. Edita `dev.env` para variables de entorno
2. Edita los archivos en `config/` para configuraciones específicas de servicios
3. Reinicia los servicios: `docker-compose restart`

## Detener servicios

Para detener todos los servicios:

```bash
docker-compose down
```

## Cómo implementar tu servidor de callback empresarial

Una vez que tengas la Anchor Platform en marcha, puedes reemplazar el servidor de referencia con tu propia implementación del servidor de callback empresarial. Esto te permite implementar tu propia lógica empresarial para manejar depósitos, retiros y otras operaciones del anchor.

### 1. Apagar el servidor de negocio de referencia

Después de que la Anchor Platform esté iniciada y funcionando, detén el servicio del servidor de referencia:

```bash
docker-compose stop reference-server
```

Esto detiene el servidor de referencia manteniendo la Anchor Platform y otros servicios en funcionamiento. La plataforma seguirá funcionando, pero ya no recibirá callbacks del servidor de referencia.

### 2. Implementa y ejecuta tu propio servidor de referencia

Implementa tu propio servidor de callback que cumpla con la API de callback de Anchor Platform.

Puedes usar el [kotlin-reference-server](https://github.com/stellar/anchor-platform/tree/develop/kotlin-reference-server) como implementación de referencia para entender los endpoints y estructuras de datos requeridos.

Asegúrate de que tu servidor de callback sea accesible en `http://localhost:8091` (o el endpoint configurado) y que la Anchor Platform pueda conectarse.

Tu servidor debe:

- Escuchar en el puerto **8091** (o configurar la plataforma para usar otro puerto)
- Implementar los endpoints de callback requeridos según la documentación de la API de Anchor Platform
- Manejar la lógica empresarial para:
  - Cálculo de tarifas
  - Determinación de tasa de cambio
  - Actualizaciones de estado de transacciones
  - Gestión de información del cliente (KYC)
  - Procesamiento de depósitos y retiros

### 3. Prueba tu integración usando la demo wallet

Sigue los pasos descritos en la sección [Pruebas con Stellar Demo Wallet](#testing-with-stellar-demo-wallet) arriba y verifica que tu servidor maneje correctamente los depósitos, retiros y otras operaciones SEP iniciadas desde la wallet.
