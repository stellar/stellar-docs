---
title: Cuentas del canal
sidebar_position: 10
---

import { CodeExample } from "@site/src/components/CodeExample";

Las cuentas de canales proporcionan un método para enviar transacciones a la red a un alto ritmo.

Las transacciones de una cuenta siempre necesitan ser enviadas a la red en incrementos de un número de secuencia (a menos que se establezcan las condiciones previas del número mínimo de secuencia). Esto puede causar problemas si está enviando transacciones a un ritmo alto, ya que pueden llegar potencialmente a Stellar Core fuera de orden y luego rebotarán con un error de secuencia incorrecto.

Para evitar esto, puede crear cuentas de canal separadas que pueden ser utilizadas como la cuenta de origen para la transacción y utilizar la cuenta que posee los activos como la cuenta base o la cuenta de origen para las operaciones individuales en la transacción. En este escenario, los activos saldrán de la cuenta base, y el número de secuencia y los honorarios serán consumidos por la cuenta del canal.

Los canales aprovechan el hecho de que la cuenta de origen de una transacción puede ser diferente a la cuenta de origen de las operaciones dentro de la transacción. Con esta configuración, puede hacer tantos canales como necesite para mantener la tasa de transacción deseada.

Por supuesto, tendrá que firmar la transacción con la clave de cuenta base y la clave de cuenta del canal.

Por ejemplo:

<CodeExample>

```js
// channelAccounts[] es un array de IDs de cuentas, uno para cada canal
// channelKeys[] es un array de claves secretas, one for each channel
// channelIndex is the channel you want to send this transaction over

// create payment from baseAccount to customerAddress
var transaction = new StellarSdk. ransactionBuilder(
  channelAccounts[channelIndex],
  {
    fee: StellarSdk.BASE_FEE,
    networkPassphrase: StellarSdk.Networks.TESTNET,
  },
)
  . ddOperación(
    StellarSdk.Operation.payment({
      fuente: baseAccount. ddress(),
      destino: dirección de cliente,
      activo: StellarSdk.Asset. ativa(),
      monto: monto ToSend,
    }),
  )
  // Espera un máximo de tres minutos para la transacción
  . etTimeout(180)
  .build();

transaction.sign(baseAccountKey); // cuenta base debe firmar para aprobar el pago
transacción. ign(channelKeys[channelIndex]); // canal debe firmar para aprobarlo siendo el origen de la transacción
```

```python
# channelAccounts[] es un array de IDs de cuentas, uno para cada canal
# channelKeys[] es un array de claves secretas, uno para cada canal
# channelIndex es el canal que quieres enviar esta transacción sobre

transaction = (
    TransactionBuilder(
      source_account=channelAccounts[channelIndex],
      network_passphrase=Network. ESTNET_NETWORK_PASSPHRASE,
      base_fee=base_fee,
    )
    . ppend_payment_op(
      source=baseAccount. ublic_key,
      destination=customerAdress,
      asset=Asset. ativa(),
      monto=montoToSend,
    )
    . et_timeout(180) # Espere un máximo de tres minutos para la transacción
    . uild()
)

transaction.sign(baseAccountKey) # cuenta base debe firmar para aprobar el pago
transacción. ign(channelKeys[channelIndex]) # canal debe firmar para aprobarlo siendo la fuente de la transacción
```

</CodeExample>
