---
title: Conectando
sidebar_position: 10
---

BigQuery ofrece múltiples métodos de conexión a Hubble. Esta guía detalla tres métodos comunes:

- [BigQuery UI](#bigquery-ui) - analistas que necesitan realizar análisis ad hoc usando SQL
- [BigQuery SDK](#bigquery-sdk) - desarrolladores que necesitan integrar datos en aplicaciones
- [Looker Studio](#looker-studio) - gente de negocios que necesita visualizar datos

## Prerrequisitos

Para acceder a Hubble, necesitarás un proyecto de Google Cloud con facturación y la API de BigQuery habilitada. Para obtener más información, siga las instrucciones proporcionadas por [Google Cloud](https://cloud.google.com/bigquery/docs/quickstarts/query-public-dataset-console).

Google proporciona gratuitamente un BigQuery Sandbox que permite a los usuarios explorar conjuntos de datos con una capacidad limitada.

## BigQuery UI

1. Desde un navegador, abre el conjunto de datos [crypto-stellar.crypto_stellar](http://console.cloud.google.com/bigquery?ws=!1m4!1m3!3m2!1scrypto-stellar!2scrypto_stellar).
2. Esto abrirá el dataset público `crypto_stellar`, donde puedes navegar por su contenido en el panel **Explorador**.
3. Haz clic en el icono de **estrella** en el panel del Explorador. Esto favorecerá el conjunto de datos para usted. Puede encontrar información más detallada sobre los recursos destacados [here](https://cloud.google.com/bigquery/docs/bigquery-web-ui#star_resources).

:::note

¡No se puede encontrar la burbuja en el panel Explorador! No puede buscar el conjunto de datos. Para ver el conjunto de datos, **debe** usar el [enlace de dataset](https://console.cloud.google.com/bigquery?ws=!1m4!1m3!3m2!1scrypto-stellar!2scrypto_stellar).

:::

Copia y pega la siguiente consulta de ejemplo en el Editor:

<CodeExample>

```sql
seleccione
  account_id,
  balance
de `crypto-stellar.crypto_stellar.accounts_current`
orden por desc de saldo;
```

</CodeExample>

Esta consulta devolverá los saldos de XLM para todas las direcciones de las billeteras estelares, ordenadas de mayor a menor cantidad.

## BigQuery SDK

Hay múltiples [BigQuery API Client Libraries](https://cloud.google.com/bigquery/docs/reference/libraries) disponibles.

El siguiente ejemplo usa Python para acceder al conjunto de datos Hubble. Usa [esta guía](https://cloud.google.com/python/docs/setup) para ayudar a configurar un entorno de desarrollo de python.

Instala la librería cliente localmente, y configura tu entorno para usar tu proyecto de Google Cloud:

<CodeExample>

```bash
# verificar la versión de python
python3 --version
# si no tiene pip, install it
python -m pip install --upgrade pip

# install bigquery client library
pip install --upgrade google-cloud-bigquery
gcloud config set project PROJECT_ID
```

</CodeExample>

Usa el intérprete de Python para ejecutar el ejemplo de abajo para listar las tablas disponibles en Hubble:

<CodeExample>

```python
de google.cloud importar bigquery

# Construir un objeto cliente BigQuery.
client = bigquery. lient()

dataset_id = 'crypto-stellar.crypto_stellar'

# Realiza una solicitud de API
tablas = cliente. ist_tables(dataset_id)

# Lista de las tablas encontradas en Hubble
print(f'Tablas contenidas en {dataset_id}':)
para tabla en tablas:
    print(f'{table.project}.{table.dataset_id}.{table.table_id}')
```

</CodeExample>

Ejecuta el siguiente ejemplo para ejecutar una consulta e imprimir los resultados:

<CodeExample>

```python
de google.cloud importar bigquery

# Construir un objeto cliente BigQuery.
client = bigquery. lient()

consulta = """
SELECT
 account_id,
 balance,
FROM `crypto-stellar.crypto_stellar. ccounts_current`
ORDEN POR balance DESC
LIMIT 10;
"""

# Realiza una solicitud de API
query_job = cliente. uery(query)

print("The query data:")
for row in query_job:
    # Los valores de fila pueden ser accedidos por nombre de campo o índice.
    print(f'account_id={row[0]}, balance={row["balance"]}')
```

</CodeExample>

Hay varias maneras de extraer y cargar datos usando BigQuery. Consulte la [Documentación del cliente de BigQuery](https://cloud.google.com/python/docs/reference/bigquery/latest/google.cloud.bigquery.client.Client) para obtener más información.

## Estudio de Aspecto

[Looker Studio](https://cloud.google.com/looker-studio) es una herramienta de inteligencia de negocios que se puede utilizar para conectar y visualizar datos desde el conjunto de datos de Hubble.

Para conectar Hubble como fuente de datos:

1. Abrir [Looker Studio](https://lookerstudio.google.com/)
2. Haga clic en **Crear** > **Fuente de datos**
3. Buscar el conector BigQuery
4. _(Opcional)_ Cambiar el nombre de la fuente de datos en la parte superior de la página web
5. Haga clic en _Shared Projects_ > Seleccione su proyecto de Google Cloud
6. Introduzca `crypto-stellar` como el nombre del proyecto compartido
7. Haga clic en el `crypto_stellar` de Dataset
8. Seleccione la tabla deseada para conectar
9. Haz clic en `CONECT` en la parte superior derecha de la página web.

¡Y estás conectado!

Información general sobre Looker Studio puede encontrarse [here](https://support.google.com/looker-studio/).

Información general sobre las fuentes de datos de conexión puede encontrarse [here](https://support.google.com/looker-studio/topic/6370331?hl=es&ref_topic=7441382&sjid=14945902445646860578-NA).
