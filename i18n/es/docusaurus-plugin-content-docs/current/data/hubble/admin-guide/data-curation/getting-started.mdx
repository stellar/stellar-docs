---
title: Comenzando
sidebar_position: 20
---

[stellar-dbt-public GitHub repository](https://github.com/stellar/stellar-dbt-public/tree/master)

\[imágenes docker stellar/stellar-dbt-public (https://hub.docker.com/r/stellar/stellar-dbt-public)

## Uso Recomendado

### Imagen de Docker

Generalmente, si no necesitas modificar cualquiera de los códigos estellar-dbt-public se recomienda que utilices [stellar/stellar-dbt-public docker images](https://hub.docker.com/r/stellar/stellar-dbt-public)

Ejemplo para ejecutar localmente con docker:

```
docker run --platform linux/amd64 -ti stellar/stellar-dbt-public:latest <parameters>
```

### Importar stellar-dbt-public como un paquete dbt

Alternativamente, si necesita construir sus propios modelos encima de estellar-dbt-public, puede importar stellar-dbt-public como un paquete dbt en un proyecto dbt separado.

Instrucciones de ejemplo:

- Crea un nuevo archivo `packages.yml` en tu proyecto dbt (no el proyecto estellar-dbt-public project) con el yml de abajo

```
paquetes:
  - git: "https://github.com/stellar/stellar-dbt-public.git"
    revision: v0.0.28
```

- (Opcional) Actualice su perfil.yml para incluir configuraciones de perfil para stellar-dbt-public

```
new_project:
  target: test
  outputs:
    test:
      project: <project>
      dataset: <dataset>
      <other configurations>

stellar_dbt_public:
  target: test
  outputs:
    test:
      project: <project>
      dataset: <dataset>
      <other configurations>
```

- (Opcional) Actualice su dbt_project.yml para incluir configuraciones de proyecto para stellar-dbt-public

```
name: 'stellar_dbt'
version: '1.0.0'
config-version: 2

profile: 'new_project'

model-paths: ["models"]
analysis-paths: ["analyses"]
test-paths: ["tests"]
seed-paths: ["seeds"]
macro-paths: ["macros"]
snapshot-paths: ["snapshots"]

target-path: "target"
clean-targets:
  - "target"
  - "dbt_packages"

models:
  new_project:
    staging:
      +materialized: view
    intermediate:
      +materialized: ephemeral
    marts:
      +materialized: table

  stellar_dbt_public:
    staging:
      +materialized: ephemeral
    intermediate:
      +materialized: ephemeral
    marts:
      +materialized: table
```

- Los modelos del stellar-dbt-public package/repo ahora estarán disponibles en su nuevo proyecto dbt

## Construyendo y ejecutando localmente

### Clonar el repositorio

```
git clon https://github.com/stellar/stellar-dbt-public
```

### Instalar paquetes python necesarios

```
pip install --upgrade pip && pip install -r requirements.txt

```

### Instalar paquetes dbt necesarios

```
dbt deps
```

### Ejecutando dbt

- Hay muchos comandos útiles que vienen con dbt que se pueden encontrar en la [documentación de dbt](https://docs.getdbt.com/reference/dbt-commands#available-commands)
- stellar-dbt-public está diseñado para usar el comando `dbt build` que `ejecutar` el modelo y `test` la salida de la tabla modelo
- (Opcional) ejecutar con la opción `--full-refresh`

```
build dbt --full-refresh
```

- Las ejecuciones posteriores se pueden ejecutar con el modo incremental (sólo inserta la más reciente de los datos en lugar de reconstruir toda la historia cada vez)

```
construcción dbt
```

- También puedes especificar un solo modelo si no quieres ejecutar todos los modelos estellar-dbt-public

```
dbt build --select <model name or tag>
```

Por favor vea el directorio [stellar-dbt-public/modles/marts](https://github.com/stellar/stellar-dbt-public/tree/master/models/marts) para ver una lista completa de los modelos disponibles que dbt puede ejecutar
