---
title: Conectando
sidebar_position: 10
---

BigQuery ofrece múltiples métodos de conexión a Hubble. Esta guía detalla tres métodos comunes:

- [BigQuery UI](#bigquery-ui) - analistas que necesitan realizar análisis ad hoc usando SQL
- [BigQuery SDK](#bigquery-sdk) - desarrolladores que necesitan integrar datos en aplicaciones
- [Looker Studio](#looker-studio) - personas de negocios que necesitan visualizar datos

## Requisitos previos

Para acceder a Hubble, necesitarás un Proyecto de Google Cloud con facturación y la API de BigQuery habilitada. Para más información, sigue las instrucciones proporcionadas por [Google Cloud](https://cloud.google.com/bigquery/docs/quickstarts/query-public-dataset-console).

Google ofrece una Sandbox de BigQuery de forma gratuita que permite a los usuarios explorar conjuntos de datos en una capacidad limitada.

## Interfaz de usuario de BigQuery

1. Desde un navegador, abre el conjunto de datos [crypto-stellar.crypto_stellar](http://console.cloud.google.com/bigquery?ws=!1m4!1m3!3m2!1scrypto-stellar!2scrypto_stellar).
2. Esto abrirá el conjunto de datos público `crypto_stellar`, donde podrás navegar por su contenido en el panel **Explorer**.
3. Haz clic en el ícono de **estrella** en el panel Explorer. Esto marcará el conjunto de datos como favorito para ti. Puedes encontrar más información detallada sobre cómo marcar recursos [aquí](https://cloud.google.com/bigquery/docs/bigquery-web-ui#star_resources).

:::note

¡Hubble no se encuentra en el panel Explorer! No puedes buscar el conjunto de datos. Para ver el conjunto de datos, **debes** usar el [enlace del conjunto de datos](https://console.cloud.google.com/bigquery?ws=!1m4!1m3!3m2!1scrypto-stellar!2scrypto_stellar).

:::

Copia y pega la siguiente consulta de ejemplo en el Editor:

<CodeExample>

```sql
select
  account_id,
  balance
from `crypto-stellar.crypto_stellar.accounts_current`
order by balance desc;
```

</CodeExample>

Esta consulta devolverá los saldos de XLM para todas las direcciones de billeteras Stellar, ordenados de mayor a menor cantidad.

## SDK de BigQuery

Existen múltiples [Bibliotecas de Clientes de BigQuery API](https://cloud.google.com/bigquery/docs/reference/libraries) disponibles.

El siguiente ejemplo utiliza Python para acceder al conjunto de datos Hubble. Utiliza [esta guía](https://cloud.google.com/python/docs/setup) para obtener ayuda sobre cómo configurar un entorno de desarrollo en Python.

Instala la biblioteca cliente localmente y configura tu entorno para usar tu Proyecto de Google Cloud:

<CodeExample>

```bash
# verify python version
python3 --version
# if you do not have pip, install it
python -m pip install --upgrade pip

# install bigquery client library
pip install --upgrade google-cloud-bigquery
gcloud config set project PROJECT_ID
```

</CodeExample>

Utiliza el intérprete de Python para ejecutar el siguiente ejemplo y listar las tablas disponibles en Hubble:

<CodeExample>

```python
from google.cloud import bigquery

# Construct a BigQuery client object.
client = bigquery.Client()

dataset_id = 'crypto-stellar.crypto_stellar'

# Make an API request
tables = client.list_tables(dataset_id)

# List the tables found in Hubble
print(f'Tables contained in {dataset_id}':)
for table in tables:
    print(f'{table.project}.{table.dataset_id}.{table.table_id}')
```

</CodeExample>

Ejecuta el siguiente ejemplo para realizar una consulta y mostrar los resultados:

<CodeExample>

```python
from google.cloud import bigquery

# Construct a BigQuery client object.
client = bigquery.Client()

query = """
SELECT
 account_id,
 balance,
FROM `crypto-stellar.crypto_stellar.accounts_current`
ORDER BY balance DESC
LIMIT 10;
"""

# Make an API request
query_job = client.query(query)

print("The query data:")
for row in query_job:
    # Row values can be accessed by field name or index.
    print(f'account_id={row[0]}, balance={row["balance"]}')
```

</CodeExample>

Hay varias formas de extraer y cargar datos usando BigQuery. Consulta la [Documentación del Cliente de BigQuery](https://cloud.google.com/python/docs/reference/bigquery/latest/google.cloud.bigquery.client.Client) para más información.

## Looker Studio

[Looker Studio](https://cloud.google.com/looker-studio) es una herramienta de inteligencia empresarial que se puede utilizar para conectarse y visualizar datos del conjunto de datos Hubble.

Para conectar Hubble como fuente de datos:

1. Abre [Looker Studio](https://lookerstudio.google.com/)
2. Haz clic en **Crear** > **Fuente de datos**
3. Busca el conector de BigQuery
4. _(Opcional)_ Cambia el nombre de la fuente de datos en la parte superior de la página web
5. Haz clic en _Proyectos compartidos_ > Selecciona tu Proyecto de Google Cloud
6. Introduce `crypto-stellar` como el nombre del Proyecto compartido
7. Haz clic en el Conjunto de datos `crypto_stellar`
8. Selecciona la tabla deseada para conectar
9. Haz clic en `CONECTAR` en la parte superior derecha de la página web.

¡Y ya estás conectado!

Puedes encontrar información general sobre Looker Studio [aquí](https://support.google.com/looker-studio/).

Puedes encontrar información general sobre cómo conectar fuentes de datos [aquí](https://support.google.com/looker-studio/topic/6370331?hl=en&ref_topic=7441382&sjid=14945902445646860578-NA).
