---
title: Imagen de Billeteras de Liquidez Snapshot
sidebar_position: 10
description: ""
---

<div className="scoped-data-dictionary-table">

## Metadatos de la Tabla

| Propiedad             | Configuración                                                                                          |
| --------------------- | ------------------------------------------------------------------------------------------------------ |
| Clave Natural(s)      | liquidity_pool_id, valid_from                                                                          |
| Campo(s) de Partición | valid_to (partición mensual)                                                                           |
| Campo(s) Agrupado(s)  | liquidity_pool_id                                                                                      |
| Documentación         | [dbt docs](http://www.stellar-dbt-docs.com/#!/model/model.stellar_dbt_public.liquidity_pools_snapshot) |

## Detalles de Columnas

| Nombre               | Descripción                                                                                                                                                                                                                                 | Tipo de Datos | Valores de Dominio                                                                                                                                                                                | ¿Requerido? | Notas                                                                                                                                                   |
| -------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- |
| liquidity_pool_id    | Identificador único para un pool de liquidez.                                                                                                                                                                                               | STRING        |                                                                                                                                                                                                   | Sí          | Clave Natural. Campo Agrupado. No puede duplicarse para el mismo par de activos.                                                                        |
| type                 | Mecanismo que calcula los precios y la división de las participaciones del pool.                                                                                                                                                            | STRING        | constant_product                                                                                                                                                                                  | Sí          | Inicialmente sólo se soportan pools de producto constante. Consulta [Cap-38](https://github.com/stellar/stellar-protocol/blob/master/core/cap-0038.md). |
| fee                  | Puntos básicos cobrados como comisión de comercio.                                                                                                                                                                                          | INTEGER       | Por defecto = 30                                                                                                                                                                                  | Sí          | Las comisiones se distribuyen inmediatamente a las cuentas conforme se completan las transacciones.                                                     |
| trustline_count      | Número total de cuentas con trustlines autorizadas al pool.                                                                                                                                                                                 | INTEGER       |                                                                                                                                                                                                   | Sí          | Revocar la autorización sobre un activo retirará a las cuentas de todos los pools que contienen ese activo.                                             |
| pool_share_count     | Número total de participaciones del pool que representan participación en el pool de liquidez.                                                                                                                                              | FLOAT         |                                                                                                                                                                                                   | Sí          | Las participaciones no son transferibles. Sólo pueden ajustarse mediante depósito/retiro.                                                               |
| asset_a_type         | Tipo de activo para un lado del pool (activo vendido).                                                                                                                                                                                      | STRING        | <ul><li>credit_alphanum4</li><li>credit_alphanum12</li><li>native</li></ul>                                                                                                                       | Sí          | XLM tiene tipo = 'native'. Sin código/issuer de activo.                                                                                                 |
| asset_a_code         | Código del activo (4 o 12 caracteres) para el activo vendido en el comercio.                                                                                                                                                                | STRING        |                                                                                                                                                                                                   | No          | Los códigos de activos por sí solos no son únicos. La combinación con issuer + tipo es única.                                                           |
| asset_a_issuer       | Dirección de la cuenta del emisor original del activo vendido.                                                                                                                                                                              | STRING        |                                                                                                                                                                                                   | No          |                                                                                                                                                         |
| asset_a_id           | Codificación Farm Hash del código del activo + issuer + tipo para el activo A.                                                                                                                                                              | INTEGER       |                                                                                                                                                                                                   | No          |                                                                                                                                                         |
| asset_a_amount       | Número bruto de tokens bloqueados en el pool para el activo A.                                                                                                                                                                              | FLOAT         |                                                                                                                                                                                                   | Sí          |                                                                                                                                                         |
| asset_b_type         | Tipo de activo para el otro lado del pool.                                                                                                                                                                                                  | STRING        | <ul><li>credit_alphanum4</li><li>credit_alphanum12</li><li>native</li></ul>                                                                                                                       | Sí          | XLM tiene tipo = 'native'.                                                                                                                              |
| asset_b_code         | Código del activo (4 o 12 caracteres) para el otro activo en el comercio.                                                                                                                                                                   | STRING        |                                                                                                                                                                                                   | No          | Los códigos de activos por sí solos no son únicos. La combinación con issuer + tipo es única.                                                           |
| asset_b_issuer       | Dirección de la cuenta del emisor original del otro activo.                                                                                                                                                                                 | STRING        |                                                                                                                                                                                                   | No          |                                                                                                                                                         |
| asset_b_id           | Codificación Farm Hash del código del activo + issuer + tipo para el activo B.                                                                                                                                                              | INTEGER       |                                                                                                                                                                                                   | No          |                                                                                                                                                         |
| asset_b_amount       | Número bruto de tokens bloqueados en el pool para el activo B.                                                                                                                                                                              | FLOAT         |                                                                                                                                                                                                   | Sí          |                                                                                                                                                         |
| last_modified_ledger | Número de secuencia del ledger cuando se modificó por última vez la entrada del pool.                                                                                                                                                       | INTEGER       |                                                                                                                                                                                                   | Sí          | Clave Natural. Campo Agrupado. La eliminación no cuenta como modificación.                                                                              |
| ledger_entry_change  | Código que describe el tipo de cambio en la entrada del ledger.                                                                                                                                                                             | INTEGER       | <ul><li>0 - Entrada de Ledger Creada</li><li>1 - Entrada de Ledger Actualizada</li><li>2 - Entrada de Ledger Eliminada</li><li>3 - Estado de la Entrada de Ledger (valor de la entrada)</li></ul> | Sí          | Actualizaciones no válidas para saldos reclamables.                                                                                                     |
| deleted              | Indica si la entrada del pool de liquidez fue eliminada.                                                                                                                                                                                    | BOOLEAN       | true, false                                                                                                                                                                                       | Sí          | Las entradas eliminadas no pueden recuperarse; el historial se mantiene.                                                                                |
| batch_id             | Representación en cadena del ID de ejecución para un DAG dado en Airflow. Toma la forma de `scheduled__<batch_end_date>-<dag_alias>`. Los IDs de batch son únicos para el lote y ayudan con la monitorización y capacidades de reejecución. | string        |                                                                                                                                                                                                   | Sí          |                                                                                                                                                         |
| batch_run_date       | Fecha de inicio para el intervalo del lote.                                                                                                                                                                                                 | DATETIME      |                                                                                                                                                                                                   | Sí          | Equivalente a closed_at.                                                                                                                                |
| closed_at            | Marca temporal en UTC cuando el ledger se cerró y confirmó.                                                                                                                                                                                 | TIMESTAMP     |                                                                                                                                                                                                   | Sí          | Los ledgers se cierran aproximadamente cada 5 segundos.                                                                                                 |
| ledger_sequence      | Número de secuencia del ledger.                                                                                                                                                                                                             | INTEGER       |                                                                                                                                                                                                   | Sí          | Representa el orden del ledger dentro de la blockchain Stellar.                                                                                         |
| batch_insert_ts      | Marca temporal en UTC cuando el lote fue insertado en la base de datos.                                                                                                                                                                     | TIMESTAMP     |                                                                                                                                                                                                   | Sí          | Usado para ingeniería/depuración, no para análisis.                                                                                                     |
| airflow_start_ts     | Marca temporal cuando comenzó la tarea de airflow.                                                                                                                                                                                          | STRING        |                                                                                                                                                                                                   | Sí          | Ayuda a detectar cargas de relleno retroactivo.                                                                                                         |
| valid_from           | Marca temporal cuando esta fila de imagen se hizo efectiva.                                                                                                                                                                                 | TIMESTAMP     |                                                                                                                                                                                                   | Sí          | Ayuda a rastrear cambios con el tiempo.                                                                                                                 |
| valid_to             | Marca temporal cuando esta fila deja de ser válida.                                                                                                                                                                                         | TIMESTAMP     |                                                                                                                                                                                                   | No          | Null = aún activo.                                                                                                                                      |

## Ejemplos de Preguntas de Negocio

1. ¿Cuál fue la liquidez total (asset_a_amount + asset_b_amount) en todos los pools en una fecha dada?

```sql
SELECT
  DATE('2025-01-15') AS as_of_date,
  SUM(asset_a_amount + asset_b_amount) AS total_liquidity
FROM `crypto-stellar.snapshots.liquidity_pools_snapshot`
WHERE DATE(valid_from) <= DATE('2025-01-15')
  AND (DATE(valid_to) > DATE('2025-01-15') OR valid_to IS NULL)
  AND deleted = FALSE;
```

</div>
