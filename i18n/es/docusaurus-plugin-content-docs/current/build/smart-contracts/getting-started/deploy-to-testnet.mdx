---
sidebar_position: 20
title: 2. Desplegar a Testnet
description: Despliegue un contrato inteligente a una red de pruebas en vivo.
---

<head>
  <meta charSet="utf-8" />
  <meta
    property="og:title"
    content="Despliega un contrato inteligente a una red de pruebas en vivo."
  />
  <meta
    property="og:description"
    content="Despliega e interactúa con un contrato inteligente en una red de pruebas en vivo llamada Testnet."
  />
</head>

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import { getPlatform } from "@site/src/helpers/getPlatform";

Para resumir lo que hemos hecho hasta ahora, en [Setup](setup.mdx):

- establecemos nuestro entorno local para escribir contratos inteligentes de Rust
- instaló el stellar-cli
- configuró el stellar-cli para comunicarse con la red de pruebas estelar a través de RPC
- y configuró una identidad para firmar transacciones

En [Hola Mundo](./hello-world.mdx) creamos un proyecto `hola-mundo`, y aprendimos a probar y construir el contrato `HelloWorld`. Ahora estamos listos para desplegar ese contrato en Testnet, e interactuar con él.

## Desplegar

Para desplegar tu contrato de HelloWorld, ejecuta el siguiente comando:

<Tabs groupId="platform" defaultValue={getPlatform()}>

<TabItem value="unix" label="macOS/Linux">

```sh
despliegue de contrato estelar \
  --wasm target/wasm32-unknown-unknown/release/hello_world.wasm \
  --source alice \
  --network testnet
```

</TabItem>

<TabItem value="windows" label="Windows (PowerShell)">

```powershell
despliegue de contrato estelar `
  --wasm target/wasm32-unknown-unknown/release/hello_world.wasm `
  --source alice `
  --network testnet
```

</TabItem>

</Tabs>

Esto devuelve el id del contrato, comenzando con un `C`. En este ejemplo, vamos a usar `CACDYF3CYMJEJTIVFESQYZTN67GO2R5D5IUABTCUG3HXQSRXCSOROBAN`, así que reemplázalo con su actual id de contrato.

## Interactuar

Usando el código que escribimos en [Escribe un Contrato](./hello-world.mdx#contract-source-code) y el resultante `. archivo asm` que construimos en [Build](hello-world.mdx#build-the-contract), ejecuta el siguiente comando para invocar la función `hola`.

:::info

En segundo plano, el CLI está haciendo llamadas RPC. Para obtener información sobre ese pedido de la página de referencia [RPC](../../data/rpc/admin-guide.mdx).

:::

<Tabs groupId="platform" defaultValue={getPlatform()}>

<TabItem value="unix" label="macOS/Linux">

```sh
stellar contract invoke \
  --id CACDYF3CYMJEJTIVFESQYZTN67GO2R5D5IUABTCUG3HXQSRXCSOROBAN \
  --source alice \
  --network testnet \
  -- \
  hola \
  --to RPC
```

</TabItem>

<TabItem value="windows" label="Windows (PowerShell)">

```powershell
contrato estelar invoca `
  --id CACDYF3CYMJEJTIVFESQYZTN67GO2R5D5IUABTCUG3HXQSRXCSOROBAN `
  --source alice `
  --network testnet `
  -- `
  saludo`
  --to RPC
```

</TabItem>

</Tabs>

La siguiente salida debería aparecer.

```json
["Hola", "RPC"]
```

:::info

¡El `--` doble guión es requerido!

Este es un [patrón CLI general](https://unix.stackexchange.com/questions/11376/what-does-double-dash-mean) usado por otros comandos como [cargo run](https://doc.rust-lang.org/cargo/commands/cargo-run.html). Todo después del `--`, a veces llamado [slop](https://github.com/clap-rs/clap/issues/971), es pasado a un proceso secundario. En este caso, `stellar contract invoke` construye un _implícito CLI_ sobre la marcha para el método `hello` en tu contrato. Puede hacer esto porque Soroban SDK incorpora el esquema de su contrato / tipos de interfaz directamente en el archivo `.wasm` que se implementa en la cadena. También puedes probar:

```sh
contrato estelar invocar ... -- --help
```

y

```sh
contrato estelar invocar ... -- hola --ayuda
```

:::

## Summary

En esta lección aprendimos a:

- desplegar un contrato en Testnet
- interactuar con un contrato desplegado

A continuación añadiremos un nuevo contrato a este proyecto y veremos cómo nuestro espacio de trabajo puede acomodar un proyecto multicontrato. El nuevo contrato mostrará un poco de las capacidades de almacenamiento de Soroban.
