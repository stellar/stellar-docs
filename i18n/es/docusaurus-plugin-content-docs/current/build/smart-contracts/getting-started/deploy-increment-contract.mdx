---
sidebar_position: 40
title: "Desplegar el Contrato Inteligente de Incremento en Testnet Usando la CLI: Una Guía"
sidebar_label: 4. Desplegar el Increment Contract
description: Sigue esta guía paso a paso en la sección final de Comenzar para aprender cómo desplegar el contrato inteligente de incremento en Testnet usando la Stellar CLI.
---

# 4. Desplegar el Contrato de Incremento

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import { getPlatform } from "@site/src/helpers/getPlatform";

## Despliegue de dos pasos

Vale la pena saber que `deploy` es en realidad un proceso de dos pasos.

1. **Sube los bytes del contrato a la red.** Soroban actualmente se refiere a esto como _instalando_ el contrato—desde la perspectiva de la blockchain, esta es una metáfora razonable. Esto sube los bytes del contrato a la red, indexándolo por su hash. Este código de contrato ahora puede ser referenciado por múltiples contratos, lo que significa que tendrían exactamente el mismo _comportamiento_ pero un estado de almacenamiento separado.

2. **Instanciar el contrato.** Esto realmente crea lo que probablemente pienses como un Smart Contract. Crea un nuevo ID de contrato y lo asocia con los bytes del contrato que fueron subidos en el paso anterior.

Puedes ejecutar estos dos pasos por separado. Probémoslo con el contrato Increment:

:::info

Si el contrato aún no ha sido desarrollada, ejecuta el comando de construcción `stellar contract build` desde el directorio raíz del contrato.

:::

<Tabs groupId="platform" defaultValue={getPlatform()}>

<TabItem value="unix" label="macOS/Linux">

```sh
stellar contract upload \
  --network testnet \
  --source-account alice \
  --wasm target/wasm32v1-none/release/increment.wasm
```

</TabItem>

<TabItem value="windows" label="Windows (PowerShell)">

```powershell
stellar contract upload `
  --network testnet `
  --source-account alice `
  --wasm target/wasm32v1-none/release/increment.wasm
```

</TabItem>

</Tabs>

Esto devuelve el hash de los bytes Wasm, como `6ddb28e0980f643bb97350f7e3bacb0ff1fe74d846c6d4f2c625e766210fbb5b`. Ahora puedes usar `--wasm-hash` con `deploy` en lugar de `--wasm.` Asegúrate de reemplazar el ejemplo de hash wasm con el tuyo propio.

<Tabs groupId="platform" defaultValue={getPlatform()}>

<TabItem value="unix" label="macOS/Linux">

```sh
stellar contract deploy \
  --wasm-hash 6ddb28e0980f643bb97350f7e3bacb0ff1fe74d846c6d4f2c625e766210fbb5b \
  --source-account alice \
  --network testnet \
  --alias increment
```

</TabItem>

<TabItem value="windows" label="Windows (PowerShell)">

```powershell
stellar contract deploy `
  --wasm-hash 6ddb28e0980f643bb97350f7e3bacb0ff1fe74d846c6d4f2c625e766210fbb5b `
  --source-account alice `
  --network testnet `
  --alias increment
```

</TabItem>

</Tabs>

Este comando devolverá el ID del contrato (por ejemplo, `CACDYF3CYMJEJTIVFESQYZTN67GO2R5D5IUABTCUG3HXQSRXCSOROBAN`), y puedes usarlo para invocar el contrato como hicimos en ejemplos anteriores.

<Tabs groupId="platform" defaultValue={getPlatform()}>

<TabItem value="unix" label="macOS/Linux">

```sh
stellar contract invoke \
  --id CACDYF3CYMJEJTIVFESQYZTN67GO2R5D5IUABTCUG3HXQSRXCSOROBAN \
  --source-account alice \
  --network testnet \
  -- \
  increment
```

</TabItem>

<TabItem value="windows" label="Windows (PowerShell)">

```powershell
stellar contract invoke `
  --id CACDYF3CYMJEJTIVFESQYZTN67GO2R5D5IUABTCUG3HXQSRXCSOROBAN `
  --source-account alice `
  --network testnet `
  -- `
  increment
```

</TabItem>

</Tabs>

Deberías ver la siguiente salida:

```sh
1
```

Ejecuta esto varias veces más para observar cómo cambia el conteo.

## Ejecutar tu propia red/nodo

A veces necesitarás ejecutar tu propio nodo:

- ¡Aplicaciones en producción! Stellar mantiene nodos RPC de prueba públicos para Testnet y Futurenet, pero no para Mainnet. En su lugar, necesitarás ejecutar tu propio nodo y apuntar tu aplicación a ese nodo. Si quieres usar una plataforma de software como servicio para esto, [varios proveedores](../../../data/apis/rpc/providers.mdx) están disponibles.
- Cuando necesites una red que difiera de la versión desplegada en Testnet.

El equipo de RPC mantiene contenedores Docker que facilitan esto al máximo. Consulta la referencia de [RPC](../../../data/apis/rpc/admin-guide/README.mdx) para obtener más detalles.

## Próximamente

¿Listo para convertir estos contratos desplegados en una aplicación web simple? Dirígete a la [sección Construir un Frontend Dapp](../../apps/dapp-frontend.mdx).
