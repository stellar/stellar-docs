---
title: Usar Docker para construir y ejecutar dapps
description: Understand Docker y úselo para construir aplicaciones.
---

## ¿Qué es Docker?

Bienvenido al mundo de [Docker](https://www.docker.com/), una herramienta esencial para el desarrollo de software. Docker empaqueta software en unidades conocidas como contenedores, asegurando consistencia, aislamiento, portabilidad y escalabilidad.

Docker es particularmente útil en el desarrollo de dapp. Ayuda a administrar microservicios, mantener ambientes consistentes durante las etapas de desarrollo y simular una red descentralizada durante las pruebas.

La comprensión de Docker comienza con la comprensión de las imágenes y contenedores Docker. Una imagen Docker, creada a partir de un archivo Dockerfile, es un paquete que contiene todo lo necesario para ejecutar el software. Un contenedor Docker es una instancia en ejecución de esta imagen.

## Construir y ejecutar una imagen de Docker

Puede crear una imagen de Docker usando el comando de construcción de docker con un archivo Dockerfile. Una vez creada la imagen, puede ejecutar un contenedor Docker usando el comando docker.

En el contexto del ejemplo Soroban dapps, entender cómo construir imágenes Docker es crucial. Las imágenes Docker sirven como base para nuestro contenedor, que proporciona el entorno para que nuestra dapp se ejecute.

Aquí hay un ejemplo de nuestro ejemplo

Para ilustrar el proceso, tomemos un ejemplo de nuestro [ejemplo de crowdfund dapp]. Para construir la imagen Docker, utiliza un comando que está encapsulado dentro de nuestro Makefile:

```bash
hacer construcción-docker
```

Este comando simplifica el proceso de construcción de Docker y asegura que se ejecute de forma consistente cada vez. Cuando ejecutas `make build-docker`, Docker ejecuta las siguientes instrucciones:

```bash
build docker. \
 --tag soroban-preview:11 \
 --force-rm \
 --rm
```

### Resumen de Makefile

```bash
build de docker .
```

Instruye Docker para construir una imagen usando el Dockerfile en el directorio actual (indicado por el ".").

```bash
--tag soroban-vista previa:11
```

Da un nombre y una etiqueta a nuestra imagen, en este caso, soroban-preview con la etiqueta 9.

```bash
--force-rm
```

Asegura que Docker elimina cualquier contenedor intermedio después de que el proceso de compilación termine. Esto mantiene nuestro medio ambiente limpio.

```bash
--rm
```

Garantiza la eliminación del contenedor intermedio, incluso si la construcción falla. Usando `make build-docker`, está acosando el poder de Docker para crear un entorno consistente y confiable para nuestro dapp.

## Despliegue del Contenedor

Puede estirar el proceso de implementación usando un script para ejecutar el contenedor Docker. El siguiente script es un envoltorio para la [imagen de Docker 'stellar/quickstart'], que proporciona una forma rápida de ejecutar una red Stellar. Puede encontrar un ejemplo del script `quickstart.sh` ubicado en el directorio raíz del [ejemplo de crowdfund dapp].

```bash title="quickstart.sh"
#!/bin/bash

set -e

case "$1" in
standalone)
    echo "Using standalone network"
    ARGS="--standalone"
    ;;
futurenet)
    echo "Using Futurenet network"
    ARGS="--futurenet"
    ;;
*)
    echo "Usage: $0 standalone|futurenet"
    exit 1
    ;;
esac

shift

# Run the soroban-preview container
# Remember to do:
# make build-docker

echo "Creating docker soroban network"
(docker network inspect soroban-network -f '{{.Id}}' 2>/dev/null) \
  || docker network create soroban-network

echo "Searching for a previous soroban-preview docker container"
containerID=$(docker ps --filter="name=soroban-preview" --all --quiet)
if [[ ${containerID} ]]; then
    echo "Start removing soroban-preview container."
    docker rm --force soroban-preview
    echo "Finished removing soroban-preview container."
else
    echo "No previous soroban-preview container was found"
fi

currentDir=$(pwd)
docker run -dti \
  --volume ${currentDir}:/workspace \
  --name soroban-preview \
  -p 8001:8000 \
  --ipc=host \
  --network soroban-network \
  soroban-preview:11

# Run the stellar quickstart image

docker run --rm -ti \
  --name stellar \
  --network soroban-network \
  -p 8000:8000 \
  stellar/quickstart:testing \
  $ARGS \
  --enable-soroban-rpc \
  "$@" # Pass through args from the CLI
```

El script `quickstart.sh` establece el entorno Docker para ejecutar dapp. Permite elegir entre una red independiente o la red Futurenet. El script realiza los siguientes pasos:

- Determina la red basada en el argumento proporcionado (`standalone` o `futurenet`).
- Crea la red Docker llamada `soroban-network` si no existe.
- Elimina cualquier contenedor `soroban-preview` Docker existente.
- Ejecuta el contenedor `soroban-preview`, que proporciona el entorno de Preview Soroban para el desarrollo.
- Ejecuta la imagen `stellar/quickstart` Docker, que configura la red estelar usando el tipo de red elegido y habilita el RPC Soroban.

[imagen docker `stellar/quickstart`]: <https://hub.docker.com/r/stellar/inicio rápido>
[ejemplo dapp crowdfund]: https://github.com/stellar/soroban-example-dapp
