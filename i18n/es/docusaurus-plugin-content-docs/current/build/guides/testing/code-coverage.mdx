---
title: Cobertura de Código
hide_table_of_contents: true
description: Las herramientas de cobertura de código encuentran código no probado.
sidebar_position: 11
---

Medir la cobertura de código utiliza herramientas para identificar las líneas de código que son y no son ejecutadas por las pruebas. Las estadísticas de cobertura de código pueden darnos una idea de cuánto de un contrato está realmente probado por sus pruebas.

:::tip

Las pruebas de mutación son otra forma de pruebas de cobertura. Ver [Pruebas de Mutación].

:::

En proyectos de Rust, la herramienta `cargo-llvm-cov` se puede utilizar para generar estadísticas de cobertura, informes en HTML y archivos lcov que los IDE cargarán para mostrar la cobertura en el editor de código.

Instala `cargo-llvm-cov` antes de proceder con los otros comandos.

```
cargo install cargo-llvm-cov
```

## Cómo Obtener Estadísticas de Cobertura

Ejecuta el subcomando de prueba que ejecutará las pruebas y mostrará las estadísticas por archivo.

```
cargo llvm-cov test
```

## Cómo Generar un Informe de Cobertura con Código

Ejecuta el subcomando de prueba que ejecutará las pruebas y generará un conjunto de archivos HTML que mostrarán qué líneas de código están cubiertas.

```
cargo llvm-cov test --html --open
```

La salida del comando indicará dónde se ha escrito el archivo HTML. Abre el archivo en un navegador.

## Cómo Generar un Archivo LCOV para IDEs

Ejecuta el subcomando de prueba que ejecutará las pruebas y generará un único archivo `lcov.info`.

```
cargo llvm-cov test --lcov --output-path=lcov.info
```

Carga el archivo `lcov.info` en tu IDE utilizando su función de cobertura. En VSCode, esto se puede hacer instalando la extensión [Coverage Gutters] y ejecutando el comando `Coverage Gutters: Watch`.

:::info

Medir la cobertura de código en pruebas de fuzz requiere herramientas diferentes. Ver [Fuzzing].

:::

[Canales de Cobertura]: https://marketplace.visualstudio.com/items?itemName=ryanluker.vscode-coverage-gutters
[Pruebas de Mutación]: mutation-testing.mdx
[Fuzzing]: fuzzing.mdx
