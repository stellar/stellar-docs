---
title: Desaf√≠o Dapp de pago
description: ¬°Enfr√©ntate al desaf√≠o y domina la aplicaci√≥n de pago Soroban!
---

:::caution

El Desaf√≠o de Dapps est√° siendo actualizado. Es posible que algunas funciones no funcionen por el tiempo. Gracias por su paciencia mientras trabajamos para que vuelva a estar disponible pronto!

:::

import connect_freighter from "@site/static/img/connect_freighter.png";
import freighter_settings from "@site/static/img/freighter_settings.png";
import add_token from "@site/static/img/add_token.png";
import new_token from "@site/static/img/new_token.png";
import manage_assets from "@site/static/img/manage_assets.png";
import added_balance from "@site/static/img/added_balance.png";
import aucb_balance from "@site/static/img/aucb_balance.png";
import pmt_dest from "@site/static/img/pmt_dest.png";
import next from "@site/static/img/next.png";
import choose_token from "@site/static/img/choose_token.png";
import select_token from "@site/static/img/select_token.png";
import payment_settings from "@site/static/img/payment_settings.png";
import confirm_pmt from "@site/static/img/confirm_pmt.png";
import submit_pmt from "@site/static/img/submit_pmt.png";
import end from "@site/static/img/end.png";
import balance_rcvr from "@site/static/img/balance_rcvr.png";
// import { ParentChallengeForm } from "@site/src/components/atoms/challenge-form";
// import { ParentChallengeContractForm } from "@site/src/components/atoms/challenge-contract-form";
// import CompleteStepButton from "@site/src/components/atoms/complete-step-button";
// import StartChallengeButton from "@site/src/components/atoms/start-challenge-button";
import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import "./styles.css";

{/_ <StartChallengeButton id={1} />_/}

Este desaf√≠o te guiar√° a trav√©s del proceso de configuraci√≥n, personalizaci√≥n e implementaci√≥n de un dapp de pago Soroban, una aplicaci√≥n de pago basada en blockchain dise√±ada para trabajar con la cartera de Freighter. Las aplicaciones de pago son potentes porque ofrecen a los usuarios medios equitativos y accesibles para enviar y recibir pagos. Las transacciones a trav√©s de un dapp de pago son peer-to-peer, lo que significa que ninguna autoridad central, ning√∫n tercero o banco supervisa o controla el pago. Esta descentralizaci√≥n reduce las comisiones de pago, que son comparativamente m√≠nimas en un blockchain, y el tiempo de las transacciones, que es, a trav√©s de una aplicaci√≥n de pago, casi instant√°nea. Es m√°s, la integraci√≥n de la cartera en un dapp de pago, como en este caso Freighter significa que cualquiera con un smartphone y la cartera instalada puede usar el dapp de pago, sin importar d√≥nde se encuentren en el mundo.

## Punto de control 0: üì¶ Instalar dependencias

Antes de comenzar, aseg√∫rese de tener instaladas las siguientes opciones en su sistema. Tambi√©n querr√° estar seguro de que tiene instaladas las versiones m√°s actualizadas de Rust y Soroban.

- `stellar-cli`: [Instalar stellar-cli](/docs/build/smart-contracts/getting-started/setup#install-the-stellar-cli)
- `Node` (>=16.14.0 \< 17.0.0): [Descargar Node](https://nodejs.org/en/download/)
- `Yarn` (v1.22.5 o superior): [Instalar Yarn](https://yarnpkg.com/getting-started/install)
- `Cartera de cartera`: [Cartera de cartera](https://freighter.app/)

Node y Yarn son gestores de paquetes que le permiten instalar y administrar dependencias durante el proceso de desarrollo de dapp. Carga es la cartera que se integrar√° a su aplicaci√≥n de pago.

## Punto de control 1: üöÄ Clonar el repositorio

Clonar y configurar el repositorio Soroban Dapps Challenge, que contiene los archivos Soroban Payment Dapp. Luego ejecute yarn para instalar las dependencias.

```bash
git clone https://github.com/stellar/soroban-dapps-challenge.git
cd soroban-dapps-challenge
git checkout payment
yarn
```

## Punto de control 2: üé¨ Desplegar Contratos Inteligentes

Para este paso necesitar√°s clonar e implementar el contrato inteligente de token Soroban desde el [repositorio de ejemplos de Soroban](https://github.com/stellar/soroban-examples/tree/v20.0.0/token). Este Soroban token smart contract, dividido en varios m√≥dulos m√°s peque√±os (como es la costumbre para contratos inteligentes complejos como √©ste), le permite crear y administrar fichas en Soroban.

El token Soroban es un token personalizado que se utilizar√° para facilitar los pagos en el Dapp de pago. Los tokens son esencialmente activos programables en una cadena de bloqueos, y los contratos inteligentes proporcionan la automatizaci√≥n y reglas para estos tokens. Permiten condiciones predefinidas y acciones relacionadas con los tokens, tales como emisi√≥n, transferencia, y funciones m√°s complejas, asegurando la ejecuci√≥n de estas operaciones sin necesidad de intermediarios. En el caso de esta aplicaci√≥n de pago, usar√° el token Soroban para inicializar y acu√±ar activos "Demo Token", o DT, que puede utilizar para realizar pagos a trav√©s del Dapp de pago.

:::info

Los Soroban Tokens no son los mismos que [Stellar Asset Contracts](https://soroban.stellar.org/docs/advanced-tutorials/stellar-asset-contract) que permiten a los usuarios usar sus balances de activos nativos Stellar en Soroban. Si tienes curiosidad sobre las mec√°nicas de los Contratos de Activos Soroban y Stellar, puedes leer m√°s sobre ellos en [Soroban Token Playground](https://token-playground.gitbook.io/guide/).

:::

En una nueva ventana de terminal, siga los pasos siguientes para construir y desplegar el contrato inteligente tokens:

```bash
git clon https://github.com/stellar/soroban-examples.git
cd soroban-examples/token
make
```

Esto construir√° los contratos inteligentes y los pondr√° en el directorio `token/target/wasm32-unknown-unknown/release`.

A continuaci√≥n, necesitar√° desplegar el token smart contract en Futurenet. Para desplegar en el futuro, necesitar√° un par de claves de cuenta Stellar (una clave p√∫blica y su clave secreta correspondiente). Ten en cuenta que el carguero, donde puedes crear y ver la clave p√∫blica de tu cuenta, intencionalmente no le permite a usted ni a ninguna aplicaci√≥n acceder a su clave secreta. Por lo tanto, se recomienda generar un nuevo par de claves de Futurenet usando [Stellar Laboratory](https://laboratory.stellar. rg/#account-creator?network=futurenet), depositar fondos en la cuenta y luego importar la clave p√∫blica del par de claves en su cartera de Freighter.

Una vez que lo haya hecho y est√© listo para desplegar el token smart contract a Futurenet, abre un terminal en el directorio `soroban-examples/token` y sigue los siguientes pasos:

```bash
soroban contrato desplegar \
    --wasm target/wasm32-unknown-unknown/release/soroban_token_contract.wasm \
    --source <ADMIN_ACCOUNT_SECRET_KEY> \
    --rpc-url https://rpc-futurenet.stellar.org:443 \
    --network-passphrase 'Test SDF Future Network ; octubre 2022'
```

Desplegando el contrato de token a Futurenet devolver√° un ID de contrato que necesitar√° utilizar en el siguiente paso para invocar el contrato inteligente de token e inicializar el token Soroban como "Demo Token":

```bash
soroban contrato invoca \
    --id <TOKEN_CONTRACT_ID> \
    --source-account <ADMIN_ACCOUNT_SECRET_KEY> \
    --rpc-url https://rpc-futurenet. vendedor. rg:443 \
    --network-passphrase 'Test SDF Future Network ; Octubre 2022' \
    -- inicializar \
    --admin <ADMIN_PUBLIC_KEY> \
    --decimal 7 \
    --name "Demo Token" \
    --symbol "DT"
```

Echemos un vistazo a lo que est√° sucediendo aqu√≠:

- admin: Esta es la clave p√∫blica de la cuenta de administrador y corresponde a la clave secreta que utiliz√≥ para desplegar el contrato en el paso anterior. Es la cuenta "maestra" la que tiene control sobre el contrato de token.

- decimal: Este valor decimal de precisi√≥n se establece en 7. Este valor indica que su token tendr√° 7 decimales, proporcionando un control fino y flexibilidad en las transacciones.

- nombre: Este valor se establece en "Token de demostraci√≥n", el nombre de su token escrito como una cadena.

- s√≠mbolo: Su s√≠mbolo de token es una cadena corta que representa su token, en este caso, "DT."

A continuaci√≥n, necesitar√° acu√±ar algunos tokens a la cuenta de su remitente (la cuenta de administrador que utiliz√≥ para desplegar el contrato e inicializar el token arriba). Para hacer esto, ejecute el siguiente comando:

```bash
soroban contrato invoca \
    --id <TOKEN_CONTRACT_ID> \
    --source-account <ADMIN_ACCOUNT_SECRET_KEY> \
    --rpc-url https://rpc-futurenet. vendedor. rg:443 \
    --network-passphrase 'Test SDF Future Network ; Octubre 2022' \
    -- menta \
    --a <USER_PUBLIC_KEY> \
    --amount 1000000000
```

Esto acu√±ar√° 100 DT tokens a la direcci√≥n `to`. Puedes comprobar el saldo de cualquier direcci√≥n ejecutando el siguiente comando:

```bash
soroban contrato invoca \
    --id <TOKEN_CONTRACT_ID> \
    --source-account <ADMIN_ACCOUNT_SECRET_KEY> \
    --rpc-url https://rpc-futurenet. vendedor. rg:443 \
    --network-passphrase 'Test SDF Future Network ; Octubre 2022' \
    -- balance \
    --id <ANY_PUBLIC_KEY>
```

{/_ <ParentChallengeContractForm id={1} progress={1} />_/}

## Punto de control 3: üñ•Ô∏è Iniciar el Frontend

En este punto de control, se asegurar√° de que el frontend de la aplicaci√≥n de pago se comunique con √©xito con el backend, permitiendo que las transacciones sean creadas, firmadas y enviadas a la red.

Abre un terminal en el directorio `soroban-dapps-challenge` y ejecuta el siguiente comando para ejecutar el frontend de tu dapp:

```bash
inicio de yarn
```

Deber√≠a ver la siguiente salida:

```bash
$ webpack-dev-server --config config/webpack.dev.js
<i> [webpack-dev-server] El proyecto se est√° ejecutando en:
<i> [webpack-dev-server] Loopback: http://localhost:9000/
...
```

Ahora abre tu navegador y navega a [`http://localhost:9000`](http://localhost:9000). Deber√≠as ver el Dapp de pago ejecut√°ndose en tu navegador.

<a href="http://localhost:9000">
  <img src={connect_freighter} alt="connect" className="image-style_reg" />
</a>

## Punto de control 4: üöÄ Odisea de transferencia de token

¬°Strap in y prep√°rate para enviar algunos tokens! En este paso, usar√°s el Payment Dapp para enviar tokens de Soroban a otra cuenta.

<Tabs defaultValue="addToken" values={[
    {label: 'üì° Add Token to Freighter', value: 'addToken'},
    {label: 'üè¶ Send Tokens', value: 'sendTokens'},
]}>

<TabItem value="addToken">
<Tabs defaultValue="connectWallet" values={[
    {label: 'Connect', value: 'connectWallet'},
    {label: 'Add', value: 'addSoroban'},
    {label: 'Check', value: 'verifyToken'},
]}>

<TabItem value="addSoroban">

#### A√±adir Token Soroban

Para agregar el token DT reci√©n mintado escribe a tu cartera, abra su cartera de carga y haga clic en el bot√≥n `Administrar activos` en la parte inferior de la pantalla.

<img src={manage_assets} alt="manage assets" className="image-style" />

Luego haga clic en el bot√≥n 'A√±adir token Soroban ' e ingrese el ID del contrato de token que fue devuelto cuando despleg√≥ el contrato inteligente de token.

<img src={add_token} alt="add token" className="image-style" />
<br />
<img src={new_token} alt="new token" className="image-style" />

</TabItem>

<TabItem value="verifyToken">

#### Adici√≥n de Token

Ahora deber√≠a ver el token Soroban en su cartera de carga.

<img src={aucb_balance} alt="added balance" className="image-style" />
</TabItem>

</Tabs>
</TabItem>

<TabItem value="sendTokens">
<Tabs defaultValue="connectFreighter" values={[
    {label: 'Connect', value: 'connectFreighter'},
    {label: 'Send', value: 'sendDetails'},
    {label: 'Verify', value: 'verifyTx'},
]}>

<TabItem value="connectFreighter">

#### Conectar Freighter y seleccionar cuenta

Volver a la p√°gina web de tu Dapp, aseg√∫rate de que Freighter est√° conectado y luego selecciona la cuenta que se utilizar√° para enviar tokens de Soroban. Haga clic en "siguiente" para continuar.

<img src={next} alt="next" className="image-style_reg"/>
</TabItem>

<TabItem value="sendDetails">

#### Proporcionar detalles de transferencia de token

Para enviar tokens DT a trav√©s del dapp de pago, proporcione la clave p√∫blica de la cuenta que recibir√° los tokens Soroban. (Esta podr√≠a ser otra de sus propias cuentas de carga.)

<img src={pmt_dest} alt="payment destination" className="image-style_reg" />

Ingrese el token ID del token Soroban.

<img src={choose_token} alt="choose token" className="image-style_reg" />

Ingrese la cantidad de fichas Soroban a enviar.

<img src={select_token} alt="select token" className="image-style_reg" />

Confirme la configuraci√≥n del pago, que incluye la opci√≥n de a√±adir un memo y mostrar la tarifa de la transacci√≥n.

<img src={payment_settings} alt="payment settings" className="image-style_reg"/>
</TabItem>

<TabItem value="verifyTx">

#### Confirmar y enviar transacci√≥n

Revisa los detalles de la transacci√≥n para garantizar la precisi√≥n y luego haz clic en "Firmar con carga". El carguero le pedir√° que firme la transacci√≥n con la clave privada de su cartera.

<img src={confirm_pmt} alt="confirm payment" className="image-style_reg" />

Una vez firmado, haga clic en "Enviar pago". La transacci√≥n se enviar√° a la red.

<img src={submit_pmt} alt="submit payment" className="image-style_reg" />

El Dapp de Pago mostrar√° un mensaje de confirmaci√≥n una vez que la transacci√≥n se haya enviado correctamente. Esto incluye la respuesta XDR, que puede ser decodificada usando [laboratorio estelar](https://laboratory.stellar.org/#xdr-viewer?type=TransactionResult&network=futurenet).

<img src={end} alt="end" className="image-style_reg" />

Ahora puede comprobar el saldo de la cuenta receptora para asegurarse de que la transacci√≥n fue exitosa.

<img src={balance_rcvr} alt="balance receiver" className="image-style" />

Como se indic√≥ anteriormente, tambi√©n puedes comprobar el saldo de una cuenta con el soroban-cli ejecutando el siguiente comando:

```bash
 soroban contrato invoca \
    --id <TOKEN_CONTRACT_ID> \
    --source-account <ANY_SECRET_KEY> \
    --rpc-url https://rpc-futurenet. vendedor. rg:443 \
    --network-passphrase 'Test SDF Future Network ; Octubre 2022' \
    -- balance \
    --id <RECIPIENT_PUBLIC_KEY>
```

Salida:

```bash
"1000000000"
```

</TabItem>
</Tabs>

</TabItem>
</Tabs>

{/_ <CompleteStepButton id={1} progress={2}>Tokens enviados</CompleteStepButton>_/}

## Punto de control 5: üö¢ ¬°Env√≠alo! üöÅ

En este paso, desplegar√°s tu dapp en una plataforma de alojamiento para que cualquier persona con conexi√≥n a Internet pueda acceder a ella. Puedes usar cualquier plataforma de alojamiento que quieras, pero para fines de demostraci√≥n, esta secci√≥n utilizar√° [Vercel](https://vercel.com/). Vercel es una plataforma en la nube para sitios est√°ticos y funciones sin servidor que ofrece un nivel gratuito para los desarrolladores. Tambi√©n tiene una integraci√≥n integrada con GitHub, lo que facilita el despliegue de su dapp directamente desde su repositorio de GitHub.

Si ya no tiene una [cuenta de Vercel], necesitar√° crear una y vincularla a su cuenta de GitHub.

[cuenta de vercel]: https://vercel.com/login

Primero instale el cli:

```bash
npm i --global vercel
```

Luego, elimina cualquier directorio `.vercel` existente en tu proyecto para asegurarte de que est√°s empezando con una pizarra limpia:

```bash
rm -rf .vercel
```

A continuaci√≥n, tendr√° que crear un nuevo proyecto en vercel. Para hacer esto, ejecute el siguiente comando:

```bash
vercel project add <PROJECT_NAME>
```

Por ejemplo:

```bash
vercel project add soroban-react-payment
```

A continuaci√≥n se instalar√° localmente la configuraci√≥n del proyecto ejecutando el siguiente comando:

```bash
tira de v√©rcel
```

Siga las respuestas a las siguientes instrucciones para asegurarse de que su proyecto local est√° correctamente vinculado al proyecto de destino Vercel:

```bash
? ¬øConfigurar ‚Äú~/Documents/GitHub/test/soroban-dapps-challenge‚Äù? [Y/n] y
? ¬øCu√°l √°mbito deber√≠a contener tu proyecto? <VERCEL_UNAME>
? Enlace al proyecto existente? [y/N] y
? ¬øCu√°l es el nombre de tu proyecto existente? <PROJECT_NAME>
```

Despu√©s de seguir las indicaciones, deber√≠a ver algo similar a la siguiente salida:

```bash
...
üîó  Linked to julian-dev28/pmt-dapp (created .vercel)
> Downloading `development` Environment Variables for Project pmt-dapp
‚úÖ  Created .vercel/.env.development.local file  [92ms]

> Downloading project settings
‚úÖ  Downloaded project settings to ~/Documents/GitHub/test/soroban-dapps-challenge/.vercel/project.json [1ms]
```

A continuaci√≥n, necesitar√° editar la secci√≥n `settings` en `.vercel/project.json` para asegurarse de que el `outputDirectory` est√° establecido en `build`:

```diff
  "settings": {
    "createdAt": 1699390700432,
    "framework": null,
    "devCommand": null,
    "installCommand": null,
    "buildCommand": null,
- "outputDirectory": null,
+ "outputDirectory": "build",
    "rootDirectory": null,
    "directoryListing": false,
    "nodeVersion": "18. "
}
```

A continuaci√≥n, ejecute el siguiente comando para construir su dapp:

```bash
vercel build --prod
```

¬øQu√© hace el comando `vercel build`? Construye tu dapp para la producci√≥n lo que significa que optimiza su c√≥digo de rendimiento y crea una producci√≥n optimizada de su dapp en el `. directorio ercel/output`. Este es el directorio que desplegar√° en Vercel.

La salida del comando `vercel build` deber√≠a verse algo as√≠:

```bash
..
$ webpack --config config/webpack.prod.js
activo 8a7edf3024865247d470. s 1.73 MiB [emitted] [immutable] [minimized] (nombre: √≠ndice) 1 activo relacionado
. .
webpack compilado en 12408 ms (be8ba6cc95f4aec4d07b)
‚ú® Hecho en 13.16s.
‚úÖ Construir completado en .vercel/output [14s]
```

A continuaci√≥n, desplegar√° su dapp en Vercel ejecutando el siguiente comando:

```bash
vercel deploy --prebuilt --prod
```

Usando la bandera `--prebuilt` le dice a Vercel que despliegue las salidas de compilaci√≥n en `.vercel/output` que creaste en el paso anterior.

Una vez finalizada la implementaci√≥n, deber√≠as ver algo similar a la siguiente salida:

```bash
üîç Inspect: https://vercel.com/Thursian-dev28/soroban-react-payment/9PwV2DvuXJ3FWag7eLbjqNAhCeCu [2s]
‚úÖ Producci√≥n: https://soroban-react-payment-ahtko9qd1-ulevian-dev28.vercel.app [2s]
```

:::tip

Por favor, guarde su url de producci√≥n, la necesitar√° para completar el reto.

:::

¬°Ahora puedes visitar el enlace de vista previa para ver tu aplicaci√≥n desplegada! üéâ

Recuerde, debe a√±adir lumens de red Futurenet a su cartera de carga para interactuar con el dapp de ejemplo desplegado. Visita https://laboratory.stellar.org/#account-creator?network=futurenet, y sigue las instrucciones para crear tu cuenta de carguero en Futurenet.

## Punto de control 6: ‚úÖ ¬°Completa el Desaf√≠o!

¬°Ahora es el momento de enviar tu trabajo!

¬°Env√≠a tu URL de `Production` desde el paso anterior a la forma de desaf√≠o para superar el desaf√≠o!

{/_ <ParentChallengeForm id={1} />_/}

:::info

√önete a [nuestra comunidad en Discord](https://discord.gg/stellardev) en caso de que tengas cualquier problema o pregunta.

:::

## Punto de control 7: üí™ Comparte tu cumplimiento con la Comunidad

No te olvides de compartir tu trabajo con la comunidad. ¬°Deja que otros vean lo que has completado, reciban retroalimentaci√≥n e inspiren a otros!

## ‚öîÔ∏è Misiones lateral

üç¥[Fork el repositorio Ejemplo de Soroban Payment Dapp] y haz tus propios cambios en tu Dapp.

Considere personalizar el c√≥digo y enviar un pull request para el desaf√≠o. Puedes explorar las caracter√≠sticas avanzadas de la aplicaci√≥n de pago de ejemplo Soroban Dapp, y la cartera de carga para llevar tus habilidades al siguiente nivel. Muestra tu creatividad a√±adiendo funcionalidades √∫nicas, mejorando la interfaz de usuario o integr√°ndote con otras API o servicios. Buena suerte!

[bifurcar el ejemplo de soroban pago dapp repo]: https://github.com/stellar/soroban-react-payment

## üìö Lista de Control de flujos de trabajo de usuario

Para asegurarse de que ha cubierto todas las acciones clave del usuario durante el challenge, siga esta lista de verificaci√≥n:

- Clonar el repositorio
- Instalar dependencias
- Desplegar e inicializar el contrato inteligente de token
- Tokens de menta a tu cuenta
- Iniciar el frontend local
- A√±adir el token Soroban a Freighter
- Conectar carguero a la aplicaci√≥n
- Enviar tokens a otra cuenta
- Desplegar el sitio con Vercel
- Env√≠a tu clave p√∫blica y URL

## üõ°Ô∏è:dager: Toma M√°s Desaf√≠os

Mira tu progreso y toma m√°s desaf√≠os visitando tu [Panel de Control de Usuarios!](../dashboard)
