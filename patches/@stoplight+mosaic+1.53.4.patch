diff --git a/node_modules/@stoplight/mosaic/core.esm.js b/node_modules/@stoplight/mosaic/core.esm.js
index 1d4db8c..8b07522 100644
--- a/node_modules/@stoplight/mosaic/core.esm.js
+++ b/node_modules/@stoplight/mosaic/core.esm.js
@@ -5645,6 +5645,9 @@ const memoryStorage = {
   getItem: name => memoryDb[name],
   setItem: (name, value) => {
     memoryDb[name] = value;
+  },
+  removeItem: name => {
+    delete memoryDb[name];
   }
 };
 
@@ -5655,6 +5658,7 @@ const defaultMode = () => {
     return JSON.parse(localStorage.getItem(THEME_STORAGE_KEY)).mode;
   } catch (_a) {}
 
+  if (typeof document === 'undefined') return DEFAULT_THEME_MODE;
   const dataTheme = document.documentElement.getAttribute('data-theme');
   if (dataTheme) return dataTheme;
   return DEFAULT_THEME_MODE;
@@ -5736,7 +5740,7 @@ const useThemeStore = create(persist(set => ({
 }), {
   name: THEME_STORAGE_KEY,
   version: 0,
-  getStorage: () => typeof localStorage === 'undefined' ? memoryStorage : localStorage,
+  getStorage: () => typeof localStorage === 'undefined' || typeof localStorage.removeItem !== 'function' ? memoryStorage : localStorage,
   // only remember the desired mode
   serialize: ({
     state,
diff --git a/node_modules/@stoplight/mosaic/core.umd.js b/node_modules/@stoplight/mosaic/core.umd.js
index 6a21eba..a4c2cec 100644
--- a/node_modules/@stoplight/mosaic/core.umd.js
+++ b/node_modules/@stoplight/mosaic/core.umd.js
@@ -5683,6 +5683,9 @@
     getItem: name => memoryDb[name],
     setItem: (name, value) => {
       memoryDb[name] = value;
+    },
+    removeItem: name => {
+      delete memoryDb[name];
     }
   };
 
@@ -5693,6 +5696,7 @@
       return JSON.parse(localStorage.getItem(THEME_STORAGE_KEY)).mode;
     } catch (_a) {}
 
+    if (typeof document === 'undefined') return DEFAULT_THEME_MODE;
     const dataTheme = document.documentElement.getAttribute('data-theme');
     if (dataTheme) return dataTheme;
     return DEFAULT_THEME_MODE;
@@ -5774,7 +5778,7 @@
   }), {
     name: THEME_STORAGE_KEY,
     version: 0,
-    getStorage: () => typeof localStorage === 'undefined' ? memoryStorage : localStorage,
+    getStorage: () => typeof localStorage === 'undefined' || typeof localStorage.removeItem !== 'function' ? memoryStorage : localStorage,
     // only remember the desired mode
     serialize: ({
       state,
