---
title: Configuring
sidebar_position: 20
---

# Configuring

## Steps to Configure Galexie

1. **Copy the Sample Configuration**

   Start with the provided sample file, [`config.example.toml`](https://github.com/stellar/go/blob/master/services/galexie/config.example.toml).

2. **Rename and Update the Configuration**

   Rename the file to `config.toml` and adjust settings as needed.

   - **Key Settings Include:**

     - **Google Cloud Storage (GCS) Bucket**

       Specify the GCS bucket where Galexie will export Stellar ledger data. Update `destination_bucket_path` to the complete path of your GCS bucket, including subpaths if applicable.

       ```toml
       destination_bucket_path = "stellar-network-data/testnet"
       ```

     - **Stellar Network**

       Set the Stellar network to be used in creating the data lake.

       ```toml
       network = "testnet"
       ```

     - **Data Organization (Optional)**

       Configure how the exported data is organized in the GCS bucket. The example below adds 1 ledger per file and organizes them in a directory of 64000 files.

       ```toml
        # Number of ledgers stored in each file
        ledgers_per_file = 1

        # Number of files per partition/directory
        files_per_partition = 64000
       ```

     - **Core Config (Optional)**

       You can specify a custom core.cfg file to use that will override the default core parameters used with the Stellar Network specified in the `network` parameter.

       ```toml
       captive_core_toml_path = "my-captive-core.cfg"
       ```

       :::warning

       Note that any core parameters enabled with the default Galexie core config will be overwritten by the custom core.cfg provided. If the parameters are not provided in the custom core.cfg they will be set to `false`. Please explicitly set any core parameters that you wish to be enabled.

       :::

3. **Use a Custom Core Config (Optional)**

   Copy an existing core.cfg file such as the `captive-core-pubnet.cfg` provided [here](https://github.com/stellar/go/blob/master/ingest/ledgerbackend/configs/captive-core-pubnet.cfg)

   - Be careful about changing the quorum sets. Most likely quorum sets won't be needed for any mainnet, testnet, or futurenet usage with Galexie
   - A list of customizable core parameters can be found [here](https://github.com/stellar/stellar-core/blob/master/src/main/Config.h)

   The default core.cfg used by Galexie will enable the following core parameters:

   - **BACKFILL_RESTORE_META -** ledger metadata will be populated with LedgerEntryChange RESTORE type for protocol versions prior to 23
   - **ENABLE_SOROBAN_DIAGNOSTIC_EVENTS -** additional diagnostic Soroban events that are not part of the protocol will be generated while applying Soroban transactions
   - **EMIT_SOROBAN_TRANSACTION_META_EXT_V1 -** Soroban extension V1 data will be emitted
   - **EMIT_LEDGER_CLOSE_META_EXT_V1 -** ledger metadata extension V1 data will be emitted
   - **EMIT_CLASSIC_EVENTS -** classic events will be enabled and emitted for protocol \>= 23
   - **BACKFILL_STELLAR_ASSET_EVENTS -** classic events will be enabled and emitted for protocol \<\= 22. This parameter also requires `EMIT_CLASSIC_EVENTS` to be enabled
