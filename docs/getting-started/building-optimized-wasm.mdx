---
sidebar_position: 3
title: Building Optimized WASM
---

Building optimized WASM files requires some additional options and commands, and
requires installing the nightly Rust toolchain and `wasm-opt`.

To install the nightly Rust toolchain use `rustup`.

```sh
rustup install nightly
```

To install `wasm-opt`.

```sh
TODO: Add instructions for installing wasm-opt.
```

Then build your contract using nightly, and the additional options that remove
unnecessary information from the contract.

```sh
cargo +nightly build \
    --target wasm32-unknown-unknown \
    --release \
    -Z build-std=std,panic_abort \
    -Z build-std-features=panic_immediate_abort
```

Then additionally use `wasm-opt` to further minimize the size of the `.wasm`.

```sh
wasm-opt -Oz \
    target/wasm32-unknown-unknown/release/first-project.wasm \
    -o target/wasm32-unknown-unknown/release/first-project-optimized.wasm
```
