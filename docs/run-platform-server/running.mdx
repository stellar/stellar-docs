---
title: Running
sidebar_position: 40
---

import { CodeExample } from "@site/src/components/CodeExample";

Once you have [established the Horizon database](./configuring.mdx#initialize-horizon-database) and have [identified the Horizon runtime config per host](./configuring.mdx#pre-requisites), you're ready to run Horizon.

If you chose bare metal installation, run the `stellar-horizon` binary with the [appropriate environment parameters](./configuring.mdx#parameters) set (or `stellar-horizon-cmd serve` if you [installed via the package manager](./installing.mdx#package-manager), which will automatically import your configuration from `/etc/default/stellar-horizon`).

If you chose containerized installation, you don't execute the horizon binary directly, instead the [stellar/stellar-horizon](https://hub.docker.com/r/stellar/stellar-horizon) image has a pre-defined entrypoint that will start running horizon at image startup time. The horizon process will get all configuration settings from container environment variables.

- To run the image as a container on docker daemon of host, use `docker run stellar/stellar-horizon:<tag_version> --env-file <env_filename>`, and specify each horizon configuration flag identified during [Configuring](./configuring.mdx) as separate line in `<env_filename>` of `HORIZON_CONFIG_PARAM=value`.

- To run on Kubernetes using helm chart, ensure you have followed the [pre-requisite](./installing.mdx#helm-chart-installation) of installing the Helm cli tool and adding the Stellar chart repo to helm client, now deploy the horizon helm chart to the cluster, including `--devel` uses the latest development chart version:

    <CodeExample>

  ```bash
  helm install myhorizon stellar/horizon \
  --namespace my-horizon-namespace-on-cluster \
  --set global.image:horizon:tag=2.26.1 \
  --set global.network=testnet \
  --devel
  ```

    </CodeExample>

  This example of helm chart usage, shows using the `global.network=[testnet|pubnet]` parameter, this automates generation of all the horizon configuration parameters specific to network such as archive urls, captive core config, etc and others mentioned on [Configuring](./configuring.mdx). It will also enable all three roles on the deployment instance: ingesting, api, transaction submission. If you want to customize that default behavior, don't use `global.network` and instead make your own copy of the horizon helm chart [values.yml](https://github.com/stellar/helm-charts/blob/main/charts/horizon/values.yaml), update specific configuration parameters in that file, and then pass that file:

    <CodeExample>

  ```bash
  helm install myhorizon_role stellar/horizon \
  --namespace my-horizon-namespace-on-cluster \
  -f values.yaml \
  --devel
  ```

    </CodeExample>

<br />
Once horizon process starts it will emit logging to standard out. When run, you should
see output similar to:

<CodeExample>

```
INFO[...] Starting horizon on :8000                     pid=29013
```

</CodeExample>

Note that the numbers may naturally be different for your installation. The log line above announces that Horizon is ready to serve client requests.

Next, you can confirm that Horizon is responding correctly by loading the root resource. In the example above, that URL would be http://127.0.0.1:8000/, and simply running `curl http://127.0.0.1:8000/` would show you that the root resource loads correctly:

<CodeExample>

```json
{
  "_links": {
    "account": {
      "href": "http://127.0.0.1:8000/accounts/{account_id}",
      "templated": true
    },
    "accounts": {
      "href": "http://127.0.0.1:8000/accounts{?signer,sponsor,asset,cursor,limit,order}",
      "templated": true
    }
  }
  // etc.
}
```

</CodeExample>

Refer to [Monitoring](./monitoring.mdx) for more details on horizon runtime logging and metrics available.
