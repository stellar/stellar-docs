---
title: Getting Started
sidebar_position: 30
---

## Set Up the Development Environment

In this guide, we'll help you set up your local workstation with a complete end-to-end development environment using docker-compose, the Stellar demo wallet, and USDC on Stellar's test network. Let’s bring up all the services.

Note that while we'll be using USDC and the [Demo Wallet][demo-wallet] in this guide, other Stellar assets and wallets can be used in development or production.

### 1. Create a Distribution Account

You'll need a minimum of two accounts when using the Stellar Disbursement Platform, a distribution and receiver account. We'll create the distribution account now and will create the receiver account while making our first disbursment.

1. Go to the [Stellar Demo Wallet][demo-wallet] and select "Generate keypair for new account"
1. Select the "Create account" button next to the public key to fund your account with XLM
1. Select the "Select from preset assets" button, and select USDC
1. Finally, select "Add trustline" to enable payments of USDC

Now that we have an account that can send & receive USDC, lets fund it with enough USDC for our first disbursement. We'll use the Circle Sandbox in this guide, but you can fund your distribution account from any liquidity source of Stellar USDC.

1. Create a [Circle Sandbox][circle-sandbox] account
1. Once you're at the dashboard, Select "Get API Key", and copy it to your clipboard
1. Go to the [Circle Sample App][circle-sample-app] and enter your API key after selecting the settings icon in the top right corner
1. Select "Charge Flow", then "Prefill Form", and select a card to use (it doesn't matter which)
1. Enter the amount you'd like to purchase, then select "Make Payment"

This will fund your Circle Sandbox Account with USDC. You can repeat the process above when you run out or the test network resets, which happens quarterly.

Your USDC should appear in your account within a few minutes, which you can check using the [balances endpoint](https://sample-sandbox.circle.com/debug/payments/balances/fetch). Once funded, you can send it to your distribution account created earlier.

1. Select the icon in the top left, then "Payouts API", and finally "POST /transfers"
1. Select "Get Master Wallet ID" to load the wallet funded with USDC
1. Enter the amount you'd like to send
1. Select the "blockchain" destination type and then "XLM"
1. Paste the public key of the account you created with the demo wallet earlier
1. Select "Make API Call"

Circle will submit payment of USDC to the Stellr test network and you should receive funds in your demo wallet account almost immediately!

### 2. Configure SDP Secrets

Before bringing up the services, make sure the secrets that the Stellar Disbursement Platform will use are configured.

1.  Create the Stellar account used for SEP-10 authentication and configure the following values in `docker-compose-sdp-anchor.yml`

    **SDP**  
    `SEP10_ACCOUNT`  
    `SEP10_SIGNING_PUBLIC_KEY`  
    `SEP10_SIGNING_PRIVATE_KEY` (secret)

    **Anchor**  
    `SECRET_SEP10_SIGNING_SEED` (secret)

2.  Create a Stellar account. This account will be used as the Distribution Account. Configure the following values in `docker-compose-sdp-anchor.yml`

    **SDP**  
    `DISTRIBUTION_PUBLIC_KEY`

    **Anchor**  
    `ASSETS_VALUE.assets.distribution_account`

    **TSS**  
    `DISTRIBUTION_SEED` (secret)

3.  **Optional for testnet but must be done in production**: Get a Google Recaptcha site key/secret and configure the following values in `docker-compose-sdp-anchor.yml`

    **SDP**  
    `RECAPTCHA_SITE_KEY`  
    `RECAPTCHA_SITE_SECRET_KEY` (secret)

:::note

Current keys configured in the docker images are [Google ReCAPTCHA v2 test keys](https://developers.google.com/recaptcha/docs/faq#id-like-to-run-automated-tests-with-recaptcha.-what-should-i-do). Feel free to use these for testnet.

:::

### **Optional**: Configure your SMS provider

Configure either your Twilio or AWS SNS SMS configuration settings to receive a SMS for registration in the file. Example for Twilio: set the following values in the docker-compose-sdp-anchor.yml file.

TWILIO_ACCOUNT_SID  
TWILIO_AUTH_TOKEN  
TWILIO_SERVICE_SID

In order to use Twilio, we also have to set the following environment variable: MESSAGE_SENDER_TYPE: TWILIO_SMS

### 3. Configure sdp-api and Anchor Platform hosts

Add the following two hosts to your `/etc/hosts` file:

<pre class="prettyprint">127.0.0.1 sdp-api</pre>

<pre class="prettyprint">127.0.0.1 anchor-platform</pre>

### 4. Bring SDP services up via docker-compose

From the stellar-disbursement-platform-backend main directory, navigate to the dev directory in the repository and bring all SDP services up and running using docker-compose.

<pre class="prettyprint">cd dev</pre>

<pre class="prettyprint">make all</pre>

Your window will contain the logs from all services, making it easy to follow system behavior across all services.

![Window Log](/assets/SDP/SDP3.png)

### 5. Create organization owner

Next we need to create an organization owner account with privileges (role) to use the SDP. We will use the SDP CLI to add the user. Connect to the sdp-api container and create an owner account.

<CodeExample>

```html
❯ docker exec -it sdp-api bash` root@a7437e9ed3ca:/app#`
./stellar-disbursement-platform auth add-user owner@stellar.org joe yabuki
--password --owner --roles owner DEBU[2023-06-28T05:46:44.868Z] Setting log
level to: "TRACE" pid=45 INFO[2023-06-28T05:46:44.868Z] Version: 0.2.0 pid=45
INFO[2023-06-28T05:46:44.868Z] GitCommit: pid=45 ✔ Password: *****
INFO[2023-06-28T05:46:48.132Z] user inserted: owner@stellar.org pid=45
root@a7437e9ed3ca:/app#
```

</CodeExample>

### 6. Log in with your account

Now that you have created an owner account, navigate to the dashboard by opening a browser to [localhost:3000](http://localhost:3000/) and login with the account you just created.

![Login](/assets/SDP/SDP4.png)

Click the Sign in button and the SDP Dashboard will open. You will have no disbursements data at this point.

![Dashboard](/assets/SDP/SDP5.png)

### 7. Create your first disbursement

Create your first disbursement by clicking the New Disbursement button. Use Demo Wallet as your wallet and USDC as your asset. You can choose whatever values you like for Country and Name. Then upload your disbursement file with receiver information. A sample file is available in the /dev/sample directory. Make sure to edit the file with a valid phone number that you have access to before using it.

![New Disbursement](/assets/SDP/SDP6.png)

<CodeExample>

```html
❯ cd stellar-disbursement-platform-backend/dev ❯ cat
sample/sample-disbursement.csv phone,id,amount,verification
+15551231234,4ba1,2,1987-12-01
```

</CodeExample>

The phone number is the mobile number that the registration SMS message will be sent to.

Review and confirm the disbursement.

![Confirm](/assets/SDP/SDP7.png)

### 8. Verify your identity

You should receive an SMS message containing the link, enabling you to verify your identity with the information from the CSV and register with the SDP. Note: If you do not have an SMS provider configured for your development environment, you can find the URL in the logs.

![Verify Identity](/assets/SDP/SDP8.png)

### 9. Create a Receiver Account

Clicking on the link within the SMS message will bring you back to the Stellar Demo Wallet, where you'll need to create another account to receive the USDC. Follow the same process described earlier to create the account and add a USDC trustline.

### 10. Initiate SEP-24 webflow

Now we'll need to connect the demo wallet to the SDP instance running locally. To do that, select the pencil icon next to "centre.io" below your USDC balance and enter "localhost:8080".

In the "Select Action" dropdown, select "SEP-24 Deposit" to initiate a SEP-24 webflow, which triggers the User Registration process to link the new wallet to the phone number in the SDP.

![SEP-24](/assets/SDP/SDP13.png)

A SEP-24 interactive window will appear. This simulates the wallet application popup you would see on your mobile phone. Enter the phone number from the disbursement CSV.

![Webflow](/assets/SDP/SDP14.png)

Next, enter the passcode and birthday that you used in the payment file. Note: use 000000 for this example (or 999999 if you want to see an error response).

![Passcode and Birthday](/assets/SDP/SDP15.png)

The webflow provides a message indicating your successful registration, which is the trigger for the SDP to send the payment. You should receive your payment from the SDP shortly.

![Message](/assets/SDP/SDP16.png)

### 11. Show your balance

Refresh your account. The Demo Wallet should now show a balance of 2 USDC sent from the SDP (or however much was defined in the CSV file).

![Success](/assets/SDP/SDP17.png)

Keep an eye on the dashboard until the payment status reaches Success. If everything was set up correctly, your money should be disbursed successfully.

![Disbursement](/assets/SDP/SDP18.png)
