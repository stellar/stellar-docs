Hi so hello everyone today we're going.To talk about project slingshot and ZJ.Diem my name is Alejandra and I work at.Stellar on this project for the some.Time already so I'd like to give you an.Overview why we do that how we're going.To use it and why is it interesting so.Let's do the time check all right so the.Problem that we have is we know about.The ball change so how do we do the.Blockchain that protects the private.Information while being in the public.Right it's a public system that's fully.Auditable and transparent but yet we do.The private transaction in it so.Effectively we want something like.Ledger with TOS so there are two major.Components to it.One is the confidentiality part so for.These we need some sort of encryption.For our balances and accounts and.Amounts that we transfer and since it's.A public system we need a public.Verification mechanism for proving that.The encrypted the Hylian transfers are.Actually correct and respects the.Balancing equation but people when they.Transaction they don't create the money.Out of nowhere so we need some sort of.Zero knowledge proof in our technology.Static.And the third important component is.That some customization mechanism why is.That the block chains are especially.Consensus systems they the work best.When they're mostly decentralized.Deployed widely and as many applications.The users run them and execute the rules.And check the transactions and this.Means that it's very hard to upgrade the.The system with new features or.Improvements so we need to on one hand.To make it as simple and focused as.Possible so it's not buggy but at the.Same time we want to build some.Interesting features around the system.Like from smart contracts to whatever.You know decentralized applications to.Improve the security of people.Transacting in this new environment and.One way is to just roll out Network wide.Upgrades which is as hard as it is.Decentralized or on the other hand.Foresee some customization points so.People can build things on top of it.Without changing the underlying rules so.This is where the VM part comes in we.Need some sort of program ability for.Our system and if it's programmable it.Means that there are programs and it.Means that there is some sort of virtual.Machine that is going to execute those.Programs so this is where the DM part.Comes in now what is slingshot and how.Does it relate to the akkadian so.Slingshot is an umbrella term for the.Entire suite of libraries and protocol.Implementations that include not only.The can a more interesting part the.Transaction format the zero knowledge.Proof sand the programmable conditions.Which is the kvam but also all the.Exhibitory cryptographic libraries such.As.Signature schemes Multi signature things.The multiple tree implementations all.The way to the entire ball chain system.Where the blockchain state machine is a.Separate protocol implementation and the.Peer-to-peer networking stack and higher.Order application protocols such as the.Mechanism behind accounts the protocols.For synchronizing well that's doing.Payment channel sorter books and all.These kind of things that could be built.On top of the on top of the core.Blockchain system so this whole thing is.Called slingshot and it's all exists in.In a single github repo where the.Development happens now what's.Interesting about the TVM and the.Slingshot is that as a filing modular.Design why is it important this is not a.Single application that has a specific.Way of using it it's more like a.Collection of libraries that we can.Flexibly figure out how to deploy and.Roll out in the best manner so we can.Build a sidechaining or we can use it as.A private ledger or we can use it as.Both the cryptographic pieces are.Composable so we can attach the off.Chain proofs to our transactions so for.Instance we can offload some.Computational cost from the network by.Building some intra-party proofs about.Payments for instance some notarization.Or zero-knowledge.Other schemes completely outside of the.Blockchain so we don't have to load the.Internet work with this with this.Computationally heavy problem we can use.The full node as a library embedded in.In the greater application that for.Instance does some interesting indexing.Of the transactions and we can decide.How big the now it should be how much.Data.Should store for instance the uijik so.State compression scheme allows us to.Have very little minimal state at the.Cost of a little bit more bandwidth.Overhead and you can decide whether you.Just have this very compact who know.Them better than your wallet or you have.Way even lighter wallet or you build it.Completely standalone applications and.Running on a cluster for instance with.As much data storage as as you possibly.Can because you want to provide as much.Service to the very light applications.And this is why the default project is.Designed to be modular from the.Beginning now specifically the key VM is.A transaction format that sits on top of.The networking part and the consensus.Mechanism and on top of the KVM then you.Can build your custom application.Protocols so what does it mean to say.That the helium is a transaction format.So in other words the key VM is a fancy.Parser if you think about bitcoin or.Stellar or Z cash the transaction format.And those protocols are is more like XML.So this is some kind of hierarchical.Structure with lists of things that.Contain other things that describe.Declaratively the flow of assets in.Contrast theorem is much more.Programmable but the transaction format.Is more like a remote remote procedure.Call where the transaction just sends a.Message to network and then you have the.Global state with some programs loaded.Into that state that can be invoked and.Do some operations do some mutation into.The state and that was actually simply.Signed message into this global computer.And the key mam is neither of those two.Things it's more like a PDF so it's sort.Of a declarative format but at the same.Time it's an executable a little.Language that you run through the VM.That is sort of like a parser that.Exist the kids the commands does some.Local operations to determine what.Changes to the state should be made so.You can explain this better this is the.Quick overview of the data model.Indicating so you have transactions and.Transactions are objects these little.Files transfer assets from inputs and.APIs and they can also issue arbitrary.Assets because it's the multi-asset.Environment right just like Stellar so.This is how the esse flows from inputs.To outputs and the outputs are actually.The objects that we call contracts they.Have a predicate that can all locks some.Content inside the contract and provides.Conditions to unlock the contents and.The contents are called the PD load and.It's actually a list of things and those.Things could be either values that are.Local linear types the things that you.Can move around but cannot duplicate.Which are the assets themselves or some.Data parameters so your contract is this.Collection of values and data that can.Be locked into this container by a.Predicate and the simplest way to think.About the predicate is the public key.Right so you say whoever owns the.Corresponding private key can unlock the.Values and then decide what to do with.Them and your unlock by showing the.Signature on a transaction so you have a.Transaction that says I want to spend.This value and such-and-such way you.Have to provide a signature that.Authorizes you to unlock that contract.Or the predicate could be a little sub.Program so you have to run the program.Meaning that the VM will run the program.And check additional conditions that are.Described by the program before deciding.To unlock the the values and you can.Combine both of them with the scheme.Called a taproot it's a like Merkle tree.Of programs and public key is so you.Have the flexibility to decide things.Like you can either.Have multiple parties signed together.The contract or they could choose.Individually whatever branch they want.To execute so this gives you a lot of.Flexibility in terms of pre-programming.Different conditions that unlock stadium.And the mining and it's a little bit.Even more flexible because you can not.Only pre-program some conditions or.Provide a signature which was action but.You can also provide a signature over in.New conditions so you can decide some.Program later and then sign it and then.That program will be executed so this.Gives you infinite ability to do some.Interesting multi-state schemes while.Having pretty simple design so how does.This all work inside the VM again.Transaction is just a program like I.Said like a PDF file so in our case it's.Has a little just a little bit of.Metadata it's a program that also has a.Zero knowledge proof and we will show in.A second how this proof applies so what.Happens when you want to verify a.Transaction you instantiate a VM and by.You I mean the Denelle that verifies the.Transaction it instant Chase the VM that.Is completely ephemeral it means that.It's not some sort of globally running.VM like like a dr.container a kind of.Thing it's it's like an instance of a.Parser for this specific transaction so.It's very lightweight you create it just.For a single transaction you load the.Transaction into this VM and it works as.A simple stack machine so it has a.Simple stack it's not your incomplete so.It has a predictable performance and the.Goal of the VM is not only to provide.You with ability to customize a.Conditions but it also enforces the.Network rules so the operations that.Excuse they are also checking that you.Don't duplicate money that you respect.The rules of the network and don't break.That so what the in des it runs the.Program.And the n as the program is running it's.Compiling on the fly thing that we call.A constraint system which will be used.For the zero knowledge proof so the.Constraint system is effectively just a.List of linear and multiplicative.Equations that check that for instance.The sum amount should because some other.Amount or should be subject to certain.Formula but the cool part is that this.Constraint system works in zero.Knowledge meaning that those numbers in.The formulas that you are manipulating.They are all can be encrypted and so.Your program can manipulate this.Encrypted values and and require that.They conform to certain formula and as a.Result of execution of the program you.Will have this sort of a matrix of.Constraints that builds this constraint.System and after the program finished.Executing then the verifier runs the.Serial logical flow VM checks the proof.Is correct for this constraint system.Which proves that whoever knew this.Secret keys that encrypted those amounts.Correctly combined them so if there was.A smart contract saying that a couple of.Values must correspond to a certain.Formula then this these values being.Secret they're still correctly.Constrained by by the formula so this is.The job of the zero knowledge proof and.The VM does that in the end of the.Program execution and finally all the.Facts in the VM are fully local there.Don't affect the global state so it.Allows you to evaluate all the.Transactions independently from each.Other and verify in parallel so how do.We even do the effects so all these.Inputs and outputs are actually recorded.In the transaction log which is simply a.List of effects that should be applied.To the blockchain state and once we've.Run the program and verified this your.Knowledge constraints then we simply.Take this log this list of effects.That are effectively saying that you.Have to erase certain inputs and create.Certain outputs and then we apply them.To the bot fisty and this is very.Lightweight operation that can not only.Fail if you're trying to double span the.Same output twice and two different.Transactions and if it happens that the.Second transaction tries to suspend the.Same input then it will fail in the very.End at that application stage but this.Is the the only stateful operation and.The system now how do you instructions.Look like think of this as a Stellar.Operations in Stellar transactions you.Have realities of operations that you.Could do but they are more like a list.Of things that are not really working.With each other they just enumerate what.You want to do in a transaction for.Instance to send money from here to.There or open offer or create an account.Things like that so in a similar Berean.The key VM has instructions that are.High level well-liked constellar they.Did their high level operations they.Don't they are not like assembly one.Assembler language low level operations.That just manipulate bits they.Manipulate values they manipulate.Contracts the high-level concepts but.They are all composable with each other.So for instance you can instantiate a.Contract and then open it up and then.Take the values out of it move them.Around maybe mix and merge them together.There and then lock them in a new.Contract and this sequence of operations.Will be not just the list of them but.Actually manipulating those values on.The stack behind the scenes so here's an.Example let's say you want to make a.Custom constraint to do something about.It.So you start with pushing some numerical.Value on the stack instantiate a.Variable out of it that creates the.Variable inside the constraint system.Then you combine different arithmetic.Operations on it that as a side effect.Create those constraints and without.Actually computing.Because the value could could be.Encrypted and you finished those.Constraints by saying verify meaning.That you can pull the whole constraint.It you want to record it into the.Constraint system so it will be checked.Later then you can so it looks something.Like this so you have a formula and you.Do this kind of stack machine as syntax.For multiplying adding checking equality.And verifying and then once you have.This variable all verified you can.Create overboard value and output in a.Certain place so you say okay this this.Value is correct so I am making a.Payment with it and boiler instruction.Is kind of cool because it's a zero.Interest rates boring just within the.Life of the VM it gives you to balance.The negative and positive 1 and negative.Has to be mixed it with the proper.Payment coming from somewhere else.Using this zero knowledge mix.Instruction that we call cloak it's.Implements it's a whole clock protocol.That allows you to mix M inputs into n.Outputs preserving the assets but in.Complete zero knowledge so you don't.Know where the asset flows within the.Boundaries of transaction so these.Instructions gonna show you how you can.Combine the value of flow with custom.Conditions and the important part is.That this is all imperative meaning that.All the contracts they do not have kind.Of declarative conditions but they.Incredibly do things that they want to.Be done with linear types that cannot be.Simply dropped or created out of nowhere.Or duplicated so entire clasts of.Security vulnerabilities are eliminated.Versus the access control lists always.Have this problem where you have hard.Time combining the different clock rolls.Together here it's very imperative and.Lear types help greatly by just.Literally moving the valley where it.Needs to be moved and then make sure.That you don't you don't break the rules.Along the way so this is very powerful.But at the same time very safe system.So I'll say a couple of words about.Cryptography so can make it all work.It's important to have on one hand fancy.Cryptography but at the same time pretty.Conservative one so we have this stack.Of the high-performance curve to 5519.Implementation on top of which we have.The safe cryptographic group the which.Would build a bulletproof system and.That allows us to do this custom.Constraints and we use the blue person.Two ways in one way it's a cloud product.Call that enforces the network rules.That mean that you cannot duplicate.Money and at the same time it allows you.To do on-the-fly custom constraints and.This is cool because many other 0no.Systems like Z cash they do not allow.You to do on-the-fly conditions instead.They use a very complicated trusted.Setup where several priorities must.Decide the rules and compute some crunch.Numbers in order to compose a single.Solid constraint system that will be.Used for all the purposes of the network.For for one time and bulletproof allows.Us to avoid this trusted set up and.Instead build the constraints on the fly.Every time the transaction is running.Because this is so fast and lightweight.And finally if you provide the interface.To all of that we have these easy KVM.Instructions and then on top with you.Using these instructions this is where.You build your applications and this.Whole stack that we have is written in.POS so everything is very neatly.Compiled and one.First of all hassles in an API is in.Between two layers and then it's.Compiled without any overhead in a in a.While finally efficient binary just like.You would have with C++ for instance so.Another cool thing is that the DMA.Operations in the KDM are designed to be.Either cheap or expensive which is funny.But the point here is that the chip.Operations are very cheap it's really.Like a parser and all expensive.Operations are completely uniform.A scalar point multiplications in this.Cryptographic group and this means that.They can all be deferred and done in a.Batch which makes them much faster so.Effectively what you have is you have a.Very quick run of the program then you.Have a bunch of things to compute in a.Cryptographic group that you can batch.Together and do very efficiently later.You can even imagine doing that and in.GPU if you have to verify a lot of.Transactions and then you have an answer.Where the transaction is valid enough so.This gives us very low educational.Agency for the features that we have.It's less than one millisecond per.Output so effectively like lesson no.Second for payment or more like Costas.Begins maybe like two milliseconds per.Payment because payment Nelson always.Have them change out but and we use all.Opportunities to prove performance that.We can so if you have multiple.Signatures they all can be aggregated.And then batch verified and transaction.Size is pretty distant so it's like one.1/2 to 2 kilobytes and this growth slow.Very quickly so if multiple parties join.Together they greatly optimize the total.Cost of the network and so a couple of.Examples to how you can build something.With with this so one is the basic.Payments so the cool part is things like.Accounts and balances they are all off.Chain concepts as to the the basic.Network on the season it's an APIs and.All the interesting kind of data.Wrangling it happens I've seen that.Provide security for the people involved.In for the party stress of acting and.Greatly improved performance because.There is a lot of can a complicated.Decision making is completely taken out.Of the out of the consensus critter.Parts and placed inside their.Application this also allows you to.Innovate faster because you can do.Different protocols and try different.Versions of like payment channels or be.Famous protocols.Completely outside of the can a.Consensus critical part so you don't you.Have to only upgrade the knows that care.About this feature and not the entire.Network so the order book is an.Interesting example of smart contract so.It's simply a contract that allows you.To unlock the value being offered for a.Price so this is where you use the.Predicate I can pack several conditions.Inside the predicate and the cool thing.About the zero knowledge is that you can.Do this both and public so it's like.Stellar like completely public offer and.There's no nothing secret going on but.You can still do this kind of semi.Public so if you have a pool that wants.To be kind forced on the network and be.Auditable by authorized parties but you.Don't want to do publicize exact prices.And exact assets that are being offered.Then you can also do that as well.Because all these formulas work on the.Encrypted values as well and you can.Notice that this contract allows you to.Do imperative description of the.Conditions that you want to do so you.Check that certain quantity and the.Price is moved to certain address and.Then you unlock the asset that you have.You never I have to do this in a passive.Checks that whatever is provided or.Whatever like feature on that.Transaction object is set or some flag.The set versus in Bitcoin there is very.Complicated kind of hashing flags so.There's none of those things you can.Empirically just do the things that I.Have to happen and then if there are.Some kind of negative amounts left on.The stack in DBM then the user has to.Provide appropriate amount of payment to.Cover them and finally payment channels.Is a nice example that shows you how to.Do complicated state machines in this.Model where you don't have global.Programmable states like in Assyrian.Supima channel natural is a state.Machine between two parties that can do.Payments without settling them on the.Network and the only thing that Network.Sees is that the initially deposit some.Money in that they closed the channel at.Some point later but all the.Intermediate movements of the money are.Not visible but still they have to.Provide some assurances to the to the.Parties involved so how does it work if.The one party becomes unresponsive then.The latest signed agreement could be.Used as a way to exit the channel and.Settle by another party unilaterally so.This state machine is implemented on top.Of transactions so the states are.Embedded in those contracts and.Transitions are the transaction objects.In themselves which is pretty natural.It's just the intermediate assigned.Transactions they are not published.Until you want to exit the channel so.This is how it looks in this model of.Inputs and outputs and transactions.Finally to kind of wrap it up a little.Compressor with all the designs and then.We can proceed to the questions so it's.Kind of like a setting for discussion.Leader so if you compare the design of.The KTM it's always very different but.Is founded on similar principles so it's.Multi-asset environment for modern.Financial protocols and the specific.Difference is that the data and asset.Values are confidential encrypted by.Default you can of course make them.Public if you if you want to do any sort.Of conditional or conditional disclosure.Schemes if you if you need some audit.The concept of accounts is completely.Off chain and the verification of.Transaction is largely stateless and.Your mechanism for customization is this.Composable instructions instead of just.Enumeration of kind of thicker higher.Level operations and another important.Difference is that the order book logic.Installer is built in and has some kind.Of stateful conditions that will allow.Were more interesting kind of.Multi-party map price assurances in the.KVM there is no such build the open.Concept you can build all sorts of order.Books on top of the system yourself.Depending on like how complicated he.Wanted to do to be compared to the.Syrian atrium is is also a design for.The customization and smart con metrics.But the model is quite different the.Etherium is sort of like a global state.Machine with a lot of code and like.Libraries of code that can call each.Other and do a lot of stateful changes.In the KVM all the changes are isolated.And limited to this creation and.Deletion of the outputs and another.Important part is that the KVM is not.Cheering complete by design so it really.Acts more like a parser and allows just.As little composition between the.Instructions in data as necessary to.Create ease for financial operations but.Not to just program whatever and the.Assets are first-class types that you.Can move directly around instead of.Being some entries and a miniature bank.That you have to program inside your.Program inside the serial so this makes.The whole design much much more easy to.Reason about because you don't have to.Win vent a little ledger inside the.Ledger every time you want to create a.New asset and finally education Manero.They they're heavily focused on the.Privacy and they provide some cool non.Interactive obfuscation of the.Transaction graph which the key DM does.Not provide but you can still do this.With teams like pointer and so when.Multiple people join multiple inputs to.One transaction then they can sort of.Mix them but Cillian provides you with.The ability to have customization in.Contracts where easy cash Tamara doesn't.Have any and still even have the.Confidential computation within those.Contracts and finally the occasional.Manera have single assets and to kvms.Design.For multiple asses so as a summary what.We're having here is this experiment in.Combining customization confidentiality.And scalability features in a single.Project and using two to the optimal.Degree all the latest inventions in the.Blockchain space where we have.Reasonably innovative cryptography and.But still trying to be on a conservative.Side and trying to make things very.Scalable and high-performance and you.Know obviously pushing as much as.Possible to the kind of chain.Application to design so we can innovate.Faster and have the core consensus.Critical parts as simple as possible so.That's all I got for my talk today and.Then we can transition to questions you.Can check out the demo at the idioms.- demo Dostal org and there is a star.Slash slingshot repository on github.Where all the discussion and design work.Is happening daily thank you.Oh yeah so we received some questions so.The first question is can the gibeom law.To be applied to the Stellar blockchain.Or is it a separate sidechain the.Deviant watching is entirely separate.System that can work as a side chain or.It can work.Complementary like it can work as a side.Chain complementary reaches dollars so.You could have a set of validators.Overlapping both systems and using the.Same Stellar consensus protocol so we.Can can operate in parallel and we have.Some thoughts on how to do the.Import/export mechanism for their.Stellar asses from the main chain into.The into the GK VM side chain at the.Same time and the similar mechanism can.Be used for the Zika VM in private.Setting let's say you have a.Organization where you need a robust.Internal ledger that is cryptographic.Assured and limits the information.Exposure and you would like to use it.Internally but but also interoperate.With Stellar so that's also a good idea.Because then you can protect your.Internal data from your own system.Administrators and your IT department so.You can more precisely specify who sees.What information if you run their thus.Giving and blocking just as your.Internal private letter the.Question is a Kinney build an automated.Node for collateralized loan.How would you invoke locking for.Deposits and is there an up code or do.You require an operator in between so.This is a cool question because.Collateralized loan is one of those.Things that teaching naturally build.With the KVM instruction set so you.Could make an agreement that the person.Who receives the the creditor receives.The money if they lock some digital.Asset as collateral and this lock will.Have a custom predicate that allows you.To take it out of allows that sorry I.Lost the creditor to take out the loan.After some time out and also allows the.The person who takes it takes the loan.To unlock the collateral provided they.Make a payment and the contract the.Predicate of the contract will have a.Provision area formula to check that the.Payment was done including whatever.Required interest rate before the tenant.So this scheme requires you to build a.Little bit of this kind of smart.Contractor program to embed in a.Transaction and build some.Infrastructure around to kind of support.It and the Wallis - - to use this.Feature but then it provides both.Parties good security against each other.They can simply unlock the de collateral.With mutual agreement but if they.Disagree or don't cooperate then each.Party has the clause that protects them.From another so the creditor is assured.That after a timeout they can simply.Take the collateral salt in the market.And the debtor is assured that they.Don't need to cooperate with a creditor.They can simply take back the lawn to.Take back the cloud or provided the.Payout alone to pre predefined address.And so that's a perfect example for the.Use of the KVM and you don't need any.Third party to intermediate ease these.Elections was fully like just to parties.And without any trusted third party to.Your medium I was able to provide a.Timeline for when he expects to get him.To be fully complete and live on Stellar.So that's a trick question because like.The GBM itself was pretty complete.What's required which is a canal like.Annoying engineering problem is to build.This kind of blockchain kinda networking.Infrastructure around it so you could.Integrate it just with the kind of.Networking nodes which is an ongoing.Problem right now with we we have the.Blockchain state machine we have the.Peer to peer network components but.There is also you know also kind of.Wearing the right packaging you have a.Node with the UI stuff and things like.That but also there is the integration.With the installer consensus protocol.And integration with the Stellar assets.There are two separate problems so so.Far I would like to have an assistant.As possible but we're kind of getting.Out of the stage where we have to build.Something within this gonna slingshot.Project and now it's you know in the.Last in the ongoing wakes we're going to.Really face the problem of integrating.Where the Stellar consensus protocol and.With a horizon and with like input of.The assets so we're working on the.Roadmap for this right now so this.Require not just kind of work on the.Project itself but more like an.Integration work and working with more.Or engineers on the store in a broader.Taller side so the roadmap isn't being.In development right now we have any.More questions well thanks everyone for.Joining us today we're glad you've.Watched this livestream and if you would.Like to participate in a project and I.Have questions would like to integrate.Things with your applications then.Please find the github repository which.Is a Stellar slash slingshot and I would.Be glad to see your issues or pull.Requests thank you so much.
