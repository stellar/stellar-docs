All right everybody welcome to the.Stellar open protocol discussion .Thanks for being here thanks to all the.Panelists.Just a reminder the goal of these.Meetings is to talk about and plan for.Changes to upcoming versions of the.Stellar protocol.Specifically we go over core advancement.Proposals caps for short.Which are open source specs that.Describe suggested new features designed.To evolve the protocol to meet ecosystem.Needs.So caps they have a life cycle they go.Through various phases.Discussion draft final comment period.Acceptance and implementation.Before they're finalized added to a.Major release of Stellar core.And put forward to validators who.Ultimately decide whether or not to.Accept the changes by upgrading the.Network.So actually if all goes well today we.May attempt to move a CAP from draft to.Final comment period.We'll see what happens very exciting.Procedural stuff there.If we do we'll post a notice on the.Stellar dev mailing list and there's a.Link to that in the meeting description. at which point anyone who has.Comments or questions or suggestions.Has one week to respond before we decide.To either reopen the discussion.Or mark the CAP as accepted so that's.What happens if we move this CAP into.So last time we started the meeting with.Personal introductions. but today I think we'll skip that.Just to keep things moving along.All the participants are listed in the.Event description so if you want to know.Who's who just do a quick search.Or look at last last protocol meeting.Where a lot of the same participants.There's also a q a box where you can.Submit questions we probably won't go.Through them one by one during the.Meeting but we do look at them.They do inform our discussions and.Decisions so if you have a question.About what we're discussing and again.Please about what we're discussing.Feel free to raise it there so fair.Warning this is a technical discussion.About a specific proposal and if you.Want to keep up I suggest reading.Through the cap.Which is also linked to in the meeting.Description that will give you context.Now today today we will continue our.Discussion from the last meeting about.Cap 35.Which defines a method for allowing an.Issuer to claw back an asset.In order to support regulatory.Requirements so it can be used for.Instance to recover assets that have.Been fraudulently obtained.To respond to regulatory actions or to.Enable someone who can improve their.Identity to recover an asset in the.Event of key loss or theft.Now remember I said we do actually pay.Attention to the qa.Well based on some questions that came.In last time it seems like there's a bit.Of confusion about this proposal.So before we begin I just want to give a.Quick overview to attempt to clarify a.Few things.So based on questions that came in last.Time .This is kind of what I want to point.Out right.The proposal would introduce an optional.Feature for assets and it does that by.Creating new authorization flags and new.Operations to take advantage of them.The goal is to add new functionality to.Stellar that would make it easy.To issue regulated assets now these new.Flags will have no effect on accounts.That already hold an asset.That means if clawback is not enabled.When you obtain an asset it can't be.Enabled for you.Issuer can't just come in and change the.Rules after the fact.Also when an asset has clawback enabled.That fact will be clearly visible on the.Issuing account.And on the holders account in other.Words a potential holder.Will know in advance that an asset has.Clawback enabled.They'll look at the asset they'll see.That it has clawback enabled and if they.Decide to.They can hold it and they do so fully.Informed with eyes wide open right.People opt into holding these assets and.That's a pretty.Pretty important point I sort of.Mentioned all that just to clarify some.Some some questions that came up last.Time does anyone else before we dig in.Does anyone else have anything to add.Are we just ready to go.Cool so. the current state of this it.Is in draft mode. the question that I think we're.Ultimately trying to get to is is it.Ready.To move into final comment period.Pending acceptance.But there are a couple of changes that.Have happened since last time.There are some bug fixes that address.Comments and.There's a new set trustline's flag set.Trustline flags up.That allows an issuer to remove clawback.The clawback flag so.I I think just open up does anyone.Have any comments or questions.About the changes since we last met.So I think that the first of all i.Just want to congratulate the authors i.Think it's.Gotten a lot better .I have kind of like I don't know three.Quick comments that like maybe.Are just changes you can make or or not.And then one like.Point for more detailed discussion so i.Don't know how how.You want to go through this if we should.Start raising points or.Go around robin or what why don't you.Start with the three quick points.Let's just hear what those are okay so.One again this is kind of trivial but in.This.Set trust line flags off the clear flags.And set flags or pointers and I was.Wondering.Why that is is that for future.Extensibility in case we have like.Multiple banks of flags or something we.Want to turn it into a union because.Otherwise.If you just have a an integer if you.Zero then you're not setting any flags.Or clearing any flags.So it seems like the optionality had was.There's like redundant.Mechanisms to not do anything I'm just.Curious for the rationale.So it matches what set options. does right which is like if you if.You don't want to change clear options.Or.Like like you don't want to clear any.Flags you can just set it to no.Right so I just follow that I don't i.Think your approach is fine as well. I do think we there's an advantage in.Keeping it the same.As set options but sorry I thought.That instead options that actually.Actually.Set the thing to a particular value.Whereas here we're actually setting or.Clearing bits.So it's like a different so set options.It is the same as set trustline flag so.I think you're thinking about allow.Trust.That sets it oh right right so yeah.The goal here was to make it make it.Similar to set options and that you.You control specific bits .Okay well it's not it's not again this.Is pretty minor point I raise it it.Sounds like there's a rationale so it's.Not.Not a huge deal the. the other question so another.Question is.Should we deprecate allow trust stop now.That we have set. trustline flags up.I I think so I think we should but.That would be just something to mention.Like you know we don't have to like.Remove it or anything but we can just.Deprecate it and like.Slowly you know eventually maybe like.You know way down the line remove some.Some of these obsolete.Operations so third kind of.Quick point or suggestion is .In the set line trustline flags op.Instead of having an asset code.Should we think about putting an asset.There.And let me make the case so it's not cut.And dry but there are advantages.Obviously you might say well right now.It's like completely redundant because.The issuer should be implicit in.Whatever the source account is for the.Operation.However I can imagine situations where.Down the line we might not want that to.Be the case and here's kind of two.Scenarios where.Having the full asset in there would.Would make this easier so one is maybe.There's certain flags that like.The issuer can like add the flag or.Remove the flag but you can add the flag.Or something so we actually want the.Owner of the trust line to be able to.Change some of the flags and the issuer.To be able to change other flags or.Maybe.The owner can do it in one direction the.Issue or in another direction the second.Thing.Which kind of comes back to this point.Of feedback that i've gotten.A lot from talking to people which is.The annoying thing that if you issue a.Bunch of assets.You and you want a fixed quantity.That. if you lock the the high threshold.Of the account to known as high.Threshold you can no longer rotate the.Keys that are used to like authorize.Trust lines and so I don't think we want.To fix this today but.One thing that one can imagine down the.Line maybe is adding like a super user.Flag to like your trust line which.Allows you to.Not only hold the asset but actually.Authorize other people to hold the asset.Right I realized like.Maybe we do want to do this maybe we.Don't want to do this it means looking.At another. entry in the database when you're.Transaction processing so there's.Arguments against it but but but that.Would.Solve this problem you could like issue.An asset you could like create you could.Basically create a super user account to.To manipulate trust lines and then you.Could completely lock the original.Account and then you could still rotate. keys in the other account so.Just having the full asset in there.Would allow us to do that because it.Would allow us this level of indirection.That a different account.Could be the one authorizing at the.Authorizing trust lines.And I just just to clarify you mean.The asset code versus the full asset you.Mean the aztec code say usd.Versus having usd colon issuer of that.Asset.Exactly exactly and so.The issuer is redundant because it's the.Source account always but.I can imagine future situations where we.Don't want to require that to be the.Case.Actually I would say I would support.That like originally actually in the.Original proposal I didn't I didn't care.For the clawback operation so to not.Specify the.Full asset.Because at the time we only had our.But if we're going to make the change to.This new adult trust.Like we would also make the change to.Clawback right and then now we end up.With like.This is completely open and and in the.Future we can easily.Make that without having to add new.Operations basically.So yeah I totally support that I just.Want to echo this.I've been hearing from partners this.Desire to basically delegate. delegate the ability to allow.To separate accounts right now.We you know we we we.Promote this idea of everyone needs to.Have access to the issue or account and.A low threshold but there are a lot of.Issues with this.So if the issuer can actually delegate.This authority to other accounts. then I think that .Is great.Cool so I have one more issue that.Probably is might require more.Discussion so i'll maybe defer if other.People have quicker things we can come.Back to the longer running ones.I think I thought something I want to.Comment on this is I think this is.Really great the idea that we can we can.In the future possibly delegate who.Could run these operations.As opposed to being the issuer I think.That relates in some ways back to a.Previous conversation we had about.Clawback and the fact that. right now clawback is only going to.Return.The asset to the issuer and there's no.Ability to specify a destination.Because I think if we if we start.Thinking and I think that decision was.Completely fine if we think about.Clawback being something only that the.Issuer operates. because if they claw something back.They can always then issue the asset.Themselves again.But when we start talking about making.It flexible enough.So that a delegated account could cause.The clawback.Then the clawback is going to return to.The issuer so then.Then we have that no no in that case it.Would have to go back to the.Source account right which would be this..This other account so I think it would.Be consistent with.The behavior.Okay in a in a thick attack situation.You would actually not be burning .Assets in this situation you would. be moving assets from the account.Being called back to the.This kind of you know type of account.So is the clawback mechanism set up to.Claw back to the source account.Currently why it's implicit right it's.Implicit okay.I mean we could add a destination.Account so imagine a situation where.Whenever you claw back.You actually want to send it to some.Like arbitrator who's gonna like decide.Whether this is just or not.Or something as a way to although.Really you'd want to kind of force that.So maybe that's not such a good idea i.Think it's better to have it like.Go back to the source icon if you're the.Issuer you end up burning it and then.If you want to send it to an arbitrator.That's actually the second operation and.Then you do have.Clear kind of separation of like.What is actually happening the history.So it sounds like we do we do need to.Change the definition.In the cup slightly just to be more.Clear that the clawback is.Returning the asset to the source.Account and right now the source count.Is only the issuer. but like because I think right now.This language that talks more is more.Focused on clawback.Burning the asset rather than moving it.So so to be clear.Like in in CAP 35 would not be. like it actually doesn't make sense.To do clawback from a.Non-issue icon because you know you.Can't actually.You don't have the right to do it but.I agree in terms of wording.I can actually say so second right it.Will just work because.You know adding this functionality is.Actually adds a bunch of complexity. that I don't want to do in capital e5.Because you have like limits and all.That stuff that.The shirt doesn't have so you have like.New fader modes.And so the suggestion is just to.Slightly tweak the language so it's.Clear.That while we're at it I did notice one.Really nitpicky thing which is that .This new operation that was added.Recently .Set trust lines flag op does appear in.The semantics.But not in the abstract so while.Someone's going to tweet that language.My request is please add that to the.Abstract portion of the cap.I can take that.Cool does does anything does anyone have.Anything else before we.Take here david's more potentially.Rabbit hole question so I have I have.One comment.Related to the the suggestion to make.The asset code an asset.We in in the original subtraction.Flags proposal there was there's a.Similar.Change allowed you allowed either the.Issuer or the owner of the trust line to.Operate on the.Operation or operate on the on the.Trustline flag and one concern that came.Up.That john brought up was that he would.He preferred.He would prefer it if we just use a.Different operation for.If the owner wanted to modify the.Trustline flag because he.Said you know it would be it would make.It would be clearer than allowing this.Like this other this brand new.Functionality which we don't even allow.At the moment right i.I personally I don't think it's.It matters that much I think it's fine.If we if we enable the the owner.Of the trustline to modify a flag in the.Future but that that is one.Concern that he had so that's a decision.We're not taking that decision today.Like that may be perfectly fine.All we're saying is we're gonna leave.The flexibility not otherwise we'd be.Making a decision today that we have to.Do it that way and we're leaving our.Options open.That was only one of the two uses that i.Could think of off the top of my head of.Having a full asset instead of the asset.Code the other one being this delegation.Which.Both tomer and I guess have heard .Requests for from people okay yeah i.Think that makes sense.All right david I think we're ready for.Your bigger question okay.So the so the bigger question. is and I don't know what to do about.And maybe it's not that big a deal but.The the.When you when you're clawing back a.Claimable balance. the the problem is that that whether.Or not you can clawback a claimable.Balance.Depends on the person who created the.Not the person who can redeem it.Right who can claim it and this seems.Like.A little bit unfortunate in terms of .For example you know how you.Arbitrate a situation where like you.Know I sent you a clamo balance and.Then.Like I couldn't claim it anymore so i.Considered it was yours but it somehow.Got.Clawed back before you were able to.Claim the money. and and maybe you had some special.Arrangement where like you didn't have.Clawback or.Or something so so this is. so this is bad and another thing.Where I think this would come a lot is.Kind of.At the end of some complicated protocol.Like a payment channel or something.Where you kind of like at the end of the.Day I give you a bunch of assets and you.Give me a bunch of assets.Now it's sort of like I would expect.One of those.Oh you know you both either both to.Happen or neither and now there's a.Possibility that kind of the wrong one.Could get clawed back like my funds.Could get caught back.Because you were subject to clawback. but you were the one who'd like.Created this claimable balance.So given that the claimant you know.Given that you can't.You don't necessarily know who can .Well anyway so that that's the problem.So should we do something about this and.Do we care and if so you know what.Should we do I mean like to me that's.That's that's actually why I wanted to.Have this flag in the first place on the.On the balance entry because you know if.You have if you don't have.A clawback enabled on the balanced entry.Basically.It's immune to kind of interference.Like that from.For smart contracts yeah for the for the.Ones that do have that flag enabled i.Agree. as soon as you.As you touch it as an issuer you're.Actually kind of blowing up a whole.Smart contract and i.Yeah but the problem is like it feels.Like in most cases you'll be.Blowing up the wrong leg of a smart.Contract.You don't know the problem is that you.Don't know yeah.So you have to do a lot of like offline.Type of. kind of.Work before actually doing this claim.Can you explain to me what the use case.Would be in this situation.How you'd be using payment channel.Payment channels.With claimable balances for assets that.Had clawback enabled.Like is this something that there's that.A reasonable person would be using these.Assets in that way sure I mean.This like whether or not you want to use.The payment channel on an asset should.Be.Kind of independent of whether you can.Claw it back or not. but but the point is that like.Most in most of these protocols you kind.Of assume that the funds are yours once.You can.Claim them and we're now slightly.Changing that.Situation and that like they they could.Still get clawed back because of.Something bad that the issuer did even.If the recipient.Has some kind of a non-clawback.Agreement with the issuer.That would be on the recipient's account.Right.On their trustline flags so like the.Sender and the recipient both have.This clawback flag they can be set or.Onset in their trust line.So if the recipient doesn't have it set.In their trust line then they know ahead.Of time that.It can't be changed for them right.Except that.Except that they're the the claimable.Balance that they can claim.Can be clawed back unless I'm.Misunderstanding.Right and only if it has the flag only.If the sender had the flag enabled right.So in a way it's like you wish that the.Policy had to do with the recipient.Rather than the sender I guess.Is is kind of what I'm saying but but.That also doesn't work right because you.Don't want to.Just be you I shouldn't be able to like.Protect my funds by like sending them.All making a bunch of.You know claimable balances that people.Can't claim and then reclaiming them.Afterwards so I don't know what the.Solution is it just.It seems like it's something slightly .Annoying recipients.Recipients also don't have to exist at.The time the claim will balance yeah.Exactly.Exactly so there's a lot but there's no.Guarantee we even have that information.I think the only the only things we can.Guarantee exists on the network when the.Claim balance is created is that the.Issuer.Exists and the the account holder exists.The original account the sender exists. and I think if we were to choose from.One or the other where to get that.Information from the sender is better.Because if we use the issuer then.If the issuer enables clawback then a.Sender.Whenever they create a claim or balance.It's become going to become clawback.Enabled even though they maybe have an.That when they hold the asset it isn't.Can't be called back.So I guess my question is what what does.Where does this conversation lead what.What action needs to be.Taken to sort of resolve this issue.I mean you know maybe we can't resolve.It right maybe it's just. yeah.You know it's not there there doesn't.Seem to be any ideal solution here.And you know I agree that it's it's kind.Of at least as reasonable to have.The flag and a claimable balance be.Based on the sender than.To have it be based on the issuer so if.The given that those are.Kind of the only two options I can see.On the table. maybe we just live with it.The spec currently specify using the.I can't remember it is yeah in.Everything the.Yeah okay so that's the standard because.That way like.Like the reason I wanted that in the.First place was because if you're.Going to engage in a payment channel.Let's say at the beginning like you can.Actually look at those flags.That people have on their trust lines.And decide at this point.You actually want to basically take the.Risk or not. in that payment channel right.If people don't have the flag set you.Know that basically you're taking a zero.Risk.If you have the flag then you have a.Question. I don't see but the flag can change.Like during the execution of a protocol.Right so you no no no no.That's the point is that if the flag.Once you have if you have the flag.Not set people cannot like issue i.Cannot set it back.It can only be on set okay that's a that.Makes it.That's that's why this this works right.Like if we are allowing the issuer to.To basically renege on the on this it.Also breaks that so that.Yeah so so anyone would be up they would.Understand.This fact they would opt in to choosing.To use the asset in that way.Again eyes wide open yeah like but here.The important bit is like you can.Imagine having.Some accounts on the network that don't.Have that flag enabled even though it is.Like the issuer has the callback enabled.But they're like.You know maybe privileged accounts or.Something like you know better cheers.Basically of accounts that can actually.Engage into those payment channels.Or whatever I like to yeah I agree that.It's not ideal because.Like really what you would want is like.Any.Any asset I mean any account should be.Able to.To participate to payment channels but.The thing is that as soon as you you.Potentially have this third party kind.Of interfering. it gets really complicated. I don't see yeah so I can basically.Live with it I think you guys have.Convinced me that this is probably fine.And anything else is going to be.Worse.I I think I also want to mention I think.This is a limitation of claimable.Balances in general in the.Claimant balances the only the only.Place they can go.Is into the account is into a claim.Is into the an account that's defined as.A claimant. and so for their use in smart.Contracts there's that limitation.Already. and may like maybe there's room for.Improvement.In the future for claimable balances to.Have other destinations.So you know you could take funds from a.Claim balance and move them into another.Claim will balance all into multiple.Claimable balances and if you know if.That is ever a possibility in the future.You know that opens up more flexibility.For.Smart contracts because. you know then we can start talking.About you know they can inherit.The attributes of their previous kind of.Balances or different things like that. but that's I think that's like that's.Off topic a bit but.I think there is some limitation that.We're inheriting from the fact that.Claimable balances.Only have accounts as a destination.Okay well I'm satisfied nothing needs to.Change in the in the cap.Basically after this so the one there's.Basically one minor change which is to.Replace the asset.Code with that oh sorry I meant for the.Last part of the decision.Sounds like for the other one we agreed.That we'll add a note that.Allow trust stop is deprecated and we.Will .We will add to turn the ass in two.Places we'll turn an asset code into an.Asset I guess right.That's correct I think those are the.Changes that we've suggested making does.It does that seem accurate to everyone.Else.Yeah and if so those feel like pretty.Correct me if I'm wrong sid for instance.Those feel like pretty minor.Changes to execute is that correct yeah.They should be.Like that like we could move this into.Final comment period pinning those.Changes.Does that seem correct yeah.All right guys I say we I say we.Move this from draft and final comment.Period. I kind of want to do like a formal.Process here we have to say I or.Nay so let's do that let's do that. nico.Yes sid.Yes david.Chalmer yes eric.Yep is that is that everybody.I think that's everybody who's on this.Call guys I actually have a gavel.So I'm going to strike this gavel and.Can you see it and.And now it's officially moved into .I happen to have that gavel in this room.Full of junk I did not go buy it.Especially for this I promise and so.That's mostly it I mean the only other.Thing that I guess we could do. which we can also decide not to do is.We could talk a bit about where this cap.Is because I know that some.Implementation has already been done. do you want to walk us does anyone.Want to walk us through that or should.We just.Be happy with this sort of procedural.Vote that we just had and.Close the meeting I think that's.Probably enough for now.Like in the context of this meeting okay.Cool meetings that end early are great.There's.Just no reason to stretch out to the.Full time if you're done.Okay cool so we're going to move into.Changes so when they're done I will send.Out the official notice on the Stellar.Dev.List and again anyone who's watching.That gives you a week.To for final suggestions we can reopen.The discussion if it seems necessary.But this is final comment period pending.Acceptance.Great well we answer the questions we.Move this along.I think we're done everybody feel good.Great yeah thanks thanks everyone for.Coming thanks everyone for watching.See you next time cheers.You.
