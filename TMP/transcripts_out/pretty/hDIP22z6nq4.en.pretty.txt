All right I'll get started well welcome.Everyone today I'll be speaking about .An update to cap.67 which is the unified events CAP .So so a recent change was made where.With the goal of reaching feature.Parody with regards to Memos in seller.Classic and more specifically you.Know batch payments within a transaction.With different mxed operation Source.Accounts are possible in classic and.This is a way you can make batch.Payments to an exchange so we wanted to.Make similar functionality possible.In.Sorun so the the proposed solution is.To add an extension function called.Transfer with memo to the Token standard. if if you want to support memos so.The function takes an optional optional.Memos for both the from and two.Addresses and will emit transfer.Event with a new topic that is a.Vector of memos this this format does.Need to be discussed though there's.There's been a lot of discussion on this.Recently so if we don't expect that.The memos to be filtered on then it.Should actually be in the data field .But putting putting this into the data.Field will be a breaking change which is.Why I didn't initially update the.Proposal for that because the data.Field is currently an integer instead of.A map but one of the options is is.Making that breaking change and updating.That and the the other option is to.Split the if you want do want the top.Memos to be filtered on is to split .That Vector two separate memo fields.In the topic so we leave the the.Memos in the topics and allow them to be.Filtered on there and instead of so.Those are updates to the transfer event. the other alternative is instead of.Emitting the transfer event we ALS we.Emit a we still we emit the transfer.Event as it exists today and then we.Emit an additional transfer with memo.Event with the with the memo.Information so if you care about the.Memo you consume that event as well .And there's also an alternative proposal.In the thread I just linked from Dima to.First Class the MOX count type which is.Which is a a different proposal from the.Transfer with.Memo a methodology that that the cap.Defines so yeah there I know there's.A lot of there a lot of opinions on.What we should do here I don't know if.Anyone wants to chime in maybe Lee or.Dimma.Yeah I guess I could quickly present my.Option.And recap some points I've made in.The discussion Regarding why do I think.That my proposal might be a better.Option than an explicit operation .Code transfer with memo and the gist of.The Proposal is that. we make it so from.The client.Standpoint the mark addresses do.Not look like do not require any.Special treatment meaning that you can.Create an st.Val that represents for example.Max classic account and pass it as out.To the.Contract and and changes are only.Necessary on the contract side similar.To to the transfer memo option right the.Changes are necessary on the contract.Side to support this because if.You're are talking about the approach or.We literally have a transfer with memo.Function we are kind of reinforcing the.Memo concept that is really problematic.Because like we have two different.Identifiers. that the users need to care about and.We put it deeper into the protocol into.The token standards and then we just.Expect down Downstream systems to handle.It in a special way to and if.Represented this singular address I am.Not sure if this is going to apply like.If if this has worked for example I.Don't see why wouldn't like changes to.The trade they constantly get issues.With memers they could in theory build.An M address and vets could in theory.Purse an M address and it back into memo.And g account that doesn't happen.Because that's very cumbersome and that.Reise on a lot of parties to do the.Right thing at the same time whereas.In my.Proposal the only thing that a v.Would need to do is well convert a.Spring key into an address which is like.Call library function so there is no.Need to somehow specially handle this .And we are kind of reinforcing a good.Pattern of using Max.Accounts and the the main benefit of Max.Accounts is that they have a canonical.Single address representation.And in general the user doesn't need to.Worry about what exactly it is only s.It's they need to worry about is that.This is their address of their exchange.Account quote unquote and they need to.Deposit money to this account and .This is the only thing that they we need.To worry about so it's kind of the gist.Of the proposals there are definitely.Information details that could be.Discussed but I guess there was lot.Of position on the whole idea of doing.Doing this which honestly I'm still not.Sure.I understand the reasons behind because.Again.Like the transfer M proposal is like.Doubling down on the memo hack that has.Been existent in the protocol for a.While so yeah that's kind.Of my side process.Here with your propos proposal to you.You have a transfer function that would.Take two different types right it.Would either it could either take the.Address object is exists today or among.Yeah address object Bally I'd say the.Main requirement is that on the client.Side Al xdr should deal with SC.Addresses that represent maxed accounts.Can introduce a concept of Max contracts.As well that's the main.Requirement then.Everything else is going into the realm.Of the implementation details and things.May be adjusted for quity if I think .That's needed like but yeah in my.Original proposals area was that .Since the contract types are they by the.Nature of our San design they're.Polymorphic right or they variant types.Basically right so you can pass a.General Val that represents one of the.About of types to the contract which.Means that the layer of the contract.Interfaces there shouldn't be an issue.For a contract to be able to accept not.Only add dress object in a function.But either an address object or maxed.Address object so is one way this can.Be implemented U on like the level of.The Cross contract interraction there is.Of course definitely some stuff that.Needs to be figured out how how exactly.Do this DEC how do we represent this.Interface at all but I don't think it's.Impossible to achieve especially given.That it's kind of a narrow use case I.Think it could be a separate interface.That you implement if you want to.Support MOS and this interface will.Be compatible with the interface of the. Regional token contract because.Again protocol itself does not.Enforce any type restrictions Ty.Restrictions happen at the contract.Implementation layer so I think yeah.Can do.That and the same goes for the event.Trade like we can do different things.About the events like we can a transfer.Event we can like ex option and kind of.In favor of which is another benefit of.This approach is that since we have Max.Accounts in the.Protocol what we could do is we could.Have a an additional field in the event.Structure itself for through this.Mares I don't know if it is too.Wasteful or not but at least this is an.Option that we have that does not.Require imited additional EV and also.Does not mess up index and for those who.Don't care about M so you could have a.Set Vector of the multiplex Tes .Addresses in the event which would.Generate automatically so yeah that's.Kind.Of one of the options that this opens up.As.Well so the the vent point you.Mentioned like that's a that's be done.With either approach right where we.Separate the max.ID well it depends on versus goes .Like in the transfer memo option it has.To go through the normal EV data.Structure so it will either belong to.Data or topics with a protocol based.Approach we have an option of putting it.Into a sort field that is not data and.Not a topic Oh you mean the xdr.Yeah in the xdr yes so if you don't care.About this you will not see it at all.And this event will quite a normal.Transfer event.You interesting okay so that that would.Require some Downstream like some.Work in RPC to expose that additional.Information right because I don't think.RPC currently exposes of course.Everything course I mean sure any option.Requires like some sort of additional.Work somewhere yeah and .Yeah it's not an argument Pro con it's.Not a pro con of any approach yeah sorry.I Wasing wanted to say.Something yeah so I think like we're.Discussing a few different small.Features that all come together into.Sort of these two different ways that we.Could implement this and so I think.The the four different features we're.Talking about is you know should the.Should it be an should it be an M.Address or should it be a g address plus.A memo in the input and then the same.Thing for the output the.Event and then we're talking about.Should we reuse the transfer function.The existing transfer function or should.We separate the this use of M memers.Into a separate.Function and then should we reuse the.Transfer event or should we separate.Them into the transfer with memo event.Like each of these these things are like.Separate decisions that we can.Make I think some of what you've.Alluded to De about you know the SDK .And you know what would this look like.In the S Cas so I understand I think.When we look at from the the host.Interface yes all values that come.Into a contract are a Val so it's a.Little bit like if you're a Java.Programmer and you're familiar with like.Object you know you can you can make.Your parameter coming into a function as.Object or you can make it some type and.Map to different types so you know we.Could add nstk type that is I'm not sure.What we' call it any address I'm just.Going to use the term any address right.Now and address could be this MX.Address or it could be the address we.Have today so the MX address is an M.Address and the address we have today is.A g or a c and.So we we could do that but we're sort of.Adding a lot more that I think every.Token developer is going to be exposed.To and going to have to learn about .And that's like that's a barrier to.Entry that's a a potential point of.Confusion so why I think that every.Token developer will be exposed to this.Is because we can't change we can't.Have that token interface be something.That's extendable so like right now the.SDK has if the function name is the same.So right now there's this token.Interface in the S an SDK and there's.Tooling built around that being built.Around that by folks like if you go.And have a look at like the OpenZeppelin.Contracts and stuff so there's like.Tooling being both buil bu up around.Being compatible with it and we can't.Have like another trait that provides a.Different type of transfer function that.Has the same name and has a different.Type as the.Input so that means that somebody that.Goes and implements you know one of.Those traits their code might not be.Compatible with someon the other type of.The trait if we have two complete.Different traits there sort of sort of.Like it's very difficult it's not really.Simple in Rust to you know rust doesn't.Have this concept of like overloading.Functions so it's it's just yeah it's.A little bit difficult to figure out how.Do we actually make that work so I think.Like the develop like a narrative around.Like what a developer experiences so.Like on the surface I think like yeah.This you know trying to build.Everything into one function overloading.The type these are all nice.Engineering these all seem like nice.Engineering decisions but the narrative.That actually results in for the for the.User of the.SDK is is reasonably complicated like.They need to learn about more things.Whereas most custom token developers.Probably don't need to know about MX.Addresses they probably don't need to.Know about any address they probably.Don't need to know about memos like a.Lot of what we're adding for like Marx.Address and memos is for. yeah I guess some specific UK US.Cases where the token Developers for.Those specific U cases would need to be.Aware of.Them yeah I'm yeah I I've made a lot of.Like I've answered a lot of these.Questions in the discussion but yeah I.Can answer again and I'd really like to.Challenge a lot of your points because.Well first thing is the developer.Complexity I think that transfer memo.Option introduces developer complexity.Arguably more developer complexity just.In different place and this place is St.Like wets or block.Explorers and I would argue that.Complexity in these places is much worse.Because instead of you know doing this.Once or a few times in places like open.Zeppin implementations for example right.You actually ask every developer to to.Either resort to just present in this.Transfer with memo operation literally.Transfer with memo and you know we we.Kind of just repeat the mistake of.Building them into protocol and we'll.Have funds lost because people just.Forget to paste memo in the operation or.You have a requirement for the.Downstream developers to have the same.Level of knowledge of what M must do but.The work around again if we like in case.Of the SDK if there is at least some.Possible way of building a samean.Solution for the.Developers which we can discuss this.Rain firms.Options for the downstream it's.Basically up to them for the.Interpretation and I don't see a sane.Way of standardizing this and making.Sure that you know every time address.Is an address but if you encounter.Transfer res memo somewhere then this is.Not an address this is Max address and.Then if you encounter an M address and.User tries to make a transfer you.Actually need to resort to this.Different function and you need to break.It down I think it's complicated I.Think it's more complicated than .Messing a bit with r traes and the.Solutions that are proc involve like.What if token interface accepted just a.Valve for examp example which is.That's type safe but you know token.Implementation just makes a check if it.Is address in one case Max address in.The other case then like we don't.Even need separate traes or it just move.The check out of SDK autom magical type.Conversion into into the contract.Project there just one option we we can.Think about more my point is that like.I feel like fundamentally this is.Just a better place to put complexity.Because it's higher upstream and.Ultimately not many people need to deal.With it especially like you know if it's.Always once and something like opens up.Implementations but but also sorry one.Last thing I wanted wait like one last.Point I wanted to make I don't agree.That most of the token developers should.Not care about memos I think they do.Because.Like they probably would hope their.Tokens being listed on the exchanges at.Some point sooner or later so I.Think in either option they will kind of.Need to worry about this in one way or.Another either by implementing transfer.B memo or Max Account Support so yeah.Again I'm not sure if we are saving.Something here.Specifically yeah yeah so I think one.Thing I think was interesting you you.Talked about.The you this this idea that like we.Want to be able to encourage madress use.And we we we don't want to go down that.Past where you know the two were.Separated because that was you know a.Mistake it was easy to forget them I.Think we're conflating some of the.Layers here so when esses were added.There were actually two problems to.Solve so the first problem was people.Not forgetting the the the memo and.Displaying that information so.Displaying that combined information in.Just a single identify that they could.Just copy and paste the wallet now the.Second problem that had to be solved was.How do we get that information into the.Existing transaction xdr the way that we.Settled on solving that second piece is.Actually largely an implementation.Decision so that first piece is like the.Actual problem the problem we were.Trying to solve the user problem the.Second piece was the implementation is.Just implementation details and the way.We tried to solve that at the time which.Was largely led by just the existing.Structure of the xdr was was to put that.Memo ID next to the account inside this.Moxed account structure because we could.Actually do that in a way that didn't.Break a lot of the existing xdr but the.Goal was really just to get the memo.Alongside each of these places where.Where where we needed to basically you.Know attach to a destination or attach.It to the source so I think like that.Last part is largely an implementation.Decision the Sol the problem that was.Originally solved with MOX accounts is.That first part you user copy and.Pasting a single ID into their wallet.And I don't like both of the solutions.We're discussing here they both satisfy.That first problem which I think is like.You know if we're going to continue to.Support MOX accounts that's like that's.Sort of the thing we have to make sure.That continues to get solved and.Otherwise like a lot of the those.Details about you know does the wallet.Split apart the M address wallets.Already need to know about M addresses.So like that's not a big deal does the.Or you know they could potentially we.Could make the SDK easier at you know.Doing that for them but that's.Largely an implementation.Detail. so I guess I'm not really seeing like.The connect with like how.Adding continuing to propagate passing.Those because I mean in the XTR like to.Be really clear like in the XTR an M.Address is still two parts the Melo is.Still separated from the you know the.Public here sure totally but the thing.Is that again this transfer with memo we.Have like two separate contract call.Arguments and yeah of course it is an.Implementation detail but this is a.Detail that will cause a lot of bad.Decisions Downstream wait again. one decision can we talk specifically.Can we talk specifically about what.Decisions are because because something.I just want to highlight is that.Downstream systems will want to filter.These events by the G address not by the.No no I'm not talking about the events.I'm talking about the.C and again to make me Point Clear like.I I'm not even insisting on any specific.Solution to the events I'm talking.Specific about how is this function.Being called I'm arguing that transfer.Mem is harmful because well you have a.Functions that has four arguments and.Downstream when you're building this.Call and trying to get user input for.It you basically have two options one.Option is do what you do every other.Time for every other function which is.Like have a strict matin of a cous to.Input function.Arguments what we are proposing here.With transfer memos is that well in this.Particular case they will need to.Somehow .Either take M address as user input.And split it into two parts or I don't.Know I'm not sure how this is supposed.To look like and then when we are.Talking about R which again kind of us.With a function arguments we're in.Exactly the same position where we kind.Of need.To in this particular case we need to.Do something about like this mapin of.Arguments that is normally one to one.And you know your code would be hey if I.Say C address a render is a string key.But here is say no no no like you you.Cannot render this as a string key you.Actually need to render first and second.Argument as this m spring key so you.Know I doubt this will work. and this is honestly like how again I.I made this point before like we can say.That transaction memo is an.Implementation detail just renders.Destination as an M address of memo plus. was a destination account like that.That works on paper if you have a single.Payment but we will don't do that.Because it's like very unintuitive and.Error prone for.Were you.There yep just I don't know if.George would like to George is typing.Some things in here it sounds like he.Has some perspective to.Share don't know if he wants to join the.Stage.Sure yeah I mean I can just reiterate.What I put in the chat which is .Pretty similar to Demus points I think.Which is that having separate.Functions for this and separate.Parameters for this just reintroduces.The problem at the user layer that you.Mentioned Lee which is that people.Forget their memos right so by by.Separating it out you're just.Reintroducing that possible confusion .It seems to me that if we want.First class support.For custodial wallets which is like.The main user of M addresses then you.Would want first class support and.Transfers right and you would want that.To also be present in custom tokens.If if a token doesn't support M.Addresses right then you can't use it in.The exchanges which you know might be.Fine and might be a decision that the.Token makes but I feel like we would.Want to encourage that rather than make.It this very .Distinct opt in thing that you have to.Have a separate function to.Handle you mentioned that people will.Forget the memo but if an exchange is.Still displaying in M address and the.Wallet is receiving that M address I.Mean if the wallet doesn't know what to.Do with an M address it's going to.Failed there's going to be some sort of.Error but if a wet knows what to do with.An M address it's going to unpack.It so I'm I'm I'm trying to figure.Out where is the use where is the.Forgetting the memo paste coming.In you're suggesting we would continue.To use the M string key but not actually.Propagate that at anything but the UI.Layer.Correct that's the layer that's like the.Input into creating a transaction that's.The layer where this the M address came.About to solve the.Problem I see and so the application.Developer would be responsible for.Dissecting the M address rather than.Just passing it.Along.Yep now that's that's not without a cost.I.Acknowledge but I think the cost like.This is we're discussing.Tradeoffs yeah and the cost in the.Solution I'm proposing is just using .New version of spring key library.Because again it just Maps into address. but arguably things are a bit more.Complex on the con side which yeah yeah.I'm not sure if it's necessarily.Significantly more complex could you.Elaborate on what you mean by an M.Address maps to C.Address SC address sorry SC so so.Basically when.Because like what I'm proposing like I.Want V to just wait do what they are.Likely doing now right it would paste.The destination as a string key and you.Can just take this string key convert.It into address SC well pass it to the.Co and this is like like this is what.You have to do now to support sound.Transfers right and the only you will.Need to do to support Max transfers as.Well updates the libraries things.Will magically work it is a lot less.Work and a l a lot less chances of just.Doing something.Weird yeah what what typically.Happens in I think most sdks George.You can probably correct me if I'm wrong.About this or if it's not most but I.Think what most stks do is you give them.A string so you give them the M address.Or the G address and then the SDK is the.One that builds the MOX account on the.Classic side yeah whatever the xdr.Types are so most applications don't.Build the xdr types themselves but right.That's the point right but say.Like do we make contract codes with just.Like strings and even Z like you still.Know need to know which contract code to.Make right because your safe default.Should probably be.Transfer but then or maybe the saet.Default should be transferred with memo.But that's not always going to.Succeed so there is definitely some L.Of projects that needs to happen even.Like ticated build calls just from the.Strings but I'm not even sure if.That's the case right because conversion.And building actual call is different.And here like we are mixing the.Conversion and building the call because.Currently again for each and every.Contract call the conversion is one.To one you have like two string keys and.An amount and this is argument to the.Transfer and here is say well here is.Like three two string keys and amount.But you need to M this to four arguments.And sure which where it should happen .This is like how capsulated in it decay.Or V care about it or whatever client so.I don't.Know maybe there is some good Solutions.There but but I feel like it's kind of.Hacky and error prone. and then again as I pointed in the.Discussion like BL explorers May.Displays is differently as well so if.You were to check your transactions.There you would be.Confused.Yeah so I think we're I think like where.These different ideas were optimizing.For different things so I think. the proposal for transfer with.Memo is like very simple to add to the.SDK and the experience or the knowledge.About what you or what you need to know.About that extension of a token is.Really isolated and so I think like.There are benefits.To developer onboarding for contract.Development in the Stellar e system.Because of that and then I think the the.Idea that you're presenting is.Optimizing for there being one interface.A single interface people need to.Learn with so people need to know about.This stuff so there's more for them to.Maybe know up front as a contract.Developer but once they know that.Information it's a single.Interface and then an added benefit.Of this is that in things like stks or.At that client level you do still get.Like that single view of the M address.Whereas with the First with the the.First proposal we don't you don't get.Like the single view because clients.Need to unpack things so I think like.These two different approaches are.Optimizing for different things trading.Off different things I.Think something that you mentioned.Before deer is like we don't we haven't.Really figured out exactly what the SDK.Would look like and what the experience.Would be there maybe we need you know.Assuming that we have all the time in.The world Maybe we need to actually do a.Spike there.To make sure that we don't have any.Unknowns and that we have a Clear Vision.For like what the contract developer.Experience is going to.Be yeah sure I agree that prototype.Wouldn't hurt because yeah I want to.Make.Sure this makes sense aswi.I think maybe we could discuss the.Event portion of this so like I.I earlier I listed out like there.Were like four micro decisions we sort.Of need to make within these decisions.And one of those decisions or two of.Those decisions is around the event so I.Think we've talked quite a lot about.Like the input the trans the transfer.Function versus the transfer M function.And then you know should it be G memo.And M on the inputs for the outputs I.Don't think I saw in your proposal that.They would be an M address so so is are.Both proposals consistent that whatever.The event is it would both the event.Would contain a g and then a separate.Memo yeah say don't have a strong.Opinion we have options and the.Tradeoffs are are like much less clear.To me because well we could easily.Put M addresses right there in the event.And look the same but the concern is.That it will confuse consumers that.Don't care about htic rate. which is why we could do either.Separate field that is protocal defined.For this MOS which has again a down.Set of B it's a protocal change and also.It adds with four bites to the all the.Events.Just kind of bad but of course you.Can just do whatever you would do with.Transfer this memo by just you know.Providing ways of getting the mar.From and and then you can do basically.Anything you want to structure and I.Think U you know there is no difference.Between transfer this memo and my.Proposal the scenar we if the all.Resarch to split Max address into two.Parts then they very can cze whatever.Events we think are the best trade of.Yeah the only distinctive thing about my.Proposal that we had this yet another.Option of having M thiz as a parallel.Field to topics and data but other.Than that I don't have to strong opinion.On what the event should look like.Yeah to's not here today but I did run.This by him yesterday like what u based.Off what he knows from a product.Perspective would it make more sense.For exchangers to you know filter on or.Exchangers or anchors to filter on that.M versus a jress his opinion was a Gess.I think we haven't I don't think we have.Like.A survey of how people typically filter.But existing exchanges would be. given that historically there were.Just a separate G and a memo are.Probably filtering on G.Address oh yeah totally I kind of like.We know status quo that most exchanges.Use G+ memo MH but they also don't.Use the events which is what we're.Discussing here.So there may be honestly an opportunity.Here like to kind.Of if people need to migrate anyway you.Can kind of try to promote well.Something maybe a bit but I think for.Non- exchangers memos maybe kind of know.To deal this so right but exchanges.Would be using.Horizon and Horizon typically.Uhit imits in air quotes Things.Based on account so. I think that's where like the the.Idea that okay like exchangers they.Currently collect these events affects.Payments VI account so we should.Probably just keep doing the same thing.In a mid Advance buy account which I.Think makes sense because like these.Topics are intended to be things that.You could filter on and so if I'm if I'm.Running a system that's catering for n.Number of events coming in to one g.But you know across like all those.N number.Of moed IDs like it from a scaling.Perspective it's difficult how would you.Use an RPC to filter on all of those.Things you wouldn't you'd be just You'.Just have your system ingesting.Everything relating to the geod and then.Splitting them.Out oh I see Nico he's.On yes so yeah I guess you guys were.Talking yeah there's the you know number.Two right that is the do you want to.Expose the G Plus memo or the m in the. in the output right as an as an event.I think maybe we should maybe talk first.About number.Four in your list right that is is it.A single transer event or is it multiple.Events because I think you know like.They are like implications in this.Context like the the way I'm thinking.About this is that the tradeoff is that. so if we have separate events the.Nice thing about it is that we keep the.Transfer events for the standard.Token contract as a you know fairly.Clean like it's the same thing we don't.You know mess with it. the problem with that approach where.You have two events is that you need to.Do some sort of .Reconciliation from The Exchange side.If people send so assuming that like.The The Exchange requires.Memo but for some reason somebody sends.Money and forgets to specify the.Memo they actually need to reconcile.The those two event streams in some.Way basically to find the U the.Transfers that happened that don't have. a you know transfer with memo.Equivalent and that sounds a bit.Complicated to do I mean it's doable.It's just like you have to to kind of.You do this kind of reconciliation on a.Per transaction.Basis. so yeah so like I don't know what.You guys think about about this one.Because yeah if if we can get one event.That's the the other ation I starting a.Discussion right that was I think the.The type of problem we we have in.That context.Is how does extensions to a standard.On as an event right like how do they.Look.Like right now like we're saying.Maybe we keep adding topics to the to.The.Event the problem I see with doing that.If we're not like super careful on on.On that.Is you know as you add more extensions.To like how does that work like you you.Know to keep you know they are.Basically Index right in the in some.Arrays.So if you only implementing one of.Those extension you know extension.Number 20 does that mean you have to put.A bunch of voids you know like in the.You know up to 20 basically that's.That the type of things that happens in.That World .And yeah who manages the. the namespace I mean the name spacing.Here being you know just a number but .There's a bit of that question that kind.Of pops.Up in this case it probably makes sense.I think you mentioned this it it would.Make sense for the topics to be in the.Data field not the topics and you.Would you if you turn the data into a.Map then you only look look for what you.Care about I age.Extending topics definely the extensions.Would have their own name of sort.Like maybe here would say memos or.Something and then that's a string and.Then that's how you can then have a.Custom data attached to.It yeah that's the cleanest option Le is.That what you were is that what you were.Thinking too yeah my point was just.To move them out of the topics in.General I mean I think in general the.Memo probably don't belong there like.Filtering on the memo IDs is is.Getting a little too granular like we.These topics are meant to be like things.That you could filter on that you.Know most people are going to want to.Filter on because I think maybe George.You can confirm this like I think the.RPC or different systems have to index.These topics so like we've already got.Four topics like once you start adding.More topics it's like.PE. yeah yeah I agree I don't think the.Memo needs to be a topic but the and for.The the same reasons that you know Nik.Is mentioning too like having to add in.All these voids like now we got six.Topics and then like you get to like 20.Topics eventually when there's even more.Extensions this doesn't.Really it doesn't create an interface.That's intuitive at all I.Think but I think this is like one of.The nice things about the separate event.The transfer of memo event is it's it's.Very very explicit like you know if you.If you want to ingest if you're.Looking at an operation and there's a.Transfer and a transfer of memo and you.Care about me if you don't care about.Memos for starters you just don't you.Just don't care about that other event. and if you do care about memos then.You can adjust that one instead for that.Operation but like I like I was saying.Though Exchange is care about.Both because they need.To to basically ingest those transfer.With no MOS because that's basically how.They can you know through tech.Support or.Whatever they can return the money to.Sender yeah so for them like there is.This other issue that's I feel like this.Has come up like so many times that.There's this other issue that okay now.We have two events so then they have to.Figure out not double processing them.Not double counting them and I I.Think we shouldn't not do this for that.Reason because we should solve that.Problem or we should have a story for.That for.That for how to solve that problem it.Doesn't necessarily have to be solved.Today but it's something we should.Solve whether that be through like I.Think you know we've talked about ideas.Like an invocation ID so then you just.Say like okay like this this memo and.This other transfer they're in the same.Invocations I don't double count the.Other one or something like.That yeah unfortunately I feel like.Invocation w't help here like there was.An unrated discussion which is unrated.Now about like what if a.Token wants to charge s during a.Transfer for example and you'll have an.For example to transfer events that are.Actually separate transfer events in.General I feel like if we were to come.Up with a good event linking mechanism.It would be almost exactly the same.Thing as converting data into map like.Almost because what I think we could do.Is say like for the event we can say.What is some special link in a and you.Know you can think of every event with.Assembly in caned is a part of the same.Event but at this point honestly like.Why don't just make data.Map because I think that's the only way.Really to prevent double counter is like.You have unambiguous way to say like you.Know these two events are actually.Describing the same things that has.Happened so maybe map is really it's.Right way to go.Sure so that's what it's I guess we.Can maybe discuss it offline we have.Maybe 10 minutes left but the one of the.Questions to answer is do we either use.A new event or make a breaking change to.The data field and make it a map.Is that right does that sound.Good I guess have a question I don't.Know how like consumers of those things. you know what they do but like if if.It was an extra field at the.End of the event that is.Added would that really .Like like be a much of a breaking in.Change basically like like people are.Just using the index zero whatever like.You know.The I mean it's already an array right.So like at theend you talk about the.Topic or the data data the data isn't an.Array right now it's a an.Integer that's the breaking change like.Making yeah that's a pretty big breaking.Change yeah I thought it was like we had.A vector.Already originally it was a map and then.I think it got changed to a vector and.Then I think got changed to an. okay so yeah we have that question to.Answer and for the .The transer memo prop like function.Versus Deus proposal I think the yeah.That what we want to do is prototype.What that looks like in the SDK to see.What it looks like so that that's the.I'm guessing I think that's the status.Of that question that is number three.Right go ahead that's that's a.Suggestion yeah I mean that that's I.Think it's a good idea my suggestion is.If we're if we're leaning towards that.Approach we absolutely should spike out.What the develop contract developer.Experiences because I don't think.For something that I suspect will be as.Intrusive to the developer experience on.The contract developer side I don't.Think we should trade that off for the.Benefit of clients not having to unpack.An M address because I think both of.These things obviously have a cost.There's a cost saying to wallet clients.You have to unpack an M address to put.It into the to the SDK. but.That's yeah I think I would prefer that.Cost.Over. MX addresses and and Mos sort of.Intrusive intrusively entering every to.Implementation but this is why to SP it.I think just you know to see how bad.That.Is and to see what surprises there are I.Think you know one thing that came up in.The the chat was in the past we've.Been concerned about M addresses.Accidentally being having balances stor.Against them and that's one reason.Why we wouldn't want to add the M.Address to the main address type it.It just be so easy for a developer just.To store balances against the M but then.That then that that's not accessible to.To use by the G by the G address.Requiring or or something okay the. I noticed that even with this.Proposal that problem could still occur.If I'm understanding correctly like this.M address will be convertible with Val.So that it can be used as an.Input and so in theory you'd be able.To store it as well oh I mean same can.Be said about transfer like you can do.Whatever sorts of stupid things in your.Contract like nothing PR you from.Storing some inders in storage for no.Reason yeah but there's like if.Something's going to become a thing that.People shouldn't do we shouldn't set.Them up to fail but but also yeah that's.What I wanted to say like if you're.Concerned about this like you can.Just make it impossible to make this.Keep prevent people doing themselves. I'm not sure we can I'm I'm not sure.We can with the existing the way the.Rust type system is so I mean obviously.We can do anything we want if.We Val implementation no no we can we.Can do this as the host level yeah I'm.Not saying it's SDK level can just make.It.Fail but these types are just a these.Types are just a contract type right is.Is MX address cont it is it is a c Val.Like we can say like if your leer key SC.Contains a maxed address.You just will not trate.It right totally totally.Do we could do that if it's anywhere in.The anywhere like if it's inside a VC or.If it's.Inside like a nested type or.Something like that is that what I'm.Saying yeah yes we we have similar.Checks to what like we make sure that.You you know cannot.Create AAL or C out of non-representable.Types and stuff like this so defin have.Validations like that not in the St.Specifically but you know they pretty.Flexible in host in terms of like .Restriction types so really I was.Thinking about this as well like if.You're concerned which is a valid.Concern like you know to not shoot.Yourself in a EG like you still will be.Able to probably extract an integer and.If you really want to you will be able.To store like this for for some reason.But the same can be said about transfer.Le you need to be very intentional about.Doing something bad and we can prevent.The most obvious mistake which is we.Just write in Mar address window.Storage this is.Preventable okay.So we that that's question number .That's that was the decision number.Three we still have to figure that out.Like a lot of complexity it feels like.We're discussing a lot of complexity.Just yeah.Yeah just to improve that one little.Thing at the.CL okay then for decision two I think we.Agreed that we should that the output.Should have the event should have G Plus.Memo right instead of just the.Mend. and I guess one is tied to three.Right like the G Plus versus M for.Input so I guess that's something we.Still need.To we still need to answer it are there.Any we're running out of time are there.Any other open.Questions sounds like we still have .Some stuff to discuss.Yes I guess the question on the yeah.Single event or not right that's number.Four by going back to this right like.This one is. it could be a I mean it's a breaking.Change potentially right if it's a..For like the downstream you know.Like systems right that are.Ingesting I don't necessarily think.That it's.U like as a breaking change like that.It's not necessarily like insurmountable.Right like it's a basically it's like.Kind of like the type of thing you do in.You know in in many situations we can.Allow like we have to allow in the token.Standard that it's either.A single.Amount or a .Or or some or something something else.Right and then you have to dynamically.Downstream then U do something different.Based on either the type.Or or or if it's you know I guess it's.The type yeah that that tries this yeah.You're talking about making the data.Field a map right if it was a map or or.A vector yeah yeah I yeah we we've.Discussed this a bit internally there.Doesn't seem it is a breaking change but.There doesn't seem to be much opposition.To this. we can bring this back up if if it.Helps in this case yeah I think I think.To like the way we would do this if if.This memo thing is a separate Set and.An extension we'd make a change to set.41 as well as the extension so like SE.40 ideally we'd change set 41 so that .It says that the field could be an.Amount or or a map that contains an.Amount yeah so that if folks are.Developing they they're not they don't.Feel like they need to use just the.Amount if the for non-mo.Transfers yeah mount as an integer fi.Definitely has to be a part of the.Standard like we cannot decate it.Because the historical events have it.Already.Yeah would remove it we just say that.Both all right now we're out of time so.This there's are there any other.Questions or concerns right now .Continue adding them to the chat and .We can we can address them and we'll.Continue continue any any open questions.In the GitHub.
