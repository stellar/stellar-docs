Hey everyone I think we can get.Started so. this is the storybond design.Discussion in which we discuss protocol.Changes related to SOROBAN our topic.Today is State expression we're going.To keep talking about. rent and temporary .Storage Ledger entries.So Garen can you take it away. yeah so I think at the talent of the.Last week's meeting we were discussing.About what happens when entries are.Delayed with outstanding run balance. and we decided that it was probably.Not a good idea to refund. the outstanding balance and instead.Just have the balance be burned the.Reason for this is that if you allow.Rent balance refund then you open up a.Lot of kind of a malicious attack.Vectors for instance. because entries automatically have a.Run bump whenever they're touched you.Can have a smart contract that has every. invocation of a function Touch One.Admin entry for instance and then this.Adminant tree especially for a popular.Contract could have lots of rent balance.Because it's touched another function.Call and then you could have an admin of.This contract who maliciously deletes.And recreates that entry periodically in.Order to essentially steal this rent.Balance from the collars of the function.And also this would be difficult for.Users to be able to detect or even.See if the stack Vector exists because.For something like an admin entry it.Would seem like a normal operation for.And not another contract to either.Create or modify that entry and so it'd.Be difficult to detect these sorts of.Attacks.Also refunding my balance doesn't really.Make sense because many different users.May pay for the rent balance only a.Single user benefits from the refund and.So for these reasons it seems that the.Best policy for whenever an entry is.Delayed without standing rent balance is.Just for this rent balance to be burned.Now even though we're burning on this.Outstanding Grant Balance we still want.There to be an incentive to delete.Entries before they're archived. because even though we have the state.Expiration to reduce the size of The.Ledger when an effort a restorable entry. or like that's what we're calling Now.Entries that are eligible for archival.So in non-temporary entry but whenever.These entries run out for end even.Though they're delayed from The Ledger.They still have to be stored perpetually.In the archive and so if you have an.Entry that's no longer going to be used.It's significantly more advantageous for.This entry to be deleted instead of.Being sent to the archive because even.Though the archive is kind of like our.Deep storage and it's much slower and we.Have much more we're learning there for.Large amounts of state it would still be.Better just to have not have useless.Entries or entries that will never be.Used again taking space in The Ledger or.The eye archive and so since we can't.Incentivize this Behavior via a rent.Bounce refund we're thinking instead.Of adding a base fee called the archival.Fee and essentially what this would be.Is just some flat fee probably tied to.The size of Ledger entry that you have.To pay in order to create the entry.Initially and then if you delete the.Entry before it gets archived you.Receive this as a refund and so this.Allows you to have someone set up for.Deletion and then if you don't delete an.Entry and gets into the archive then.This archival fee is burned and so.The thinking being that this gives users.Incessive to delete entries before it.Gets into the archive but because it is.A fixed rate and is not something that.Can grow to large amounts like red.Balance it can't be gained nearly as.Much and one of the drawbacks is that.This does make you know the answers more.Expensive and this also increases the.Size of the entry because we'll have to.Store the archival feed as a parameter.So it increases the size of all entries.By about four bytes. but I think this provides a good.Incentive and can help us maintain the.Hygiene of the archive and so I guess.General thoughts on both the issue about.Burning rent balance that's outstanding.And also on this new archival basically.So I think yeah I think on the red.Balance getting burnt I think.We're pretty much in agreement unless.Someone else has a different opinion.There. I am very much concerned about.Introducing yet another type of V. for for the purpose of motivating.People to delete their their entries.Especially because we already have.Temporary storage which hopefully .Should take care of of like most of.These cases like what is can you give us.A use case for like when a.Non-temporary. entry might get deleted and how often.Do these happen.Yeah so just have to depend on usage.Patterns. and so.One thing with the temporary entries is.That their lifetime is fixed to a set.Amount or to a very limited time frame.And so this is built for security.Reasons but also just for fee.Based reasons as well that temporary.Entries will have a maximum life .Something probably on the magnitude of.Like months so like three months or six.Months or something like that the exact.Value happened on the side yet.So I think that there's a use case for.Say you have something like a payment.Channel. that doesn't need to be preserved.These don't want it to last longer than. the maximum life of the temporary.Entry would be and so I think for.Android types like that that aren't.Super important from the security.Standpoint but have a variable length.Time or a variable length lifetime then.There might be some advantageous here.For deletion I think the second issue.Too is if we have this archival fee it.Provides more incentive to use temporary.Entries as well because right now the.Savings you get from a temporary entry.Are relatively minimal because there's.Still essentially how we calculate the.Temporary entry fee is that say if your.Temporary entry lasts 128 ledgers what.You do is that we take a snapshot of the.Current rent fee multiply that by 128.And that's how much temporary entry.Costs and so today a temporary entry and.A restorable entry are very similar in.Price and so I could see Network.Incentives being well like well they're.Essentially the same so just be on the.Safe side I'll use a restorable entry.When a temporary entry really could do.So that's the second advantage to having.A space feed is that by adding this fee.To the restorable entry types. and not adding this fee to the.Temporary entry types you also widen the.Gap between the cost of a temporary.Entry and a costly restorable entry to.Further incentivize more use of these.Temporary entries and lessen the.Restorable entry type.Have you considered any other options.For widening the the gap between. temporary entries and restorable.Entries that doesn't include an.Archography.Oh so there's like a there's an.Implicit savings because the rent fee.Snapshot and because rent fees tied to.The bucket list size generally.Speaking at least for the access.Patterns you're seeing on starting.Classic now this might you know vary.Because we haven't seen soap on traffic.Yet in the real world. but the bucket list grows relatively.Linearly and so because temporary.Entries are locking into the fee and we.Expect the bikeless size and therefore.The print fees to increase linearly you.Are getting a cheaper rate because.You're able to snapshot that being said.Especially for short-lived entries .The settings are pretty minimal because.The rent fee doesn't grow at a very.Fast rate and so I think.They're I'm trying to think if there are.Any other implicit fee signs at the.Moment but I think if we want to.Incentivize temporary storage from a.Feed perspective we will have to add.Some additional costs to the to the.Restorable entry camera points.Counterparts now whether that be a.Refundable fee or other fee that's.Refunded on deletion or just a fee of.Creation that's immediately burned. I think either of those could work.But I think we do need to have some sort.Of price discrepancy in addition to the.Implicit discrepancy in the rent fee.Snapshot.Alternatively if we think that we don't.Need to incentivize these are temporary.Entries from a feed perspective and then.Just the utility they provide is good.Enough incentive on their own could also.Go back route. but that could.Cause more archivable and restorable.Entry types than we want floating.Around the network and make our archives.Larger than they really should be.Okay.Yeah the question is how much bigger.Will will they get because.This idea of.Yeah like creating like this this. you know middle you know basically.What you're saying you're like is is.That there's there's a whole. category of like Ledger entries that.Are like between temporary and.Restorable that could theoretically like.Not be archived.And we're going to introduce another fee.Mechanism specifically for them.And.But and we already have a fairly you.Know across the board we have a.Non-trivial like fee you know various.Fee mechanisms so introducing another.One is something that I'm I'm..Not entirely comfortable with.It yeah yeah yes any other potential.Saving is just .That the temporary entries never require.Proofs for creation whereas some.Types of restore boundaries require.Briefs which is another difference .That could be useful so for instance in.The using storage type requires a proof.Of non-existence to create or temporary.Entries never require proof that being.Said the recreational storage type.Does not require such groups.I think I think temporary entries are a.Powerful primitive on their own.And so I'm not sure how much we need to.Incentivize their use from a fee.Perspective. so I'm just curious as to people who.Know like the the smart contract.Ecosystem better than me are like the.Temporary entry is strong enough on.Their own and do we not need this.Additional archival incentive.Foreign.Yeah so I think the you know the main.Use case we're we're seeing for for.Temporary storage is oracles .We've talked with some of like the major.Oracle providers who would love to see.This.And so.I I don't think even if there's .You know if even if there's.Like even if with not a lot more fees.They can get archivable storage I don't.Think they'll be interested in doing.This because again their data is really.Short-lived is relevant for a.Short-lived time.The other thing is that if.Like actually.If if we add this archive or fee people.Will actually need to reclaim it right.So that's like we're basically adding an.Operational burden on these entities to.Actually reclaim their fees.Through but I mean I I'm but this is.Sort of place temporary entries right so.With the Oracle use case.Still want you know temporary.Interest of course this doesn't replace.That I guess the the question is.Is there a good or is deleting a.Restorable entry happen often enough.To.Have the complexity of an extra fee and.To add the additional four byte. archival fee value right now I'm.Hearing no but that's probably not a use.Case that will happen very often and I.Kind of like appropriate and thinking.About.Yeah I guess I guess my my opinion.Understand is is clear is there anyone.Else with.Thoughts in the matter.What is the cost of letting this go to.Archives like getting like a having a.Archival entry like go to the archives.And stuff instead of again deleted.Also just the the thing about the.Archive is that it never shrinks so.If an entry gets archived then you have.To store that in the archive versus if.The entry gets deleted then you don't.Have to store it in addition even. once an entry is restored from the.Archive we still have to keep.Essentially a stub of its existence in.The archive so what happens is that.Whenever an entry is restored. it's Leaf node that uses from The.Ledger entry as nulled out but the path.To the node still needs to be maintained.For all eternity and so I think just.Given that the archive is pretty much.Append only. it is designed such that you know.This is like a slow data structure.That's meant to be you know like the the.Archive nodes are essentially just like. you know SSD base and they're meant.For storing large amounts of data and so.It's not nearly as sensitive as the.Ledger size but it is something that we.Should probably keep in mind as that if.We send something to the archive at.Least some of that data even if it's.Restored later will have to live forever.Which is why if there's an entry that.User will never use I would much rather.That interview deleted than having to.Store it perpetually in an archive even.Though archives are kind of meant to.Store things perpetually.Based off of what you said like I would.Expect temporary like I think you.Mentioned that the fee difference.Between temporary storage and.Non-temporary storage it like is like.Negligible but I would expect it to be.Someone significant just based off what.You said.Oh what do you mean like I mean like it.Would make sense if we made temporary.Storage cheaper to incent to not.Incentivize what you're describing worry.Just like using .Recreatable storage.Well that's actually another thing we.Could do is instead of adding an.Additional fee to archival storage what.We could say is right now. temporary storage is just the feed.Calculation it's just a number of.Letters to live times current rent fee.What we could do is just say like.Numbers of ledgers to the times current.Rent fee times like 0.8 or some like .Temp fee. you know multiplier such that the.Temporary entries are still based on the.Current size of the bucket list. and so they can still increase or.Decrease in price as the Ledger state.Grows or shrinks but they're strictly.Cheaper than archive entries. by a significant margin and that also.Kind of simplifies the fee story because.We're not adding an additional fee type.Because we already have separate fees.For temporary entries and so this would.Just make them always smaller. that would actually probably be a.Much simpler better idea than I think.Having this refundable archival fee.Thing.Yeah I guess this doesn't incentivize.The actual deletion of those of those.Entries but I think you've seen less of.Them yeah I think if temporary.Entries are significantly cheaper or at.Least substantially cheaper then we.Didn't don't really need to incentivize.Deletion because if you're thinking.About like what what the use case for.Restorable. entries are especially for like the.Recreatable type is pretty much just.Balances and I mean the I think the.Amount of balance deletions is probably.Pretty small and so I don't think it's.Probably a huge case of special case for.It.Yeah I completely agree I think if we if.We figure out a way to Discount the.Temporary. entries the way that you described .That will go a long way towards making.People use them.And in terms of you know the previous.Point on saving space for archivers.I I hear you the question there is like.You know like how much like makes it.Worth it like if we saved them you know.Ten percent of space like does does that.Worth is that worth the added.Complexity like obviously if we can if.We can save archivers. you know an order of magnitude's base.Or a goose in order of magnitude the the.Amount of space required then that is.Like a huge win but I don't think we'll.Get there I think there's like a pretty.Narrow use case for these deletable.Restorable entries so definitely my.Vote is for like the discount.Approach for temporary storage.Yeah I think I blame the discount.Approach too I think also just like on.The our order of priorities we should.Prioritize kitten won't let your small. and not prioritize keeping the.Archive small that much especially if.It's like I think like a 10 decrease.Wouldn't be that big of a deal so I.Think I'm also leaning towards the .The discount temporary entries. approach as well. are there any last thoughts before I.Move on I guess the conclusion was.Discount temporary entries and have no.Refunds for archival storage.I'm thinking of is that if we go that.Route right where we we basically say.Hey the.Archives are kind of a dunking ground of.Like.All abundant major entries.I think what we have to.Maybe like take into account is I.Think it's probably okay like I mean.Imagine that those nodes that are going.To be used as a.To to back up those high value Legend.Trees yeah the problem will end up doing.Some level of filtering like they only.For example.People on the keep our own Villages for.Things that look like balances for.Example or that are related to balances.As opposed to like random stuff.But I think even in that situation. I think they have to keep the full.Training around.Right or hashes yeah.So when how often does do we reset the.Tree is it like on a pair.Restart the the tree. it's currently your epochs.It's every year.So then the Assumption will be that you.Know in a year.We don't have too much of this craft.Accumulating.Which might be okay.I mean that's kind of kind of like the.Yeah like the.I think for yeah for for those entries.That are not. like you know you were talking about.It as a discount to get to the .For the pricing of .Of.Like you know attempts I think it's the.Other way around it's more like you you.Add actually.So there's probably like a constant .Term and then a additional you.Know rate on top of the the price to to.Get to the .Restorable entry fee like the very first.Time you created and I think there's.Probably a constant Factor.. I did want to bring Ian from .From the crowd to speak because he.Has some interesting perspective and.Is very passionate about it.Sorry I was so passionate I've I've.Written papers on this topic for.Other blockchains as a paid service.So I've done a wide breadth of study.As well as deep diving into different.Trade-offs that were done and this.Influenced their design decisions. but they're slow to move and slow to.Change.So there's a couple different concepts.Here the first one I want to cover is.Dust and that's the idea that the value.Of a record maybe less than the cost of.Maintaining it.And those records should probably be.Cleaned up automatically but it's a.Problem on ethereum because you can.Never quite spend out a whole wallet you.Always have a little bit left over and.So that little bit left over is referred.To as just but that's only one example.Of dust there's many of them. the second kind of approach here is.That there's a huge ecosystem that's.Growing around smart contracts.And each of those ecosystem.Players has different data needs and.There's no one solution that fits.Everybody. and even you know other monolithic.Chains are are dealing with storage.Problems and then any modular chain .Has an extreme storage problem.And the storage problem needs to be.Addressed in a way that you don't have.Nodes needing to install like four.Different protocols four different.Systems in order to access the data.That's being referenced.Sometimes it might be.10 or 15 different storage protocols in.Order just to access what was in a hash.What was in a roll-up what was intended.By the data that was submitted to the.Blockchain.For one second in in the context of the.Current state expiration proposal by.Garand like what are you trying to say.Hmm.So you need to have different tiers of.Pricing a rent model is insufficient and.And so is a couple other you know like. sort of well we see this problem now.What are we going to do there's not one.Solution that fits it it's really.Important to give a lot of flexibility.To the people that are deploying on the.On the network and give them as many.Options with pricing up front and they.Will simply do whatever is most.Efficient in order to save money up.Front if you try to to add an incentive.Like later on. there's a few problems one is that.Your adoption is going to be very low.And the second is that you're going to. you're not going to have. what they're necessarily looking for.If they can just pay again to extend the.Lifetime of that storage.Then that's that's the best of both.Worlds. ideally there'll be an external.Storage for large amounts of data for.Example blob data.Should be not stored necessarily on.Chain but on a separate layer. and you can incentivize the creation.Of those systems by limiting the amount.Of on-chain storage.But allowing pointers to exist.So your your best long-term solution.When people start doing crazy things.With blockchain which they're starting.To but they're struggling to because the.Storage costs are so high is that you're.Going to start seeing a lot of. you know flexibility wins the day and.So if you have pricing tiers automatic.Expiration.Optional renewal and you're charging by.The byte by the by the day or in some.Cases by the minute then you're able to.Meet most of those use cases. there are go ahead please I believe.This is what we're pretty much doing. I could be mistaken but if I'm.Understanding your proposal correlates.That you have different tiers that.Automatically expire but the option to.Renew I believe that's what we're doing.With the temporary entries the temporary.Entries being automatically deleting and.Being the cheapest whereas the.Restorable entry types must be.Periodically renewed so to speak. I it is are you proposing something.That's different than this.Well I heard different proposals and I.Think that I embrace what you're saying.In terms of. tier proposals I would just suggest.Number one that there's a a large number.Of tears at least four and number two.Some of the data will be archived.With no ability to recall or if you .Excluded from archive with no ability.Recall some can be removed and not.Archived but pay an oracle to recall it.And some can be. you know permanently archived.Now I'm confused by you say remove.You can pay an article two.Call it what do you mean by that.I believe that's how our accountable.System is essentially R5 the archive.Is off chain. and then you pay to restore something.From the archive so link to our archive.Proposal. is essentially the Oracle system.You're talking about.So if it's an optional flag they can pay.For it if they think they need it but.Your archive is still smaller the reason.That you might want to do that is that.Some people specialize in storage and.They want to earn a fee for specializing.In storage and by specializing I mean.Over 20 terabytes probably around you.Know a petabyte or so.Okay so I think Ian if you can maybe. refer back well we can drop a link.Here to the to the actual proposal.And we'd love to hear feedback about.Specifically I think that the type of.Issues that you are or the type of.Solutions you're talking about are.Actually embedded there but we'd love.To hear if you think that's not the case.We're talking to details now but I.Believe the archival system is pretty.Similar to what you propose actually but.You can definitely add some comments in.The docs.So I guess. are you ready to move on to Temporary.Entry issues. so I guess and the second thing. and this is somewhat relevant to the.Previous conversation is temporary.Entries so our current interface. and I guess .We've concluded that. the temporary entries are.Substantially cheaper than the.Restorable entry types if I have some.Multiply or something like that. if we have the temporary entries.Currently the interface is you define a.Key to find Value and Define a TTL.Measured in ledgers such that. our time to live such that the entry.Is guaranteed to be deleted on the exact.Ledger that you specify now.Systematically under the hood the entry.Is not actually removed on that ledger.It persists in the bucket list for that.Sometime but it is inaccessible.Now one of the open questions we have is.Whether or not we should allow users to.Increase the TTL arbitrarily and in the.Current proposal we do not allow this. there are two reasons there's a.Security reason and a gamification.Reason so first for the security reason.We suspect that there is a strong use.Case. for temporary entries.When it comes to things like allowances.Or kyc where if you specify an allowance.That should only last 10 ledgers.Mentioned the last exactly 10 ledgers.And by allowing contracts to Define.Behavior that increases TTL you can have.Foot guns where a buggy implementation.Might have some security a temporary.Authorization that should only last a.Short amount of time but by allowing.Life extension Primitives you are.Potentially allowing bugs for security.Purposes that's issue number one issue.Number two is out of gamification.And so the whole issue with temporary.Entries is that we want them to be.Cheaper but we don't want them to be a.Way to game the rent system and what I.Mean by that is if continually. extending the TTL of a temporary.Entry is cheaper than just paying.Rent that kind of excuse Network.Dynamics.Now I'm not exactly sure actually this.Is something we should avoid because.Temporary entries are self-deletion.Deleting so maybe we should allow users.To just continually extend the life and.Essentially have cheaper rent than if.They would create a restorable entry and.Just pay rent balances on those ledgers.So perhaps this is something we want to.Allow but at least for now it seems that.That's a a somewhat unfair usage for the.Temporary entries and we wouldn't want.Temporary entries to be used and to be.Able to continually extend their TTL.Such that they can drastically or pay.Significantly reduce the amount of rent.And so their print system we do not.Allow modification of the TTL now there.Is an implicit way to extend the life of.An entry what you can always do is load.The entry. delete it and then recreate the entry.With the exact same value that's still.Allowed and so you can essentially buy.This delete rewrite pattern. specialized special case and extend.The entry with the same key value if you.Really want to but we provide no way to.Essentially keep the same entry books in.The TTL.And so I'm wondering if there are any.Additional thoughts on this should we.Allow arbitrary detail extension should.We not.This is a slight side point maybe and.Kind of a question it seems like the.Difference between restorable entries.And tempor entries.Is temporary entries you have to.Well this is your question I guess is.Should we allow rent bumps or do you is.It prepay only for temporary entries but.It seems like the only real difference.Is restorable ones go to the archive and.Temporary ones do not go to the archive.Is that roughly true or not quite.Yeah correct there's a couple of.Other differences like so right now.Like temporary entries are prepaid up.Front and so you get a better rate.Because you're paying essentially like.For months like you're paying for a.Large amount of ledgers instead of.One-offs.I guess I'm saying could we just have.One type of thing that there's basically.Two different things there's how much.Renta has which is how long it stays on.Chain.And then whether or not you've paid for.It to go to the archive after that point.Or not right and if you pay more rent up.Front for either of them you get a.Discount.And then this whole .Cheaper way to use it goes away.So I think we shouldn't Define a.Difference and that's because the the.Primary difference and I should have.Mentioned this is that temporary entries.I have strict lifetimes whereas Right.Now restorable entries do not have.Strict lifetimes and so just the way.That the buck list Works. we have a variable per larger red fee.And because it's you know variable we.Don't know what the Run fee of a given.Ledger will be until that ledger occurs.Which means in order for the database to.Be up to date on the live rent values of.Every entry we have to iterate through.The entire Ledger and decrement the rent.Balance of every single entry which is.Impossible from an efficiency standpoint.And so because of this we charge really.Much retroactively which means that for.Restorable entries they live and are.Accessible longer than they should be.The exact number is that we have about.Like on the lowest level bucket we.Have right now about 30 days of.Quote-unquote free rent where a.Restorable entry has out of rent but.It's still accessible in live temporary.Entries have very definite time.Timelines whereas they only exist for.128 ledgers no more no less and I think. for that's a powerful permit for.Security purposes which is one of the.Reasons we want to distinguish between.The two yeah.Okay but were you just asking about we.Should do allow rent bumps for temporary.Entries.Well so not necessarily around bumps.But but TTL extension. and so in the current proposal of.The rent system applies to restorable.Entries whereas they have a rent balance.Which is some about xlm which is.Deducted form. and so their amount of legislative is.Not exact. the the Quan quote web bump for.Temporary entries isn't increasing the.Rent balance because temporary entries.Do not have a rent balance rather it's.Increasing the TTL and so even if you.Allow changing of ttls. you are it's not so much a rent bump.Because you still have a very definitive.Timeline and very definitive depth.Ledger if you will.My bias is not to allow. extending the TTL. hey it's just another piece of.Functionality that people need to wrap.Their head around.But also it doesn't sit that well with.How like my mental model of what a.Temporary Ledger entry is so when I.Think about a temporary Ledger entry I.Think about a piece of information that.I'm like broadcasting to the world for.The next end ledgers.And that's it so.If if I if I update that like what what.Does that actually mean like what is the.Actual use case for updating these.Temporary Ledger entries.Yeah I personally don't know what the.Use cases I think.One possible.Advantage of updating the entries is if.You have a some a type that is.Trivially recreatable so you don't care.If it gets deleted. but you also want it to exist someone.Perpetually I can imagine a efficient.Solution where if the TTL is below like.Say 100 ledgers or something then use.Extended arbitrarily. and if for whatever reason. you miss a TTL bump and it does get.Deleted these arbitrarily recreated and.So in this case you want to use an.Archivable type because it's triviably.Recreatable and so it wouldn't be worth.Restoring. but also you want to use it.Perpetually and so you would you.Wouldn't want a strip TTL now again .You know we could also do is just like.Do a temporary entry set to the maximum.TTL and then if it doesn't exist just.Recreate it and then again set to the.Max dtl that's also possible for.Arbitrarily recreable data but that's.Just a use case I could think of the top.Of my head I don't know if anyone else.Has. perhaps more interesting or is more.Knowledgeable in the smart contract.Space wants to share their thoughts.Well I guess maybe like the with the CTL.Thing like.Why are we trying to babysit so much.Like the you know like the the contract.Like like it feels like.You know not allowing access.Of an entry right past its TTL that's.Like .And not allowing bumps you know for that.Reason sounds like we are.Stepping over the boundary in terms of.Responsibility like the contract you.Know if the contract doesn't want. something to be valid Beyond a.Certain time like that should be.Implemented in the contract itself I.Think. and and if we do something like that.I think then the the bumping that we're.Talking about.I think we just have to make sure that.When an entry gets bumped. the number.You know the.The the actual expiration time will.Match the the lifetime in the in.In the in the in the in the bucket list.Right like so so like if you're.So at creation time that means we have.To have like a.. a function that allows you to to.Compute the.Like if you want to go from a number of.Ledgers or a number or actually number.Of ledgers you can do that of chain but.Like or actually time is the same.Yeah like I guess bumping like where it.Gets a little bit complicated is yeah.Just you have like some number and then.You try to say okay extend it by.At least 30 days because you won't be.Able to .To .To actually do exactly 30 days if we.Don't make that strict TGI and you don't.Want people to pay to get free runs.Right for.For whatever is the.You know it takes too much that that for.To actually expire that entry.But that seems walkable I mean those are.Like help of functions right like that.We can expose to the.That are basically like allow you to.Kind of Reason about about the bucket.List.Well I guess the the interface would be.A little weird though because. essentially what you could do is the.CTL you could make temporary entries but.It would have to be a power of four.Ledgers so like four zero fourth one Etc.But with a maximum lifetime being 30.Days.And that just seems it just seems like a.Weird and not super user-friendly.Interface to.To not have a a stripped thousand on a.TTL because at least like I'm thinking.Of like use case it just seems from a.From a contract developer perspective.You know they don't have knowledge of.The bucket list and so it just seems.Weird that you have this temporary entry.That can only expire on Powers of four.For some reason with poor granularity.And I think it's it's weird from a.Security standpoint if you want.Something to only live 128 that you have.This entrance type called temporary.Entries that is self-deleting but you on.Top of the self delaying temporary entry.Have to still in addition to that.Implement your own TTL if for your use.Case it doesn't work to be on the exact.Boundary power of four it just seems.That like we're exposing too much of the.Underbelly of the system between the.Developers in that case.So just to be on just to be clear if I.Use a non-power of what is it power.For. remember it will still live until.Like past my TTL until the the next .Power four yeah so the way that just.Because of the nature of the bucket list. apocalypse DB we can only remove.Entries from the data structure. on power of four ledgers and so .In the current implementation. we have the TTL which is stored as a.Field inside the entry and so the entry.Itself does live on The Bucket List.Beyond the TTL in most cases unless it.Happens to be a power four. but we just like do a check whenever.You're trying to access that entry and.If the TTL Ledger has passed we just.Return nulls if it doesn't exist even.Though it does exist on The Ledger and.Then we garbage collect on Powers of.Four.Okay that that makes a lot of sense.So.So I'm a bit confused as to what Nico.Just said like what the what's the.Confusing bit here also I think Nico is.Suggesting not to have the TTL field as.Part of protocol and to if users want.A strip TTL they must Implement that.Themselves and essentially they're.Struck that they store must have the TCL.Value and instead just expose an.Interface where temporary entries. live and are accessible as long as.They're accessible on the bucket list.And so when you specify a TTL you must.Specify a power for TTL Nico my.Understanding that correctly.Yeah basically it's kind of like I.Mean you still have a TTL it's more like.It's actually it's it's more it's.Represents the we were in a special case.The like right now right like if you.Have a if you load an entry that is in.The bucket list but that has an expired.TTL. you consider that it's not there and.That we will get rid of that special.Casing by doing that and and just.Requiring.That the the TTL that you have is is .Is actually going to expire on the on a.Bucket boundary yeah.Like yeah I agree with with Garen I.Think this is the potential like we like.There's only so much we can expect from.Developers to understand the bucket list.Here and I think the the basic. expectation from a temporary storage.Is.You know saying you know telling the.Platform this is this is how many.Ledgers I want this thing to live for. and and putting restrictions on that.Or repeat or you know telling people you.Can only use powers before and if you.Want to do it like an exact detail then.You need to write your own smart.Contract I think that's. not the ideal product experience.Yeah I think yes the reason I mentioned.That was to allow for bumping that here.Because if you if you have actually.If you're a number if you want to allow.Bumping you have to take into account.What is actually happening under the.Covers.I I don't know if it's too complex but I.Kind of.I kind of think we're solving two.Different problems here I think there is.The case of a temporary entry or that.Has a certain deadline and dies and.Then such as like kyc or like a an.Allowance you want to exist for 10.Letters and 10 letters exactly that's.Case one and there's a second case of.You have the century you don't really.Care how long to live as long as it.Lives around this time and then you.Might want to bump it on every access I.Feel like those are two different.Classes of storage and I think a.Temporary entry with a exact TL sells.One issue and so I'm wondering if it.Might be reasonable to have like a flag.Say on on the recreatable storage to say.Archive or not archive. because I feel like that's a.Different use case than what at least in.One on the temporary entry with the.Exact details getting at.But again that might be too complicated.Having now like three or four different.Storage types you know or.Yeah I would rather not add anything.Else here I think that the the the.First case that you described the one.That you know a contract wants to .You know put a ledger entry for exactly.N ledgers I think that's the common case.And that's the thing that we should .That we should cater for.If they want to have more you know.Sophisticated situations in which you.Know they can they can.Recreate or or or bump this entry once.In a while then you know they can write.A smart contract that that achieves that.Functionality that can be updated at.Specific times.But I think we need to keep the you.Know keep the the main contract to.Something that's . you know like the common use case.Yeah I think if if you want.Essentially like Implement that behavior.It's still possible or just like if.Like the the ttls within X number of.Legends just deleted and recreate the.Same value with a maximum TTL that's.Very possible. and especially if we have a discount.Temporary entrance the deletion.Recreation path might be at cost or.Cheaper than a restorable entry so I.Think that seems like a reasonable.Approach. I think I'd rather not expose.Spotless powers for to any post-function.Or SDK.Okay it seems fine to not expose it then. but at the same time like.If we focus more on the on the.Actual what is that TTL is it a.You know do we want that to be.A.More of a leave at least for you know a.Given time.And that way you can allow you know.Anybody to bump that ledger entry.Or do you want to have that be more like.That strict thing like that you.Mentioned and because this strict.Definition of teachers seems super I.Don't know.A bit a bit too special I don't know.Like it doesn't seem like .It's it's implicit it's it's it's not.It's unlike other types of storage that.We have.But.I disagree here like I think the the con.The interface that people are looking.For is I want this to live for this.Amount of time and The Ledger number.Here is just a good approximation for.For time like this idea of I want to.Live this I wanted this thing to live.For at least this amount of time and the.Actual length of how much it lives.Depends on like the underlying.Implementation it's not that's not the.Case anymore because what we said you.Know the discussion we had right before.Was hey let's let's move the use cases.Where people don't want archival through.Those temporary entries.The TTL is not about. having this strict thing right going.On it's about I don't want to parent I.Just want to be you know cheaper and if.I have to refresh the thing and get it.Refreshed in some way and.Their contract in that case is not the.One necessarily responsible for.Refreshing the the teachers or any.Anybody that cares basically in that.Context.Yeah I don't know in my mind it still.Feels like Tom was talking about issue a.And then.Nico's tackling SUV does this seemed.Like two infernally different use cases.It's not what we're saying is that if.People don't want this strict TTL they.Are pushed to use a cable you know.Like those things that end up in the.Archives.And therefore I end up on some of the.More expensive training.But what exists in this space between a.Strict TTL and archivable Energies.What what would like give me an example.Like what lives in that no this critical.Is is is another layer of.Like the strict ETL.I mean I'm fine with this trick TTL it's.More like the the what does it.Actually mean what do we mean by.Strategirl here like like it becomes.A security feature.I'm saying like if we get rid of the.Security feature basically allowing the.Teacher to be expanded.Then we have something actually that I.To me seems to make sense because now we.Have like if you want to get into.Archive use the you know recruitable.Thing and it's kind of a you know you.Just use run for that.Or you use those temporary things that.Yeah if you want to refresh it's manual.You have to do that.And you get a little bit of a discount.Because yeah yeah they don't go to.The archive by default.And then if you want this trick like.Super constricting that you know never.Exactly a TTR that's exactly something.And you cannot bump. you have to implement that in your.Contract.Because yeah again like in terms of use.Cases what type of Entry.When do you need something with a.Teacher that is kind of Frozen that.You can never change.Well if you're in Oracle and you wanna.And you have you know you publish.Like hourly. price feeds and you want them to live.Exactly for an hour then you put a TTL.Of a number of blocks that constitute.Fairly like something that approximates.An hour.You mean like you don't want that thing.To stay on Ledger or for longer yoga I.Mean as a record in that particular.Scenario.You're going to override that entry.Right well I think you're getting into.The contract implementation you can you.Can see yeah.I'm publishing some data and I don't.Want to pay for it you know after that.Time. it doesn't mean that you know it's.Not about I don't want to pay it's not.Just about I want to pay for it for an.Hour it's about this thing is relevant.For an hour like I don't actually want.This thing to be alive after an hour.That's part of the the payload like this.Expiration is the contract puts that.Meaning.Like you're saying there are no use.Cases where you don't want like you.Don't want this this strict.From the chat a lot of people seem to.Disagree with that notion.So what we could do actually.If I go for an extraction was just like.Round up to the the nearest power four.Or something like that and just like.Allow like users to say arbitrary.Ledgers and it may or may not last.Longer. because.I think.As a storage medium I'm starting to.Agree more with Nico such that I don't.Know if we need to specialize a security.Feature.In a storage interface because I think.Perhaps we should make the storage.Interface more General I don't know.Well what I'm saying is that I I'm I.Think it makes sense to the usability.Aspect of.Of yeah when you say the teacher is.Like 10 legends right.If you don't do anything.After 10 measures that team is basically.Appears to be deleted even though it's.Still in the bucket list I think that's.An implementation detail.Right and I think that's totally fine to.Have that at the same time I think it.Should be possible to bump that that.That TTL.If you want to go beyond energy and when.You bump it I mean that means you have.To pay for I mean it's not staying in.The bucket list right it's not going to.Stay at the bottom it's basically kind.Of like a rewrite.First of all we're going to implement it.And then yeah in terms of security.Feature you wouldn't be able to rely.Strictly on that layer for security for.The for guaranteeing that something is.Going to be to live exactly you know. for for some time like if you want.That you have to put that in as part of.Your.Attach it to your data basically.Okay so Gary it sounds like we are at a.Bit of an impasse right now we probably.Need to kind of like regroup look at the.Pros and cons can you. like summarize this this.Discussion and the pros and cons of the.Different approaches that we've.Discussed and potentially drop that.On sir bondev later today.And hopefully we can asynchronously.Regroup and think about this.I mean I can hear you I don't know if.Karen can.Thanks Paul maybe Garen is having.Some troubles connecting and he's.Typing something. no we cannot hear Garand. regardless we are almost at time.Right now.So I think this is a a good stopping.Point to regroup and and think about.These things moving forward Garen.Will hopefully share this on Sarah.Von Dev and we can continue the.Discussion there we can also .People can feel free to stick around and.Live chat and continue talking thank.You all for joining and see you all.Next week.
