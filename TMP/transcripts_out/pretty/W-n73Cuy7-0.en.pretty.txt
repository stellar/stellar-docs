Hi everyone welcome to the Stellar.Development foundations engineering talk.Series my name is Lee McCulloch and I'm.A software engineer at the foundation.I'm one of the people working on.Improving the experience that.Individuals have using Stellar and the.Businesses have building on still and.Today I'm talking about Stellar.Ecosystem proposal 30 SEP 30 is an.Approach to make still a key management.User-friendly in products built on.Stellar.So a user friendly team andr is maybe a.Bold statement to make.Because key management is rarely user.Friendly but that's what we're going to.Talk about today first I'm going to set.Some context and touch on what key.Management looks like on the Stellar.Network how key management relates to.Louis and then some common approaches.That while it's take in the Stellar.Ecosystem and in the blockchain space in.General then we'll jump into the.Approach taken by a SEP 30 or through an.Example step by step of how Sept 30.Works and then reflect on why this is.Valuable we'll also have a Q&A at the.End so if you have any questions during.The talk please drop them into the.YouTube chat box and we'll get to them.At the end so what is key management and.Why do we care at the core of owning a.Stellar account or an account on many.Blockchains is being in possession of a.Key on the Stellar network if you have.An account you have a key for that.Account a key is made up of two parts a.Public key that you share with others.And a secret key that you keep private.This is an example of what the public.Key looks like and what a public key.Looks like on the Stellar network it.Starts with the G the public key is your.Account address.People send funds to this address and.They'll show up in your account balance.And this is what a secret key looks like.It starts with an S on the Stellar.Network we call the secret key that.Defines your account address accounts.Master key if you create a new account.On the network and don't change its.Configuration your master key is what.You use to assign transactions it's what.You use to control your account so what.Do we mean by signed transactions.Stellar accounts have silenced a signer.Is a key that can authorize transactions.For a Stellar account and the master key.It's the default signer of the account.Being a signer vostell account is sort.Of like being a signer on a bank account.You can sign cheques for that bank.Account and banks will accept the check.As valid if you get a new account on the.Network it's got one signer and that.Signer is the master key.But accounts can also have more silence.In addition to or instead of the master.Key as signer is a signing key just like.A master key accounts can be configured.To let signers authorize transactions.Individually or together in a group on.Stellar that configuration for what.Combinations of signers are required to.Authorize transactions is controlled by.Setting a threshold on the account and.Then weights for each signer an example.Of this could be an account that has a.Threshold of 20 with with signers that.Each have weights of 10 need two of.These signers to sign a transaction for.The transaction to be valid another.Example might be an account that has a.Threshold of one where any signer could.Sign the check by itself for the check.To be valid much like a basic joint bank.Account you'll hear people use the term.Multisig to refer to accounts they use.Multiple silence but most accounts on.The network only use the master key and.So they only have one signer some.Have used an additional signer as to.Factor auth the control of the account.Still hinges on possession of that.Master key so key management is how we.Manage all of these keys and will it.Play a pivotal role in key management.Because of the core of a wallet is key.Management a wallets core job is to hold.Your salary calm and so its core job is.To store your key protect your key help.You use your key to sign transactions.And then prevent you from losing your.Key so let's talk about some common.Approaches to key management that are.Being used so many wallets they only use.That master key this means your account.Has one key one signer and that key is.Stored on the device in the wallet.Application those wallets can help you.To not lose your key using a few.Different methods one approach is to.Give you Eve the key in some form to.Write down on a printout the key lives.In two places it's in your wallet on.Your phone and it's on paper as a backup.If you lose your phone this is great in.Terms of simplicity really.Straightforward to implement your key is.Backed up but it does present some.Challenges it puts a lot of.Responsibility on the user the user.Needs to write down the key exactly.Correct if they lose the paper it's.Written on they've lost their backup if.Someone else finds the paper their.Account is easily stolen and it can be a.Jarring experience to ask a new user to.Write down a lot of text immediately.After dev installed a new application.That they may not be committed to.Another approach is to store a copy of.The key on the wallet server but this.This has some different challenges the.Users gotta trust the wallet server.Completely because the server will have.Access to the key and therefore control.Of their account somewhere let's address.This challenge by encrypting the key.Using a password that the user enters.Into the wall all it but has never.Shared with the server.This means the wallet server is not able.To use the key because it cannot decrypt.But this only works for wallets and.Products that require the user to make a.Password.That won't be shared with the server.Which is yet another password for the.User to lose so all while its do key.Management but most focus on managing.One key got master key and backing up.That master King so let's talk about the.Approach that sub 30 takes SEP 30.Recovery signer is a Stellar ecosystem.Proposal that means it's a proposal that.Contains a new standard or a change to.Existing standards that is build on top.Of the Stellar network and for use in.The Stellar ecosystem SEP 30 is an.Approach to key management that's.Focuses making key management and.Specifically the preventing loss part.Has user FM as user-friendly as any.Other consumer application its goal is.To work without recovery phrases to have.No server with a sole control of the.Account and to not require the user to.Remember a secure encryption password to.Encrypt their key SEP 30 is currently.Being used in one wallet the vibram.Wallet which is a noncustodial u US.Dollar saving wallet the store's value.On the Stellar network the vibram wallet.Is currently in open beta and presents a.User experience designed for the general.Public you login with your phone number.You don't need a password a wallet like.Vibrant that is implementing SEP 30.Still does many of the same things that.Other wallets do it's a store a key.They protect a key and they help you to.Use your key to sign transactions and.They prevent loss but the loss that.Prevents is different it prevents you.From losing your account and not your.Key a wallet implementing SEP 30 weren't.Manage and backup a single master key.Instead the wild.Manage device keys and help the user to.Get new keys the user Stellar account.Won't change its address will stay the.Same but the user signing keys will.Change so let's have a look at what Sept.30 is Sept 30 to 5 that provides two.Endpoints one to register accounts and.Another to sign transactions for that.Account.A wallet uses that first endpoint to.Register an account with the server in.The request the wallet tells the server.What identities are allowed to request.Signatures for the account those.Identities can be things like a phone.Number or an email address the wallet.Authenticates using septum which is a.Stellar eco system proposal that's.Widely used already that defines a.Challenge and challenge response.Authentication flow that the wallet uses.To prove to the server that it possesses.Keys that can sign for this teller.Account this way to the server noise of.The client should be allowed to define.Who can sign transactions for their.Wallet in their response to while it.Gets back a signing address for the.Server and it makes that address a.Signer of the Stellar account the second.Endpoint is transaction signing a wallet.Calls this hand point with a transaction.It wants to serve it assign it'll do.This when it has lost its key and it.Needs the server to sign transactions.For it.The wallet authenticates using an.Identity provided during registration if.The phone or email matches an attendee.Stored with the account on the server.The server will sign the transaction for.The seller account and returned that.Signature to the wallet so let's have a.Look at an example and we'll walk.Through how well it can use these two.Endpoints to support account recovery.For the example I will give the user who.Is using the wallet a name and we'll.Call her Alice.When Alice creates an account with the.Wallet the app on her phone is going to.Generate a master key and then the.Wallet server is going to create the.Account associated with that master key.The master key will be one of those big.S secret keys that we looked at at the.Beginning and it's the red key in this.Diagram the red key never leaves Alice's.Device the app on her device doesn't.Give this key to anyone with SEP 30 we.Can implement this wallet so that there.Is no need for the master key to be.Backed up anyway Alice's wallet also.Generates a second key what we'll call.Her d'lai scheme it's a key that is only.For this device to use to sign.Transactions in the same way that the.Master key is not shared with anyone the.Device key is not shared with anyone.Either palace' Swallow submits a.Transaction to the network making that.Device key a signer of the account and.Removing the master key has a spoiler.Alice's wallet then deletes the master.Key it's not useful anymore the wallet.Then goes through the process of.Registering the account with to recovery.Cells each server has their own key that.They generate themselves each server is.Hosted and controlled independently by.Different entities the wallet proves to.Each so they independently that it has.Authority over the account by signing a.Sub 10 transaction and tells the to.Recovery servers that anyone who can.Prove possession of the user's phone.Number or email should be allowed to.Request transactions to be signed the.Wallet submits a transaction to the.Network adding both recovery signers as.Cylons on the account but limiting the.Weight of those signatures so that.Neither recovery server has independent.Control over the value in the account.Each each recovery server will be at.Assign a transaction at the request of.The user but the transaction will only.Be authorized if signed by another.Independent.Honey the only individual with.Independent control of the account is.Alice here's an example of what it looks.Like on the public block Explorer on the.Public. Stellar Network this is Annie this is an.Account on the public network with its.Threshold set to 20 and there are four.Silence the master key at the bottom.With a weight of zero meaning that it.Has no control over the account a device.Key with a weight of 20 so that the.Device has complete control of the.Account and then to recovery servers.That each have those weights of 10 so.Let's imagine that Palace has lost her.Phone and she's purchased an earphone.The greyed out phone in the top left is.Her lost phone that still has her device.Key on him and her new phone has no key.For the account Alice's new phone goes.Through the same process that a previous.Phone did when it signed up with the.Wallet server it generates a device King.And it signs into the wallet but that.New device key is not a signer of her.Seller account so her device can erase.Transactions yet the wallet app talks to.The first recovery server and ask the.Server to sign a transaction that makes.Her new device key a signer on the.Account Alice then continues recovery.With the third party recovery server the.Third party is operating independently.So Alice authenticates with them.Independently with an SMS codes and to.Her phone number or a link or a code.Sent to her email address once Alice has.Authenticated the server science the.Transaction and returns the signature to.The wallet the transaction has now been.Authorized with a weight of 20 and can.Be submitted to the network the.Transaction removes the old signing key.That was lost with Alice's previous.Phone and adds the new cyma key that.Lives on Alice's new phone Alice is now.Back in control of her account.Finally what's important to highlight is.That while alice is in full control of.Her account this process can be built.Into the wallet into the wallet.Application and be behind the scenes for.Her what Alice experiences is the same.User experience that we've grown.Accustomed to in consumer applications.Which leads us to y sub 30 is very broad.Right now great user experience drives.Adoption and supporting account recovery.Through phone and email brings a.Noncustodial wallets user experience.Closer to that of other consumer.Applications the registration user.Experience for Alice can be that she.Signs up like many consumer products.Logging in with her phone or email and.The recovery user experience for hours.Is similar requiring only a second SMS.Or email with a third-party recovery.Provider these are patterns that are.Familiar to users of consumer.Applications this approach is also very.Flexible allowing a wallet to still.Offer a recovery phrase that can be.Written down by generating an additional.Key to be their recovery phrase or to.Allow for multiple devices where each.Device generates its own key that never.Leaves that device this approach also.Makes dealing with lost devices simpler.A lost watch containing a wallet can be.Quickly revoked by removing its key as a.Signer without needing to get a new.Stellar account and when Alice decides.To purchase a new watch it can be given.A new key again without interrupting any.Of her existing devices but the court.Reason for why sub-30.Really is valuable right now is user.Experience user experience that will.Drive adoption.So if you'd like to learn more about sep.30 the proposal itself is about a 15.Minute read and there's a thread on the.Stellar dev mailing lift without mailing.Lists where you can ask questions.Provide feedback or make suggestions.Contributions and discussion welcome and.Now we have some time for Q&A see what.Questions we have.Okay well thank you listen to me talk.About subsiding.
