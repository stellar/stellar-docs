Okay let's get started so welcome okay let's get started so welcome everyone this is a Soroban design. Everyone this is a Soroban design everyone this is a Soroban design discussion in these meetings we. Discussion in these meetings we discussion in these meetings we discuss some of the core decisions. Discuss some of the core decisions discuss some of the core decisions that we need to make when we're building. That we need to make when we're building that we need to make when we're building. Soroban which is a platform for smart Soroban which is a platform for smart Soroban which is a platform for smart. Contracts that is in active contracts that is in active contracts that is in active. Development right now and is being development right now and is being development right now and is being. Integrated integrated with Stellar integrated integrated with Stellar integrated integrated with Stellar . Today we're talking about off next which today we're talking about off next which. Today we're talking about off next which is a proposal that Dima put together is a proposal that Dima put together. Is a proposal that Dima put together to address some of our authentication to address some of our authentication. to address some of our authentication and authorization needs on the network and authorization needs on the network. And authorization needs on the network so I think that without further Ado so I think that without further Ado. so I think that without further Ado this is the second time we're talking this is the second time we're talking. this is the second time we're talking about off next the first time was before. About off next the first time was before about off next the first time was before. The holidays a lot of folks were were the holidays a lot of folks were were. The holidays a lot of folks were were were out so I think we're gonna start were out so I think we're gonna start. Were out so I think we're gonna start with an overview by Dima then dive with an overview by Dima then dive. With an overview by Dima then dive into questions into questions into questions. And ideally you will be able to make and ideally you will be able to make and ideally you will be able to make. A decision or get close we would a decision or get close we would a decision or get close we would. Close without decision today so Dima close without decision today so Dima close without decision today so Dima. Can you take it can you take it can you take it yeah hi everyone you hear me okay yeah okay sounds good thank you. Okay yeah okay sounds good thank you so a quick overview I will so a quick overview I will. so a quick overview I will probably skip on the motivation for the probably skip on the motivation for the. Probably skip on the motivation for the sake of time I will just say that the sake of time I will just say that the. Sake of time I will just say that the general modulation is that we are aren't. General modulation is that we are aren't general modulation is that we are aren't. too excited about the state the too excited about the state the too excited about the state the. Others currently now it's a bit too others currently now it's a bit too others currently now it's a bit too. Fragmented and to limit it in some fragmented and to limit it in some fragmented and to limit it in some. Senses well it's too flexible in other senses well it's too flexible in other senses well it's too flexible in other. Cases and it's not necessary so this cases and it's not necessary so this cases and it's not necessary so this. Proposal tries to build something into proposal tries to build something into proposal tries to build something into. The protocol the protocol the protocol that would be those flexible but that would be those flexible but. that would be those flexible but also standardized so that contracts can also standardized so that contracts can. Also standardized so that contracts can inter operate and the client software inter operate and the client software. Inter operate and the client software can Implement certain things just once can Implement certain things just once. Can Implement certain things just once without tweaking them for every contract without tweaking them for every contract. Without tweaking them for every contract so on a high level The Proposal consists. So on a high level The Proposal consists so on a high level The Proposal consists. Of of of two big components the first being two big components the first being. Two big components the first being account abstraction and second being account abstraction and second being. Account abstraction and second being standardized signature payloads and standardized signature payloads and. Standardized signature payloads and invocation authorization invocation authorization. Invocation authorization so to play on this point account so to play on this point account. So to play on this point account abstraction is a well-known concept on abstraction is a well-known concept on. Abstraction is a well-known concept on in other chains and basically is that in other chains and basically is that. In other chains and basically is that instead of passing some entities that instead of passing some entities that. Instead of passing some entities that are tied to some are tied to some are tied to some. Crypto algorithms such as crypto algorithms such as crypto algorithms such as some public keys or something like that. Some public keys or something like that some public keys or something like that or instead of trying all those to say. Or instead of trying all those to say or instead of trying all those to say classic server accounts. Classic server accounts classic server accounts we make the we make the we make the. Contracts to operate on some abstract contracts to operate on some abstract contracts to operate on some abstract. Entities called accounts and from the entities called accounts and from the entities called accounts and from the. Contraction Point account is just an contraction Point account is just an contraction Point account is just an. Object that has an address that can be object that has an address that can be object that has an address that can be. Used to throw balances for example or used to throw balances for example or used to throw balances for example or. For any account related information or for any account related information or for any account related information or. Transfer balances to this account transfer balances to this account transfer balances to this account. And it has a way to authorize the and it has a way to authorize the and it has a way to authorize the. Invocations of the functions it's not invocations of the functions it's not. Invocations of the functions it's not the contract in the contract business. the contract in the contract business the contract in the contract business. Logic how exactly the account does that logic how exactly the account does that logic how exactly the account does that. So hence the abstraction and the so hence the abstraction and the so hence the abstraction and the. Accounts themselves can be implemented accounts themselves can be implemented accounts themselves can be implemented. Both in a built-in fashion some of our both in a built-in fashion some of our both in a built-in fashion some of our. Built-in tokens and the building built-in tokens and the building built-in tokens and the building. Implementation will cover the classic implementation will cover the classic implementation will cover the classic. Store account so they will all get their store account so they will all get their. Store account so they will all get their default account contract right but they default account contract right but they. Default account contract right but they also can be customized right for example also can be customized right for example. Also can be customized right for example if someone comes up is a new if someone comes up is a new. If someone comes up is a new cryptogram like this Quantum resistance cryptogram like this Quantum resistance. Cryptogram like this Quantum resistance for example right or you know there are for example right or you know there are. For example right or you know there are Hardware votes that currently don't Hardware votes that currently don't. Hardware votes that currently don't support her at all it is possible to support her at all it is possible to. Support her at all it is possible to write an account contract that will write an account contract that will. Write an account contract that will perform this custom authentication but perform this custom authentication but. Perform this custom authentication but the possibilities are much better than the possibilities are much better than. The possibilities are much better than that it is possible to have a literally that it is possible to have a literally. That it is possible to have a literally complex multi-6 schemes that are complex multi-6 schemes that are. Complex multi-6 schemes that are probably currently not possible the probably currently not possible the. Probably currently not possible the class Explorer accounts for example it class Explorer accounts for example it. Class Explorer accounts for example it is possible to record different mode is possible to record different mode. Is possible to record different mode async async async    or different tokens spent or different. Or different tokens spent or different or different tokens spent or different balances spent basically this is a smart. Balances spent basically this is a smart balances spent basically this is a smart. Contract I guess that's the bottom line contract I guess that's the bottom line contract I guess that's the bottom line. Of it of it of it so yeah this is the first component so yeah this is the first component. so yeah this is the first component and the second component is and the second component is. And the second component is about the signature payloads because about the signature payloads because. About the signature payloads because again currently signature pivot system again currently signature pivot system. Again currently signature pivot system of preform we have like the SDK of preform we have like the SDK. Of preform we have like the SDK implementation of some structured implementation of some structured. Implementation of some structured payloads but this is just in one SDK payloads but this is just in one SDK. Payloads but this is just in one SDK it's not 600 days in any way it's not 600 days in any way. It's not 600 days in any way so the proposal here is that instead so the proposal here is that instead. so the proposal here is that instead of of of relying on contracts to Define their own. Relying on contracts to Define their own relying on contracts to Define their own. Signatures schema signatures schema signatures schema we provide the generic ones that should. We provide the generic ones that should we provide the generic ones that should hopefully be flexible enough to keep all. Hopefully be flexible enough to keep all hopefully be flexible enough to keep all. The use cases the use cases the use cases so so so the payload obviously would include some. The payload obviously would include some the payload obviously would include some. context information such as network context information such as network context information such as network. ID but the main thing and the main ID but the main thing and the main ID but the main thing and the main. Innovation here is that instead of just Innovation here is that instead of just Innovation here is that instead of just. Signing a single contract call signing a single contract call signing a single contract call. It is possible to sign a whole tree of it is possible to sign a whole tree of it is possible to sign a whole tree of. Course or even like Forest of trees course or even like Forest of trees course or even like Forest of trees. Nature okay basically basically from the contract standpoint when the from the contract standpoint when the. From the contract standpoint when the contract requires an account to contract requires an account to. Contract requires an account to authorize family vacation authorize family vacation. Authorize family vacation the Urban cost like the power wheel the Urban cost like the power wheel. the Urban cost like the power wheel add this into a post deck of all Trace. Add this into a post deck of all Trace add this into a post deck of all Trace calls and build a context Tower so. Calls and build a context Tower so calls and build a context Tower so basically when authorized this code from. Basically when authorized this code from basically when authorized this code from. Some contract the some contract the some contract the payload for this call should contain. Payload for this call should contain payload for this call should contain obviously the currently executed. Obviously the currently executed obviously the currently executed Contracting function but also the call. Contracting function but also the call Contracting function but also the call stack of the authorized invocations. Stack of the authorized invocations stack of the authorized invocations leading to it and the contract provided. Leading to it and the contract provided leading to it and the contract provided arguments so basically it's only since a. Arguments so basically it's only since a arguments so basically it's only since a. Contract needs to provide these contract needs to provide these contract needs to provide these. Arguments for the authorization and arguments for the authorization and arguments for the authorization and. Everything else is inferred everything else is inferred everything else is inferred. Automatically based on the current automatically based on the current automatically based on the current . Coast Tech and stuff like that Coast Tech and stuff like that Coast Tech and stuff like that. The Proposal also The Proposal also The Proposal also includes includes includes.    that generalized Finance Management okay that generalized Finance Management okay. That generalized Finance Management okay I think we wanted today different this I think we wanted today different this. I think we wanted today different this but for the sake of overview ready is but for the sake of overview ready is. But for the sake of overview ready is that that that cost will contain we will manage. cost will contain we will manage cost will contain we will manage nonsense per contract and per account. Nonsense per contract and per account nonsense per contract and per account address so that basically neither. Address so that basically neither address so that basically neither regular contracts nor account contracts. Regular contracts nor account contracts regular contracts nor account contracts need to worry about that and this comes. Need to worry about that and this comes need to worry about that and this comes with some benefits like nouns can be. With some benefits like nouns can be with some benefits like nouns can be consumed only for the top level. Consumed only for the top level consumed only for the top level invocation and not any subsequence of. Invocation and not any subsequence of invocation and not any subsequence of contract calls. Contract calls contract calls plus Ledger access and more plus Ledger access and more. plus Ledger access and more flexibility for the users flexibility for the users. Flexibility for the users that's rather benefits that's rather benefits that's rather benefits. Uploaded so now uploaded so now uploaded so now so these are two key Concepts and. So these are two key Concepts and so these are two key Concepts and I think another interesting high level. I think another interesting high level I think another interesting high level point is that. Point is that point is that things housing is Paradise things housing is Paradise. Things housing is Paradise for the cases of complex contracts for the cases of complex contracts . For the cases of complex contracts PreFlight can be utilized PreFlight can be utilized. PreFlight can be utilized to build this the signature payloads to build this the signature payloads. To build this the signature payloads this is like like when we are talking this is like like when we are talking. this is like like when we are talking about the contracts that have more than about the contracts that have more than. About the contracts that have more than a single signature like it's a current a single signature like it's a current. A single signature like it's a current world or modern single authorized and world or modern single authorized and. World or modern single authorized and location it's a house next World location it's a house next World. Location it's a house next World it may be tricky to figure out like it may be tricky to figure out like. it may be tricky to figure out like what exactly needs to be signed like what exactly needs to be signed like. what exactly needs to be signed like the contract may be delegated to some the contract may be delegated to some. The contract may be delegated to some contracts that dynamically depends on contracts that dynamically depends on. Contracts that dynamically depends on their input and things like that so their input and things like that so. Their input and things like that so in order to figure out in order to figure out. in order to figure out what exactly needs to be signed in what exactly needs to be signed in. what exactly needs to be signed in order to be able to execute a certain order to be able to execute a certain. Order to be able to execute a certain contract call contract call contract call we introduce a mechanism in. we introduce a mechanism in we introduce a mechanism in pre-flight that we'll basically Trace. Pre-flight that we'll basically Trace pre-flight that we'll basically Trace. Those authorization calls and build the those authorization calls and build the those authorization calls and build the. Proper payload proper payload proper payload and the cool thing here is that this. And the cool thing here is that this and the cool thing here is that this stage like there is no signatures. Stage like there is no signatures stage like there is no signatures participating and basically no no. Participating and basically no no participating and basically no no commitment to any security reasons from. Commitment to any security reasons from commitment to any security reasons from the user so the only thing that the. The user so the only thing that the the user so the only thing that the private needs is the other addresses of. Private needs is the other addresses of private needs is the other addresses of the account that participate in the. The account that participate in the the account that participate in the invocation. what else yeah I think that's pretty much it on yeah I think that's pretty much it on. The high level the high level the high level    I just think quite like so there's a. I just think quite like so there's a I just think quite like so there's a bunch of other things but I think we. Bunch of other things but I think we bunch of other things but I think we would want to look . Would want to look would want to look yeah I think that's a great starting yeah I think that's a great starting. Yeah I think that's a great starting point and we can open it up for point and we can open it up for. Point and we can open it up for questions I'm especially interested in questions I'm especially interested in. Questions I'm especially interested in the perspective of the DAP developer so the perspective of the DAP developer so. The perspective of the DAP developer so Paul if you have any comments there I Paul if you have any comments there I. Paul if you have any comments there I think that the original auth that we think that the original auth that we. Think that the original auth that we built or what we now call Advanced off built or what we now call Advanced off. Built or what we now call Advanced off the the point in which we realized it the the point in which we realized it. The the point in which we realized it was a bit problematic is when we had you was a bit problematic is when we had you. Was a bit problematic is when we had you know daps and walls try to implement it know daps and walls try to implement it. Know daps and walls try to implement it and it became clear that it's you know and it became clear that it's you know. And it became clear that it's you know it's a lot to handle so I'm really it's a lot to handle so I'm really. It's a lot to handle so I'm really interested to hear about this one in interested to hear about this one in. Interested to hear about this one in that perspective foreign that perspective foreign. That perspective foreign talk a little bit more about what talk a little bit more about what. Talk a little bit more about what actually goes into the signature payload actually goes into the signature payload. Actually goes into the signature payload specifically like do wallets have to specifically like do wallets have to. Specifically like do wallets have to sign sign sign only the sub tree sections were like. Only the sub tree sections were like only the sub tree sections were like account the authorized is called or they. Account the authorized is called or they account the authorized is called or they. Have to sign every like cross-contract have to sign every like cross-contract have to sign every like cross-contract. Call or call or call or yeah yeah as I've mentioned basically yeah yeah as I've mentioned basically. Yeah yeah as I've mentioned basically their trees over the coast not to their trees over the coast not to. Their trees over the coast not to exit full trees or whatever as a exit full trees or whatever as a. Exit full trees or whatever as a contract calls contract calls contract calls . basically this is a basically this is a basically this is a subset of the whole country of the. Subset of the whole country of the subset of the whole country of the contract were the. Contract were the contract were the current account oh not currently there current account oh not currently there. Current account oh not currently there can't be interested in all Traders can't be interested in all Traders. Can't be interested in all Traders something so let's say we have an something so let's say we have an. Something so let's say we have an account a that once so sorry we have account a that once so sorry we have. Account a that once so sorry we have a contract is that once the user to a contract is that once the user to. A contract is that once the user to authorize it then it delegates to authorize it then it delegates to. Authorize it then it delegates to contract BS that doesn't touch right contract BS that doesn't touch right. Contract BS that doesn't touch right they return Then B code CZ that's they return Then B code CZ that's. They return Then B code CZ that's authorize the users and that cost tags authorize the users and that cost tags. Authorize the users and that cost tags are user Sciences a and then C B will be are user Sciences a and then C B will be. Are user Sciences a and then C B will be omitted so you know there is no yes omitted so you know there is no yes. Omitted so you know there is no yes there is no time in a sense for all well there is no time in a sense for all well. There is no time in a sense for all well it seems much more flexible right yeah it seems much more flexible right yeah. It seems much more flexible right yeah that's okay so I feel like a exchange that's okay so I feel like a exchange. That's okay so I feel like a exchange swap for example you would really only swap for example you would really only. Swap for example you would really only have to sign like the token withdrawal have to sign like the token withdrawal. Have to sign like the token withdrawal from your wallet from your wallet from your wallet. Yes sir like basically yeah you need to yes sir like basically yeah you need to yes sir like basically yeah you need to. Still approve your token to some router still approve your token to some router still approve your token to some router. Contract and then router contract can contract and then router contract can contract and then router contract can. Route your token in any direction or route your token in any direction or route your token in any direction or. Vice versa like you may sign like some vice versa like you may sign like some vice versa like you may sign like some. Low levels of operation that just swaps low levels of operation that just swaps low levels of operation that just swaps. You with someone and you don't really you with someone and you don't really you with someone and you don't really. Care how exactly this is being routed care how exactly this is being routed care how exactly this is being routed. Again your signature is required under again your signature is required under again your signature is required under. This bottom level operation so both ways this bottom level operation so both ways. This bottom level operation so both ways work and also an important note on work and also an important note on. Work and also an important note on signatures signatures signatures that I haven't mentioned is that. that I haven't mentioned is that that I haven't mentioned is that wallets would sign the hash of the whole. Wallets would sign the hash of the whole wallets would sign the hash of the whole. Payload and this is mostly for the sake payload and this is mostly for the sake payload and this is mostly for the sake. Of compatibility it's whatever hard of of compatibility it's whatever hard of of compatibility it's whatever hard of. Our wallets and possible features our wallets and possible features our wallets and possible features. Basically we want to bound their basically we want to bound their basically we want to bound their. Signature pivot size signature pivot size signature pivot size like the actual signature go outside. Like the actual signature go outside like the actual signature go outside it's not premature yeah so the. It's not premature yeah so the it's not premature yeah so the wallets take the entire subtree hash. Wallets take the entire subtree hash wallets take the entire subtree hash that then sign that so there's only one. That then sign that so there's only one that then sign that so there's only one second sure okay cool thank you yes. Second sure okay cool thank you yes second sure okay cool thank you yes Dima yeah yeah I have a question about. Dima yeah yeah I have a question about Dima yeah yeah I have a question about and I'm going to steal a list questions. What What In the case that you want to What What In the case that you want to pass an invalid signature one of the. Pass an invalid signature one of the pass an invalid signature one of the subcontact with the purpose of taking a. Subcontact with the purpose of taking a subcontact with the purpose of taking a different path in the in the contact. Different path in the in the contact different path in the in the contact execution. Execution execution right and explicitly you want to fail right and explicitly you want to fail. Right and explicitly you want to fail one of them one of them one of them yeah this is here okay so like I mean. Yeah this is here okay so like I mean yeah this is here okay so like I mean. I'm interested to see like an actual I'm interested to see like an actual I'm interested to see like an actual. Use case for that because use case for that because use case for that because . from there like this only influences from there like this only influences from there like this only influences. Pre-flight right from the preference pre-flight right from the preference pre-flight right from the preference. Standpoint like I describe this feature standpoint like I describe this feature standpoint like I describe this feature. Where we can record the authorizations where we can record the authorizations where we can record the authorizations. But the side effect of recording them is but the side effect of recording them is. But the side effect of recording them is that we treat them all as successful that we treat them all as successful. That we treat them all as successful it is not impossible to mock failures it is not impossible to mock failures. it is not impossible to mock failures in the preferred API it's like basically. In the preferred API it's like basically in the preferred API it's like basically. Not a protocol change I'm not convinced not a protocol change I'm not convinced not a protocol change I'm not convinced. This is something we actually should do this is something we actually should do this is something we actually should do. And it's really unclear to me and it's really unclear to me and it's really unclear to me. Why would you ever want this to be the why would you ever want this to be the why would you ever want this to be the. Game basically in my mind like if game basically in my mind like if game basically in my mind like if. It's fine for the authorization failures it's fine for the authorization failures. It's fine for the authorization failures to be recoverable to be recoverable to be recoverable. for example you know you want to for example you know you want to for example you know you want to. Clear like multiple trades and at once clear like multiple trades and at once clear like multiple trades and at once. And in a general case trades may not and in a general case trades may not and in a general case trades may not. Clear for multitude of reasons one of clear for multitude of reasons one of clear for multitude of reasons one of. Them being that signatures for the them being that signatures for the them being that signatures for the. Trades for this trade are incorrect trades for this trade are incorrect trades for this trade are incorrect. And you don't want for example to fail and you don't want for example to fail and you don't want for example to fail. Other trades if you're just patching other trades if you're just patching other trades if you're just patching. Things together right this is a fair things together right this is a fair things together right this is a fair. Case but I think this case is only case but I think this case is only case but I think this case is only. Meaningful during the on-chain execution meaningful during the on-chain execution. Meaningful during the on-chain execution I think it is fine for the pre-flight. I think it is fine for the pre-flight I think it is fine for the pre-flight for example to execute the hate this. For example to execute the hate this for example to execute the hate this scenario because it will be probably. Scenario because it will be probably scenario because it will be probably it will consume more gas and build. It will consume more gas and build it will consume more gas and build access knowledge your entries than do. Access knowledge your entries than do access knowledge your entries than do. It in case of failure so it will make it it in case of failure so it will make it. It in case of failure so it will make it superset of what is executed in chain superset of what is executed in chain. Superset of what is executed in chain of course it is possible to write of course it is possible to write. of course it is possible to write some really weird contract Logics some really weird contract Logics. Some really weird contract Logics that would try to reorder trace the that would try to reorder trace the. That would try to reorder trace the account but again I'm not quite account but again I'm not quite. Account but again I'm not quite convinced that ever a good idea and convinced that ever a good idea and . Convinced that ever a good idea and there won't be a good support for that there won't be a good support for that. There won't be a good support for that from the pre-flight standpoint for from the pre-flight standpoint for. From the pre-flight standpoint for example example example and but but I think there is a pretty. And but but I think there is a pretty and but but I think there is a pretty. Good reason to not support it because good reason to not support it because good reason to not support it because. You kind of have this recursive you kind of have this recursive you kind of have this recursive. Dependency where like you want your dependency where like you want your dependency where like you want your. Signatures to depend on the function signatures to depend on the function signatures to depend on the function. Input but then if your signature input but then if your signature input but then if your signature. Defines like what the signature should defines like what the signature should defines like what the signature should. Be you get this basically cyclic be you get this basically cyclic be you get this basically cyclic. Dependency rate dependency rate dependency rate so I I'm not convinced this is a good. so I I'm not convinced this is a good so I I'm not convinced this is a good. Idea basically like idea basically like idea basically like what I would want contracts to do. What I would want contracts to do what I would want contracts to do normally is that. Normally is that normally is that if you call contracts function with if you call contracts function with. if you call contracts function with certain arguments it comes with a certain arguments it comes with a. Certain arguments it comes with a certain signature preload and this certain signature preload and this. Certain signature preload and this relationship should be deterministic relationship should be deterministic. Relationship should be deterministic right and it should not involve right and it should not involve. Right and it should not involve signatures in the input signatures in the input signatures in the input. which is actually one of the problems which is actually one of the problems. which is actually one of the problems with the current Advanced awesome with the current Advanced awesome. With the current Advanced awesome because we are like because we are like because we are like. Are we used to like include some are we used to like include some are we used to like include some. Information from the signatures while information from the signatures while. Information from the signatures while building pillows for another signatures building pillows for another signatures. Building pillows for another signatures and it's pretty messy and how to and it's pretty messy and how to. And it's pretty messy and how to painting and power so yeah painting and power so yeah. Painting and power so yeah yeah and another question this change yeah and another question this change. Yeah and another question this change implies that you need to do the implies that you need to do the. Implies that you need to do the cryptographic verification cryptographic verification. Cryptographic verification posts posts posts transaction execution right are they. Transaction execution right are they transaction execution right are they very end right because you need to build. Very end right because you need to build very end right because you need to build. The pre-image and in order to build a the pre-image and in order to build a the pre-image and in order to build a. Pre-image you need to run pre-image you need to run pre-image you need to run the contact right so not on the simulate. The contact right so not on the simulate the contact right so not on the simulate. Side but when you actually go and side but when you actually go and side but when you actually go and. Execute it execute it execute it you need to run the entire smart contact you need to run the entire smart contact. You need to run the entire smart contact three right and only at the end you have. Three right and only at the end you have three right and only at the end you have. The pre-image that you can verify with the pre-image that you can verify with the pre-image that you can verify with. Signature that's actually not true right signature that's actually not true right. Signature that's actually not true right like it's a bit of an implementation like it's a bit of an implementation. Like it's a bit of an implementation detail and I think it may change but in detail and I think it may change but in. Detail and I think it may change but in the current prototype the current prototype. The current prototype what happens is that since we kind of what happens is that since we kind of. what happens is that since we kind of decouple authentication and decouple authentication and. Decouple authentication and naturalization well at first the whole tree has to. well at first the whole tree has to be passed be passed be passed in some way along the transaction right. In some way along the transaction right in some way along the transaction right so the transaction should know in the. So the transaction should know in the so the transaction should know in the first place whatever if you are claiming. First place whatever if you are claiming first place whatever if you are claiming. You have time you have time you have time so from the smartphone perspective for so from the smartphone perspective for. So from the smartphone perspective for example it's possible to examine the example it's possible to examine the. Example it's possible to examine the whole tree that's trying to or trades whole tree that's trying to or trades. Whole tree that's trying to or trades from the authentication perspectives from the authentication perspectives. From the authentication perspectives there is just this curved payload which there is just this curved payload which. There is just this curved payload which is the hash of something and from the is the hash of something and from the. Is the hash of something and from the authentication standpoints the only authentication standpoints the only. Authentication standpoints the only thing we need to do to it is to thing we need to do to it is to. Thing we need to do to it is to basically verify the signature of this basically verify the signature of this. Basically verify the signature of this payload is correct and in case of payload is correct and in case of. Payload is correct and in case of mounted sync accounts find all the mounted sync accounts find all the. Mounted sync accounts find all the signers right signers right signers right so basically the current. so basically the current so basically the current implementation the authentication. Implementation the authentication implementation the authentication happens so easily the first time the. Happens so easily the first time the happens so easily the first time the account writes to trade something. Account writes to trade something account writes to trade something and actually the same goes to. and actually the same goes to and actually the same goes to evaluating the whole tree over the. Evaluating the whole tree over the evaluating the whole tree over the course in the vote like the latter part. Course in the vote like the latter part course in the vote like the latter part may I may not change but I think yeah. May I may not change but I think yeah may I may not change but I think yeah there is really no need to do anything. There is really no need to do anything there is really no need to do anything until the end of the contract execution. Until the end of the contract execution until the end of the contract execution we just. We just we just do verification as soon as possible do verification as soon as possible. do verification as soon as possible so basically so basically so basically you've like. You've like you've like if Thompson is not like if some were if Thompson is not like if some were. If Thompson is not like if some were deep in the subject there is a cause deep in the subject there is a cause. Deep in the subject there is a cause that hasn't been authorized will find that hasn't been authorized will find. That hasn't been authorized will find out about it as soon as we reach this out about it as soon as we reach this. Out about it as soon as we reach this point but not I see so the entire tree is effectively. I see so the entire tree is effectively submitted as part of the transaction submitted as part of the transaction. Submitted as part of the transaction right yeah it is and yeah I have seen right yeah it is and yeah I have seen. Right yeah it is and yeah I have seen your suggestion on the dog that maybe. Your suggestion on the dog that maybe your suggestion on the dog that maybe. Instead of passing like the whole show instead of passing like the whole show instead of passing like the whole show. Explicitly we made Parts ashes of its explicitly we made Parts ashes of its explicitly we made Parts ashes of its. Nodes which probably may be fine in nodes which probably may be fine in nodes which probably may be fine in. Terms of the transaction sites but yeah terms of the transaction sites but yeah terms of the transaction sites but yeah. It really only matters for the it really only matters for the it really only matters for the. Transaction part of the things transaction part of the things transaction part of the things. not for the actual execution yeah so not for the actual execution yeah so not for the actual execution yeah so. My concern here is that people are going my concern here is that people are going. My concern here is that people are going to use to use to use the existing contact a. The existing contact a the existing contact a infrastructure to develop like deep. Infrastructure to develop like deep infrastructure to develop like deep executed contact tree right and when. Executed contact tree right and when executed contact tree right and when that happened we can have several. That happened we can have several that happened we can have several hundreds of contracts executed right per. Hundreds of contracts executed right per hundreds of contracts executed right per. Transaction transaction transaction and I just kind of like a horrified of and I just kind of like a horrified of. And I just kind of like a horrified of the idea that as a result of that we're the idea that as a result of that we're. The idea that as a result of that we're going to have hundreds of signature in going to have hundreds of signature in. Going to have hundreds of signature in each transaction each transaction each transaction. Account account account so again there is only a single so again there is only a single. So again there is only a single signature per account right and said signature per account right and said. Signature per account right and said like like like the signature flow is you take the. The signature flow is you take the the signature flow is you take the payload which is basically a network. Payload which is basically a network payload which is basically a network plus a vector of the invocations you. Plus a vector of the invocations you plus a vector of the invocations you want to or trade you hash it you sign. Want to or trade you hash it you sign want to or trade you hash it you sign the hash that's it ah so there is only a. The hash that's it ah so there is only a the hash that's it ah so there is only a. Single signature then the first time single signature then the first time single signature then the first time. Execution time is the first time the execution time is the first time the execution time is the first time the. Account tries to try something we verify account tries to try something we verify. Account tries to try something we verify the signature the signature the signature. and then we will just do basically and then we will just do basically and then we will just do basically. Matching like weather resist matching like weather resist matching like weather resist . Invocation is present in the tree or not invocation is present in the tree or not. Invocation is present in the tree or not now now now to the Deep tree topic I don't think. To the Deep tree topic I don't think to the Deep tree topic I don't think it's . It's it's it's the new route it has any relevance it's the new route it has any relevance. It's the new route it has any relevance to this because it's not like it's to this because it's not like it's. To this because it's not like it's impossible to close up to contract now impossible to close up to contract now. Impossible to close up to contract now and the bank accounts versus these right and the bank accounts versus these right. And the bank accounts versus these right like you cannot probably execute a like you cannot probably execute a. like you cannot probably execute a hundreds of contract calls even if they hundreds of contract calls even if they. Hundreds of contract calls even if they don't do any actualization shift because don't do any actualization shift because. Don't do any actualization shift because it will run out of gas before that like it will run out of gas before that like. It will run out of gas before that like we are going to have gasoline it on the we are going to have gasoline it on the. We are going to have gasoline it on the transaction so transaction so transaction so. and I think it's completely it will always be a better idea to have it will always be a better idea to have. A single contract than a multiple a single contract than a multiple a single contract than a multiple. Contracts than multiple contracts into contracts than multiple contracts into contracts than multiple contracts into. These things and because cow in a these things and because cow in a these things and because cow in a. Contract comes at the cost so contract comes at the cost so contract comes at the cost so. Yeah next week very differentiation yeah next week very differentiation yeah next week very differentiation. Yeah right thank you yeah right thank you yeah right thank you can I give us a question about the to. can I give us a question about the to can I give us a question about the to. Do with this you know what gets signed do with this you know what gets signed do with this you know what gets signed. In the subtrees and going back to deem in the subtrees and going back to deem in the subtrees and going back to deem. Of a example you provided when you of a example you provided when you of a example you provided when you . When you're answering one of polls when you're answering one of polls when you're answering one of polls. Questions questions questions you describe a situation where an you describe a situation where an. you describe a situation where an account account account is signing is signing. Is signing like that you're calling a contract like that you're calling a contract. like that you're calling a contract and that contract is calling three other and that contract is calling three other. And that contract is calling three other contracts a b and c and this account contracts a b and c and this account. Contracts a b and c and this account just wants to sign the call to just wants to sign the call to. Just wants to sign the call to contract a and the call to contract B contract a and the call to contract B. Contract a and the call to contract B in that situation is that does that in that situation is that does that. in that situation is that does that mean that count a science two sub trees mean that count a science two sub trees. Mean that count a science two sub trees like separately so they provide two like separately so they provide two. Like separately so they provide two signatures Play sign a and they sign b signatures Play sign a and they sign b. Signatures Play sign a and they sign b or are they because a few times it's or are they because a few times it's. Or are they because a few times it's been mentioned that an account only ever been mentioned that an account only ever. Been mentioned that an account only ever provides one signature is there some way. Provides one signature is there some way provides one signature is there some way. That somehow they sign those two sub that somehow they sign those two sub that somehow they sign those two sub. Trees but it's only one signature or how trees but it's only one signature or how. Trees but it's only one signature or how does how does that work yeah so does how does that work yeah so. Does how does that work yeah so basically as I said like technically basically as I said like technically. Basically as I said like technically you're not signing the tree you're a you're not signing the tree you're a. You're not signing the tree you're a sign in a forest of treats sign in a forest of treats. Sign in a forest of treats so for example if you have a top so for example if you have a top. so for example if you have a top level router contract that doesn't level router contract that doesn't. Level router contract that doesn't require any authorization but then you require any authorization but then you. Require any authorization but then you make two subcontract calls that are make two subcontract calls that are. Make two subcontract calls that are authorized that would spawn to all trees authorized that would spawn to all trees. Authorized that would spawn to all trees right because they will have different right because they will have different. Right because they will have different top level or trades nodes top level or trades nodes. Top level or trades nodes which I think is fine like you still which I think is fine like you still. which I think is fine like you still need just one signature over that as need just one signature over that as. Need just one signature over that as I said I'm always saying like one I said I'm always saying like one. I said I'm always saying like one signature per account account here is signature per account account here is. Signature per account account here is an account object it doesn't mean an account object it doesn't mean. An account object it doesn't mean like that it's Unique so if your like that it's Unique so if your. Like that it's Unique so if your transaction accepts two accounts and transaction accepts two accounts and. Transaction accepts two accounts and they happen to be they happen to be they happen to be. to have the same address very long to have the same address very long to have the same address very long. Try to duplicate them and then there are try to duplicate them and then there are. Try to duplicate them and then there are a little bit of signatures so you know a little bit of signatures so you know. A little bit of signatures so you know when I'm talking about like single when I'm talking about like single. When I'm talking about like single single short per account that's only in single short per account that's only in. Single short per account that's only in the context of that account like in the the context of that account like in the. The context of that account like in the context of the whole transaction there context of the whole transaction there. Context of the whole transaction there may be a return number of accounts and may be a return number of accounts and. May be a return number of accounts and some of them maybe duplicates and they some of them maybe duplicates and they. Some of them maybe duplicates and they will have their own signatures too so if will have their own signatures too so if. Will have their own signatures too so if you don't try to be any more collaborate. You don't try to be any more collaborate you don't try to be any more collaborate. Here so it's yeah one per account not here so it's yeah one per account not here so it's yeah one per account not. More more more okay so in that in that situation where okay so in that in that situation where. Okay so in that in that situation where account one wants to sign contract a account one wants to sign contract a. account one wants to sign contract a and the contract tree a c but they don't and the contract tree a c but they don't. And the contract tree a c but they don't want to sign the top level want to sign the top level. Want to sign the top level like the very very top level contract like the very very top level contract. Like the very very top level contract call they they would provide two call they they would provide two. Call they they would provide two signatures they would sign like the sub signatures they would sign like the sub. Signatures they would sign like the sub tree for contract a the subtree for tree for contract a the subtree for. Tree for contract a the subtree for contract C and then they would include contract C and then they would include. Contract C and then they would include those two signatures those two signatures those two signatures. is that is that right is that is that right is that is that right okay so at first I want to make points. Okay so at first I want to make points okay so at first I want to make points that I think it's more like it's. That I think it's more like it's that I think it's more like it's important to practice say that it's not. Important to practice say that it's not important to practice say that it's not that account wants to do something it's. That account wants to do something it's that account wants to do something it's what the contract wants to do because. What the contract wants to do because what the contract wants to do because. The source of the signature pullouts in the source of the signature pullouts in the source of the signature pullouts in. The first place is the contract it's the first place is the contract it's the first place is the contract it's . Not the account the count row is to not the account the count row is to not the account the count row is to . Verify the signature like an account verify the signature like an account verify the signature like an account. Contract account in a more broad context contract account in a more broad context. Contract account in a more broad context or always to sign stuff eight and seven or always to sign stuff eight and seven. Or always to sign stuff eight and seven so so so basically depending on the call tree you. Basically depending on the call tree you basically depending on the call tree you. Will get different results for example will get different results for example will get different results for example. If you have a contract if you have a contract if you have a contract as I said that calls independently into. As I said that calls independently into as I said that calls independently into say contract B and contract c. Say contract B and contract c say contract B and contract c but you provide it once at the top level. But you provide it once at the top level but you provide it once at the top level. You'll get a single payload you'll get a single payload you'll get a single payload. So let's say you have a contract a that so let's say you have a contract a that so let's say you have a contract a that. Doesn't require authorization itself doesn't require authorization itself doesn't require authorization itself. But it does go into contracts bncs and but it does go into contracts bncs and but it does go into contracts bncs and. Direct prioritization direct prioritization direct prioritization if you provide contract a then you. if you provide contract a then you if you provide contract a then you will get a single payload with both. Will get a single payload with both will get a single payload with both invocations but on the other hand you. Invocations but on the other hand you invocations but on the other hand you. Could could could just pre-sign contract B and contract just pre-sign contract B and contract. just pre-sign contract B and contract C and then write like you don't want C and then write like you don't want. C and then write like you don't want to know the user to know about your top to know the user to know about your top. To know the user to know about your top level contract then your top level level contract then your top level. Level contract then your top level contractual when you take care about contractual when you take care about. Contractual when you take care about having two different accounts right but having two different accounts right but. Having two different accounts right but it will be still possible to forward the it will be still possible to forward the. It will be still possible to forward the signature so basically it's whatever signature so basically it's whatever. Signature so basically it's whatever the contracts Define and whatever you the contracts Define and whatever you. The contracts Define and whatever you try to prep white or build signatures try to prep white or build signatures. Try to prep white or build signatures for it's driven by the contract for it's driven by the contract. For it's driven by the contract interfaces so I mean interfaces so I mean interfaces so I mean. It's probably a good idea to try to it's probably a good idea to try to it's probably a good idea to try to. Implement things in a way that implement things in a way that implement things in a way that. only a single signature is needed so only a single signature is needed so only a single signature is needed so. That you know we have some Atomic that you know we have some Atomic that you know we have some Atomic. Operation per account that may involve operation per account that may involve operation per account that may involve. Arbitrary number of subcontractables but arbitrary number of subcontractables but. Arbitrary number of subcontractables but nothing limits you from you know using nothing limits you from you know using. Nothing limits you from you know using small result present calls but you will small result present calls but you will. Small result present calls but you will need to this needs to be reflected in need to this needs to be reflected in. Need to this needs to be reflected in the contract interface and the contract interface and. The contract interface and implementation that's right so what implementation that's right so what. Implementation that's right so what you're saying is that you're saying is that you're saying is that. contract a could just sign the entire contract a could just sign the entire. contract a could just sign the entire tree if they wanted to tree if they wanted to. Tree if they wanted to yeah like you you would need some yeah like you you would need some. Yeah like you you would need some criticize criticize criticize instead of so if you just so just. Instead of so if you just so just instead of so if you just so just ignoring PreFlight for a second just. Ignoring PreFlight for a second just ignoring PreFlight for a second just assuming that the developers here. Assuming that the developers here assuming that the developers here know how to build these trees themselves. Know how to build these trees themselves know how to build these trees themselves. They know how to do all the signage they know how to do all the signage they know how to do all the signage. Themselves I'm not really too interested themselves I'm not really too interested. Themselves I'm not really too interested in the automation just yet but in the automation just yet but. In the automation just yet but a developer could choose to sign the a developer could choose to sign the. a developer could choose to sign the entire tree and they would be signing a entire tree and they would be signing a. Entire tree and they would be signing a b and c b and c b and c or they can choose to sign just the. or they can choose to sign just the or they can choose to sign just the subtree A and Justice subtree C and. Subtree A and Justice subtree C and subtree A and Justice subtree C and include those two signatures. Include those two signatures include those two signatures basically yeah like as one is your. Basically yeah like as one is your basically yeah like as one is your Forest of trees corresponds to what what. Forest of trees corresponds to what what Forest of trees corresponds to what what. Has been authorized you should be fine has been authorized you should be fine has been authorized you should be fine. So you know if but basically what you so you know if but basically what you so you know if but basically what you. Can do like if you're in full control of can do like if you're in full control of. Can do like if you're in full control of all the execution paths you will just all the execution paths you will just. All the execution paths you will just look at where your authorization secure look at where your authorization secure. Look at where your authorization secure and you would include all this into and you would include all this into. And you would include all this into the signature pivot where signing it and the signature pivot where signing it and. The signature pivot where signing it and then you basically can embed this sub then you basically can embed this sub. Then you basically can embed this sub trees in arbitrary called trees trees in arbitrary called trees . Trees in arbitrary called trees you care about as well for example the you care about as well for example the. You care about as well for example the same topology same topology same topology and a signature Bionic. And a signature Bionic and a signature Bionic a signature on a tree will just mean. A signature on a tree will just mean a signature on a tree will just mean that whatever the address is for that. That whatever the address is for that that whatever the address is for that signature is authorized anywhere in that. Signature is authorized anywhere in that signature is authorized anywhere in that. Tree where that address shows up is that tree where that address shows up is that. Tree where that address shows up is that correct correct correct authorized anywhere the contract . Authorized anywhere the contract authorized anywhere the contract calls all tries on it right so there is. Calls all tries on it right so there is calls all tries on it right so there is anywhere contract requested. Anywhere contract requested anywhere contract requested authorization I have a question related to this about. I have a question related to this about authorization context and the call stack authorization context and the call stack. Authorization context and the call stack so if you if you invoke a contract a so if you if you invoke a contract a. So if you if you invoke a contract a that calls B and you know B is the only that calls B and you know B is the only. That calls B and you know B is the only one that calls authorized then a is not one that calls authorized then a is not. One that calls authorized then a is not part of the context how long someone to part of the context how long someone to. Part of the context how long someone to front run a by submitting B front run a by submitting B. Front run a by submitting B I'm wondering if there are any security I'm wondering if there are any security. I'm wondering if there are any security issues or weird use cases here and if we issues or weird use cases here and if we. Issues or weird use cases here and if we should consider requiring the full call should consider requiring the full call. Should consider requiring the full call stack by default with the option to stack by default with the option to. Stack by default with the option to authorize the subset the cost stack and authorize the subset the cost stack and. Authorize the subset the cost stack and then the concern here is a high level if then the concern here is a high level if. Then the concern here is a high level if it's possible for the front run to it's possible for the front run to. It's possible for the front run to prevent I expected logic from running prevent I expected logic from running. Prevent I expected logic from running well it sounds right like at first well it sounds right like at first. Well it sounds right like at first that was a consideration to include like that was a consideration to include like. That was a consideration to include like the full cost tax but the scenarios like. The full cost tax but the scenarios like the full cost tax but the scenarios like. We have just discussed such scenarios we have just discussed such scenarios we have just discussed such scenarios. Like it's rather limited and makes use like it's rather limited and makes use like it's rather limited and makes use. Cases like exchanges much trigger to cases like exchanges much trigger to cases like exchanges much trigger to. Implement properly because you know you implement properly because you know you implement properly because you know you. May care only about like swapping the may care only about like swapping the may care only about like swapping the. Token and you don't want to care about token and you don't want to care about token and you don't want to care about. Like how exactly it has been solved like how exactly it has been solved like how exactly it has been solved. And and so from training some and and so from training some and and so from training some. Contracts would indeed need some contracts would indeed need some contracts would indeed need some. Front-end prevention in place so for front-end prevention in place so for front-end prevention in place so for. Example you know coming back to the example you know coming back to the example you know coming back to the. Batching the operations example right so batching the operations example right so. Batching the operations example right so let's say your contract clears multiple let's say your contract clears multiple. Let's say your contract clears multiple swaps and swap May Fail for multiple swaps and swap May Fail for multiple. Swaps and swap May Fail for multiple reasons one of them is run signatures reasons one of them is run signatures. Reasons one of them is run signatures another one is front run right someone another one is front run right someone. Another one is front run right someone front Trends is Swap and it's no longer front Trends is Swap and it's no longer. Front Trends is Swap and it's no longer valid right valid right valid right this case is really not different. this case is really not different this case is really not different from any other failure like just write. From any other failure like just write from any other failure like just write contract in a way that it gracefully. Contract in a way that it gracefully contract in a way that it gracefully handles the failures and you should be. Handles the failures and you should be handles the failures and you should be good. Good good as for security issues I mean as for security issues I mean as for security issues I mean. It is possible to write a contract in it is possible to write a contract in it is possible to write a contract in. Such a way that you can transfer into such a way that you can transfer into such a way that you can transfer into. Signature for it and it's one to the signature for it and it's one to the signature for it and it's one to the. Right thing but it's probably on the right thing but it's probably on the right thing but it's probably on the. Contract and so I can implementation contract and so I can implementation contract and so I can implementation. Issue right issue right issue right normally what you should require is normally what you should require is. Normally what you should require is easier to sign should be it should be a easier to sign should be it should be a. Easier to sign should be it should be a some sort of atomic operation that the some sort of atomic operation that the. Some sort of atomic operation that the user should intend to perform it user should intend to perform it. User should intend to perform it shouldn't be some middle step so for shouldn't be some middle step so for. Shouldn't be some middle step so for example example example if I want to create a clinical balance. If I want to create a clinical balance if I want to create a clinical balance for example a simple thing right I. For example a simple thing right I for example a simple thing right I want to transfer the token to the. Want to transfer the token to the want to transfer the token to the contract and I want to create an entry. Contract and I want to create an entry contract and I want to create an entry on behalf of this user. on behalf of this user on behalf of this user I could drive this incorrectly and. I could drive this incorrectly and I could drive this incorrectly and take just the signature for a transfer. Take just the signature for a transfer take just the signature for a transfer and you can. And you can and you can from transit signature quarter transfer from transit signature quarter transfer. From transit signature quarter transfer but that's obviously about what I should but that's obviously about what I should. But that's obviously about what I should do is I should reverse the authorization. Do is I should reverse the authorization do is I should reverse the authorization. The whole thing I'll use the pro or the whole thing I'll use the pro or the whole thing I'll use the pro or. Whatever so I mean whatever so I mean whatever so I mean bugs would exist for any sort of. Bugs would exist for any sort of bugs would exist for any sort of authorizations but. Authorizations but authorizations but I don't really see an inherent security I don't really see an inherent security. I don't really see an inherent security risk here and so on as you don't require risk here and so on as you don't require. Risk here and so on as you don't require the user to sign some non-atomic the user to sign some non-atomic. The user to sign some non-atomic things that you will build storage things that you will build storage. Things that you will build storage account account account so let's say coming back to the swap. So let's say coming back to the swap so let's say coming back to the swap example let's say you did something. Example let's say you did something example let's say you did something based on the swap outcome then probably. Based on the swap outcome then probably based on the swap outcome then probably you would want to or trades your top. You would want to or trades your top you would want to or trades your top level contract that does the swaps. Level contract that does the swaps level contract that does the swaps because it does something else will. Because it does something else will because it does something else will probably need to be or trade right and. Probably need to be or trade right and probably need to be or trade right and you don't want it to be functional. You don't want it to be functional you don't want it to be functional right so and also there's a front. Right so and also there's a front right so and also there's a front training prevention topic. Training prevention topic training prevention topic never mind okay go ahead yeah so like. Never mind okay go ahead yeah so like never mind okay go ahead yeah so like the you said it makes sense like the the. The you said it makes sense like the the the you said it makes sense like the the. One thing I'm concerned about is you one thing I'm concerned about is you one thing I'm concerned about is you. Know the the authorization authorization know the the authorization authorization. Know the the authorization authorization context is determined by the contracts context is determined by the contracts. Context is determined by the contracts right as you mentioned and the user right as you mentioned and the user. Right as you mentioned and the user is just going to sign whatever is just going to sign whatever. Is just going to sign whatever pre-flight returns so and these bugs are pre-flight returns so and these bugs are. Pre-flight returns so and these bugs are not that like you know if you don't have. Not that like you know if you don't have not that like you know if you don't have. A great understanding of how a great understanding of how a great understanding of how. this authorization that these this authorization that these this authorization that these. Authorization Mechanics Work you may not authorization Mechanics Work you may not. Authorization Mechanics Work you may not see it when you look at the contract and. See it when you look at the contract and see it when you look at the contract and. The user is just going to sign whatever the user is just going to sign whatever the user is just going to sign whatever. Pre-file returns so it may not be you pre-file returns so it may not be you pre-file returns so it may not be you. Know at any point easy to see what the know at any point easy to see what the know at any point easy to see what the. Issue is until until it's too late issue is until until it's too late issue is until until it's too late. so that's just my concern I don't so that's just my concern I don't so that's just my concern I don't. Know if no I'm still not sure if this know if no I'm still not sure if this. Know if no I'm still not sure if this is so go ahead yeah yeah I know my is so go ahead yeah yeah I know my. Is so go ahead yeah yeah I know my intuition is that again this is probably intuition is that again this is probably. Intuition is that again this is probably the case for any sort of traditions like. The case for any sort of traditions like the case for any sort of traditions like. Let's say you understand the whole tree let's say you understand the whole tree let's say you understand the whole tree. Like do you really think that add in like do you really think that add in like do you really think that add in. Like a bunch of stuff does a tree would like a bunch of stuff does a tree would like a bunch of stuff does a tree would. Like prevent some weird cases when like prevent some weird cases when like prevent some weird cases when. You sign something that you didn't think you sign something that you didn't think. You sign something that you didn't think yeah I'm not sure yeah I'm not sure yeah I'm not sure. but I think a great thing that but I think a great thing that but I think a great thing that. Structural payloads are always it's structural payloads are always it's structural payloads are always it's. It should be easy to implement a generic it should be easy to implement a generic. It should be easy to implement a generic forward support for just parsing this. Forward support for just parsing this forward support for just parsing this. Tree and finding the relevant code you tree and finding the relevant code you tree and finding the relevant code you. Know like if you send something to The know like if you send something to The know like if you send something to The. Exchange that it's supposed to sell Exchange that it's supposed to sell Exchange that it's supposed to sell. Token a for you and you get your payload token a for you and you get your payload. Token a for you and you get your payload and your vote says hey this is going to and your vote says hey this is going to. And your vote says hey this is going to withdraw like 10x of the token a that withdraw like 10x of the token a that. Withdraw like 10x of the token a that you actually wanted to trade then you you actually wanted to trade then you. You actually wanted to trade then you know you probably won't find this and know you probably won't find this and. Know you probably won't find this and wait you wouldn't worry about this too wait you wouldn't worry about this too. Wait you wouldn't worry about this too much much much so yeah there is definitely like more. So yeah there is definitely like more so yeah there is definitely like more control from the interesting point. Control from the interesting point control from the interesting point in a generic scenario I agree that . in a generic scenario I agree that in a generic scenario I agree that . Some things might be vulnerable and some things might be vulnerable and some things might be vulnerable and. These are wouldn't know about that but these are wouldn't know about that but these are wouldn't know about that but. I'm yeah I don't have a good I'm yeah I don't have a good I'm yeah I don't have a good. Understanding of how prevalent would understanding of how prevalent would understanding of how prevalent would. This be or how dangerous would this be this be or how dangerous would this be this be or how dangerous would this be. Because well because well because well and so it could be and so it could be and so it could be. Contracted a flowed in multiple wage contracted a flowed in multiple wage contracted a flowed in multiple wage. Rate and you wouldn't know so it's I rate and you wouldn't know so it's I rate and you wouldn't know so it's I. Guess the question of trust and you guess the question of trust and you guess the question of trust and you. Know only using the things that matter know only using the things that matter know only using the things that matter. And the fact that we at least can easily and the fact that we at least can easily. And the fact that we at least can easily know what the contract trying to go to know what the contract trying to go to. Know what the contract trying to go to your tokens or whatever other your tokens or whatever other. Your tokens or whatever other Commodities you have Commodities you have Commodities you have. it's already a big wins here it's already a big wins here it's already a big wins here. because like kind of limits the because like kind of limits the because like kind of limits the. Impact simulator Lee yeah I have a question but it's it's Lee yeah I have a question but it's it's. A little bit derailing so a little bit derailing so a little bit derailing so . I feel like I want to if anyone else has I feel like I want to if anyone else has. I feel like I want to if anyone else has questions that are moral on the line of questions that are moral on the line of. Questions that are moral on the line of what we're already talking about that what we're already talking about that. What we're already talking about that might be best to do first so I'm interested in Anna have a. so I'm interested in Anna have a proposal interacts with the simple proposal interacts with the simple. Proposal interacts with the simple invoker auth case that we we currently invoker auth case that we we currently. Invoker auth case that we we currently support today so support today so support today so. I think when timer was describing I think when timer was describing I think when timer was describing. Before you know we developed the current before you know we developed the current. Before you know we developed the current version of sorbenorth we realized that version of sorbenorth we realized that. Version of sorbenorth we realized that it's actually relatively it's actually relatively. It's actually relatively complicated to use and so then we complicated to use and so then we. complicated to use and so then we went and had added invoker auth which is went and had added invoker auth which is. Went and had added invoker auth which is basically the same as message.sender in basically the same as message.sender in. Basically the same as message.sender in the ethereum world the ethereum world the ethereum world. And the way that it's implemented is the and the way that it's implemented is the. And the way that it's implemented is the source account on the operation is the source account on the operation is the. Source account on the operation is the invoker and so a contract can just say invoker and so a contract can just say. Invoker and so a contract can just say who's the invoker and they'll either get who's the invoker and they'll either get. Who's the invoker and they'll either get back and address they'll get back an back and address they'll get back an. Back and address they'll get back an address which is either the source address which is either the source. Address which is either the source account on the operation or the contract account on the operation or the contract. Account on the operation or the contract that's calling them that's calling them that's calling them. yeah I saw I understand that the yeah I saw I understand that the proposal basically says okay there's the. Proposal basically says okay there's the proposal basically says okay there's the. Proposal replaces the complicated and proposal replaces the complicated and proposal replaces the complicated and. The simple auth we have today and the simple auth we have today and the simple auth we have today and. Creates a single unified interface that creates a single unified interface that creates a single unified interface that. Contracts use to contracts use to contracts use to verify that the address is authorized. verify that the address is authorized verify that the address is authorized. I'm just wondering like if there's a I'm just wondering like if there's a I'm just wondering like if there's a. Way that we can retain the simplicity so way that we can retain the simplicity so. Way that we can retain the simplicity so that for the vast majority of contracts that for the vast majority of contracts. That for the vast majority of contracts enter the wallets and contract enter the wallets and contract. enter the wallets and contract interactions they still have the interactions they still have the. Interactions they still have the simplest form of in terms of like what simplest form of in terms of like what. Simplest form of in terms of like what they need to sign it's like the simplest they need to sign it's like the simplest. They need to sign it's like the simplest without needing to go and sign these. Without needing to go and sign these without needing to go and sign these call statues. Well well I mean the host Tech tree for the case I mean the host Tech tree for the case. I mean the host Tech tree for the case that is currently an invoker case it's that is currently an invoker case it's. That is currently an invoker case it's pretty much equivalent to just the pretty much equivalent to just the. Pretty much equivalent to just the conflicting location right because it conflicting location right because it. Conflicting location right because it consists only of a single invocation and consists only of a single invocation and. Consists only of a single invocation and you know you just add a vector around. you know you just add a vector around you know you just add a vector around. The things that already exists the things that already exists the things that already exists. so even if that call has like so so even if that call has like so so even if that call has like so. I'm calling just one contract but that I'm calling just one contract but that I'm calling just one contract but that. Contract may be calling five other contract may be calling five other contract may be calling five other. Contracts as a part of its contracts as a part of its contracts as a part of its what it's going to go do. What it's going to go do what it's going to go do those calls may be unimportant to me. those calls may be unimportant to me those calls may be unimportant to me so maybe they're just calling out to an. So maybe they're just calling out to an so maybe they're just calling out to an oracle again some information. Oracle again some information oracle again some information again Nano Trace calls are not. again Nano Trace calls are not again Nano Trace calls are not included in the payload wait this is an. Included in the payload wait this is an included in the payload wait this is an important point I want to reiterate. Important point I want to reiterate important point I want to reiterate again again. Again that what what these are Sciences only that what what these are Sciences only. That what what these are Sciences only the authorized upset of the whole the authorized upset of the whole. The authorized upset of the whole country country country so it doesn't include any in between or. So it doesn't include any in between or so it doesn't include any in between or side calls. Side calls side calls even if the authorized call is the top even if the authorized call is the top. Even if the authorized call is the top layer so even if I'm layer so even if I'm layer so even if I'm. Like the top call is going to be like the top call is going to be like the top call is going to be. Authorized Ultra is doesn't propagate anywhere Ultra is doesn't propagate anywhere. Authorize means that I'll try this and authorize means that I'll try this and authorize means that I'll try this and. Only this added in the current context only this added in the current context only this added in the current context. That's it it doesn't say anything about that's it it doesn't say anything about that's it it doesn't say anything about. Inside invocation so that curse would inside invocation so that curse would inside invocation so that curse would. Not contain things that are not done on not contain things that are not done on not contain things that are not done on. Your behalf your behalf your behalf so whatever the contract calls into so whatever the contract calls into . So whatever the contract calls into doesn't matter for the secret signature doesn't matter for the secret signature. Doesn't matter for the secret signature so for the case where invoker is used so for the case where invoker is used. So for the case where invoker is used currently I mean invoker cannot be currently I mean invoker cannot be. Currently I mean invoker cannot be propagated currently right you cannot propagated currently right you cannot. Propagated currently right you cannot forward the invoker to the other forward the invoker to the other. Forward the invoker to the other contract which actually they have seen contract which actually they have seen. Contract which actually they have seen from discussion it's kind of a bit from discussion it's kind of a bit. From discussion it's kind of a bit annoying and confusing right because you annoying and confusing right because you. Annoying and confusing right because you may sometimes want to propagate it may sometimes want to propagate it. May sometimes want to propagate it but yeah this is a side like in this but yeah this is a side like in this. But yeah this is a side like in this exact use case when you don't propagate exact use case when you don't propagate. Exact use case when you don't propagate the top level account anywhere the the top level account anywhere the. The top level account anywhere the signature pillow it will be almost signature pillow it will be almost. Signature pillow it will be almost exactly the same module of the different exactly the same module of the different. Exactly the same module of the different structure rate instead of like having a structure rate instead of like having a. Structure rate instead of like having a single contract and invocation you will single contract and invocation you will. Single contract and invocation you will handle it support into a vector and handle it support into a vector and. Handle it support into a vector and that's pretty much it and you will have that's pretty much it and you will have. That's pretty much it and you will have a signature a few different plates so a signature a few different plates so. A signature a few different plates so you know from adapt perspective it you know from adapt perspective it. You know from adapt perspective it will be marginally harder to build this will be marginally harder to build this. Will be marginally harder to build this payload but you know doesn't need to payload but you know doesn't need to. Payload but you know doesn't need to account for anything new so just need to account for anything new so just need to. Account for anything new so just need to use a bit different structures and use a bit different structures and . Use a bit different structures and from the transaction State Savings from the transaction State Savings. From the transaction State Savings endpoint like we are keeping the endpoint like we are keeping the. Endpoint like we are keeping the invoker making sure to like save on invoker making sure to like save on. Invoker making sure to like save on signatures and you know if the source signatures and you know if the source. Signatures and you know if the source account thanks a whole transaction and account thanks a whole transaction and. Account thanks a whole transaction and the contract call it is possible to the contract call it is possible to. The contract call it is possible to mark that it is an invoker and do not mark that it is an invoker and do not. Mark that it is an invoker and do not require like a second signature require like a second signature. Require like a second signature so so so the optimization part is there two and the optimization part is there two and. The optimization part is there two and yeah the only thing that kind of changes. Yeah the only thing that kind of changes yeah the only thing that kind of changes. From the contract interface 10 point is from the contract interface 10 point is from the contract interface 10 point is. That yeah you need to pass the account that yeah you need to pass the account that yeah you need to pass the account. Explicitly and intercourageon account we explicitly and intercourageon account we. Explicitly and intercourageon account we may or may not introduce some sugar in may or may not introduce some sugar in. May or may not introduce some sugar in SDK to simplify that and make it so you SDK to simplify that and make it so you. SDK to simplify that and make it so you don't really need to type what you want don't really need to type what you want. Don't really need to type what you want to authorize but you know it's like one to authorize but you know it's like one. To authorize but you know it's like one line of code line of code line of code we also want to do this for the sake. we also want to do this for the sake we also want to do this for the sake of Click so if you can but. Of Click so if you can but of Click so if you can but I don't think it's too big of a. I don't think it's too big of a I don't think it's too big of a an issue to basically do this but on the. An issue to basically do this but on the an issue to basically do this but on the. Other hand like it is now possible to other hand like it is now possible to other hand like it is now possible to. For the constant to do things on behalf for the constant to do things on behalf for the constant to do things on behalf. Of accounts in the sub course which is of accounts in the sub course which is of accounts in the sub course which is. Not possible within local current which not possible within local current which not possible within local current which. I think is yeah yeah of course yeah I think I think an optimization yeah I think I think an optimization. Like if if there is some way for us to like if if there is some way for us to like if if there is some way for us to. Retain an optimization where The Source retain an optimization where The Source retain an optimization where The Source. The Source account could still be used The Source account could still be used The Source account could still be used. To authorize to authorize to authorize I guess the because I'm not really I guess the because I'm not really. I guess the because I'm not really too concerned about that one line of too concerned about that one line of. Too concerned about that one line of code that a contract has to add code that a contract has to add. Code that a contract has to add I'm more concerned about what that I'm more concerned about what that. I'm more concerned about what that the story is for a Dap or a wallet the story is for a Dap or a wallet. The story is for a Dap or a wallet developer developer developer yeah but the transaction you know a. Yeah but the transaction you know a yeah but the transaction you know a number of things I need to sign like . Number of things I need to sign like number of things I need to sign like like a you know like a hardware wallet. Like a you know like a hardware wallet like a you know like a hardware wallet needing to sign the Stellar transaction. Needing to sign the Stellar transaction needing to sign the Stellar transaction as well as this blob which is like two. As well as this blob which is like two as well as this blob which is like two signatures. Signatures signatures so two rounds of signing they need to so two rounds of signing they need to. so two rounds of signing they need to go through versus if the if 99 of go through versus if the if 99 of. Go through versus if the if 99 of contract calls really only just need contract calls really only just need. Contract calls really only just need that Source account you know they really that Source account you know they really. That Source account you know they really only then have to sign just the only then have to sign just the. Only then have to sign just the transaction once which is transaction once which is. Transaction once which is yeah yeah I think you definitely want to yeah yeah I think you definitely want to. Yeah yeah I think you definitely want to preserve that it's increase that for preserve that it's increase that for. Preserve that it's increase that for the signature key test when you know the signature key test when you know. The signature key test when you know you'll pay for the transaction that your you'll pay for the transaction that your. You'll pay for the transaction that your qualities or one contract it's qualities or one contract it's. Qualities or one contract it's definitely easier to definitely easier to definitely easier to. just passing a signal curvy so just passing a signal curvy so just passing a signal curvy so. Basically yeah it doesn't go anywhere basically yeah it doesn't go anywhere basically yeah it doesn't go anywhere. but it will be possible to do but it will be possible to do but it will be possible to do. Everything in this single signature everything in this single signature everything in this single signature. how frequently this will be used how frequently this will be used how frequently this will be used. Compared to something else we don't know compared to something else we don't know. Compared to something else we don't know yet because we have discussed a lot of yet because we have discussed a lot of. Yet because we have discussed a lot of the cases and you know some third-party the cases and you know some third-party. The cases and you know some third-party page for the fees but you know that's page for the fees but you know that's. Page for the fees but you know that's something you've got a secret you know something you've got a secret you know. Something you've got a secret you know it's a case for the user to just send a it's a case for the user to just send a. It's a case for the user to just send a transaction to Samsung do to your transaction to Samsung do to your. Transaction to Samsung do to your business and this multi-help business and this multi-help. Business and this multi-help transactions hopefully possible to sign transactions hopefully possible to sign. Transactions hopefully possible to sign other corporations at once while still other corporations at once while still. Other corporations at once while still being compatible with something are there any other questions either. Are there any other questions either from anyone on the stage or the audience I have a minor question that maybe like. I have a minor question that maybe like you can you can explain like in the you can you can explain like in the. You can you can explain like in the Prototype why is authorize called Prototype why is authorize called. Prototype why is authorize called authorized instead of something like authorized instead of something like. Authorized instead of something like verify authorization verify authorization verify authorization. I think that was done intentionally but I think that was done intentionally but I think that was done intentionally but. I don't recall the reason I don't recall the reason I don't recall the reason I no I don't think there is reasons. I no I don't think there is reasons I no I don't think there is reasons. Okay yeah I mean yeah I mean odd trays it's like odd trays it's like odd trays it's like. I don't know I'll try this current invocation but if I'll try this current invocation but if. It's confusing you can use whatever name it's confusing you can use whatever name. It's confusing you can use whatever name defines you to go defines you to go. defines you to go to college verify that's radiation as to college verify that's radiation as. To college verify that's radiation as well check I don't know okay so I think there's. Okay so I think there's yeah I think the the last one we touched yeah I think the the last one we touched. Yeah I think the the last one we touched on which is having to sign multiple on which is having to sign multiple. On which is having to sign multiple payloads for the even for a simple payloads for the even for a simple. Payloads for the even for a simple case case case I think that's a no-go I think we. I think that's a no-go I think we I think that's a no-go I think we need to either optimize for that. Need to either optimize for that need to either optimize for that or or scrap this at the end of the. or or scrap this at the end of the or or scrap this at the end of the. Day people are using external signing day people are using external signing day people are using external signing. Applications people are using Hardware applications people are using Hardware applications people are using Hardware. Wallets wallets wallets and we need to figure out for the and we need to figure out for the. and we need to figure out for the simple use case how to sign a single simple use case how to sign a single. Simple use case how to sign a single payload payload payload yeah okay so let's stay so I'm yeah I'm. Yeah okay so let's stay so I'm yeah I'm yeah okay so let's stay so I'm yeah I'm not saying this is going to go anywhere. Not saying this is going to go anywhere not saying this is going to go anywhere so. So so as simple use cases will be possible but as simple use cases will be possible but. As simple use cases will be possible but you know for the complex use cases you you know for the complex use cases you. You know for the complex use cases you may end up needing to send two things may end up needing to send two things. May end up needing to send two things but yeah do you mean the simple use case would be. Do you mean the simple use case would be satisfied by just keeping the existing satisfied by just keeping the existing. Satisfied by just keeping the existing invokerol with capability or are you invokerol with capability or are you. Invokerol with capability or are you meaning that we would introduce an meaning that we would introduce an. Meaning that we would introduce an optimization into this proposal so that optimization into this proposal so that. Optimization into this proposal so that the contract still uses the same method the contract still uses the same method. The contract still uses the same method they still call Dot authorize or dot they still call Dot authorize or dot. They still call Dot authorize or dot verify authorization yeah nothing verify authorization yeah nothing. Verify authorization yeah nothing changes somehow comes from the The changes somehow comes from the The. Changes somehow comes from the The Source account Yeah so basically we Source account Yeah so basically we. Source account Yeah so basically we don't truly awake don't truly awake don't truly awake. The whole driver for this proposal the whole driver for this proposal the whole driver for this proposal. Was to kind of have unified account was to kind of have unified account was to kind of have unified account . Oh sorry unified Contracting rupees and oh sorry unified Contracting rupees and oh sorry unified Contracting rupees and. you know I find it kind of you know I find it kind of you know I find it kind of. Problematic that problematic that problematic that you kind of hard code your contract to. You kind of hard code your contract to you kind of hard code your contract to use invoker right if you don't use. Use invoker right if you don't use use invoker right if you don't use Advanced host on the current approach. Advanced host on the current approach Advanced host on the current approach and that's kind of bad right because if. And that's kind of bad right because if and that's kind of bad right because if you want to use this in a different. You want to use this in a different you want to use this in a different context you cannot it's hard cut a teas. Context you cannot it's hard cut a teas context you cannot it's hard cut a teas and Walker. And Walker and Walker so the contract interface itself uses so the contract interface itself uses. so the contract interface itself uses what's next it uses accounts and what's next it uses accounts and. What's next it uses accounts and addresses and the abstraction and you addresses and the abstraction and you. Addresses and the abstraction and you know one of the implementations of that know one of the implementations of that. Know one of the implementations of that abstract account even though it's kind abstract account even though it's kind. Abstract account even though it's kind of built into host but it's just of built into host but it's just. Of built into host but it's just invokers rate it's just one of invokers rate it's just one of. Invokers rate it's just one of implementation of the abstract account implementation of the abstract account. Implementation of the abstract account contracts shouldn't worry about that contracts shouldn't worry about that. Contracts shouldn't worry about that it's all implemented in the host and it's all implemented in the host and. It's all implemented in the host and it's in the current prototype as well it's in the current prototype as well. It's in the current prototype as well so yeah so yeah so yeah let's Chooser and by simple use case I. Let's Chooser and by simple use case I let's Chooser and by simple use case I mean the cases when there is only single. Mean the cases when there is only single mean the cases when there is only single. Accounts it needs to trace operations accounts it needs to trace operations accounts it needs to trace operations. You know throughout multiple accounts you know throughout multiple accounts you know throughout multiple accounts. And one of them can actually can be and one of them can actually can be and one of them can actually can be. Invoker but that's reason to pre-size invoker but that's reason to pre-size invoker but that's reason to pre-size. Something but they want me to sign the something but they want me to sign the something but they want me to sign the. Storage induction so hopefully you know storage induction so hopefully you know storage induction so hopefully you know. A majority of the case is only single a majority of the case is only single a majority of the case is only single. Signatures needed signatures needed signatures needed so just to be on the same this is. So just to be on the same this is so just to be on the same this is implemented in your host prototype for. Implemented in your host prototype for implemented in your host prototype for off next right now yeah it's in the Pro. Off next right now yeah it's in the Pro off next right now yeah it's in the Pro Tab right now. Tab right now Tab right now so this is an important thing and it's so this is an important thing and it's. So this is an important thing and it's important and is the way that that works that . And is the way that that works that you it's only the top level contracts you it's only the top level contracts. You it's only the top level contracts but if they call Dot authorize they but if they call Dot authorize they. But if they call Dot authorize they would see the source account as being would see the source account as being. Would see the source account as being authorized authorized authorized yeah they actually will see wait. Yeah they actually will see wait yeah they actually will see wait basically the trees teeth sharing the. Basically the trees teeth sharing the basically the trees teeth sharing the transaction payload but instead of. Transaction payload but instead of transaction payload but instead of cutting the signature you pass nothing. Cutting the signature you pass nothing cutting the signature you pass nothing and instead of passing the account ID. And instead of passing the account ID and instead of passing the account ID you pass the flag because it's an. You pass the flag because it's an you pass the flag because it's an invoker it's similar to how we handle. Invoker it's similar to how we handle invoker it's similar to how we handle invoker currently in advanced cars it's. Invoker currently in advanced cars it's invoker currently in advanced cars it's just move to the transaction structure. Just move to the transaction structure just move to the transaction structure itself. Itself itself right I'm just wondering because in right I'm just wondering because in. Right I'm just wondering because in Vegas today is only it has no depth Vegas today is only it has no depth. Vegas today is only it has no depth like yeah now it has depth yeah now it like yeah now it has depth yeah now it. Like yeah now it has depth yeah now it will have depth because the transaction will have depth because the transaction. Will have depth because the transaction has the whole tree of the coast so has the whole tree of the coast so. Has the whole tree of the coast so basically you are signing the tree basically you are signing the tree. Basically you are signing the tree itself which is why it is safe okay so itself which is why it is safe okay so. Itself which is why it is safe okay so so this the way the way it's currently so this the way the way it's currently. So this the way the way it's currently implemented it's not really messaged us implemented it's not really messaged us. Implemented it's not really messaged us and it's like the and it's like the. And it's like the transaction.origin from ethereum it transaction.origin from ethereum it. Transaction.origin from ethereum it sounds like is the way that it's working sounds like is the way that it's working. Sounds like is the way that it's working I I'm not sure but I think the key I I'm not sure but I think the key. I I'm not sure but I think the key factor here is that you explicitly you factor here is that you explicitly you. Factor here is that you explicitly you still explicitly out price calls right still explicitly out price calls right. Still explicitly out price calls right it's not like you just gave for a it's not like you just gave for a. It's not like you just gave for a contract blanket permissions to call contract blanket permissions to call. Contract blanket permissions to call things on your behalf it is really things on your behalf it is really. Things on your behalf it is really just it's keeping the signature just it's keeping the signature. Just it's keeping the signature verification part because you when verification part because you when. Verification part because you when you're assigning the transaction or you're assigning the transaction or. You're assigning the transaction or operation you are also assigning the operation you are also assigning the. Operation you are also assigning the whole authorized call stack payload whole authorized call stack payload. Whole authorized call stack payload that you've been talking about before that you've been talking about before. that you've been talking about before so yeah so basically yes the world would. So yeah so basically yes the world would so yeah so basically yes the world would. Need to show you that hey as a part of need to show you that hey as a part of need to show you that hey as a part of. This operation you this operation you this operation you maybe a sign in multiple token. maybe a sign in multiple token maybe a sign in multiple token operations for example right but you. Operations for example right but you operations for example right but you know from the signature standpoint it. Know from the signature standpoint it know from the signature standpoint it needs to still be sanctioned once. So it's basically like msg.center but so it's basically like msg.center but better because like energy the center is. Better because like energy the center is better because like energy the center is. Like contingent on the fact that you like contingent on the fact that you like contingent on the fact that you. Have signed the top level and location have signed the top level and location have signed the top level and location. Here you sign all the invocations here you sign all the invocations here you sign all the invocations. That you need to try yep okay yeah I'm the reason I just yep okay yeah I'm the reason I just. Mentioned that the transaction of origin mentioned that the transaction of origin. Mentioned that the transaction of origin is because I'm just trying to think of is because I'm just trying to think of. Is because I'm just trying to think of if there's if there's if there's anything that we really need to worry. Anything that we really need to worry anything that we really need to worry because it feels a little bit more like. Because it feels a little bit more like because it feels a little bit more like transaction.origin in the you know you. Transaction.origin in the you know you transaction.origin in the you know you could you're the source account you call. Could you're the source account you call could you're the source account you call. This contract either calls another this contract either calls another this contract either calls another. Contract you tell that other contract contract you tell that other contract contract you tell that other contract. That you're authorizing as the invoker that you're authorizing as the invoker that you're authorizing as the invoker. So that other contract is authorized so that other contract is authorized so that other contract is authorized. With the top level Source account with the top level Source account with the top level Source account. yeah I think I think yeah I think I yeah I think I think yeah I think I think it's probably fine because you're. Think it's probably fine because you're think it's probably fine because you're right it's reflected in you still have. Right it's reflected in you still have right it's reflected in you still have to specify yeah yeah. Right there is really no way no matter right there is really no way no matter what kind of authorization you use and. What kind of authorization you use and what kind of authorization you use and so it's no way to somehow hide the. So it's no way to somehow hide the so it's no way to somehow hide the subcontract call that prefers. Subcontract call that prefers subcontract call that prefers authorization so there is really no way. Authorization so there is really no way authorization so there is really no way to hide some token withdrawals number. To hide some token withdrawals number to hide some token withdrawals number deep in the trade those still circuits. Deep in the trade those still circuits deep in the trade those still circuits no matter what or it will just fail. No matter what or it will just fail no matter what or it will just fail because you haven't seen it. Because you haven't seen it because you haven't seen it yeah any other questions from the stage of. Any other questions from the stage of the audience okay so I think you know dima's done. Okay so I think you know dima's done a great job at answering all these a great job at answering all these. A great job at answering all these questions I think there's a still questions I think there's a still. Questions I think there's a still most of the concerns are around the most of the concerns are around the. most of the concerns are around the you know what is the contract for the you know what is the contract for the. You know what is the contract for the Gap developer and to get insights into Gap developer and to get insights into. Gap developer and to get insights into that I think we need to regroup and that I think we need to regroup and. That I think we need to regroup and probably come up with some you know probably come up with some you know. Probably come up with some you know minimal prototypes that help us minimal prototypes that help us. Minimal prototypes that help us understand that so hopefully that's understand that so hopefully that's. Understand that so hopefully that's something that we can put together something that we can put together. Something that we can put together soon enough and soon enough and soon enough and . Discuss again discuss again discuss again and if and if and if no one has anything else they want to. No one has anything else they want to no one has anything else they want to ask or to add then I think we can call. Ask or to add then I think we can call ask or to add then I think we can call it a day. Yes maybe if you have a few more minutes yes maybe if you have a few more minutes. I have one question it's yeah I have one question it's yeah I have one question it's yeah. About the non replay protection about the non replay protection about the non replay protection. If a transaction fails because the if a transaction fails because the if a transaction fails because the. Call stack change will the nodes be call stack change will the nodes be call stack change will the nodes be. Consumed or not yeah the non-consumption is actually yeah the non-consumption is actually . Trick using trick using trick using May May May need to think more about that in the. Need to think more about that in the need to think more about that in the current implementation. Current implementation current implementation nonce is basically tied to the top level. Nonce is basically tied to the top level nonce is basically tied to the top level. Or try it's called or try it's called or try it's called which may or may not be the right. which may or may not be the right which may or may not be the right thing to do which means that. Thing to do which means that thing to do which means that it's something fails it's something fails. It's something fails basically okay if the whole transaction basically okay if the whole transaction. Basically okay if the whole transaction fails The Ledger state is completely fails The Ledger state is completely. Fails The Ledger state is completely rolled back those announced won't rolled back those announced won't. Rolled back those announced won't won't be consumed won't be consumed won't be consumed. If a top level contractor tries succeeds if a top level contractor tries succeeds. If a top level contractor tries succeeds but but but some subcontract call fails and. some subcontract call fails and some subcontract call fails and the top level contract handles is Grace. The top level contract handles is Grace the top level contract handles is Grace collisions and not smart Bureau project. Collisions and not smart Bureau project collisions and not smart Bureau project thank you. Thank you thank you okay we we may need to discuss this okay we we may need to discuss this. Okay we we may need to discuss this further because this can be an issue further because this can be an issue. Further because this can be an issue with like at some point with like at some point. With like at some point the transaction fail the transaction fail the transaction fail. And then becomes available again because and then becomes available again because. And then becomes available again because the code stack is available again the code stack is available again. The code stack is available again someone can just run through you someone can just run through you. Someone can just run through you and replace the transaction and replace the transaction. And replace the transaction doesn't make sense doesn't make sense doesn't make sense. Yeah I mean the transaction replay yeah I mean the transaction replay yeah I mean the transaction replay. But basically again frontrun is kind of but basically again frontrun is kind of but basically again frontrun is kind of. Weird because it's it shouldn't be an weird because it's it shouldn't be an weird because it's it shouldn't be an. Issue most of the time because someone issue most of the time because someone issue most of the time because someone. Would do what you wanted to do anyway would do what you wanted to do anyway would do what you wanted to do anyway. yeah yeah but what you wanted to do yeah yeah but what you wanted to do yeah yeah but what you wanted to do. At one point may not be what you wanted at one point may not be what you wanted at one point may not be what you wanted. To do in the future so let's say I want to do in the future so let's say I want to do in the future so let's say I want. To transact with one with one inch to to transact with one with one inch to to transact with one with one inch to. Spend my spend my spend my money then these fails so I spend my money then these fails so I spend my. Money then these fails so I spend my money with another Exchange money with another Exchange. Money with another Exchange and then someone replay the previous and then someone replay the previous. And then someone replay the previous transaction and spend my money again like we can discuss this more but. Like we can discuss this more but basically basically basically yeah I think like I think this kind of. Yeah I think like I think this kind of yeah I think like I think this kind of brings another topic which is. Brings another topic which is brings another topic which is exploration which I don't think we have. Exploration which I don't think we have exploration which I don't think we have discussed and they didn't do anything in. Discussed and they didn't do anything in discussed and they didn't do anything in. The proposal the proposal the proposal it may be a generally useful feature to. It may be a generally useful feature to it may be a generally useful feature to have you know for your. Have you know for your have you know for your signature to have expiration and that. Signature to have expiration and that signature to have expiration and that even could be a part of the standard. Even could be a part of the standard even could be a part of the standard payload so that we could distribute. Payload so that we could distribute payload so that we could distribute expired payloads. Expired payloads expired payloads but yeah I think it's kind of but yeah I think it's kind of. but yeah I think it's kind of complementary to our question okay yeah complementary to our question okay yeah. Complementary to our question okay yeah yeah the Norms could be Ledger bonded or yeah the Norms could be Ledger bonded or. Yeah the Norms could be Ledger bonded or time bonded time bonded time bonded that may be a good idea okay yeah yeah. That may be a good idea okay yeah yeah that may be a good idea okay yeah yeah we can discuss this and yeah it would be. We can discuss this and yeah it would be we can discuss this and yeah it would be. Nice to try to come up with basically nice to try to come up with basically. Nice to try to come up with basically some Sooners and the sink they can get some Sooners and the sink they can get. Some Sooners and the sink they can get abused somehow because thanks Tebow so we are approaching. thanks Tebow so we are approaching time thank you so much for everyone and time thank you so much for everyone and. Time thank you so much for everyone and Dima especially for you for prepping Dima especially for you for prepping. Dima especially for you for prepping this and for answering the questions we this and for answering the questions we. This and for answering the questions we will regroup and update on Discord will regroup and update on Discord. Will regroup and update on Discord thank you all.
