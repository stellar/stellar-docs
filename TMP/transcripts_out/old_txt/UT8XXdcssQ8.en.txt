Hello and welcome to this week's
Hello and welcome to this week's
 Stellar Developer Meeting. Today I have a
 Stellar Developer Meeting. Today I have a
 Stellar Developer Meeting. Today I have a
guest from Open Sein. I have Bram.
guest from Open Sein. I have Bram.
guest from Open Sein. I have Bram.
Welcome to to the meeting and
Welcome to to the meeting and
Welcome to to the meeting and
please introduce yourself.
please introduce yourself.
please introduce yourself.
Hey Ken. thanks and happy to be here.
Hey Ken. thanks and happy to be here.
Hey Ken. thanks and happy to be here.
so yeah my name is Bram part of the
so yeah my name is Bram part of the
so yeah my name is Bram part of the
OpenZeppelin team. working in the
OpenZeppelin team. working in the
OpenZeppelin team. working in the
product team and we are currently
product team and we are currently
product team and we are currently
like really focused on our open source
like really focused on our open source
like really focused on our open source
efforts of which like developer tooling
efforts of which like developer tooling
efforts of which like developer tooling
is one of them of course we are now
is one of them of course we are now
is one of them of course we are now
working closely together with Stellar
working closely together with Stellar
working closely together with Stellar
and in terms of the developer tooling we
and in terms of the developer tooling we
and in terms of the developer tooling we
just released our open source
just released our open source
just released our open source
monitors so yeah I'm going to share
monitors so yeah I'm going to share
monitors so yeah I'm going to share
that today with you guys great super
that today with you guys great super
that today with you guys great super
interesting I don't know a lot about the
interesting I don't know a lot about the
interesting I don't know a lot about the
monitor yet. So, I'm looking forward to
monitor yet. So, I'm looking forward to
monitor yet. So, I'm looking forward to
this demo as well. Awesome. Great.
this demo as well. Awesome. Great.
this demo as well. Awesome. Great.
Yeah, I will show you guys how to
Yeah, I will show you guys how to
Yeah, I will show you guys how to
set the monitors up
set the monitors up
set the monitors up
today. Can I like start? Yeah, you
today. Can I like start? Yeah, you
today. Can I like start? Yeah, you
can share your screen. Cool. Nice. I
can share your screen. Cool. Nice. I
can share your screen. Cool. Nice. I
think my screen is already shared,
think my screen is already shared,
think my screen is already shared,
right? Yeah. Here we go. Hopefully
right? Yeah. Here we go. Hopefully
right? Yeah. Here we go. Hopefully
everyone can see it.
everyone can see it.
everyone can see it.
So I want to start with the repository
So I want to start with the repository
So I want to start with the repository
for you guys to know where you can
for you guys to know where you can
for you guys to know where you can
actually find the open source monitors.
actually find the open source monitors.
actually find the open source monitors.
So if you go to the OpenZeppelin
So if you go to the OpenZeppelin
So if you go to the OpenZeppelin
organization and navigate to the open
organization and navigate to the open
organization and navigate to the open
zeppelin monitor repository you can
zeppelin monitor repository you can
zeppelin monitor repository you can
find the codebase. what you can
find the codebase. what you can
find the codebase. what you can
subsequently can then do is of course
subsequently can then do is of course
subsequently can then do is of course
like clone the repository. we
like clone the repository. we
like clone the repository. we
implemented it in Rust. So there's also
implemented it in Rust. So there's also
implemented it in Rust. So there's also
a requirement to install Rust to
a requirement to install Rust to
a requirement to install Rust to
actually like build and compile all
actually like build and compile all
actually like build and compile all
the code to be able to then also run
the code to be able to then also run
the code to be able to then also run
it. And over here you see the file
it. And over here you see the file
it. And over here you see the file
structure of the open source monitors.
structure of the open source monitors.
structure of the open source monitors.
And there are actually like like two or
And there are actually like like two or
And there are actually like like two or
three things that I especially want to
three things that I especially want to
three things that I especially want to
highlight. The configuration is
highlight. The configuration is
highlight. The configuration is
especially really important. So we are
especially really important. So we are
especially really important. So we are
going to talk a little bit through the
going to talk a little bit through the
going to talk a little bit through the
configuration as like most of the
configuration as like most of the
configuration as like most of the
work that you are going to do as a
work that you are going to do as a
work that you are going to do as a
developer to actually set up these
developer to actually set up these
developer to actually set up these
monitors is going to be in the
monitors is going to be in the
monitors is going to be in the
configuration. So today I'm also going
configuration. So today I'm also going
configuration. So today I'm also going
to walk a little bit through the
to walk a little bit through the
to walk a little bit through the
examples. So we also have a
examples. So we also have a
examples. So we also have a
configuration example and for everyone
configuration example and for everyone
configuration example and for everyone
like starting out in this repository, I
like starting out in this repository, I
like starting out in this repository, I
would also recommend to have a look at
would also recommend to have a look at
would also recommend to have a look at
the different examples because this can
the different examples because this can
the different examples because this can
also really help you to like get up to
also really help you to like get up to
also really help you to like get up to
speed on how to like actually configure
speed on how to like actually configure
speed on how to like actually configure
everything. We of course also have dogs
everything. We of course also have dogs
everything. We of course also have dogs
but for some people it might be a little
but for some people it might be a little
but for some people it might be a little
bit more intuitive to just like first
bit more intuitive to just like first
bit more intuitive to just like first
have a look at the examples. I will
have a look at the examples. I will
have a look at the examples. I will
also share the docs at the end of
also share the docs at the end of
also share the docs at the end of
this call and then today we are going
this call and then today we are going
this call and then today we are going
to run it locally. So we have this
to run it locally. So we have this
to run it locally. So we have this
binary here that we can run to spin the
binary here that we can run to spin the
binary here that we can run to spin the
monitors up locally but we also allow
monitors up locally but we also allow
monitors up locally but we also allow
for like dockerized runs. So we
for like dockerized runs. So we
for like dockerized runs. So we
also have docker files here. So you can
also have docker files here. So you can
also have docker files here. So you can
also like create a docker instance
also like create a docker instance
also like create a docker instance
and run this docker docker instance for
and run this docker docker instance for
and run this docker docker instance for
example in your cloud environment or
example in your cloud environment or
example in your cloud environment or
also just locally if you prefer it
also just locally if you prefer it
also just locally if you prefer it
to run locally. So next I want to go
to run locally. So next I want to go
to run locally. So next I want to go
a little bit into the
a little bit into the
a little bit into the
configuration and kind of what the
configuration and kind of what the
configuration and kind of what the
monitor is built up from. So there
monitor is built up from. So there
monitor is built up from. So there
are kind of like four main components of
are kind of like four main components of
are kind of like four main components of
which the monitoring configuration is
which the monitoring configuration is
which the monitoring configuration is
like kind of the main component. So this
like kind of the main component. So this
like kind of the main component. So this
like monitoring configuration kind of
like monitoring configuration kind of
like monitoring configuration kind of
consists all the conditional logic that
consists all the conditional logic that
consists all the conditional logic that
you can apply to for example smart
you can apply to for example smart
you can apply to for example smart
contract observability and it also
contract observability and it also
contract observability and it also
includes for example the filters which
includes for example the filters which
includes for example the filters which
allow you to like when we pull blocks
allow you to like when we pull blocks
allow you to like when we pull blocks
on chain and we are actually going to
on chain and we are actually going to
on chain and we are actually going to
filter through these blocks. you can
filter through these blocks. you can
filter through these blocks. you can
also apply apply certain filter filters
also apply apply certain filter filters
also apply apply certain filter filters
before you actually
before you actually
before you actually
like go through the actual
like go through the actual
like go through the actual
conditions within the monitor itself.
conditions within the monitor itself.
conditions within the monitor itself.
So an example of this could be for
So an example of this could be for
So an example of this could be for
example that you only want to filter for
example that you only want to filter for
example that you only want to filter for
like even blocks. So we created a
like even blocks. So we created a
like even blocks. So we created a
example over here. This might not be
example over here. This might not be
example over here. This might not be
like a real world use case but just to
like a real world use case but just to
like a real world use case but just to
kind of showcase what it can do. You
kind of showcase what it can do. You
kind of showcase what it can do. You
can for example before you kind of go
can for example before you kind of go
can for example before you kind of go
through the whole block and actually
through the whole block and actually
through the whole block and actually
apply the monitoring logic which we will
apply the monitoring logic which we will
apply the monitoring logic which we will
be defining in this configuration.
be defining in this configuration.
be defining in this configuration.
You can already do some prefiltering by
You can already do some prefiltering by
You can already do some prefiltering by
for example in this case filtering to
for example in this case filtering to
for example in this case filtering to
see if like block is even numbered or
see if like block is even numbered or
see if like block is even numbered or
a block is odd. So in this case we would
a block is odd. So in this case we would
a block is odd. So in this case we would
only process the even numbered blocks.
only process the even numbered blocks.
only process the even numbered blocks.
So those are the filters. Then another
So those are the filters. Then another
So those are the filters. Then another
really important component is of course
really important component is of course
really important component is of course
the network. So we also have network
the network. So we also have network
the network. So we also have network
definitions here. And in the case of
definitions here. And in the case of
definitions here. And in the case of
Stellar we need to define this
Stellar we need to define this
Stellar we need to define this
network definition over here. We already
network definition over here. We already
network definition over here. We already
have an example that you can use. you
have an example that you can use. you
have an example that you can use. you
have to define the network type slug
have to define the network type slug
have to define the network type slug
name the RPC. So this one is not
name the RPC. So this one is not
name the RPC. So this one is not
prefilled. So you can actually choose
prefilled. So you can actually choose
prefilled. So you can actually choose
your own RPC and then there are some
your own RPC and then there are some
your own RPC and then there are some
other parameters that you can also
other parameters that you can also
other parameters that you can also
set here. So for example the
set here. So for example the
set here. So for example the
confirmation of blocks. So how many
confirmation of blocks. So how many
confirmation of blocks. So how many
confirmations of the blocks do you
confirmations of the blocks do you
confirmations of the blocks do you
actually wait before you for example
actually wait before you for example
actually wait before you for example
trigger a monitor. So if you detect a
trigger a monitor. So if you detect a
trigger a monitor. So if you detect a
certain function trigger on chain or an
certain function trigger on chain or an
certain function trigger on chain or an
event that is being emitted in a certain
event that is being emitted in a certain
event that is being emitted in a certain
contract like this would like allow
contract like this would like allow
contract like this would like allow
you to set the amount of blocks that you
you to set the amount of blocks that you
you to set the amount of blocks that you
actually want to wait for
actually want to wait for
actually want to wait for
confirmations of until you actually like
confirmations of until you actually like
confirmations of until you actually like
trigger the monitor and notify someone.
trigger the monitor and notify someone.
trigger the monitor and notify someone.
Then we also have a chron schedule.
Then we also have a chron schedule.
Then we also have a chron schedule.
this one is also an important like
this one is also an important like
this one is also an important like
parameter to highlight. This allows you
parameter to highlight. This allows you
parameter to highlight. This allows you
to kind of set a schedule for the amount
to kind of set a schedule for the amount
to kind of set a schedule for the amount
of times that we actually make an RPC
of times that we actually make an RPC
of times that we actually make an RPC
call and get the latest blocks. So in
call and get the latest blocks. So in
call and get the latest blocks. So in
this case I defined it for like every
this case I defined it for like every
this case I defined it for like every
minute. So every minute we like pull all
minute. So every minute we like pull all
minute. So every minute we like pull all
the latest blocks in and we process all
the latest blocks in and we process all
the latest blocks in and we process all
these different blocks. But you can also
these different blocks. But you can also
these different blocks. But you can also
set different schedules for example
set different schedules for example
set different schedules for example
every once every five minutes or
every once every five minutes or
every once every five minutes or
maybe like shorter crons here. So
maybe like shorter crons here. So
maybe like shorter crons here. So
that's the network configuration and
that's the network configuration and
that's the network configuration and
then the another of course really
then the another of course really
then the another of course really
important components are the triggers.
important components are the triggers.
important components are the triggers.
So if a monitor actually triggers and
So if a monitor actually triggers and
So if a monitor actually triggers and
you want to alert someone from like a
you want to alert someone from like a
you want to alert someone from like a
function call happening within a smart
function call happening within a smart
function call happening within a smart
contract or an event happening you can
contract or an event happening you can
contract or an event happening you can
also define these triggers. So we
also define these triggers. So we
also define these triggers. So we
currently support Discord, email, Slack
currently support Discord, email, Slack
currently support Discord, email, Slack
and Telegram as notification channels
and Telegram as notification channels
and Telegram as notification channels
that you can like send the
that you can like send the
that you can like send the
notifications to. But we also define web
notifications to. But we also define web
notifications to. But we also define web
hook notifications. So it would also be
hook notifications. So it would also be
hook notifications. So it would also be
possible to like trigger a like
possible to like trigger a like
possible to like trigger a like
external service through a web hook when
external service through a web hook when
external service through a web hook when
the monitor triggers. And there's also a
the monitor triggers. And there's also a
the monitor triggers. And there's also a
option for custom script. So if you
option for custom script. So if you
option for custom script. So if you
actually want to do some post-processing
actually want to do some post-processing
actually want to do some post-processing
after the moni monitor triggered, it is
after the moni monitor triggered, it is
after the moni monitor triggered, it is
also possible to define a script in
also possible to define a script in
also possible to define a script in
which you also define some custom logic
which you also define some custom logic
which you also define some custom logic
and you can process the data maybe make
and you can process the data maybe make
and you can process the data maybe make
integrations with your own observability
integrations with your own observability
integrations with your own observability
platform like data dog or obsgeni. we
platform like data dog or obsgeni. we
platform like data dog or obsgeni. we
are currently still also looking to
are currently still also looking to
are currently still also looking to
actually support those. But if you
actually support those. But if you
actually support those. But if you
already want to start with that the
already want to start with that the
already want to start with that the
custom scripts actually allow you to
custom scripts actually allow you to
custom scripts actually allow you to
create this like custom logic and
create this like custom logic and
create this like custom logic and
like post the data to maybe such like an
like post the data to maybe such like an
like post the data to maybe such like an
observability platform. But this is only
observability platform. But this is only
observability platform. But this is only
one example like what you can
one example like what you can
one example like what you can
actually do with it is up to you and
actually do with it is up to you and
actually do with it is up to you and
you have a lot of freedom here. Then
you have a lot of freedom here. Then
you have a lot of freedom here. Then
of course the most important
of course the most important
of course the most important
configuration file here where
configuration file here where
configuration file here where
everything comes together is the actual
everything comes together is the actual
everything comes together is the actual
monitoring configuration. So what you
monitoring configuration. So what you
monitoring configuration. So what you
have here is you can give it a name
have here is you can give it a name
have here is you can give it a name
if the monitor is paused or not. In this
if the monitor is paused or not. In this
if the monitor is paused or not. In this
case we don't want to pause it. then
case we don't want to pause it. then
case we don't want to pause it. then
you have to define the network. So
you have to define the network. So
you have to define the network. So
that's again the network configuration
that's again the network configuration
that's again the network configuration
here. You can select it by by taking
here. You can select it by by taking
here. You can select it by by taking
the file name and like inserting it
the file name and like inserting it
the file name and like inserting it
here. And then what you can subsequently
here. And then what you can subsequently
here. And then what you can subsequently
do is the actual like implementation of
do is the actual like implementation of
do is the actual like implementation of
like the monitoring logic. So in this
like the monitoring logic. So in this
like the monitoring logic. So in this
case as an example I took the address of
case as an example I took the address of
case as an example I took the address of
the aqua dex because I want to like
the aqua dex because I want to like
the aqua dex because I want to like
filter for a swap happening in that
filter for a swap happening in that
filter for a swap happening in that
dex. So what we do is we define the
dex. So what we do is we define the
dex. So what we do is we define the
address of the contract here.
address of the contract here.
address of the contract here.
subsequently we also include the
subsequently we also include the
subsequently we also include the
contract spec. So in this contract spec
contract spec. So in this contract spec
contract spec. So in this contract spec
I only added the actual function that I
I only added the actual function that I
I only added the actual function that I
want to monitor for but you can also
want to monitor for but you can also
want to monitor for but you can also
like post the whole file. and
like post the whole file. and
like post the whole file. and
underneath here we can actually set the
underneath here we can actually set the
underneath here we can actually set the
conditions on which to trigger the
conditions on which to trigger the
conditions on which to trigger the
monitor. So we already set like one
monitor. So we already set like one
monitor. So we already set like one
condition of course like we want to
condition of course like we want to
condition of course like we want to
filter for a specific contract which in
filter for a specific contract which in
filter for a specific contract which in
this case is a DEX. Then you can also
this case is a DEX. Then you can also
this case is a DEX. Then you can also
set certain conditions around a
set certain conditions around a
set certain conditions around a
function trigger for example. So I don't
function trigger for example. So I don't
function trigger for example. So I don't
want to like trigger the monitor for
want to like trigger the monitor for
want to like trigger the monitor for
every function call or event that is
every function call or event that is
every function call or event that is
being emitted from this contract. I
being emitted from this contract. I
being emitted from this contract. I
want to actually look for the swap
want to actually look for the swap
want to actually look for the swap
function signature. So if someone is
function signature. So if someone is
function signature. So if someone is
interacting with this function within
interacting with this function within
interacting with this function within
the contract
the contract
the contract
and the you can also set expressions
and the you can also set expressions
and the you can also set expressions
here. So and the out
here. So and the out
here. So and the out
underscore min variable is higher
underscore min variable is higher
underscore min variable is higher
than this this number then we
than this this number then we
than this this number then we
actually trigger the monitor. So you can
actually trigger the monitor. So you can
actually trigger the monitor. So you can
also say okay I actually don't want this
also say okay I actually don't want this
also say okay I actually don't want this
express expression. You can also just
express expression. You can also just
express expression. You can also just
have it like this then it will trigger
have it like this then it will trigger
have it like this then it will trigger
on like all the different swaps. But the
on like all the different swaps. But the
on like all the different swaps. But the
expression allows you to also use one of
expression allows you to also use one of
expression allows you to also use one of
these parameters that is passed to this
these parameters that is passed to this
these parameters that is passed to this
function to be included here and use
function to be included here and use
function to be included here and use
it with like conditional logic to
it with like conditional logic to
it with like conditional logic to
actually filter out maybe a like call
actually filter out maybe a like call
actually filter out maybe a like call
from a specific address that is included
from a specific address that is included
from a specific address that is included
in this swap or the amount the amount
in this swap or the amount the amount
in this swap or the amount the amount
out being higher than a certain
out being higher than a certain
out being higher than a certain
threshold. So that is one way of
threshold. So that is one way of
threshold. So that is one way of
filtering but we also allow for events.
filtering but we also allow for events.
filtering but we also allow for events.
So it's not only possible to use
So it's not only possible to use
So it's not only possible to use
functions but also events in this case.
functions but also events in this case.
functions but also events in this case.
It works similarly to the function.
It works similarly to the function.
It works similarly to the function.
you can also set an expression. There's
you can also set an expression. There's
you can also set an expression. There's
only currently one caveat with the
only currently one caveat with the
only currently one caveat with the
expression and that is because like
expression and that is because like
expression and that is because like
in the contract spec events are not
in the contract spec events are not
in the contract spec events are not
supported yet. You have to use
supported yet. You have to use
supported yet. You have to use
positional parameters instead of like
positional parameters instead of like
positional parameters instead of like
being able to use the actual parameter
being able to use the actual parameter
being able to use the actual parameter
their name. So you have to use zero
their name. So you have to use zero
their name. So you have to use zero
or one or two to kind of like pinpoint
or one or two to kind of like pinpoint
or one or two to kind of like pinpoint
which variable in the parameter of the
which variable in the parameter of the
which variable in the parameter of the
event you actually want to create
event you actually want to create
event you actually want to create
like conditional logic
like conditional logic
like conditional logic
around. Then we have like the third
around. Then we have like the third
around. Then we have like the third
and last fields we can also monitor for
and last fields we can also monitor for
and last fields we can also monitor for
and that is like on the transaction
and that is like on the transaction
and that is like on the transaction
level. So in this case you can also
level. So in this case you can also
level. So in this case you can also
allow for certain like logic over
allow for certain like logic over
allow for certain like logic over
here for example if the status is
here for example if the status is
here for example if the status is
success. So this that means that the
success. So this that means that the
success. So this that means that the
transaction was actually executed you
transaction was actually executed you
transaction was actually executed you
can you you want to trigger the
can you you want to trigger the
can you you want to trigger the
monitor. So if this was for example
monitor. So if this was for example
monitor. So if this was for example
failed you don't trigger
failed you don't trigger
failed you don't trigger
it. So then the last two parts of the
it. So then the last two parts of the
it. So then the last two parts of the
monitoring configuration is trigger
monitoring configuration is trigger
monitoring configuration is trigger
conditions and triggers. We already also
conditions and triggers. We already also
conditions and triggers. We already also
talked a little bit about this earlier.
talked a little bit about this earlier.
talked a little bit about this earlier.
So if we go to triggers in this case
So if we go to triggers in this case
So if we go to triggers in this case
we use the select channel. So if this
we use the select channel. So if this
we use the select channel. So if this
if these conditions are met we notify
if these conditions are met we notify
if these conditions are met we notify
like the select channel that this
like the select channel that this
like the select channel that this
monitor was triggered. And if we go for
monitor was triggered. And if we go for
monitor was triggered. And if we go for
example to a certain slack configuration
example to a certain slack configuration
example to a certain slack configuration
here you can also set the the title of
here you can also set the the title of
here you can also set the the title of
the monitor trigger and also the
the monitor trigger and also the
the monitor trigger and also the
message and within that message you can
message and within that message you can
message and within that message you can
actually also include certain parameters
actually also include certain parameters
actually also include certain parameters
like for example transaction
like for example transaction
like for example transaction
parameters or the event parameters on
parameters or the event parameters on
parameters or the event parameters on
which it actually triggered. So you can
which it actually triggered. So you can
which it actually triggered. So you can
also give all of this context and
also give all of this context and
also give all of this context and
include it in your monitoring
include it in your monitoring
include it in your monitoring
message. Then of course you can also
message. Then of course you can also
message. Then of course you can also
include other triggers. So you can just
include other triggers. So you can just
include other triggers. So you can just
add Telegram as well or email and
add Telegram as well or email and
add Telegram as well or email and
yeah I'm not going through all of them
yeah I'm not going through all of them
yeah I'm not going through all of them
but like the configuration for all of
but like the configuration for all of
but like the configuration for all of
these notification channels is pretty
these notification channels is pretty
these notification channels is pretty
straightforward. And then the last
straightforward. And then the last
straightforward. And then the last
variable that I want to talk about here
variable that I want to talk about here
variable that I want to talk about here
configuration variable is the trigger
configuration variable is the trigger
configuration variable is the trigger
conditions. So what you can do over here
conditions. So what you can do over here
conditions. So what you can do over here
is what I mentioned around script. So
is what I mentioned around script. So
is what I mentioned around script. So
you can also run a custom script. so
you can also run a custom script. so
you can also run a custom script. so
the monitor will pass the context to
the monitor will pass the context to
the monitor will pass the context to
this script and within that script you
this script and within that script you
this script and within that script you
can do like post-processing on the data
can do like post-processing on the data
can do like post-processing on the data
that is given to this script. So
that is given to this script. So
that is given to this script. So
around the monitoring context maybe pass
around the monitoring context maybe pass
around the monitoring context maybe pass
it towards a observability platform or
it towards a observability platform or
it towards a observability platform or
call a third party service. third
call a third party service. third
call a third party service. third
party service can also be called of
party service can also be called of
party service can also be called of
course through this trigger by web
course through this trigger by web
course through this trigger by web
hook notifications but maybe for some
hook notifications but maybe for some
hook notifications but maybe for some
reason you also need to include like
reason you also need to include like
reason you also need to include like
special API keys or something else that
special API keys or something else that
special API keys or something else that
doesn't completely like is not
doesn't completely like is not
doesn't completely like is not
completely compatible with these web
completely compatible with these web
completely compatible with these web
hook notifications you can use scripts
hook notifications you can use scripts
hook notifications you can use scripts
to have like all that freedom to yeah
to have like all that freedom to yeah
to have like all that freedom to yeah
create your own kind of flow of logic
create your own kind of flow of logic
create your own kind of flow of logic
here. then I set up an actual
here. then I set up an actual
here. then I set up an actual
example. So let's quickly have a look at
example. So let's quickly have a look at
example. So let's quickly have a look at
that example. So if we go to
that example. So if we go to
that example. So if we go to
configuration, you can like copy this
configuration, you can like copy this
configuration, you can like copy this
configuration also in this config here
configuration also in this config here
configuration also in this config here
and try to run it. But in my
and try to run it. But in my
and try to run it. But in my
configuration, I didn't use any filters.
configuration, I didn't use any filters.
configuration, I didn't use any filters.
of course to find the Stellar mainet
of course to find the Stellar mainet
of course to find the Stellar mainet
network. It's the same file as I just
network. It's the same file as I just
network. It's the same file as I just
showed you. And in this case, I created
showed you. And in this case, I created
showed you. And in this case, I created
a telegram bot using the botfather.
a telegram bot using the botfather.
a telegram bot using the botfather.
that's a channel that you can like
that's a channel that you can like
that's a channel that you can like
start a chat with and it will create a
start a chat with and it will create a
start a chat with and it will create a
bot on telegram. Some of you might
bot on telegram. Some of you might
bot on telegram. Some of you might
already be familiar with this and you
already be familiar with this and you
already be familiar with this and you
can you subsequently then get like a bot
can you subsequently then get like a bot
can you subsequently then get like a bot
ID and you can post that one here. ,
ID and you can post that one here. ,
ID and you can post that one here. ,
this is also a unique ID that you need
this is also a unique ID that you need
this is also a unique ID that you need
to post in. And then my monitor is now
to post in. And then my monitor is now
to post in. And then my monitor is now
like able to send out alerts to this
like able to send out alerts to this
like able to send out alerts to this
Telegram channel that I have here. As
Telegram channel that I have here. As
Telegram channel that I have here. As
you can see, I already tested a little
you can see, I already tested a little
you can see, I already tested a little
bit. , but we are going to do it
bit. , but we are going to do it
bit. , but we are going to do it
again. So, if we go to my monitoring
again. So, if we go to my monitoring
again. So, if we go to my monitoring
configuration, I also want to show you
configuration, I also want to show you
configuration, I also want to show you
this. So I'm currently moni moni mon
this. So I'm currently moni moni mon
this. So I'm currently moni moni mon
monitoring for the aqua dex for a
monitoring for the aqua dex for a
monitoring for the aqua dex for a
specific function call called swap
specific function call called swap
specific function call called swap
chain. this function is being called
chain. this function is being called
chain. this function is being called
when I do a swap on the
when I do a swap on the
when I do a swap on the
aquedex and over here I just want to
aquedex and over here I just want to
aquedex and over here I just want to
filter for like all the function calls
filter for like all the function calls
filter for like all the function calls
like with the signature swap chain.
like with the signature swap chain.
like with the signature swap chain.
So every time someone does a swap, I
So every time someone does a swap, I
So every time someone does a swap, I
want to trigger like a telegram
want to trigger like a telegram
want to trigger like a telegram
notification saying that like a swap was
notification saying that like a swap was
notification saying that like a swap was
being done on the yeah Aquedex. This
being done on the yeah Aquedex. This
being done on the yeah Aquedex. This
might not be the most practical
might not be the most practical
might not be the most practical
monitor like as like a real use case,
monitor like as like a real use case,
monitor like as like a real use case,
but just for demoing purposes, I wanted
but just for demoing purposes, I wanted
but just for demoing purposes, I wanted
to show you this. So what you can
to show you this. So what you can
to show you this. So what you can
normally do is run the monitor like this
normally do is run the monitor like this
normally do is run the monitor like this
locally or like to docker compose. Now
locally or like to docker compose. Now
locally or like to docker compose. Now
the docker the monitors up and it's
the docker the monitors up and it's
the docker the monitors up and it's
going to pull in like all these
going to pull in like all these
going to pull in like all these
different blocks. But for this demo
different blocks. But for this demo
different blocks. But for this demo
like purpose I also have another command
like purpose I also have another command
like purpose I also have another command
that I'm currently going to use which
that I'm currently going to use which
that I'm currently going to use which
is this command where you can like
is this command where you can like
is this command where you can like
replay a block and apply the
replay a block and apply the
replay a block and apply the
monitoring logic to that block. So we
monitoring logic to that block. So we
monitoring logic to that block. So we
can see if it actually works. So we
can see if it actually works. So we
can see if it actually works. So we
don't have to wait for actual swap to
don't have to wait for actual swap to
don't have to wait for actual swap to
be done on the Aquedex. So if we
be done on the Aquedex. So if we
be done on the Aquedex. So if we
target this block, I know that this
target this block, I know that this
target this block, I know that this
function to this contract is being
function to this contract is being
function to this contract is being
triggered in this block. And if we
triggered in this block. And if we
triggered in this block. And if we
actually trigger it here, it's going to
actually trigger it here, it's going to
actually trigger it here, it's going to
search through that block, apply this
search through that block, apply this
search through that block, apply this
monitoring monitoring configuration to
monitoring monitoring configuration to
monitoring monitoring configuration to
it. And as we can see, we found one
it. And as we can see, we found one
it. And as we can see, we found one
match. and we also already saw my
match. and we also already saw my
match. and we also already saw my
telegram giving me an alert and over
telegram giving me an alert and over
telegram giving me an alert and over
here you can see that the monitor was
here you can see that the monitor was
here you can see that the monitor was
triggered. So this is yeah this is an
triggered. So this is yeah this is an
triggered. So this is yeah this is an
example of kind of like a monitor that
example of kind of like a monitor that
example of kind of like a monitor that
you can configure. as I already said
you can configure. as I already said
you can configure. as I already said
this might not be the best like real
this might not be the best like real
this might not be the best like real
world use case but you can do a lot of
world use case but you can do a lot of
world use case but you can do a lot of
different things. think about like
different things. think about like
different things. think about like
access control monitors. So if you
access control monitors. So if you
access control monitors. So if you
implement access control within your
implement access control within your
implement access control within your
smart contract, you can check for
smart contract, you can check for
smart contract, you can check for
certain grand ro functions being
certain grand ro functions being
certain grand ro functions being
triggered. For example, if someone is
triggered. For example, if someone is
triggered. For example, if someone is
trying to gain access to certain
trying to gain access to certain
trying to gain access to certain
functions, if like a large mint is
functions, if like a large mint is
functions, if like a large mint is
being done on a token contract or any of
being done on a token contract or any of
being done on a token contract or any of
these use cases, there's like a lot of
these use cases, there's like a lot of
these use cases, there's like a lot of
monitoring us cases that you can set
monitoring us cases that you can set
monitoring us cases that you can set
up to like increase that like
up to like increase that like
up to like increase that like
operational security around your
operational security around your
operational security around your
smart contracts. And one thing that I'm
smart contracts. And one thing that I'm
smart contracts. And one thing that I'm
also really excited about which we are
also really excited about which we are
also really excited about which we are
going to launch in one and a half to u I
going to launch in one and a half to u I
going to launch in one and a half to u I
think one and a half month to two months
think one and a half month to two months
think one and a half month to two months
is also like Soroban support for the
is also like Soroban support for the
is also like Soroban support for the
relayers and the relayers is one of the
relayers and the relayers is one of the
relayers and the relayers is one of the
other tools that we are currently
other tools that we are currently
other tools that we are currently
working on to add Stellar support which
working on to add Stellar support which
working on to add Stellar support which
is a externallyowned account or wallet
is a externallyowned account or wallet
is a externallyowned account or wallet
that is that you can interact with
that is that you can interact with
that is that you can interact with
through like an API or SDK. So what we
through like an API or SDK. So what we
through like an API or SDK. So what we
did over there is we kind of abstracted
did over there is we kind of abstracted
did over there is we kind of abstracted
away all the complex transaction
away all the complex transaction
away all the complex transaction
management. So think about
management. So think about
management. So think about
transaction submissions, resubmissions,
transaction submissions, resubmissions,
transaction submissions, resubmissions,
gas pricing, sequence number handling
gas pricing, sequence number handling
gas pricing, sequence number handling
and all of those and also of course
and all of those and also of course
and all of those and also of course
like secure key storage. So we also
like secure key storage. So we also
like secure key storage. So we also
securely store those keys in a fault.
securely store those keys in a fault.
securely store those keys in a fault.
And with the open- source relayers, you
And with the open- source relayers, you
And with the open- source relayers, you
are now able to actually like self-host
are now able to actually like self-host
are now able to actually like self-host
these relayers. So have total control
these relayers. So have total control
these relayers. So have total control
over the these relays and then be able
over the these relays and then be able
over the these relays and then be able
to like really easy through like SDK or
to like really easy through like SDK or
to like really easy through like SDK or
API interface interact with these
API interface interact with these
API interface interact with these
relayers and easily submit transactions
relayers and easily submit transactions
relayers and easily submit transactions
in yeah in a simplified way. And what
in yeah in a simplified way. And what
in yeah in a simplified way. And what
you can then do with like the monitors
you can then do with like the monitors
you can then do with like the monitors
and relayers is you can actually use for
and relayers is you can actually use for
and relayers is you can actually use for
example the custom scripts that I talked
example the custom scripts that I talked
example the custom scripts that I talked
about over here in the examples to
about over here in the examples to
about over here in the examples to
like get that monitoring context. And if
like get that monitoring context. And if
like get that monitoring context. And if
we for example let's say take the use
we for example let's say take the use
we for example let's say take the use
case of a stable coin contract where
case of a stable coin contract where
case of a stable coin contract where
a large mint happens and we see that the
a large mint happens and we see that the
a large mint happens and we see that the
mint actually is not from an address
mint actually is not from an address
mint actually is not from an address
that would usually do the mint. So
that would usually do the mint. So
that would usually do the mint. So
someone might have gained some kind
someone might have gained some kind
someone might have gained some kind
of like unauthorized access. What we
of like unauthorized access. What we
of like unauthorized access. What we
then subsequently can do is trigger
then subsequently can do is trigger
then subsequently can do is trigger
like a custom script that calls the
like a custom script that calls the
like a custom script that calls the
relayer that subsequently like executes
relayer that subsequently like executes
relayer that subsequently like executes
for example a pass function within the
for example a pass function within the
for example a pass function within the
stablecoin contract to yeah make sure
stablecoin contract to yeah make sure
stablecoin contract to yeah make sure
that we limit the damage that can be
that we limit the damage that can be
that we limit the damage that can be
done to the stable coin contract. so
done to the stable coin contract. so
done to the stable coin contract. so
incident response we would call it is
incident response we would call it is
incident response we would call it is
like one major use case and of course
like one major use case and of course
like one major use case and of course
there are like smaller use cases that
there are like smaller use cases that
there are like smaller use cases that
you can set up within this category but
you can set up within this category but
you can set up within this category but
there's also like a lot of like more
there's also like a lot of like more
there's also like a lot of like more
generic automation that is possible. So
generic automation that is possible. So
generic automation that is possible. So
let's say another example is that if you
let's say another example is that if you
let's say another example is that if you
run a D5 project or like a trading
run a D5 project or like a trading
run a D5 project or like a trading
company what you can also do is look in
company what you can also do is look in
company what you can also do is look in
different types of like DeFi
different types of like DeFi
different types of like DeFi
protocols if certain thresholds are
protocols if certain thresholds are
protocols if certain thresholds are
being met and you can then subsequently
being met and you can then subsequently
being met and you can then subsequently
also use the relay relayers to for
also use the relay relayers to for
also use the relay relayers to for
example rebalance or liquidate certain
example rebalance or liquidate certain
example rebalance or liquidate certain
positions within certain pools. So
positions within certain pools. So
positions within certain pools. So
this is kind of also the type of
this is kind of also the type of
this is kind of also the type of
automation that is then possible and it
automation that is then possible and it
automation that is then possible and it
kind of easily kind of integrates
kind of easily kind of integrates
kind of easily kind of integrates
together using these custom scripts.
together using these custom scripts.
together using these custom scripts.
So which you can of course trigger
So which you can of course trigger
So which you can of course trigger
from your monitoring configuration
from your monitoring configuration
from your monitoring configuration
as I showed you here. So yeah, that's
as I showed you here. So yeah, that's
as I showed you here. So yeah, that's
an high level overview of the the
an high level overview of the the
an high level overview of the the
monitors and yeah I think yeah I give
monitors and yeah I think yeah I give
monitors and yeah I think yeah I give
you gave you all the context that I
you gave you all the context that I
you gave you all the context that I
wanted to give you today. So if anyone
wanted to give you today. So if anyone
wanted to give you today. So if anyone
has any questions feel free to ask
has any questions feel free to ask
has any questions feel free to ask
and actually I want to also quickly show
and actually I want to also quickly show
and actually I want to also quickly show
you you can also find the docs over
you you can also find the docs over
you you can also find the docs over
here. So if you go to
here. So if you go to
here. So if you go to
docs.opuseppappelin.com
docs.opuseppappelin.com
docs.opuseppappelin.com
open.com. , you have a tab over here
open.com. , you have a tab over here
open.com. , you have a tab over here
which says open source tools and over
which says open source tools and over
which says open source tools and over
here in the relayers there's no not yet
here in the relayers there's no not yet
here in the relayers there's no not yet
 Stellar support coming soon but in the
 Stellar support coming soon but in the
 Stellar support coming soon but in the
open zeppeline monitors we also give
open zeppeline monitors we also give
open zeppeline monitors we also give
like a really easy quick start that you
like a really easy quick start that you
like a really easy quick start that you
can like follow with the first few
can like follow with the first few
can like follow with the first few
comm commands that I didn't go through
comm commands that I didn't go through
comm commands that I didn't go through
here and then how to set it up for
here and then how to set it up for
here and then how to set it up for
Stellar. So it's it's like pretty
Stellar. So it's it's like pretty
Stellar. So it's it's like pretty
easy to set up and if you guys have
easy to set up and if you guys have
easy to set up and if you guys have
any questions around this feel also
any questions around this feel also
any questions around this feel also
feel free to ask we have like a
feel free to ask we have like a
feel free to ask we have like a
community channel now also on discord
community channel now also on discord
community channel now also on discord
OpenZeppelin
OpenZeppelin
OpenZeppelin
um_tg so also feel feel free to join
um_tg so also feel feel free to join
um_tg so also feel feel free to join
that channel and ask any questions and
that channel and ask any questions and
that channel and ask any questions and
of course we are here now also to answer
of course we are here now also to answer
of course we are here now also to answer
some questions so yeah great is super
some questions so yeah great is super
some questions so yeah great is super
interesting so I can start monitoring my
interesting so I can start monitoring my
interesting so I can start monitoring my
smart contracts without setting anything
smart contracts without setting anything
smart contracts without setting anything
up in my smart contracts is all all the
up in my smart contracts is all all the
up in my smart contracts is all all the
configuration is done in the config
configuration is done in the config
configuration is done in the config
files you're showing. Yeah, exactly.
files you're showing. Yeah, exactly.
files you're showing. Yeah, exactly.
Everything is done just in those like
Everything is done just in those like
Everything is done just in those like
four configuration files and of course
four configuration files and of course
four configuration files and of course
you can make them more complex. I gave
you can make them more complex. I gave
you can make them more complex. I gave
some simple examples but you don't have
some simple examples but you don't have
some simple examples but you don't have
to implement anything within your
to implement anything within your
to implement anything within your
contracts. So if it just has these
contracts. So if it just has these
contracts. So if it just has these
function signatures, you can like import
function signatures, you can like import
function signatures, you can like import
like the contract spec define the
like the contract spec define the
like the contract spec define the
function signature that you want to
function signature that you want to
function signature that you want to
monitor for or the event signature and u
monitor for or the event signature and u
monitor for or the event signature and u
yeah you can just like spin them up and
yeah you can just like spin them up and
yeah you can just like spin them up and
as you can see I don't know the Aqua
as you can see I don't know the Aqua
as you can see I don't know the Aqua
DEX team but I can like monitor
DEX team but I can like monitor
DEX team but I can like monitor
their contracts just by like setting
their contracts just by like setting
their contracts just by like setting
up this monitoring configuration. So
up this monitoring configuration. So
up this monitoring configuration. So
great. Actually had a question earlier
great. Actually had a question earlier
great. Actually had a question earlier
says how how does the replay how does
says how how does the replay how does
says how how does the replay how does
it replay a block? Does the block have
it replay a block? Does the block have
it replay a block? Does the block have
to be within the retention where of the
to be within the retention where of the
to be within the retention where of the
RPC?
RPC?
RPC?
there might be a limit to this. I I'm
there might be a limit to this. I I'm
there might be a limit to this. I I'm
actually not 100% sure on kind of the
actually not 100% sure on kind of the
actually not 100% sure on kind of the
limit of the RPC, how deep we actually
limit of the RPC, how deep we actually
limit of the RPC, how deep we actually
can go into the blocks. So, I would
can go into the blocks. So, I would
can go into the blocks. So, I would
say you might have to sometimes like do
say you might have to sometimes like do
say you might have to sometimes like do
another test transaction to like h being
another test transaction to like h being
another test transaction to like h being
able to use that command command again.
able to use that command command again.
able to use that command command again.
But yeah, you guys probably know it
But yeah, you guys probably know it
But yeah, you guys probably know it
better than me what the actual limits on
better than me what the actual limits on
better than me what the actual limits on
the RPC are here in terms of like the
the RPC are here in terms of like the
the RPC are here in terms of like the
depth that you can go to replay.
depth that you can go to replay.
depth that you can go to replay.
I'm not see the RPC has a 7-day
I'm not see the RPC has a 7-day
I'm not see the RPC has a 7-day
retention.
retention.
retention.
Okay.
Okay.
Okay.
Okay, great. Any other question? Any
Okay, great. Any other question? Any
Okay, great. Any other question? Any
questions
questions
questions
from anyone
from anyone
from anyone
who's listening in
here? Okay. It doesn't look like it, but
here? Okay. It doesn't look like it, but
I think I think it was great you
I think I think it was great you
I think I think it was great you
mentioned that you have a community. So,
mentioned that you have a community. So,
mentioned that you have a community. So,
anyone who's who's interested in in
anyone who's who's interested in in
anyone who's who's interested in in
trying this out and maybe set it up for
trying this out and maybe set it up for
trying this out and maybe set it up for
for their project, if if you have any
for their project, if if you have any
for their project, if if you have any
questions, any help is needed. It sounds
questions, any help is needed. It sounds
questions, any help is needed. It sounds
like the community is a is a good place
like the community is a is a good place
like the community is a is a good place
to go and you already have examples
to go and you already have examples
to go and you already have examples
of how to set it up and and and the
of how to set it up and and and the
of how to set it up and and and the
repo. Yeah, feel free to ask and also
repo. Yeah, feel free to ask and also
repo. Yeah, feel free to ask and also
around like potential use cases. It's
around like potential use cases. It's
around like potential use cases. It's
also maybe an interesting discussion if
also maybe an interesting discussion if
also maybe an interesting discussion if
you just start with monitors you might
you just start with monitors you might
you just start with monitors you might
also think okay what do I actually
also think okay what do I actually
also think okay what do I actually
want to set up here like what can be
want to set up here like what can be
want to set up here like what can be
valuable for us. So if anyone wants
valuable for us. So if anyone wants
valuable for us. So if anyone wants
to have discussions around that also
to have discussions around that also
to have discussions around that also
feel free to join and we can give you
feel free to join and we can give you
feel free to join and we can give you
some examples around like the use
some examples around like the use
some examples around like the use
cases that we see a lot around people
cases that we see a lot around people
cases that we see a lot around people
using the monitors.
using the monitors.
using the monitors.
Okay, we just got one more question
Okay, we just got one more question
Okay, we just got one more question
here. , for the confirmation block on
here. , for the confirmation block on
here. , for the confirmation block on
the config, what should we set it to? Is
the config, what should we set it to? Is
the config, what should we set it to? Is
it for waiting for finality?
it for waiting for finality?
it for waiting for finality?
Yeah. So,
Yeah. So,
Yeah. So,
, we just like set it to two, but I
, we just like set it to two, but I
, we just like set it to two, but I
have to ask actually one of the
have to ask actually one of the
have to ask actually one of the
developers if there's like a perfect
developers if there's like a perfect
developers if there's like a perfect
number that we should set it to. I'm not
number that we should set it to. I'm not
number that we should set it to. I'm not
100% sure if there's like kind of a
100% sure if there's like kind of a
100% sure if there's like kind of a
number that really works well. So, I
number that really works well. So, I
number that really works well. So, I
have to I have to ask our engineering
have to I have to ask our engineering
have to I have to ask our engineering
team. Okay, great. But yeah, thank you
team. Okay, great. But yeah, thank you
team. Okay, great. But yeah, thank you
for for joining. it's super
for for joining. it's super
for for joining. it's super
interesting. I think I'll go ahead and
interesting. I think I'll go ahead and
interesting. I think I'll go ahead and
and play with it myself. I love these
and play with it myself. I love these
and play with it myself. I love these
kind of solutions that are really easy
kind of solutions that are really easy
kind of solutions that are really easy
to set up and gives a lot of different
to set up and gives a lot of different
to set up and gives a lot of different
ways to to notify me. because I can
ways to to notify me. because I can
ways to to notify me. because I can
see that some some things I want to
see that some some things I want to
see that some some things I want to
monitor is more urgent than others. Some
monitor is more urgent than others. Some
monitor is more urgent than others. Some
things I probably would like to get
things I probably would like to get
things I probably would like to get
like a Telegram or Slack message about
like a Telegram or Slack message about
like a Telegram or Slack message about
and others maybe I just want to store
and others maybe I just want to store
and others maybe I just want to store
that. Maybe I just want to have
that. Maybe I just want to have
that. Maybe I just want to have
have some some way to to capture that
have some some way to to capture that
have some some way to to capture that
and look at it whenever whenever I feel
and look at it whenever whenever I feel
and look at it whenever whenever I feel
like. So, I like the I like the all the
like. So, I like the I like the all the
like. So, I like the I like the all the
different options that you provide to
different options that you provide to
different options that you provide to
get notifications because it's not
get notifications because it's not
get notifications because it's not
everything I want to be alerted about.
everything I want to be alerted about.
everything I want to be alerted about.
Some things I just would like to see
Some things I just would like to see
Some things I just would like to see
what what happened. But but but yeah,
what what happened. But but but yeah,
what what happened. But but but yeah,
for sure some things need my
for sure some things need my
for sure some things need my
attention right away. Just one question.
attention right away. Just one question.
attention right away. Just one question.
I think you kind of mentioned it also
I think you kind of mentioned it also
I think you kind of mentioned it also
with the relays, but is there any way to
with the relays, but is there any way to
with the relays, but is there any way to
invoke a smart contract if if something
invoke a smart contract if if something
invoke a smart contract if if something
is happening? let's say some things I
is happening? let's say some things I
is happening? let's say some things I
think you mentioned it a little bit like
think you mentioned it a little bit like
think you mentioned it a little bit like
let's say something is going on that I
let's say something is going on that I
let's say something is going on that I
that that is triggering an event and I
that that is triggering an event and I
that that is triggering an event and I
maybe want to pause something if this
maybe want to pause something if this
maybe want to pause something if this
event happens is is there any way to do
event happens is is there any way to do
event happens is is there any way to do
that? Yeah. So that's where the
that? Yeah. So that's where the
that? Yeah. So that's where the
relayers come in. The relayers give you
relayers come in. The relayers give you
relayers come in. The relayers give you
kind of like the tool to actually like
kind of like the tool to actually like
kind of like the tool to actually like
then pass this token contract. So in
then pass this token contract. So in
then pass this token contract. So in
itself the monitors are not able to
itself the monitors are not able to
itself the monitors are not able to
do like onchain transactions but that's
do like onchain transactions but that's
do like onchain transactions but that's
kind of where the relayer component
kind of where the relayer component
kind of where the relayer component
comes in. So you would be able to define
comes in. So you would be able to define
comes in. So you would be able to define
the custom script that I talked about
the custom script that I talked about
the custom script that I talked about
where you include a relayer and then
where you include a relayer and then
where you include a relayer and then
like call the relayer to do a onchain
like call the relayer to do a onchain
like call the relayer to do a onchain
transaction for example a pass function
transaction for example a pass function
transaction for example a pass function
call within a contract. So I think
call within a contract. So I think
call within a contract. So I think
like end of Q2 so one and a half month
like end of Q2 so one and a half month
like end of Q2 so one and a half month
we will have Soroban support. Great.
we will have Soroban support. Great.
we will have Soroban support. Great.
I think we should do another session
I think we should do another session
I think we should do another session
when when the wheel is is is ready. Yeah
when when the wheel is is is ready. Yeah
when when the wheel is is is ready. Yeah
sounds good. Thank you for joining today
sounds good. Thank you for joining today
sounds good. Thank you for joining today
and thank you for everyone who who
and thank you for everyone who who
and thank you for everyone who who
joined the call here. We'll see you next
joined the call here. We'll see you next
joined the call here. We'll see you next
week. Yeah, thanks thanks everyone for
week. Yeah, thanks thanks everyone for
week. Yeah, thanks thanks everyone for
listening in. Bye bye.
