Hello and welcome everyone to this
Hello and welcome everyone to this
week's Stellar Developer Meeting. With me
week's Stellar Developer Meeting. With me
week's Stellar Developer Meeting. With me
today I have two guests that have been
today I have two guests that have been
today I have two guests that have been
around here before from Open Seelin.
around here before from Open Seelin.
around here before from Open Seelin.
And what we're going to do today is
And what we're going to do today is
And what we're going to do today is
we're going to take a look at what has
we're going to take a look at what has
we're going to take a look at what has
been added to the Open Seelin tool chain
been added to the Open Seelin tool chain
been added to the Open Seelin tool chain
and and the libraries that are
and and the libraries that are
and and the libraries that are
supporting Stellar for the last
supporting Stellar for the last
supporting Stellar for the last
quarter. So I'm super excited. I know
quarter. So I'm super excited. I know
quarter. So I'm super excited. I know
we're going to start we're going to talk
we're going to start we're going to talk
we're going to start we're going to talk
about smart contracts. We're going to
about smart contracts. We're going to
about smart contracts. We're going to
talk about RWAS. We're going to talk
talk about RWAS. We're going to talk
talk about RWAS. We're going to talk
about WAS. So, so yeah, please
about WAS. So, so yeah, please
about WAS. So, so yeah, please
introduce yourself and let's get
introduce yourself and let's get
introduce yourself and let's get
started.
 Yeah. Hello everyone. It's really a
 Yeah. Hello everyone. It's really a
pleasure to be to participate again
pleasure to be to participate again
pleasure to be to participate again
at the Stellar Developer Meeting. my
at the Stellar Developer Meeting. my
at the Stellar Developer Meeting. my
name is Buan. I'm open source developer
name is Buan. I'm open source developer
name is Buan. I'm open source developer
at at OpenZeppelin. , and I'm
at at OpenZeppelin. , and I'm
at at OpenZeppelin. , and I'm
building the Stellar contracts library.
building the Stellar contracts library.
building the Stellar contracts library.
 Hi everyone, it's Ugun here. ,
 Hi everyone, it's Ugun here. ,
 Hi everyone, it's Ugun here. ,
pleasure to be here. Good to be here.
pleasure to be here. Good to be here.
pleasure to be here. Good to be here.
And I am also an open source developer
And I am also an open source developer
And I am also an open source developer
at OpenZeppelin. We are a team with
at OpenZeppelin. We are a team with
at OpenZeppelin. We are a team with
Voyan trying to bring trying to
Voyan trying to bring trying to
Voyan trying to bring trying to
improve the smart contract ecosystem for
improve the smart contract ecosystem for
improve the smart contract ecosystem for
Stellar Sorovan.
Stellar Sorovan.
Stellar Sorovan.
 Great. Thank you. So we've done quite a
 Great. Thank you. So we've done quite a
 Great. Thank you. So we've done quite a
few hackathons this year and it's
few hackathons this year and it's
few hackathons this year and it's
really great to see that some of the
really great to see that some of the
really great to see that some of the
developers they're starting to use open
developers they're starting to use open
developers they're starting to use open
sin software and the the libraries
sin software and the the libraries
sin software and the the libraries
and the tooling. and I think what
and the tooling. and I think what
and the tooling. and I think what
what you're going to show today is going
what you're going to show today is going
what you're going to show today is going
to be really interesting for a lot of
to be really interesting for a lot of
to be really interesting for a lot of
developers. So if you have a
developers. So if you have a
developers. So if you have a
presentation you can share.
Yeah, there it is. Sorry. Sorry about
Yeah, there it is. Sorry. Sorry about
that. , yeah. So
that. , yeah. So
that. , yeah. So
I'm going to present to you today the
I'm going to present to you today the
I'm going to present to you today the
[clears throat]
[clears throat]
[clears throat]
smart account framework that we
smart account framework that we
smart account framework that we
created with released with the
created with released with the
created with released with the
latest u latest release of of our
latest u latest release of of our
latest u latest release of of our
library.
library.
library.
just to to mention that yeah
just to to mention that yeah
just to to mention that yeah
already a month ago when with some of
already a month ago when with some of
already a month ago when with some of
you we met at at Meridian in in
you we met at at Meridian in in
you we met at at Meridian in in
Rio. how excited I was and I I
Rio. how excited I was and I I
Rio. how excited I was and I I
guess it was the case for everyone to
guess it was the case for everyone to
guess it was the case for everyone to
use pass keys to have all this
use pass keys to have all this
use pass keys to have all this
like wallet experience abstracted into
like wallet experience abstracted into
like wallet experience abstracted into
into into smart account. So our
into into smart account. So our
into into smart account. So our
ambition is to make this the new normal
ambition is to make this the new normal
ambition is to make this the new normal
for Stellar. So yeah we are building
for Stellar. So yeah we are building
for Stellar. So yeah we are building
this framework u with with that in
this framework u with with that in
this framework u with with that in
mind. So without further ado yeah
mind. So without further ado yeah
mind. So without further ado yeah
let's dive in. first
let's dive in. first
let's dive in. first
a point about naming and why we chose
a point about naming and why we chose
a point about naming and why we chose
smart account and not smart wallet.
smart account and not smart wallet.
smart account and not smart wallet.
first [clears throat] the storebone
first [clears throat] the storebone
first [clears throat] the storebone
SDK defines custom account and custom
SDK defines custom account and custom
SDK defines custom account and custom
account interface and our design builds
account interface and our design builds
account interface and our design builds
on top of it. So that's why we we
on top of it. So that's why we we
on top of it. So that's why we we
decided to to choose smart account as
decided to to choose smart account as
decided to to choose smart account as
a as a naming and yeah smart account
a as a naming and yeah smart account
a as a naming and yeah smart account
must implement this interface.
must implement this interface.
must implement this interface.
then why smart accounts are
then why smart accounts are
then why smart accounts are
necessary? let's just explore a very
necessary? let's just explore a very
necessary? let's just explore a very
simple scenario.
simple scenario.
simple scenario.



where a smart account that holds
where a smart account that holds
where a smart account that holds
some funible tokens
some funible tokens
some funible tokens
and the owner of the contract wants
and the owner of the contract wants
and the owner of the contract wants
to transfer some amount and that's why
to transfer some amount and that's why
to transfer some amount and that's why
they need to call a function on the USDC
they need to call a function on the USDC
they need to call a function on the USDC
contract. In this case,
contract. In this case,
contract. In this case,
they will make use of a cryptographic
they will make use of a cryptographic
they will make use of a cryptographic
key that is registered at this smart
key that is registered at this smart
key that is registered at this smart
account to authorize the the
account to authorize the the
account to authorize the the
operation.
operation.
operation.
And by looking from this perspective, we
And by looking from this perspective, we
And by looking from this perspective, we
the perspective of account abraction,
the perspective of account abraction,
the perspective of account abraction,
we we are establishing a boundary
we we are establishing a boundary
we we are establishing a boundary
between the account that holds the sets
between the account that holds the sets
between the account that holds the sets
and the keys that that control them.
and the keys that that control them.
and the keys that that control them.
now let's try to define what a smart
now let's try to define what a smart
now let's try to define what a smart
account is. So let's this is a smart
account is. So let's this is a smart
account is. So let's this is a smart
contract first and foremost that
contract first and foremost that
contract first and foremost that
composes authorization intents that are
composes authorization intents that are
composes authorization intents that are
coming from multiple sources and this
coming from multiple sources and this
coming from multiple sources and this
high level definition will guide us
high level definition will guide us
high level definition will guide us
through the the the all the com the all
through the the the all the com the all
through the the the all the com the all
the components of our framework.
the components of our framework.
the components of our framework.
with this in mind, let's first see
with this in mind, let's first see
with this in mind, let's first see
what are what the authorization sources
what are what the authorization sources
what are what the authorization sources
could be. as in the previous example,
could be. as in the previous example,
could be. as in the previous example,
an authorization source could be a
an authorization source could be a
an authorization source could be a
cryptographic key or there could be
cryptographic key or there could be
cryptographic key or there could be
multiple cryptographic keys for the
multiple cryptographic keys for the
multiple cryptographic keys for the
same smart account or it could be a G
same smart account or it could be a G
same smart account or it could be a G
account that authorizes on behalf of
account that authorizes on behalf of
account that authorizes on behalf of
of the smart account or it could be any
of the smart account or it could be any
of the smart account or it could be any
combination of of these cryptographic
combination of of these cryptographic
combination of of these cryptographic
keys, G accounts or other smart accounts
keys, G accounts or other smart accounts
keys, G accounts or other smart accounts
and smart contracts.
and smart contracts.
and smart contracts.
the next part of the definition
the next part of the definition
the next part of the definition
talked about authorization intents.
talked about authorization intents.
talked about authorization intents.
what are and yeah we will see what are
what are and yeah we will see what are
what are and yeah we will see what are
the core elements of of the
the core elements of of the
the core elements of of the
authorization intent.
authorization intent.
authorization intent.
we can examine this by answering
we can examine this by answering
we can examine this by answering
these three questions. We can define who
these three questions. We can define who
these three questions. We can define who
is allowed to act what are they
is allowed to act what are they
is allowed to act what are they
allowed to do and how those permissions
allowed to do and how those permissions
allowed to do and how those permissions
are enforced.
are enforced.
are enforced.
who is allowed to act? This might be
who is allowed to act? This might be
who is allowed to act? This might be
already clear. those could be some
already clear. those could be some
already clear. those could be some
keys from different cryptographic
keys from different cryptographic
keys from different cryptographic
curves also G accounts C accounts.
curves also G accounts C accounts.
curves also G accounts C accounts.
what are they allowed to do? Well,
what are they allowed to do? Well,
what are they allowed to do? Well,
here this can be literally any kind of
here this can be literally any kind of
here this can be literally any kind of
action either a specific function on
action either a specific function on
action either a specific function on
a specific contract or just transfer
a specific contract or just transfer
a specific contract or just transfer
the transfer function on any SCP 41
the transfer function on any SCP 41
the transfer function on any SCP 41
compatible contract deploy deployments
compatible contract deploy deployments
compatible contract deploy deployments
as well. So yeah, any kind of action
as well. So yeah, any kind of action
as well. So yeah, any kind of action
how is this enforced also many
how is this enforced also many
how is this enforced also many
different combinations are possible. It
different combinations are possible. It
different combinations are possible. It
could be key one and key2. Key1 or key2
could be key one and key2. Key1 or key2
could be key one and key2. Key1 or key2
key1 and some other conditions that are
key1 and some other conditions that are
key1 and some other conditions that are
not derived from the from a
not derived from the from a
not derived from the from a
cryptographic scheme
cryptographic scheme
cryptographic scheme
and to give names to those groups. Who
and to give names to those groups. Who
and to give names to those groups. Who
is for signers? What is the scope and
is for signers? What is the scope and
is for signers? What is the scope and
how how is for the policies?
how how is for the policies?
how how is for the policies?
how do we compose those elements?
how do we compose those elements?
how do we compose those elements?
So we have signers scope and policies
So we have signers scope and policies
So we have signers scope and policies
and we embed them in the entity called
and we embed them in the entity called
and we embed them in the entity called
context rule. here you see that
context rule. here you see that
context rule. here you see that
besides the signer scope and the
besides the signer scope and the
besides the signer scope and the
policies we also have the the notion of
policies we also have the the notion of
policies we also have the the notion of
validity.
validity.
validity.
context rules function like
context rules function like
context rules function like
routing table for authorizations for
routing table for authorizations for
routing table for authorizations for
every context. they they specify the
every context. they they specify the
every context. they they specify the
scope and the conditions that must be
scope and the conditions that must be
scope and the conditions that must be
met before the authorization is
met before the authorization is
met before the authorization is
granted and yeah we'll see how this
granted and yeah we'll see how this
granted and yeah we'll see how this
this goes very shortly. So a a smart
this goes very shortly. So a a smart
this goes very shortly. So a a smart
account is stores a set of those context
account is stores a set of those context
account is stores a set of those context
rules and up to 15 rules per we can
rules and up to 15 rules per we can
rules and up to 15 rules per we can
have up to 15 rules per smart account.
have up to 15 rules per smart account.
have up to 15 rules per smart account.
We added this limit to ensure there a
We added this limit to ensure there a
We added this limit to ensure there a
reasonable resource consump consumption
reasonable resource consump consumption
reasonable resource consump consumption
and to encourage proactive management.
and to encourage proactive management.
and to encourage proactive management.
For example, to encourage you to remove
For example, to encourage you to remove
For example, to encourage you to remove
the expired or unused rules.
the expired or unused rules.
the expired or unused rules.
And coming back to this authorization
And coming back to this authorization
And coming back to this authorization
mechanism or algorithm, actually it's
mechanism or algorithm, actually it's
mechanism or algorithm, actually it's
pretty simple.
pretty simple.
pretty simple.
when the authorization from a smart
when the authorization from a smart
when the authorization from a smart
account is required first we we
account is required first we we
account is required first we we
gather and order all non-expired rules
gather and order all non-expired rules
gather and order all non-expired rules
and then we evaluate them starting from
and then we evaluate them starting from
and then we evaluate them starting from
the last addit last last addit one
the last addit last last addit one
the last addit last last addit one
now let's zoom into signers
now let's zoom into signers
now let's zoom into signers
we have two types of signers
we have two types of signers
we have two types of signers
delegated and external
delegated and external
delegated and external
a delegated signer can be any Soroban
a delegated signer can be any Soroban
a delegated signer can be any Soroban
address, G account or C account. And
address, G account or C account. And
address, G account or C account. And
on the right we group all
on the right we group all
on the right we group all
cryptographic types of schemes or
cryptographic types of schemes or
cryptographic types of schemes or
keys in in the external variant. And
keys in in the external variant. And
keys in in the external variant. And
we'll see just in a second why we
we'll see just in a second why we
we'll see just in a second why we
call it external.
call it external.
call it external.
But first how the delegated signer
But first how the delegated signer
But first how the delegated signer
grants an authorization. Codewise
grants an authorization. Codewise
grants an authorization. Codewise
it's very simple. we use the built-in
it's very simple. we use the built-in
it's very simple. we use the built-in
require out for arcs function and
require out for arcs function and
require out for arcs function and
however there is a catch I of how
however there is a catch I of how
however there is a catch I of how
we are actually constructing this
we are actually constructing this
we are actually constructing this
this transaction
this transaction
this transaction
I won't go
I won't go
I won't go
I won't dive into this sketch I
I won't dive into this sketch I
I won't dive into this sketch I
it's like you can find more
it's like you can find more
it's like you can find more
information about it in the
information about it in the
information about it in the
documentation and there are some code
documentation and there are some code
documentation and there are some code
snippets explaining how to to get
snippets explaining how to to get
snippets explaining how to to get
over it. just mentioning it and
over it. just mentioning it and
over it. just mentioning it and
that the cap 71 that hopefully gets
that the cap 71 that hopefully gets
that the cap 71 that hopefully gets
included in some of the future
included in some of the future
included in some of the future
protocol updates will resolve these
protocol updates will resolve these
protocol updates will resolve these
issues. So yeah very soon I hope
issues. So yeah very soon I hope
issues. So yeah very soon I hope
it will be a u no issue.
it will be a u no issue.
it will be a u no issue.
the second signer type is the
the second signer type is the
the second signer type is the
external one for authorizations coming
external one for authorizations coming
external one for authorizations coming
from cryptographic keys.
from cryptographic keys.
from cryptographic keys.
But before we look into into that,
But before we look into into that,
But before we look into into that,
I'm here providing a list of the curves
I'm here providing a list of the curves
I'm here providing a list of the curves
on Stellar
on Stellar
on Stellar
there the already available ones
there the already available ones
there the already available ones
that are supported and BN 256 that might
that are supported and BN 256 that might
that are supported and BN 256 that might
get added with protocol 25.
get added with protocol 25.
get added with protocol 25.
and yeah, I guess there there
and yeah, I guess there there
and yeah, I guess there there
could be many more in the future. and
could be many more in the future. and
could be many more in the future. and
you remember the structure of of the
you remember the structure of of the
you remember the structure of of the
external serer
external serer
external serer
like to go back it's a tle of address
like to go back it's a tle of address
like to go back it's a tle of address
and by and byes
and by and byes
and by and byes
we could have defined its structure like
we could have defined its structure like
we could have defined its structure like
this by enumerating all available curves
this by enumerating all available curves
this by enumerating all available curves
and the [snorts] bytes that should be
and the [snorts] bytes that should be
and the [snorts] bytes that should be
interpreted according to the to the
interpreted according to the to the
interpreted according to the to the
curve type. But you you would agree that
curve type. But you you would agree that
curve type. But you you would agree that
this approach is not very scalable
this approach is not very scalable
this approach is not very scalable
because on every new curve that is added
because on every new curve that is added
because on every new curve that is added
you have to upgrade your account if
you have to upgrade your account if
you have to upgrade your account if
it supports it and this is not practical
it supports it and this is not practical
it supports it and this is not practical
at all. another drawback of embedding
at all. another drawback of embedding
at all. another drawback of embedding
signature verification into the smart
signature verification into the smart
signature verification into the smart
account is that it binary size will grow
account is that it binary size will grow
account is that it binary size will grow
and the code complexity will increase as
and the code complexity will increase as
and the code complexity will increase as
well. For example, the ED the classical
well. For example, the ED the classical
well. For example, the ED the classical
ED 25
ED 25
ED 25
119 like it's just one liner but pass
119 like it's just one liner but pass
119 like it's just one liner but pass
key verification for example is pretty
key verification for example is pretty
key verification for example is pretty
much is more evolved and requires more
much is more evolved and requires more
much is more evolved and requires more
like more code simply
like more code simply
like more code simply
this pushed us to adopt a way more
this pushed us to adopt a way more
this pushed us to adopt a way more
flexible and scalable approach that is
flexible and scalable approach that is
flexible and scalable approach that is
outsourcing and externalizing all type
outsourcing and externalizing all type
outsourcing and externalizing all type
of signature verifications.
of signature verifications.
of signature verifications.
So we have a verifier contract
So we have a verifier contract
So we have a verifier contract
that stands for this address and the
that stands for this address and the
that stands for this address and the
public key that is the the bytes.
public key that is the the bytes.
public key that is the the bytes.
this verifier contract is a special
this verifier contract is a special
this verifier contract is a special
one. It is deployed only once per curve
one. It is deployed only once per curve
one. It is deployed only once per curve
type or scheme and should be immutable.
type or scheme and should be immutable.
type or scheme and should be immutable.
it's it shouldn't keep any state and
it's it shouldn't keep any state and
it's it shouldn't keep any state and
in such way a single verifier contract
in such way a single verifier contract
in such way a single verifier contract
can validate signature signatures for
can validate signature signatures for
can validate signature signatures for
any any number of keys.
any any number of keys.
any any number of keys.
and yeah this was made possible
and yeah this was made possible
and yeah this was made possible
thanks to protocol 23 and that
thanks to protocol 23 and that
thanks to protocol 23 and that
made the the cross contract calls
made the the cross contract calls
made the the cross contract calls
really cheap.
really cheap.
really cheap.
Now let's look into policies.
Now let's look into policies.
Now let's look into policies.
So we have here
So we have here
So we have here



one context rule with the scope, the
one context rule with the scope, the
one context rule with the scope, the
signers and the policies. Let's say we
signers and the policies. Let's say we
signers and the policies. Let's say we
have three signers, two cryptographic
have three signers, two cryptographic
have three signers, two cryptographic
keys and one G account. And actually the
keys and one G account. And actually the
keys and one G account. And actually the
policies
policies
policies
they they modify they customize the
they they modify they customize the
they they modify they customize the
how signers behave. Here in this case
how signers behave. Here in this case
how signers behave. Here in this case
we require any two of those three
we require any two of those three
we require any two of those three
signers to sign to sign so that the
signers to sign to sign so that the
signers to sign to sign so that the
authorization
authorization
authorization
passes it's the policies also can modify
passes it's the policies also can modify
passes it's the policies also can modify
some other aspects of of the flow
some other aspects of of the flow
some other aspects of of the flow
here. In this case, we want those
here. In this case, we want those
here. In this case, we want those
rule to be enforced only for once per
rule to be enforced only for once per
rule to be enforced only for once per
month.
month.
month.
so that like you can for example pay for
so that like you can for example pay for
so that like you can for example pay for
a subscription.
a subscription.
a subscription.
So policies are external contracts as
So policies are external contracts as
So policies are external contracts as
like verifiers.
like verifiers.
like verifiers.
the verifiers are external. So
the verifiers are external. So
the verifiers are external. So
policies are also external contracts.
policies are also external contracts.
policies are also external contracts.
Policies can be stateful or stateless
Policies can be stateful or stateless
Policies can be stateful or stateless
meaning they can map some state
meaning they can map some state
meaning they can map some state
for a specific account and context
for a specific account and context
for a specific account and context
rule. They can be shared across many
rule. They can be shared across many
rule. They can be shared across many
different accounts or can be tied
different accounts or can be tied
different accounts or can be tied
just for a specific smart account.
just for a specific smart account.
just for a specific smart account.
And the other aspect is that they have a
And the other aspect is that they have a
And the other aspect is that they have a
four stage life cycle.
four stage life cycle.
four stage life cycle.
which is visible from the interface that
which is visible from the interface that
which is visible from the interface that
those policies must adhere to.
those policies must adhere to.
those policies must adhere to.
Now if we look into this spending
Now if we look into this spending
Now if we look into this spending
limit policy, it is let's say it's a
limit policy, it is let's say it's a
limit policy, it is let's say it's a
stateful policy and it is shared across
stateful policy and it is shared across
stateful policy and it is shared across
multiple smart accounts. When this
multiple smart accounts. When this
multiple smart accounts. When this
policy is added to a context rule, the
policy is added to a context rule, the
policy is added to a context rule, the
install hook is called and this in its
install hook is called and this in its
install hook is called and this in its
the storage for the calling account and
the storage for the calling account and
the storage for the calling account and
sets the amount and the time period. For
sets the amount and the time period. For
sets the amount and the time period. For
example, here we'll have 100 USDC and
example, here we'll have 100 USDC and
example, here we'll have 100 USDC and
one month. This is the in in it
one month. This is the in in it
one month. This is the in in it
params that are pass can enforce
params that are pass can enforce
params that are pass can enforce
is just a read function that is
is just a read function that is
is just a read function that is
invoked every time the evaluation
invoked every time the evaluation
invoked every time the evaluation
loop runs.
loop runs.
loop runs.
Enforce on the other hand it requires
Enforce on the other hand it requires
Enforce on the other hand it requires
authorization from the already
authorization from the already
authorization from the already
installed smart account and modifies can
installed smart account and modifies can
installed smart account and modifies can
modify the storage and can emit
modify the storage and can emit
modify the storage and can emit
events.
events.
events.
Uninstall is called when the is removed.
Uninstall is called when the is removed.
Uninstall is called when the is removed.
So we are cleaning up the policy
So we are cleaning up the policy
So we are cleaning up the policy
storage. So install and uninstall are
storage. So install and uninstall are
storage. So install and uninstall are
used only once can enforce on every
used only once can enforce on every
used only once can enforce on every
evaluation loop and enforce when
evaluation loop and enforce when
evaluation loop and enforce when
context rule is matched.
context rule is matched.
context rule is matched.
So these are the main elements of smart
So these are the main elements of smart
So these are the main elements of smart
account and yeah to sum it up we we
account and yeah to sum it up we we
account and yeah to sum it up we we
have we can have up to 15 context rules
have we can have up to 15 context rules
have we can have up to 15 context rules
per smart account and each context
per smart account and each context
per smart account and each context
through contains signers and policies.
through contains signers and policies.
through contains signers and policies.
So let's see some use cases.
So let's see some use cases.
So let's see some use cases.
yeah the most like trivial one
yeah the most like trivial one
yeah the most like trivial one
is the multisix threshold bas
is the multisix threshold bas
is the multisix threshold bas
based or like the weighted
based or like the weighted
based or like the weighted
multics. We can have with this u
multics. We can have with this u
multics. We can have with this u
setup we can have time limited app
setup we can have time limited app
setup we can have time limited app
sessions. For example you install
sessions. For example you install
sessions. For example you install
context rule that is specific for a
context rule that is specific for a
context rule that is specific for a
specific app and it's valid just for one
specific app and it's valid just for one
specific app and it's valid just for one
day.
day.
day.
so you don't so you can interact with
so you don't so you can interact with
so you don't so you can interact with
this app without needing to approve any
this app without needing to approve any
this app without needing to approve any
any further transactions. you can add
any further transactions. you can add
any further transactions. you can add
for example the keys for AI agent or bot
for example the keys for AI agent or bot
for example the keys for AI agent or bot
to as a context rule and allow it to
to as a context rule and allow it to
to as a context rule and allow it to
spend some like limited amount of
spend some like limited amount of
spend some like limited amount of
your assets so it can trade for example
your assets so it can trade for example
your assets so it can trade for example
and you don't risk to get wrecked or
and you don't risk to get wrecked or
and you don't risk to get wrecked or
you can subscribe for some
you can subscribe for some
you can subscribe for some
services. So yeah let and here let's see
services. So yeah let and here let's see
services. So yeah let and here let's see
how the subscription the flow the user
how the subscription the flow the user
how the subscription the flow the user
flow for a subscription will happen. So
flow for a subscription will happen. So
flow for a subscription will happen. So
I have a smart account and I have the
I have a smart account and I have the
I have a smart account and I have the
sudo sudo rule like the the super admin
sudo sudo rule like the the super admin
sudo sudo rule like the the super admin
rule that is has a single signer
rule that is has a single signer
rule that is has a single signer
my pass key and there are no policies
my pass key and there are no policies
my pass key and there are no policies
and it's valid forever.
and it's valid forever.
and it's valid forever.
Then I I'm going to u some DAP and I
Then I I'm going to u some DAP and I
Then I I'm going to u some DAP and I
want to subscribe to a service. The
want to subscribe to a service. The
want to subscribe to a service. The
DAP prompts me to install a context rule
DAP prompts me to install a context rule
DAP prompts me to install a context rule
that contains the scope of it is the
that contains the scope of it is the
that contains the scope of it is the
USD contract because I'm going to pay in
USD contract because I'm going to pay in
USD contract because I'm going to pay in
USDC.
USDC.
USDC.
The signer is the D pub key. and the
The signer is the D pub key. and the
The signer is the D pub key. and the
policy is some spending limit polic
policy is some spending limit polic
policy is some spending limit polic
policy that limits the the spending for
policy that limits the the spending for
policy that limits the the spending for
up to 20 20 bucks per month and I'm
up to 20 20 bucks per month and I'm
up to 20 20 bucks per month and I'm
subscribing for one year. So this is the
subscribing for one year. So this is the
subscribing for one year. So this is the
single transaction I have to do u in
single transaction I have to do u in
single transaction I have to do u in
order to subscribe for this service.
order to subscribe for this service.
order to subscribe for this service.
And from this moment on the DAP
And from this moment on the DAP
And from this moment on the DAP
developer for example they can use
developer for example they can use
developer for example they can use
the OpenZeppelin monitors to subscribe
the OpenZeppelin monitors to subscribe
the OpenZeppelin monitors to subscribe
to the install event on this policy
to the install event on this policy
to the install event on this policy
and when this gets triggered they
and when this gets triggered they
and when this gets triggered they
will with a relayer they with the
will with a relayer they with the
will with a relayer they with the
opposite layer they will charge the user
opposite layer they will charge the user
opposite layer they will charge the user
smart accounts every every month
smart accounts every every month
smart accounts every every month
20 bucks.
20 bucks.
20 bucks.
So the key takeaways this this
So the key takeaways this this
So the key takeaways this this
framework is
framework is
framework is
context centric framework. I will
context centric framework. I will
context centric framework. I will
compare it as the I'm comparing it very
compare it as the I'm comparing it very
compare it as the I'm comparing it very
often with the web to login experience.
often with the web to login experience.
often with the web to login experience.
For example, when you are logging it
For example, when you are logging it
For example, when you are logging it
with your Google account or your
with your Google account or your
with your Google account or your
GitHub account like you authorize the
GitHub account like you authorize the
GitHub account like you authorize the
third party with some specific
third party with some specific
third party with some specific
permissions. We grant some scope
permissions. We grant some scope
permissions. We grant some scope
permission. you don't grant the whole
permission. you don't grant the whole
permission. you don't grant the whole
access to your data but just to very
access to your data but just to very
access to your data but just to very
like scoped permissions. So we are
like scoped permissions. So we are
like scoped permissions. So we are
composing authorization intents
composing authorization intents
composing authorization intents
through those context rules that contain
through those context rules that contain
through those context rules that contain
signers and policies.
signers and policies.
signers and policies.
Another very important aspect is that
Another very important aspect is that
Another very important aspect is that
signature verification is not hardcoded
signature verification is not hardcoded
signature verification is not hardcoded
into the smart account. So it is this is
into the smart account. So it is this is
into the smart account. So it is this is
very flexible and very scalable and
very flexible and very scalable and
very flexible and very scalable and
yeah like this framework enables
yeah like this framework enables
yeah like this framework enables
programmable authorization in in that
programmable authorization in in that
programmable authorization in in that
manner.
manner.
manner.
So yeah if you want to play with it
So yeah if you want to play with it
So yeah if you want to play with it
I'm inviting you to go to our repo and
I'm inviting you to go to our repo and
I'm inviting you to go to our repo and
to check our docs.
to check our docs.
to check our docs.
and yeah I'm pausing it here for
and yeah I'm pausing it here for
and yeah I'm pausing it here for
questions if there are any.
questions if there are any.
questions if there are any.
Great. It it was really interesting.
Great. It it was really interesting.
Great. It it was really interesting.
we have seen a lot of interest in in
we have seen a lot of interest in in
we have seen a lot of interest in in
using pass keys and I think I think
using pass keys and I think I think
using pass keys and I think I think
there's so many ways to do like there's
there's so many ways to do like there's
there's so many ways to do like there's
so many capabilities in Sora for
so many capabilities in Sora for
so many capabilities in Sora for
authorization but it's also complicated.
authorization but it's also complicated.
authorization but it's also complicated.
It's not it's not straightforward
It's not it's not straightforward
It's not it's not straightforward
forward and easy. I think the the wealth
forward and easy. I think the the wealth
forward and easy. I think the the wealth
of opportunities to create custom
of opportunities to create custom
of opportunities to create custom
policies and authorize your users in
policies and authorize your users in
policies and authorize your users in
different ways. I think it it it's
different ways. I think it it it's
different ways. I think it it it's
great, but it's also a little bit
great, but it's also a little bit
great, but it's also a little bit
complicated. So, the framework you
complicated. So, the framework you
complicated. So, the framework you
present here makes that a lot easier. I
present here makes that a lot easier. I
present here makes that a lot easier. I
think this will be be a great great way
think this will be be a great great way
think this will be be a great great way
to to add a flexible authorization to
to to add a flexible authorization to
to to add a flexible authorization to
to your DAP. So very interesting to see.
to your DAP. So very interesting to see.
to your DAP. So very interesting to see.
I think I'll I'll drop the link to the
I think I'll I'll drop the link to the
I think I'll I'll drop the link to the
to the repo or to the documentation. But
to the repo or to the documentation. But
to the repo or to the documentation. But
if anyone has any questions, I think
if anyone has any questions, I think
if anyone has any questions, I think
yeah, Elliots has a question here.
yeah, Elliots has a question here.
yeah, Elliots has a question here.
 yeah, did you say that Ozair can be used
 yeah, did you say that Ozair can be used
 yeah, did you say that Ozair can be used
to index track additions removal or
to index track additions removal or
to index track additions removal or
Yeah. Yeah, definitely. I mean you
Yeah. Yeah, definitely. I mean you
Yeah. Yeah, definitely. I mean you
there are some events that you can
there are some events that you can
there are some events that you can
subscribe on
subscribe on
subscribe on
subscribe for those events on the
subscribe for those events on the
subscribe for those events on the
policies or on the on the your smart
policies or on the on the your smart
policies or on the on the your smart
account and yeah do do yeah
account and yeah do do yeah
account and yeah do do yeah
trigger some actions according according
trigger some actions according according
trigger some actions according according
to whatever you want to do.
to whatever you want to do.
to whatever you want to do.
, one naming concern, smart account
, one naming concern, smart account
, one naming concern, smart account
will likely overlap with Stellar
will likely overlap with Stellar
will likely overlap with Stellar
accounts and could confuse the idea that
accounts and could confuse the idea that
accounts and could confuse the idea that
this is a contract.
this is a contract.
this is a contract.
 Mhm.
 Mhm.
 Mhm.
Yeah. ,
Yeah. ,
Yeah. ,
yeah. I presented why we ch why we
yeah. I presented why we ch why we
yeah. I presented why we ch why we
went with smart account. , yeah.
went with smart account. , yeah.
went with smart account. , yeah.
mentioned that that this is this may
mentioned that that this is this may
mentioned that that this is this may
seem a better fit for for yeah
seem a better fit for for yeah
seem a better fit for for yeah
this kind of
this kind of
this kind of
entities
entities
entities
Stellar accounts you mean the the
Stellar accounts you mean the the
Stellar accounts you mean the the
classic Stellar accounts I yeah I
classic Stellar accounts I yeah I
classic Stellar accounts I yeah I
suppose this is what you mean
suppose this is what you mean
suppose this is what you mean
but yeah I a smart Don't
Yeah. Yeah. We have to give it a
Yeah. Yeah. We have to give it a
thought. But I I
thought. But I I
thought. But I I
think we can it can
think we can it can
think we can it can
be disting distinguished well enough so
be disting distinguished well enough so
be disting distinguished well enough so
not to be confused.
not to be confused.
not to be confused.
It would be great to include a 15minute
It would be great to include a 15minute
It would be great to include a 15minute
demo of building an actual d. Great
demo of building an actual d. Great
demo of building an actual d. Great
suggestion. [laughter]
suggestion. [laughter]
suggestion. [laughter]
I'm taking it. taking it.
Okay, then
Okay, then
I'm passing it to to O.
I'm passing it to to O.
I'm passing it to to O.
 Right.
 Right.
 Right.
 Hi again everyone. I'm going to be
 Hi again everyone. I'm going to be
 Hi again everyone. I'm going to be
presenting
presenting
presenting
the world token world and also RWA.
the world token world and also RWA.
the world token world and also RWA.
So let me share the screen. Let's
So let me share the screen. Let's
So let me share the screen. Let's
do entire screen.
do entire screen.
do entire screen.
Please tell me if it's successful
Please tell me if it's successful
Please tell me if it's successful
because I don't see the
because I don't see the
because I don't see the
streaming tab right now.
streaming tab right now.
streaming tab right now.
 Yep, we see we see your presentation.
 Yep, we see we see your presentation.
 Yep, we see we see your presentation.
 Great. Great.
 Great. Great.
 Great. Great.
Let's try slideshow.
Let's try slideshow.
Let's try slideshow.
So, what's it that I'm going to be
So, what's it that I'm going to be
So, what's it that I'm going to be
talking about? it's a uniform
talking about? it's a uniform
talking about? it's a uniform
interface for integrating with various
interface for integrating with various
interface for integrating with various
yield generating strategies also known
yield generating strategies also known
yield generating strategies also known
as ERC 4626 if you are familiar with the
as ERC 4626 if you are familiar with the
as ERC 4626 if you are familiar with the
Athereum ecosystem.
Athereum ecosystem.
Athereum ecosystem.
The problem tokold solving is let's say
The problem tokold solving is let's say
The problem tokold solving is let's say
you have a th00and USDC
you have a th00and USDC
you have a th00and USDC
and what are you going to do with this?
and what are you going to do with this?
and what are you going to do with this?
You can lend it, you can provide it for
You can lend it, you can provide it for
You can lend it, you can provide it for
liquidity
liquidity
liquidity
or you can stake it, right? but these
or you can stake it, right? but these
or you can stake it, right? but these
are all the options you can do
are all the options you can do
are all the options you can do
or you can have a manager of your funds
or you can have a manager of your funds
or you can have a manager of your funds
for utilizing the best option out
for utilizing the best option out
for utilizing the best option out
there. But
there. But
there. But
for every manager you will have
for every manager you will have
for every manager you will have
different problems. There is no
different problems. There is no
different problems. There is no
interoperability. There is no
interoperability. There is no
interoperability. There is no
composibility.
composibility.
composibility.
The UX in general would be bad.
The UX in general would be bad.
The UX in general would be bad.
So, vault tries to standardize all these
So, vault tries to standardize all these
So, vault tries to standardize all these
and it still can be managed.
and it still can be managed.
and it still can be managed.
So, this is what we are trying to do.
So, this is what we are trying to do.
So, this is what we are trying to do.
So, you deposit your assets into the
So, you deposit your assets into the
So, you deposit your assets into the
world. The world tries to
world. The world tries to
world. The world tries to
utilize your assets in the best way and
utilize your assets in the best way and
utilize your assets in the best way and
earn some interest and you will get
earn some interest and you will get
earn some interest and you will get
shares in return. And you can always
shares in return. And you can always
shares in return. And you can always
do
do
do
transitions between shares and
transitions between shares and
transitions between shares and
assets. You can convert them
assets. You can convert them
assets. You can convert them
interchangeably.
So how do we calculate shares and
So how do we calculate shares and
assets? So let's say you deposit your
assets? So let's say you deposit your
assets? So let's say you deposit your
assets and you will get shares. The
assets and you will get shares. The
assets and you will get shares. The
basic formula for that would be we
basic formula for that would be we
basic formula for that would be we
will multiply the deposit assets by the
will multiply the deposit assets by the
will multiply the deposit assets by the
total shares currently in the world and
total shares currently in the world and
total shares currently in the world and
then we divide the this result by total
then we divide the this result by total
then we divide the this result by total
assets in the world and that whole
assets in the world and that whole
assets in the world and that whole
result will be your shares.
result will be your shares.
result will be your shares.
This will be very important. so now
This will be very important. so now
This will be very important. so now
that I'm going to do some basic math
that I'm going to do some basic math
that I'm going to do some basic math
but it's very basic so don't be scared.
but it's very basic so don't be scared.
but it's very basic so don't be scared.
first action
first action
first action
Say Alice deposits 100 USDC into the
Say Alice deposits 100 USDC into the
Say Alice deposits 100 USDC into the
vault.
vault.
vault.
So for deposit assets it's th 100
So for deposit assets it's th 100
So for deposit assets it's th 100
total shares it's again 100 and total
total shares it's again 100 and total
total shares it's again 100 and total
assets is 100.
assets is 100.
assets is 100.
So let's say 10% yield is earned
So let's say 10% yield is earned
So let's say 10% yield is earned
and now the asset amount per share has
and now the asset amount per share has
and now the asset amount per share has
increased. So previously one asset
increased. So previously one asset
increased. So previously one asset
was corresponding to one share but
was corresponding to one share but
was corresponding to one share but
right now
right now
right now
since the total shares have not changed
since the total shares have not changed
since the total shares have not changed
it only the interest rate increase the
it only the interest rate increase the
it only the interest rate increase the
total asset amount
total asset amount
total asset amount
in the world
in the world
in the world
then this ratio should change right
then this ratio should change right
then this ratio should change right
right now if you provide one share you
right now if you provide one share you
right now if you provide one share you
will get 1.1 1 asset in return because
will get 1.1 1 asset in return because
will get 1.1 1 asset in return because
one 10% of interest rate and now Bob say
one 10% of interest rate and now Bob say
one 10% of interest rate and now Bob say
Bob deposits 300 USC
Bob deposits 300 USC
Bob deposits 300 USC
and we do this calculation and Bob will
and we do this calculation and Bob will
and we do this calculation and Bob will
get will get 272.73
shares in return. So it's not one to one
shares in return. So it's not one to one
mapping as in the case for Alice
mapping as in the case for Alice
mapping as in the case for Alice
because there was 10%. And this is still
because there was 10%. And this is still
because there was 10%. And this is still
fine because if you multiply the
fine because if you multiply the
fine because if you multiply the
shares by 1.1 you will get 300. So it is
shares by 1.1 you will get 300. So it is
shares by 1.1 you will get 300. So it is
still fair.
still fair.
still fair.
And let's say another 10% of interest
And let's say another 10% of interest
And let's say another 10% of interest
has happened and now Charlie deposits
has happened and now Charlie deposits
has happened and now Charlie deposits
200 and the amount for shares would be
200 and the amount for shares would be
200 and the amount for shares would be
165.
The problem is in this previous slide is
The problem is in this previous slide is
we have
we have
we have
these decimals, right? this is not an
these decimals, right? this is not an
these decimals, right? this is not an
integer but it's kind of a floating
integer but it's kind of a floating
integer but it's kind of a floating
number. This is problematic because
number. This is problematic because
number. This is problematic because
how do you handle 3.33 shares for
how do you handle 3.33 shares for
how do you handle 3.33 shares for
example? You cannot. So for shares
example? You cannot. So for shares
example? You cannot. So for shares
we round up or down.
we round up or down.
we round up or down.
When we do we round down when do we
When we do we round down when do we
When we do we round down when do we
round up. So let's say you are minting
round up. So let's say you are minting
round up. So let's say you are minting
or depositing depo depositing we are
or depositing depo depositing we are
or depositing depo depositing we are
rounding down your number of shares so
rounding down your number of shares so
rounding down your number of shares so
that you'll get slightly fewer shares
that you'll get slightly fewer shares
that you'll get slightly fewer shares
than the exact ratio. The reason is
than the exact ratio. The reason is
than the exact ratio. The reason is
world cannot overmint shares and we have
world cannot overmint shares and we have
world cannot overmint shares and we have
to provide we have to protect the
to provide we have to protect the
to provide we have to protect the
world not the users so that attacks
world not the users so that attacks
world not the users so that attacks
won't happen.
won't happen.
won't happen.
So this is the same this this
So this is the same this this
So this is the same this this
rounding down goes for minting and
rounding down goes for minting and
rounding down goes for minting and
depositing and the opposite one rounding
depositing and the opposite one rounding
depositing and the opposite one rounding
up goes for redeem and withdraw
up goes for redeem and withdraw
up goes for redeem and withdraw
operations for gold
operations for gold
operations for gold
which creates another problem which I
which creates another problem which I
which creates another problem which I
will demonstrate right now. Let's say
will demonstrate right now. Let's say
will demonstrate right now. Let's say
okay this is the inflation attack.
okay this is the inflation attack.
okay this is the inflation attack.
There is couple of versions of it.
There is couple of versions of it.
There is couple of versions of it.
let's say the attacker deposits one's
let's say the attacker deposits one's
let's say the attacker deposits one's
troop. So he minted a share
troop. So he minted a share
troop. So he minted a share
and right now one share will correspond
and right now one share will correspond
and right now one share will correspond
to one's troop only.
to one's troop only.
to one's troop only.
Then the keyword here is donates. It's
Then the keyword here is donates. It's
Then the keyword here is donates. It's
not deposit. So since it's not deposit,
not deposit. So since it's not deposit,
not deposit. So since it's not deposit,
it only increases the total asset amount
it only increases the total asset amount
it only increases the total asset amount
but not the shares. So it's basically
but not the shares. So it's basically
but not the shares. So it's basically
I'm just giving away this money to the
I'm just giving away this money to the
I'm just giving away this money to the
vault and I'm not expecting any shares
vault and I'm not expecting any shares
vault and I'm not expecting any shares
in return. Why would someone do this?
in return. Why would someone do this?
in return. Why would someone do this?
You will see the reason. and if you
You will see the reason. and if you
You will see the reason. and if you
convert the USDC to stroops you know
convert the USDC to stroops you know
convert the USDC to stroops you know
there are seven decimal places in
there are seven decimal places in
there are seven decimal places in
Stellar so we added after 10,000 seven
Stellar so we added after 10,000 seven
Stellar so we added after 10,000 seven
more u zeros and then we added the
more u zeros and then we added the
more u zeros and then we added the
previous ones troop you will have this
previous ones troop you will have this
previous ones troop you will have this
number for total assets and now alice
number for total assets and now alice
number for total assets and now alice
deposits
deposits
deposits
thousands troops so if you divide
thousands troops so if you divide
thousands troops so if you divide
thousands troops to this total asset
thousands troops to this total asset
thousands troops to this total asset
amount
amount
amount
you will get something really small like
you will get something really small like
you will get something really small like
0.00001
0.00001
0.00001
or something like that and this will be
or something like that and this will be
or something like that and this will be
ultimately zero because of the rounding
ultimately zero because of the rounding
ultimately zero because of the rounding
down that I explained previously. So
down that I explained previously. So
down that I explained previously. So
basically Alice deposited some money
basically Alice deposited some money
basically Alice deposited some money
which which was non zero. It was
which which was non zero. It was
which which was non zero. It was
thousands troops but in return she got
thousands troops but in return she got
thousands troops but in return she got
zero shares and if the attacker redeems
zero shares and if the attacker redeems
zero shares and if the attacker redeems
their shares they will get all the money
their shares they will get all the money
their shares they will get all the money
basically stealing Alice's troops.
basically stealing Alice's troops.
basically stealing Alice's troops.
The other scenario would be in here. So
The other scenario would be in here. So
The other scenario would be in here. So
let's say again this the first two
let's say again this the first two
let's say again this the first two
scenario are the same attacker deposited
scenario are the same attacker deposited
scenario are the same attacker deposited
one troop and then they donated 1 thou
one troop and then they donated 1 thou
one troop and then they donated 1 thou
10,000 USDC
10,000 USDC
10,000 USDC
and after that say Alice deposited
and after that say Alice deposited
and after that say Alice deposited
10,000 USD so it's almost a half of the
10,000 USD so it's almost a half of the
10,000 USD so it's almost a half of the
total assets right but only one stroop
total assets right but only one stroop
total assets right but only one stroop
short of it so if you do the calculation
short of it so if you do the calculation
short of it so if you do the calculation
it will be somewhat like 0.99999
it will be somewhat like 0.99999
it will be somewhat like 0.99999
but since we don't have any precision
but since we don't have any precision
but since we don't have any precision
for the decimal points, it will again be
for the decimal points, it will again be
for the decimal points, it will again be
round down to zero and attacker would
round down to zero and attacker would
round down to zero and attacker would
steal all Alice's money like 10,000 USD
steal all Alice's money like 10,000 USD
steal all Alice's money like 10,000 USD
due to this rounding down behavior.
due to this rounding down behavior.
due to this rounding down behavior.
So this is the inflation attack. This is
So this is the inflation attack. This is
So this is the inflation attack. This is
not only for our implementation. This
not only for our implementation. This
not only for our implementation. This
attack existed through all ecosystems
attack existed through all ecosystems
attack existed through all ecosystems
and fortunately we have a solution for
and fortunately we have a solution for
and fortunately we have a solution for
that. The most common one is decimal
that. The most common one is decimal
that. The most common one is decimal
offset.
offset.
offset.
So instead of this regular or the
So instead of this regular or the
So instead of this regular or the
straightforward calculation we also add
straightforward calculation we also add
straightforward calculation we also add
an offset to the power of 10
an offset to the power of 10
an offset to the power of 10
and it will be something like this. So
and it will be something like this. So
and it will be something like this. So
if you deposit one stroop instead of one
if you deposit one stroop instead of one
if you deposit one stroop instead of one
share you will get
share you will get
share you will get
this amount of shares. this is up to
this amount of shares. this is up to
this amount of shares. this is up to
your decimal offset. So let's say 1 2 3
your decimal offset. So let's say 1 2 3
your decimal offset. So let's say 1 2 3
4 5 6 7 8 9 and in this case you will
4 5 6 7 8 9 and in this case you will
4 5 6 7 8 9 and in this case you will
have nine for the offset and you will
have nine for the offset and you will
have nine for the offset and you will
get this amount of shares
get this amount of shares
get this amount of shares
and let's say for the same attack the
and let's say for the same attack the
and let's say for the same attack the
attacker then donates
attacker then donates
attacker then donates
10,000 USDC
10,000 USDC
10,000 USDC
they won't get any shares because
they won't get any shares because
they won't get any shares because
it's a donation then Alice would deposit
it's a donation then Alice would deposit
it's a donation then Alice would deposit
10,000 strooss it would have been this
10,000 strooss it would have been this
10,000 strooss it would have been this
small amount previously if we didn't use
small amount previously if we didn't use
small amount previously if we didn't use
decimal offset but since we are using
decimal offset but since we are using
decimal offset but since we are using
decimal offset Alice will get one share
decimal offset Alice will get one share
decimal offset Alice will get one share
and attack won't be
and attack won't be
and attack won't be
attack won't resolve so basically
attack won't resolve so basically
attack won't resolve so basically
there is no attack due to this decimal
there is no attack due to this decimal
there is no attack due to this decimal
offset
and I will just stop presenting
and I will just stop presenting
and we'll move on to RWA after
and we'll move on to RWA after
and we'll move on to RWA after
questions. By the way, maybe we can also
questions. By the way, maybe we can also
questions. By the way, maybe we can also
share a link for the world implement.
share a link for the world implement.
share a link for the world implement.
 Yeah, just maybe we also want to
 Yeah, just maybe we also want to
 Yeah, just maybe we also want to
shout to shout out to
shout to shout out to
shout to shout out to
someone who helped contributed to the
someone who helped contributed to the
someone who helped contributed to the
implementation.
implementation.
implementation.
I don't know if he's on the call, GS
I don't know if he's on the call, GS
I don't know if he's on the call, GS
Maxi from Sentinel F. So yeah, he he
Maxi from Sentinel F. So yeah, he he
Maxi from Sentinel F. So yeah, he he
helped with this implementation.
helped with this implementation.
helped with this implementation.
Yeah,
Yeah,
Yeah,
 laid the groundwork and we
 laid the groundwork and we
 laid the groundwork and we
and he also helped us writing the SE
and he also helped us writing the SE
and he also helped us writing the SE
for world. We just got merged today by
for world. We just got merged today by
for world. We just got merged today by
the way. so we have a new SE guys for
the way. so we have a new SE guys for
the way. so we have a new SE guys for
the world. All right, great. Then I can
the world. All right, great. Then I can
the world. All right, great. Then I can
continue with RWA.
So for this one, I'm going to be
So for this one, I'm going to be
presenting over some text instead of
presenting over some text instead of
presenting over some text instead of
slides.
Okay. , is the
Okay. , is the
is it readable or should I make it
is it readable or should I make it
is it readable or should I make it
bigger?
bigger?
bigger?
 , maybe just slightly bigger. Yeah, I
 , maybe just slightly bigger. Yeah, I
 , maybe just slightly bigger. Yeah, I
think this is good.
think this is good.
think this is good.
 Great.
 Great.
 Great.
So RWA as you know stands for real world
So RWA as you know stands for real world
So RWA as you know stands for real world
assets and it's more like a switch of
assets and it's more like a switch of
assets and it's more like a switch of
contracts
contracts
contracts
compared to a single contract. So it's
compared to a single contract. So it's
compared to a single contract. So it's
more complicated and involved for the
more complicated and involved for the
more complicated and involved for the
base RWA token. You can think of it like
base RWA token. You can think of it like
base RWA token. You can think of it like
a funible token. It has the same
a funible token. It has the same
a funible token. It has the same
metadata and core functions but on top
metadata and core functions but on top
metadata and core functions but on top
of that we have forced transfer which
of that we have forced transfer which
of that we have forced transfer which
the admins can force transfers on behalf
the admins can force transfers on behalf
the admins can force transfers on behalf
of the users. We have freezing both
of the users. We have freezing both
of the users. We have freezing both
address level and partial. Partial means
address level and partial. Partial means
address level and partial. Partial means
we can freeze some part of your wallet
we can freeze some part of your wallet
we can freeze some part of your wallet
balance. For example, maybe you have
balance. For example, maybe you have
balance. For example, maybe you have
2,000 in your balance and we only froze
2,000 in your balance and we only froze
2,000 in your balance and we only froze
500 of it. And address level is your
500 of it. And address level is your
500 of it. And address level is your
address is frozen for every like
address is frozen for every like
address is frozen for every like
transfer, mint, etc. operation. So
transfer, mint, etc. operation. So
transfer, mint, etc. operation. So
basically you are on hold.
basically you are on hold.
basically you are on hold.
We do also provide recovery mechanisms
We do also provide recovery mechanisms
We do also provide recovery mechanisms
in RWA.
in RWA.
in RWA.
In case of you lose your private key
In case of you lose your private key
In case of you lose your private key
then the authorities can recover your
then the authorities can recover your
then the authorities can recover your
wallet by
wallet by
wallet by
sending your balance to another wallet
sending your balance to another wallet
sending your balance to another wallet
and also all the account related
and also all the account related
and also all the account related
information of you as well. for this
information of you as well. for this
information of you as well. for this
recovery of course you have to convince
recovery of course you have to convince
recovery of course you have to convince
the authorities by providing the
the authorities by providing the
the authorities by providing the
necessary documentation. It's not part
necessary documentation. It's not part
necessary documentation. It's not part
of the RWA standard, but this is how it
of the RWA standard, but this is how it
of the RWA standard, but this is how it
will work on behi behind the scenes.
will work on behi behind the scenes.
will work on behi behind the scenes.
And you probably already know about
And you probably already know about
And you probably already know about
pausible operations for
pausible operations for
pausible operations for
the utility for other tokens as well.
the utility for other tokens as well.
the utility for other tokens as well.
This is the same for RWA token. We can
This is the same for RWA token. We can
This is the same for RWA token. We can
pause the operations for the contract.
pause the operations for the contract.
pause the operations for the contract.
So this base token contract is going to
So this base token contract is going to
So this base token contract is going to
be interacting with two modules or
be interacting with two modules or
be interacting with two modules or
stacks. One of them is identity, the
stacks. One of them is identity, the
stacks. One of them is identity, the
other one is compliance.
other one is compliance.
other one is compliance.
Identity stack will be responsible from
Identity stack will be responsible from
Identity stack will be responsible from
verifying your identity basically but
verifying your identity basically but
verifying your identity basically but
it's also very involved and I will get
it's also very involved and I will get
it's also very involved and I will get
into details later. And the other one is
into details later. And the other one is
into details later. And the other one is
compliance. This is mostly for hooks
compliance. This is mostly for hooks
compliance. This is mostly for hooks
post and pre hooks for the
post and pre hooks for the
post and pre hooks for the
operations
operations
operations
and this is this exists mostly due to
and this is this exists mostly due to
and this is this exists mostly due to
allow organizations or governments or
allow organizations or governments or
allow organizations or governments or
etc to include or embed their own
etc to include or embed their own
etc to include or embed their own
business logic into transfers and means
business logic into transfers and means
business logic into transfers and means
and burn operations.
and burn operations.
and burn operations.
So let's go step by step. the RWA
So let's go step by step. the RWA
So let's go step by step. the RWA
token as I told you is the main contract
token as I told you is the main contract
token as I told you is the main contract
and it
and it
and it
it communicates with compliance and
it communicates with compliance and
it communicates with compliance and
identity verifier. The compliance is
identity verifier. The compliance is
identity verifier. The compliance is
managing five hook types which I will
managing five hook types which I will
managing five hook types which I will
dive further deep into.
dive further deep into.
dive further deep into.
And the good thing about compliance and
And the good thing about compliance and
And the good thing about compliance and
identity verifier is they are
identity verifier is they are
identity verifier is they are
multi-token support which means let's
multi-token support which means let's
multi-token support which means let's
say you have a compliance contract you
say you have a compliance contract you
say you have a compliance contract you
can share this with multiple tokens
can share this with multiple tokens
can share this with multiple tokens
multiple RWA tokens. So let's say there
multiple RWA tokens. So let's say there
multiple RWA tokens. So let's say there
is another RWA token here. It can also
is another RWA token here. It can also
is another RWA token here. It can also
go to the same compliance contract. I
go to the same compliance contract. I
go to the same compliance contract. I
will give this example which I like.
will give this example which I like.
will give this example which I like.
Let's say you have bank A and bank B in
Let's say you have bank A and bank B in
Let's say you have bank A and bank B in
your country and since they are in the
your country and since they are in the
your country and since they are in the
same country probably the compliance
same country probably the compliance
same country probably the compliance
that they need to oblige to will be the
that they need to oblige to will be the
that they need to oblige to will be the
same. So they can use the same
same. So they can use the same
same. So they can use the same
compliance in this case.
compliance in this case.
compliance in this case.
Identity verifier again this can be
Identity verifier again this can be
Identity verifier again this can be
shared across multiple tokens. it
shared across multiple tokens. it
shared across multiple tokens. it
validates the identity of the
validates the identity of the
validates the identity of the
investors of this
investors of this
investors of this
token.
token.
token.
I will dive this into later. So let's
I will dive this into later. So let's
I will dive this into later. So let's
skip for now.
skip for now.
skip for now.
If you go for the highle basics
If you go for the highle basics
If you go for the highle basics
for the token you need to provide the
for the token you need to provide the
for the token you need to provide the
name symbol decimals and initial supply
name symbol decimals and initial supply
name symbol decimals and initial supply
very standard basic stuff. Same with the
very standard basic stuff. Same with the
very standard basic stuff. Same with the
funible
funible
funible
and on top of the funible we will have
and on top of the funible we will have
and on top of the funible we will have
the freezing mechanisms. We will have a
the freezing mechanisms. We will have a
the freezing mechanisms. We will have a
recovery mechanism. We will have force
recovery mechanism. We will have force
recovery mechanism. We will have force
transfers and posible operations as I
transfers and posible operations as I
transfers and posible operations as I
told you.
told you.
told you.
So right now I already told about how
So right now I already told about how
So right now I already told about how
this compliance and identity stack can
this compliance and identity stack can
this compliance and identity stack can
be shared. So I'm going to skip this one
be shared. So I'm going to skip this one
be shared. So I'm going to skip this one
as well. So let's dive into identity
as well. So let's dive into identity
as well. So let's dive into identity
stack.
stack.
stack.
So there can be multiple ways to verify
So there can be multiple ways to verify
So there can be multiple ways to verify
identity. The one we provide which is
identity. The one we provide which is
identity. The one we provide which is
the default one is claim based. So
the default one is claim based. So
the default one is claim based. So
you can think of it like I'm from Turkey
you can think of it like I'm from Turkey
you can think of it like I'm from Turkey
and I'm a Turkish citizen and in this
and I'm a Turkish citizen and in this
and I'm a Turkish citizen and in this
RWA setting maybe the residency is an
RWA setting maybe the residency is an
RWA setting maybe the residency is an
issue. So I must have a claim from the
issue. So I must have a claim from the
issue. So I must have a claim from the
authorities that I'm a resident
authorities that I'm a resident
authorities that I'm a resident
of Turkey. So I need a residency
of Turkey. So I need a residency
of Turkey. So I need a residency
claim issued for me by the authorities.
claim issued for me by the authorities.
claim issued for me by the authorities.
And one downside of this approach can be
And one downside of this approach can be
And one downside of this approach can be
if it is not encrypted
if it is not encrypted
if it is not encrypted
then all the data for everyone since
then all the data for everyone since
then all the data for everyone since
this is onchain data can be seen by
this is onchain data can be seen by
this is onchain data can be seen by
everyone. So this is very useful but
everyone. So this is very useful but
everyone. So this is very useful but
also if you care about privacy it's it
also if you care about privacy it's it
also if you care about privacy it's it
may not be the best solution.
may not be the best solution.
may not be the best solution.
so there are other approaches as well
so there are other approaches as well
so there are other approaches as well
like you can do Merkel tree, you can
like you can do Merkel tree, you can
like you can do Merkel tree, you can
do ZK email, you can do your own custom
do ZK email, you can do your own custom
do ZK email, you can do your own custom
approach. We do not provide these by the
approach. We do not provide these by the
approach. We do not provide these by the
way but they are for sure doable and we
way but they are for sure doable and we
way but they are for sure doable and we
designed the architecture in such a way
designed the architecture in such a way
designed the architecture in such a way
that this coupling here is not tight
that this coupling here is not tight
that this coupling here is not tight
but loose. So you can easily plug plug
but loose. So you can easily plug plug
but loose. So you can easily plug plug
this one out and plug your own solution
this one out and plug your own solution
this one out and plug your own solution
for identity stack. Sorry here. So
for identity stack. Sorry here. So
for identity stack. Sorry here. So
basically you can replace the stack
basically you can replace the stack
basically you can replace the stack
here and plug your own.
So what do we provide for the default
So what do we provide for the default
identity? We provide claim topics. These
identity? We provide claim topics. These
identity? We provide claim topics. These
will be non customer anti-manual
will be non customer anti-manual
will be non customer anti-manual
laundering etc. For the topics
laundering etc. For the topics
laundering etc. For the topics
we limited the topics by at most 15. We
we limited the topics by at most 15. We
we limited the topics by at most 15. We
also have trusted issuers. these are
also have trusted issuers. these are
also have trusted issuers. these are
all separate contracts by the way. Like
all separate contracts by the way. Like
all separate contracts by the way. Like
this is a separate contract. This is a
this is a separate contract. This is a
this is a separate contract. This is a
separate contract. This is a separate
separate contract. This is a separate
separate contract. This is a separate
contract.
contract.
contract.
And the issuers, the trusted issuers
And the issuers, the trusted issuers
And the issuers, the trusted issuers
will be able to sign claims on behalf of
will be able to sign claims on behalf of
will be able to sign claims on behalf of
the users so that the users can use
the users so that the users can use
the users so that the users can use
these claims.
these claims.
these claims.
And
And
And
we also store the information regarding
we also store the information regarding
we also store the information regarding
the identities like if they are
the identities like if they are
the identities like if they are
individuals or organization
individuals or organization
individuals or organization
which country are they based in etc.
which country are they based in etc.
which country are they based in etc.
So the identity stack is managing all
So the identity stack is managing all
So the identity stack is managing all
the claims and the
the claims and the
the claims and the
topics and also the
topics and also the
topics and also the
account related information like
account related information like
account related information like
individual organization country
individual organization country
individual organization country
information etc.
information etc.
information etc.
the compliance one. So these are the
the compliance one. So these are the
the compliance one. So these are the
hooks. This is much more
hooks. This is much more
hooks. This is much more
straightforward. We have two pre hooks
straightforward. We have two pre hooks
straightforward. We have two pre hooks
and three post hooks
and three post hooks
and three post hooks
transferred, created and destroyed. So I
transferred, created and destroyed. So I
transferred, created and destroyed. So I
will start from the pre hooks.
will start from the pre hooks.
will start from the pre hooks.
Say your organization needs to run
Say your organization needs to run
Say your organization needs to run
additional business logic for transfers.
additional business logic for transfers.
additional business logic for transfers.
So before any transfer operation
So before any transfer operation
So before any transfer operation
happens, you want to run some custom
happens, you want to run some custom
happens, you want to run some custom
business logic, you can do that. we
business logic, you can do that. we
business logic, you can do that. we
have a compliance contract which will
have a compliance contract which will
have a compliance contract which will
call this hook when a transfer is about
call this hook when a transfer is about
call this hook when a transfer is about
to happen. And for this hook to work,
to happen. And for this hook to work,
to happen. And for this hook to work,
you can have your own contracts.
you can have your own contracts.
you can have your own contracts.
We will call them modules. [snorts] And
We will call them modules. [snorts] And
We will call them modules. [snorts] And
let's say you have a module for can
let's say you have a module for can
let's say you have a module for can
transfer. So what you would do is you
transfer. So what you would do is you
transfer. So what you would do is you
would link the compliance contract to
would link the compliance contract to
would link the compliance contract to
your can transfer module contract and
your can transfer module contract and
your can transfer module contract and
this compliance contract will call your
this compliance contract will call your
this compliance contract will call your
module on every time there is a transfer
module on every time there is a transfer
module on every time there is a transfer
is about to happen and the good thing is
is about to happen and the good thing is
is about to happen and the good thing is
you can deploy many contracts per one
you can deploy many contracts per one
you can deploy many contracts per one
hook. So for example, you can have three
hook. So for example, you can have three
hook. So for example, you can have three
contracts that will be called for can
contracts that will be called for can
contracts that will be called for can
transfer but five for can create which
transfer but five for can create which
transfer but five for can create which
for be minting. This is completely up to
for be minting. This is completely up to
for be minting. This is completely up to
you. we decided to go with multiple
you. we decided to go with multiple
you. we decided to go with multiple
contracts due to audit audit
contracts due to audit audit
contracts due to audit audit
auditability and also separation of
auditability and also separation of
auditability and also separation of
concerns. So if you just wrote your
concerns. So if you just wrote your
concerns. So if you just wrote your
logic into this scan transfer and then
logic into this scan transfer and then
logic into this scan transfer and then
you wrote another logic in the scan
you wrote another logic in the scan
you wrote another logic in the scan
transfer by pure code then it would be
transfer by pure code then it would be
transfer by pure code then it would be
cumbersome to manage and debug. So
cumbersome to manage and debug. So
cumbersome to manage and debug. So
that's why all business logics separated
that's why all business logics separated
that's why all business logics separated
into their own contracts which will be
into their own contracts which will be
into their own contracts which will be
called by a relayer contract or proxy
called by a relayer contract or proxy
called by a relayer contract or proxy
contract is a better architecture.
contract is a better architecture.
contract is a better architecture.
The same goes for these post hooks. You
The same goes for these post hooks. You
The same goes for these post hooks. You
can have additional logic for all of
can have additional logic for all of
can have additional logic for all of
these.
these.
these.
And that summarizes
And that summarizes
And that summarizes
the compliance module.
the compliance module.
the compliance module.
So what about the access control? you
So what about the access control? you
So what about the access control? you
have few options. You can go with
have few options. You can go with
have few options. You can go with
ownership model or role based access
ownership model or role based access
ownership model or role based access
control. So it's completely up to you.
control. So it's completely up to you.
control. So it's completely up to you.
And for each kind of operation you can
And for each kind of operation you can
And for each kind of operation you can
assign roles have very complex role
assign roles have very complex role
assign roles have very complex role
based access control architecture or
based access control architecture or
based access control architecture or
very simple one again completely up to
very simple one again completely up to
very simple one again completely up to
you.
you.
you.
We now only provide one extension for
We now only provide one extension for
We now only provide one extension for
RWA which is document manager.
RWA which is document manager.
RWA which is document manager.
[clears throat] enables you to attach
[clears throat] enables you to attach
[clears throat] enables you to attach
some legal documents etc to your token.
some legal documents etc to your token.
some legal documents etc to your token.
Of course, we do not store the whole
Of course, we do not store the whole
Of course, we do not store the whole
document in the blockchain like onchain.
document in the blockchain like onchain.
document in the blockchain like onchain.
This will be inefficient. We are
This will be inefficient. We are
This will be inefficient. We are
utilizing the hash.
utilizing the hash.
utilizing the hash.
And you can also add your own extensions
And you can also add your own extensions
And you can also add your own extensions
to RWA.
to RWA.
to RWA.
That will be it for the RWA. If you have
That will be it for the RWA. If you have
That will be it for the RWA. If you have
any questions, feel free to ask.
any questions, feel free to ask.
any questions, feel free to ask.
I see one question. Is RWA design based
I see one question. Is RWA design based
I see one question. Is RWA design based
on any existing stars? Yeah, of course.
on any existing stars? Yeah, of course.
on any existing stars? Yeah, of course.
So we work with tokenia and ERC
So we work with tokenia and ERC
So we work with tokenia and ERC
foundation also in collaboration with
foundation also in collaboration with
foundation also in collaboration with
Stellar included. So all these companies
Stellar included. So all these companies
Stellar included. So all these companies
came together and based on the RWA
came together and based on the RWA
came together and based on the RWA
proposal for the Ethereum ecosystem
proposal for the Ethereum ecosystem
proposal for the Ethereum ecosystem
or general ecosystem we made it specific
or general ecosystem we made it specific
or general ecosystem we made it specific
to Stellar. So we made some few
to Stellar. So we made some few
to Stellar. So we made some few
deviations from the original proposal
deviations from the original proposal
deviations from the original proposal
and most of our proposals to deviate
and most of our proposals to deviate
and most of our proposals to deviate
from it
from it
from it
was welcomed and it will be adopted in
was welcomed and it will be adopted in
was welcomed and it will be adopted in
the original standard as well. So we
the original standard as well. So we
the original standard as well. So we
also contributed to the maturity of the
also contributed to the maturity of the
also contributed to the maturity of the
original proposal as well. So it's not
original proposal as well. So it's not
original proposal as well. So it's not
designed from scratch if that's what you
designed from scratch if that's what you
designed from scratch if that's what you
are asking.
are asking.
are asking.
 Okay, great. This was three really
 Okay, great. This was three really
 Okay, great. This was three really
interesting presentations and I think
interesting presentations and I think
interesting presentations and I think
it's very aligned with what we see that
it's very aligned with what we see that
it's very aligned with what we see that
developers are interested in doing.
developers are interested in doing.
developers are interested in doing.
yeah the the
yeah the the
yeah the the
pass key integration and use that for
pass key integration and use that for
pass key integration and use that for
authorization is something that's
authorization is something that's
authorization is something that's
very big focus on I think this framework
very big focus on I think this framework
very big focus on I think this framework
you presented is going to help a lot of
you presented is going to help a lot of
you presented is going to help a lot of
developers to create a robust
developers to create a robust
developers to create a robust
framework for for authorization using
framework for for authorization using
framework for for authorization using
pass keys the vault is something
pass keys the vault is something
pass keys the vault is something
we've seen an increased interest in a
we've seen an increased interest in a
we've seen an increased interest in a
lot of developers want to build in a way
lot of developers want to build in a way
lot of developers want to build in a way
to earn for the tokens that the the
to earn for the tokens that the the
to earn for the tokens that the the
users are are holding in their wallet.
users are are holding in their wallet.
users are are holding in their wallet.
So very interesting as well and RWA it's
So very interesting as well and RWA it's
So very interesting as well and RWA it's
also super aligned with what what SDF is
also super aligned with what what SDF is
also super aligned with what what SDF is
interested in. So I think this is a
interested in. So I think this is a
interested in. So I think this is a
really this really hits right where the
really this really hits right where the
really this really hits right where the
focus is from developer sites today. So
focus is from developer sites today. So
focus is from developer sites today. So
super interesting and I think we we did
super interesting and I think we we did
super interesting and I think we we did
post all of the links but but otherwise
post all of the links but but otherwise
post all of the links but but otherwise
go to opensein.org
go to opensein.org
go to opensein.org
orc I believe
orc I believe
orc I believe
.com and and then then you can you
.com and and then then you can you
.com and and then then you can you
can also see all the documentation
can also see all the documentation
can also see all the documentation
there. let's see was one more
there. let's see was one more
there. let's see was one more
comment.
Yeah, I don't think there's any any
Yeah, I don't think there's any any
other questions. this is last chance
other questions. this is last chance
other questions. this is last chance
if anyone has a question but but thank
if anyone has a question but but thank
if anyone has a question but but thank
you both of you for for joining today.
you both of you for for joining today.
you both of you for for joining today.
It's super interesting to see all the
It's super interesting to see all the
It's super interesting to see all the
work you're doing. And I personally I
work you're doing. And I personally I
work you're doing. And I personally I
think it's super interesting to see some
think it's super interesting to see some
think it's super interesting to see some
of the some of the libraries you're
of the some of the libraries you're
of the some of the libraries you're
building, some of the frameworks and
building, some of the frameworks and
building, some of the frameworks and
some of the tooling when we go out to
some of the tooling when we go out to
some of the tooling when we go out to
hackathons and when we talk to
hackathons and when we talk to
hackathons and when we talk to
developers that we see that they're
developers that we see that they're
developers that we see that they're
being used. I think that's that's the
being used. I think that's that's the
being used. I think that's that's the
that's the greatest part of it. So So
that's the greatest part of it. So So
that's the greatest part of it. So So
thank you everyone for joining and
thank you everyone for joining and
thank you everyone for joining and
thank you you two guys for being on
thank you you two guys for being on
thank you you two guys for being on
here again
here again
here again
 and u I'm sure we will talk again
 and u I'm sure we will talk again
 and u I'm sure we will talk again
sometime soon and follow up on on the
sometime soon and follow up on on the
sometime soon and follow up on on the
latest development. But thank you for
latest development. But thank you for
latest development. But thank you for
joining everyone. We see you next week.
joining everyone. We see you next week.
joining everyone. We see you next week.
 Thanks for having us.
 Thanks for having us.
 Thanks for having us.
 See you.
