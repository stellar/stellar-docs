---
title: CLI Manual
description: Guide to using the Stellar Disbursement Platform CLI
keywords: [SDP, CLI]
sidebar_position: 50
---

## Root Command

The `stellar-disbursement-platform` is the main entry point for the application. It provides various subcommands to manage the service, database, and other utilities.

### Usage

```bash
stellar-disbursement-platform [command] [flags]
```

:::tip For all the following commands, you can use the `--help` flag to get more information about the command and its options. For example:

```bash
stellar-disbursement-platform serve --help
```

:::

## Serve Command

The `serve` command starts the Stellar Disbursement Platform backend server. This server handles API requests, processes disbursements, and manages tenant operations.

### Usage

```bash
stellar-disbursement-platform serve [flags]
```

## TSS Command

The `tss` command runs the Transaction Submission Service, which is responsible for submitting transactions to the Stellar network.

### Usage

```bash
stellar-disbursement-platform tss [flags]
```

## DB Command

The `db` command provides utilities for database management and migrations. It performs two main functions:

1. Running database migrations for various schemas (admin, auth, sdp, tss).
2. Setting up assets and wallets based on the network passphrase.

### Usage

```bash
stellar-disbursement-platform db [command] [flags]
```

### Subcommands

| Command             | Description                                            |
| :------------------ | :----------------------------------------------------- |
| `admin`             | Admin migrations for multi-tenant module.              |
| `auth`              | Authentication schema migrations.                      |
| `sdp`               | SDP schema migrations.                                 |
| `setup-for-network` | Set up assets and wallets based on network passphrase. |
| `tss`               | TSS schema migrations.                                 |

### Example

On start-up, the SDP backend service will run all the commands below to make sure the database is properly set up:

```bash
stellar-disbursement-platform db admin migrate up
stellar-disbursement-platform db tss migrate up
stellar-disbursement-platform db auth migrate up --all
stellar-disbursement-platform db sdp migrate up --all
stellar-disbursement-platform db setup-for-network --all
```

## Auth Command

The `auth` command provides helpers for authentication.

### Usage

```bash
stellar-disbursement-platform auth [command] [flags]
```

### Subcommands

| Command    | Description             |
| :--------- | :---------------------- |
| `add-user` | Add user to the system. |

### Example

To add a new user, you can run:

```bash
stellar-disbursement-platform auth add-user mary.jane@stellar.org Mary Jane \
--roles approver,initiator --password \
--tenant-id 'f347e6b0-249c-4960-b0d2-aebcf4c6a60d'
```

## Channel Accounts Command

The `channel-accounts` command manages channel accounts used for transaction submission.

### Usage

```bash
stellar-disbursement-platform channel-accounts [command] [flags]
```

### Subcommands

| Command  | Description                                         |
| :------- | :-------------------------------------------------- |
| `create` | Create channel accounts.                            |
| `delete` | Delete a specified channel account.                 |
| `ensure` | Ensure a specific number of channel accounts exist. |
| `verify` | Verify channel accounts exist on the network.       |
| `view`   | List public keys of all channel accounts.           |

### Example

The most used command is `ensure`, which ensures that the specified number of channel accounts exist. If they do not exist, it will create them. If more channel accounts exist than specified, it will delete the excess accounts.

```bash
stellar-disbursement-platform channel-accounts ensure 5
```

## Distribution Account Command

The `distribution-account` command manages the distribution account.

### Usage

```bash
stellar-disbursement-platform distribution-account [command] [flags]
```

### Subcommands

| Command  | Description                                   |
| :------- | :-------------------------------------------- |
| `rotate` | Rotate the distribution account for a tenant. |

### Example

To rotate the distribution account for a specific tenant, you can run:

```bash
stellar-disbursement-platform distribution-account rotate --tenant-id 'f347e6b0-249c-4960-b0d2-aebcf4c6a60d'
```

## Message Command

The `message` command provides messenger related commands.

### Usage

```bash
stellar-disbursement-platform message [command] [flags]
```

### Subcommands

| Command        | Description                    |
| :------------- | :----------------------------- |
| `send-message` | Send a message to a recipient. |
